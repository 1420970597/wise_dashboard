import{r as u,u as Vs,j as e,d as bs,L as se,O as na,e as aa,N as oa,f as ia,h as jr,i as ca,k as la,l as da}from"./react-DaKiOxKV.js";import{i as O,a as ua,u as M}from"./i18n-CIjymz4X.js";import{i as dt,p as ut,j as mt,t as $,k as ma,C as qs,m as Ue,n as ha,S as xa,M as ga,D as Ke,q as ss,E as ht,U as pa,r as fa,v as Nr,w as ja,B as Na,x as va,y as Sa,z as vr,P as ba,F as ya,A as Ca,T as Sr,G as wa,H as $a,I as Ta,J as Da,K as ka,L as At,N as Et,O as _t,Q as et,V as Pa,W as Ra,X as Aa,Y as fs,Z as Ea,_ as ke,$ as _a,a0 as Ia,a1 as Ae,a2 as W,a3 as Ee,a4 as It,a5 as br,a6 as La,a7 as yr,a8 as Fa,a9 as Oa,aa as Ma,ab as Ua,ac as Ba,ad as Ga,ae as za,af as Ha,ag as Va,ah as Lt}from"./vendor-DQu9Rupt.js";import{m as st,u as pe}from"./data-Bp1b3RQS.js";import{t as qa,e as Wa,S as xt,f as ds,g as Cr,h as wr,i as Ka,j as $r,I as Tr,k as Dr,l as kr,m as Pr,L as Rr,n as Ar,o as Ja,p as Ya,G as Za,q as Er,r as _r,s as Ir,v as Lr,V as Fr,w as Or,x as Qa,y as Xa,z as Mr,A as Ur,F as Br,B as Gr,E as eo,H as zr,J as so,K as Hr,M as Vr,N as qr,Q as to,U as ro,W as Wr,X as no,O as Kr,P as Jr,C as Ws,b as gt,T as Yr,D as Zr,R as Qr,a as Xr,Y as en,Z as sn,_ as ao,$ as oo,a0 as tn,a1 as io,a2 as rn,a3 as co,a4 as nn,a5 as an,a6 as lo,a7 as on,a8 as uo,a9 as cn,aa as ln,ab as mo,ac as ho,ad as dn,ae as xo,af as go,ag as po,ah as un,ai as fo,aj as jo,ak as mn,al as hn,am as No,an as xn,ao as gn,ap as pn,aq as vo}from"./ui-C1rhP7Hn.js";import{l as fn,u as So,F as bo,C as yo,o as ne,n as Z,b as V,a as De,c as je,s as w,d as Ne,e as ve,r as Ns,_ as jn}from"./form-7BGPcR-l.js";import{m as ot}from"./utils-DoDoqC8P.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const x of l.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function t(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(c){if(c.ep)return;c.ep=!0;const l=t(c);fetch(c.href,l)}})();const Co={dark:"Dunkel",system:"Folgen Sie dem System",light:"Hell"},wo="Benutzername",$o="Bitte zuerst einloggen",To="Aktuelle Uhrzeit",Do={PasswordRequired:"Passwort kann nicht leer sein.",SelectAtLeastOneServer:"Bitte wählen Sie mindestens einen Server aus.",NoRowsAreSelected:"Keine Zeilen ausgewählt",ThisOperationIsUnrecoverable:"Diese Operation kann nicht rückgängig gemacht werden!",UnExpectedError:"Unerwarteter Fehler, mehr Details in der Konsole.",UsernameMin:"Benutzername muss mindestens {{number}} Zeichen beinhalten.",ErrorFetchingResource:"Fehler beim Abrufen der Ressource: {{error}}",InstallHostRequired:"Die Adresse des Agenten wurde in den Einstellungen nicht gesetzt.",ForceUpdate:"Erzwungenes Upgrade:",TheServerDoesNotOnline:"Der Server existiert nicht oder ist noch nicht verbunden",UnknownIdentifier:"Unbekannte Bezeichnung",TaskTriggeredSuccessfully:"Der wurde erfolgreich ausgelöst"},ko="Server",Po="Service",Ro="Aufgabe",Ao="Benachrichtung",Eo="Dynamisches DNS",_o="NAT Traversen",Io="Gruppe",Lo="Ausloggen",Fo="Schließen",Oo="Name",Mo="Version",Uo="Unbekannt",Bo="Aktivieren",Go="Versteckt von Besuchern",zo="Anmerkung",Ho="Erfolgreich",Vo="Fehlgeschlagen",qo="(Getrennt mit Komma)",Wo="Privat",Ko="Senden",Jo="Ziel",Yo="Deckung",Zo="Alles Ignorieren",Qo="Typ",Xo="Kennung der Gruppe",ei="An Trigger",si="Bestätigen",ti={Excludes:"Bestimmte Server ausschließen",Alarmed:"Ausgeführt auf dem Server, der den Alarm ausgelöst hat",Only:"Nur bestimmte Server"},ri="Aktivierung Fehlermitteilung",ni="Maximale Verzögerung (ms)",ai="Mindestverzögerung (ms)",oi="Latenzbenachrichtigung einschalten",ii="Trigger-Task aktivieren",ci="Cron Expression",li="Erfolgsmeldung senden",di="Letzte Ausführung",ui="Ergebnis",mi="Benachrichtigungen",hi="Benachrichtigungsregeln",xi="Auslösemodus",gi="Regeln",pi="Keine Testnachricht senden",fi="Immer",ji="Anbieter",Ni="Domains",vi="Gehe zu",Si="DDNS bearbeiten",bi="DDNS erstellen",yi="Einverständnis",Ci="Herunterladen",wi="Hochladen",$i="NAT-Konfiguration erstellen",Ti="Lokaler Service",Di="Server Gruppe bearbeiten",ki="Server Gruppe erstellen",Pi="Web Application Firewall",Ri="Seiten Name",Ai="Verwenden Sie TLS, um Agenten zu verbinden",Ei="Brute Force Angriffs Token",_i="Brute Force Angriff Agent Geheimnis",Ii="Benutzerdefinierter Coder für das Dashboard",Li="Echter IP-Anfrage-Header des Frontend",Fi="Echter IP-Anfrage-Header des Agent",Oi="Direkte IP-Verbindung verwenden",Mi="IP Änderung Benachrichtigung",Ui="Task bearbeiten",Bi="Task erstellen",Gi="Notifier erstellen",zi="Notifier bearbeiten",Hi="Notifier Gruppe erstellen",Vi="Neuer Benutzer",qi="Letzte Ban Zeit",Wi="Design",Ki="Autor",Ji="Offiziell",Yi="Sie verwenden ein Community-Design",Zi="DDNS aktivieren",Qi="Push, wenn erfolgreich",Xi="Einmalig",ec="Alarmregeln erstellen",sc="Letzter Block Grund",tc="Aufgaben, die nach der Wiederherstellung ausgelöst werden",rc="Benutzerdefinierter Code (Style und Skript)",nc="Löschung bestätigen?",ac="Passwort",oc="Systemeinstellungen",ic="Alle abdecken",cc="Fertig",lc="Öffentlich",dc="Wählen Sie eine Seite zum Springen",uc="DDNS Profil-IDs",mc="Pfad kopieren",hc="Neuer Benutzername",xc="Notifier Gruppe bearbeiten",gc="Request-Body",pc="Anfrage-Typ",fc="Anmeldung gescheitert",jc="Repository",Nc="Community",vc="Abbrechen",Sc="Benutzerdefinierte Public DNS Nameserver für DDNS",bc="Alarmregeln bearbeiten",yc="Geplante Aufgaben",Cc="TLS verifizieren",wc="Request Methode",$c="Benutzer",Tc="Nezha Monitoring",Dc="Server bearbeiten",kc="Request Header",Pc="Befehl",Rc="Installationsbefehl",Ac="Aktionen",Ec="Gewicht (je größer die Zahl, desto höher wird es angezeigt)",_c="Aufgaben, die bei Alarm ausgelöst werden sollen",Ic="Benachrichtigungsgruppe",Lc="NAT-Konfiguration bearbeiten",Fc="Bind Domain Name",Oc="Service bearbeiten",Mc="Anzahl",Uc="Laden",Bc="Services",Gc="Agent Verbindungsadresse [Domainname/IP:port]",zc="Navigieren",Hc="Offline",Vc="Intervall",qc="Profil",Wc="Keine Ergebnisse",Kc="Spezifischer Server",Jc="Maximale Zeit für Wiederversuche",Yc="Aktualisieren",Zc="Update Profil",Qc="Original-Passwort",Xc="Anmelden",el="Neues Passwort",sl="Pseudo File Manager",tl="Zeige in Service",rl="Dieses Design wird von der Community bereitgestellt, Benutzung auf eigene Gefahr",nl="Sprache",al="Vollständige IP-Adresse in Benachrichtigung anzeigen",ol="Service erstellen",il="gRPC-Authentifizierung fehlgeschlagen",cl="API-Token ist ungültig",ll="Blockierungskennung",dl="Verbunden um",ul="Benutzer-ID",ml="Gesamt",hl="Blockierung bestätigen",xl="Vom Administrator blockiert",gl="Benutzer ist ungültig",pl="Online-Benutzer",fl="Passwort Login verbieten",jl="Du hast noch keine Notizen.",Nl="Zurück zur Startseite",vl="Server mit Warnung",Sl="Text ist leer",bl={theme:Co,Username:wo,LoginFirst:$o,CurrentTime:To,Results:Do,Server:ko,Service:Po,Task:Ro,Notification:Ao,DDNS:Eo,NATT:_o,Group:Io,Logout:Lo,Close:Fo,Error:"Fehler",Name:Oo,Version:Mo,Unknown:Uo,Enable:Bo,HideForGuest:Go,Note:zo,Success:Ho,Failure:Vo,SeparateWithComma:qo,Private:Wo,Submit:Ko,Target:Jo,Coverage:Yo,IgnoreAll:Zo,Type:Qo,NotifierGroupID:Xo,Trigger:ei,Confirm:si,Coverages:ti,EnableFailureNotification:ri,MaximumLatency:ni,MinimumLatency:ai,EnableLatencyNotification:oi,EnableTriggerTask:ii,CronExpression:ci,SendSuccessNotification:li,LastExecution:di,Result:ui,Notifier:mi,AlertRule:hi,TriggerMode:xi,Rules:gi,DoNotSendTestMessage:pi,Always:fi,Provider:ji,Domains:Ni,Goto:vi,EditDDNS:Si,CreateDDNS:bi,Credential:yi,Downloading:Ci,Uploading:wi,CreateNAT:$i,LocalService:Ti,EditServerGroup:Di,CreateServerGroup:ki,WAF:Pi,SiteName:Ri,ConfigTLS:Ai,BruteForceAttackingToken:Ei,BruteForceAttackingAgentSecret:_i,CustomCodesDashboard:Ii,WebRealIPHeader:Li,AgentRealIPHeader:Fi,UseDirectConnectingIP:Oi,IPChangeNotification:Mi,EditTask:Ui,CreateTask:Bi,CreateNotifier:Gi,EditNotifier:zi,CreateNotifierGroup:Hi,NewUser:Vi,LastBlockTime:qi,Theme:Wi,Author:Ki,Official:Ji,CommunityThemeWarning:Yi,EnableDDNS:Zi,PushSuccessful:Qi,Once:Xi,CreateAlertRule:ec,LastBlockReason:sc,TasksToTriggerAfterRecovery:tc,CustomCodes:rc,ConfirmDeletion:nc,Password:ac,Settings:oc,CoverAll:ic,Done:cc,Public:lc,SelectAPageToNavigateTo:dc,DDNSProfiles:uc,CopyPath:mc,NewUsername:hc,EditNotifierGroup:xc,RequestBody:gc,RequestType:pc,LoginFailed:fc,Repository:jc,Community:Nc,Cancel:vc,CustomPublicDNSNameserversforDDNS:Sc,EditAlertRule:bc,Scheduled:yc,VerifyTLS:Cc,RequestMethod:wc,User:$c,nezha:Tc,EditServer:Dc,RequestHeader:kc,Command:Pc,InstallCommands:Rc,Actions:Ac,Weight:Ec,TasksToTriggerOnAlert:_c,NotifierGroup:Ic,EditNAT:Lc,BindHostname:Fc,EditService:Oc,Count:Mc,Loading:Uc,Services:Bc,DashboardOriginalHost:Gc,NavigateTo:zc,Offline:Hc,Interval:Vc,Profile:qc,NoResults:Wc,SpecificServers:Kc,MaximumRetryAttempts:Jc,Refresh:Yc,UpdateProfile:Zc,OriginalPassword:Qc,Login:Xc,NewPassword:el,FileManager:sl,ShowInService:tl,CommunityThemeDescription:rl,Language:nl,FullIPNotification:al,CreateService:ol,GrpcAuthFailed:il,APITokenInvalid:cl,BlockIdentifier:ll,ConnectedAt:dl,UserId:ul,Total:ml,ConfirmBlock:hl,BlockByUser:xl,UserInvalid:gl,OnlineUser:pl,RejectPassword:fl,EmptyNote:jl,BackToHome:Nl,OnAlert:vl,EmptyText:Sl},yl="Nezha Monitoring",Cl={light:"Light",dark:"Dark",system:"Follow System"},wl="Username",$l="Password",Tl="Invalid Username Or Password",Dl="Network Error",kl="Please Log in first",Pl="Current Time",Rl={UsernameMin:"Username must be at least {{number}} characters.",PasswordRequired:"Password cannot be empty.",ErrorFetchingResource:"Error Fetching Resource : {{error}}",SelectAtLeastOneServer:"Please select at least one server.",UnExpectedError:"Unexpected error, Please see the console for details.",ForceUpdate:"Forced upgrade:",NoRowsAreSelected:"No rows are selected",ThisOperationIsUnrecoverable:"This operation cannot be undone!",TaskTriggeredSuccessfully:"The task triggered successfully",TheServerDoesNotOnline:"The server does not exist or has not been connected yet",InstallHostRequired:"The Agent docking address has not been filled in in the settings.",UnknownIdentifier:"Unknown identifier"},Al="Log in",El="Server",_l="Service",Il="Task",Ll="Notification",Fl="Dynamic DNS",Ol="NAT Traversal",Ml="Group",Ul="Profile",Bl="System settings",Gl="Back to Home",zl="Log out",Hl="Navigate to",Vl="Choose a page to jump to",ql="Close",Wl="Name",Kl="Version",Jl="unknown",Yl="Enable",Zl="Hidden from Visitors",Ql="Installation command",Xl="Terminal",ed="Config",sd="Note",td="Success",rd="Finish",nd="Offline",ad="Fail",od="Loading",id="No results",cd="Actions",ld="Edit Server",dd="Weight (the larger the number, the higher it is displayed)",ud="DDNS Profile IDs",md="(Separate with comma)",hd="Public",xd="Private",gd="Submit",pd="Target",fd="Coverage",jd="Cover All",Nd="Ignore All",vd="Alarmed Servers",Sd="Specific server",bd="Type",yd="Interval",Cd="Notifier Group ID",wd="On Trigger",$d="Tasks to be triggered on alert",Td="Tasks to be triggered after recovery",Dd="Add",kd="Delete",Pd="Advanced JSON",Rd="Save",Ad="Confirm",Ed="Confirm Deletion?",_d="Services",Id="Show in Service",Ld={Excludes:"Excludes Specific Servers",Only:"Only Specific Servers",Alarmed:"Executed on the server that triggered the alarm"},Fd="Enable Failure Notification",Od="Maximum Delay (ms)",Md="Minimum Delay (milliseconds)",Ud="Enable Latency Notification",Bd="Enable Trigger Task",Gd="Cron Expression",zd="Command",Hd="Notifier Group",Vd="Send Success Notification",qd="Last Execution",Wd="Result",Kd="Scheduled Tasks",Jd="Notifier",Yd="Alert rules",Zd="Verify TLS",Qd="Trigger Mode",Xd="Rules",eu="Request Method",su="Request Header",tu="Do Not Send Test Message",ru="Always",nu="Once",au="Provider",ou="Domains",iu="Maximum time for retry attempts",cu="Refresh",lu="Copy path",du="Go to",uu="Update Profile",mu="New Username",hu="Original Password",xu="New Password",gu="Edit DDNS",pu="Create DDNS",fu="Credential",ju="Request Type",Nu="Request Body",vu="Pseudo File Manager",Su="Downloading",bu="Uploading",yu="Edit NAT Configuration",Cu="Create NAT Configuration",wu="Local Service",$u="Bind Domain Name",Tu="AutoSSH",Du="Edit AutoSSH Configuration",ku="Add AutoSSH Configuration",Pu="Configure AutoSSH Port Mapping",Ru="Mapping Type",Au="Remote Forward (-R)",Eu="Local Forward (-L)",_u="Source Port",Iu="Target Host",Lu="Target Port",Fu="Select Server",Ou="Running",Mu="Stopped",Uu="Error",Bu="Yes",Gu="No",zu="Edit",Hu="Cancel",Vu="No Data",qu="Edit Server Group",Wu="Create Server Group",Ku="User",Ju="Web Application Firewall",Yu="Site Name",Zu="Agent connecting address [domain name/IP:port]",Qu="Use TLS to connect Agent",Xu="Login Failed",em="Brute Force Attacking Token",sm="Brute Force Attacking Agent Secret",tm="Language",rm="Custom Codes (Style and Script)",nm="Custom Codes for Dashboard",am="Custom Public DNS Nameservers for DDNS",om="Frontend real IP request header",im="Agent real IP request header",cm="Use direct connection IP",lm="IP Change Notification",dm="Show Full IP Address in Notification Messages",um="Edit Service",mm="Create Service",hm="Edit Task",xm="Create Task",gm="Create Notifier",pm="Edit Notifier",fm="Edit Alert Rules",jm="Create Alert Rules",Nm="Edit Notifier Group",vm="Create Notifier Group",Sm="New User",bm="Edit User",ym="Server Permissions",Cm="Select Servers",wm="Leave blank to keep current",$m="Password is required",Tm="AutoSSH Server Address",Dm="Format: username@IP:port",km="Count",Pm="Last Block Reason",Rm="Last ban time",Am="Theme",Em="Author",_m="Repository",Im="Community",Lm="Official",Fm="You are using a community theme",Om="This theme is provided by the community, use at your own risk",Mm="Enable DDNS",Um="Push if Successful",Bm="gRPC authentication failed",Gm="API token is invalid",zm="User is invalid",Hm="Blocked by admin",Vm="Block identifier",qm="User ID",Wm="Connected at",Km="Online User",Jm="Total",Ym="Confirm Block",Zm="Reject Password Login",Qm="Text is empty",Xm="You didn't have any note.",eh="Override DDNS Domains (per configuration)",sh="Edit Server Config",th="Option",rh="Value",nh="Preview",ah={Label:"Public Note",Billing:"Billing",Plan:"Plan",StartDate:"Start Date",EndDate:"End Date",AutoRenewal:"Auto Renewal",Cycle:"Cycle",Amount:"Amount",Bandwidth:"Bandwidth",TrafficVolume:"Traffic Volume",TrafficType:"Traffic Type",IPv4:"IPv4",IPv6:"IPv6",NetworkRoute:"Network Route",Extra:"Extra",Enabled:"Enabled",Disabled:"Disabled",Inbound:"Inbound",Both:"Both",Day:"Day",Week:"Week",Month:"Month",Year:"Year",NoExpiry:"No Expiry",SetNoExpiry:"Set No Expiry",CancelNoExpiry:"Cancel No Expiry",Free:"Free",PayAsYouGo:"Pay as you go",CommaSeparated:"Separate multiple items with commas",Has:"Has",None:"None",CustomFields:"Custom Fields",ClearDate:"Clear Date",Clear:"Clear",RawText:"Raw Text"},oh={InvalidDate:"Invalid date",MustBe0Or1:"Must be 0 or 1",MustBeDayWeekMonthYear:"Must be Day/Week/Month/Year",MustBe1Or2:"Must be 1 or 2",DigitsOnly:"Digits only",InvalidForm:"Invalid form",InvalidJSON:"Invalid JSON"},ih={CoverAllServers:"Monitor all servers",IgnoreAllSelectSpecific:"Ignore all, select specific servers",IgnoreHint:"{{server}} ID: true/false",IgnoreExample:'e.g., {"1": true, "2": false}'},ch="Search...",lh="Format",dh="Formatted",uh="Copy",mh="Paste",hh="Copied to clipboard",xh="Clipboard write failed",gh="Pasted from clipboard",ph="Clipboard read failed",fh={nezha:yl,theme:Cl,Username:wl,Password:$l,InvalidUsernameOrPassword:Tl,NetworkError:Dl,LoginFirst:kl,CurrentTime:Pl,Results:Rl,Login:Al,Server:El,Service:_l,Task:Il,Notification:Ll,DDNS:Fl,NATT:Ol,Group:Ml,Profile:Ul,Settings:Bl,BackToHome:Gl,Logout:zl,NavigateTo:Hl,SelectAPageToNavigateTo:Vl,Close:ql,Error:"Error",Name:Wl,Version:Kl,Unknown:Jl,Enable:Yl,HideForGuest:Zl,InstallCommands:Ql,Terminal:Xl,Config:ed,Note:sd,Success:td,Done:rd,Offline:nd,Failure:ad,Loading:od,NoResults:id,Actions:cd,EditServer:ld,Weight:dd,DDNSProfiles:ud,SeparateWithComma:md,Public:hd,Private:xd,Submit:gd,Target:pd,Coverage:fd,CoverAll:jd,IgnoreAll:Nd,OnAlert:vd,SpecificServers:Sd,Type:bd,Interval:yd,NotifierGroupID:Cd,Trigger:wd,TasksToTriggerOnAlert:$d,TasksToTriggerAfterRecovery:Td,Add:Dd,Delete:kd,AdvancedJSON:Pd,Save:Rd,Confirm:Ad,ConfirmDeletion:Ed,Services:_d,ShowInService:Id,Coverages:Ld,EnableFailureNotification:Fd,MaximumLatency:Od,MinimumLatency:Md,EnableLatencyNotification:Ud,EnableTriggerTask:Bd,CronExpression:Gd,Command:zd,NotifierGroup:Hd,SendSuccessNotification:Vd,LastExecution:qd,Result:Wd,Scheduled:Kd,Notifier:Jd,AlertRule:Yd,VerifyTLS:Zd,TriggerMode:Qd,Rules:Xd,RequestMethod:eu,RequestHeader:su,DoNotSendTestMessage:tu,Always:ru,Once:nu,Provider:au,Domains:ou,MaximumRetryAttempts:iu,Refresh:cu,CopyPath:lu,Goto:du,UpdateProfile:uu,NewUsername:mu,OriginalPassword:hu,NewPassword:xu,EditDDNS:gu,CreateDDNS:pu,Credential:fu,RequestType:ju,RequestBody:Nu,FileManager:vu,Downloading:Su,Uploading:bu,EditNAT:yu,CreateNAT:Cu,LocalService:wu,BindHostname:$u,AutoSSH:Tu,EditAutoSSH:Du,AddAutoSSH:ku,ConfigureAutoSSHPortMapping:Pu,MappingType:Ru,RemoteForward:Au,LocalForward:Eu,SourcePort:_u,TargetHost:Iu,TargetPort:Lu,SelectServer:Fu,running:Ou,stopped:Mu,error:Uu,Yes:Bu,No:Gu,Edit:zu,Cancel:Hu,NoData:Vu,EditServerGroup:qu,CreateServerGroup:Wu,User:Ku,WAF:Ju,SiteName:Yu,DashboardOriginalHost:Zu,ConfigTLS:Qu,LoginFailed:Xu,BruteForceAttackingToken:em,BruteForceAttackingAgentSecret:sm,Language:tm,CustomCodes:rm,CustomCodesDashboard:nm,CustomPublicDNSNameserversforDDNS:am,WebRealIPHeader:om,AgentRealIPHeader:im,UseDirectConnectingIP:cm,IPChangeNotification:lm,FullIPNotification:dm,EditService:um,CreateService:mm,EditTask:hm,CreateTask:xm,CreateNotifier:gm,EditNotifier:pm,EditAlertRule:fm,CreateAlertRule:jm,EditNotifierGroup:Nm,CreateNotifierGroup:vm,NewUser:Sm,EditUser:bm,ServerPermissions:ym,SelectServers:Cm,LeaveBlankToKeepCurrent:wm,PasswordRequired:$m,AutoSSHServerAddress:Tm,AutoSSHServerAddressFormat:Dm,Count:km,LastBlockReason:Pm,LastBlockTime:Rm,Theme:Am,Author:Em,Repository:_m,Community:Im,Official:Lm,CommunityThemeWarning:Fm,CommunityThemeDescription:Om,EnableDDNS:Mm,PushSuccessful:Um,GrpcAuthFailed:Bm,APITokenInvalid:Gm,UserInvalid:zm,BlockByUser:Hm,BlockIdentifier:Vm,UserId:qm,ConnectedAt:Wm,OnlineUser:Km,Total:Jm,ConfirmBlock:Ym,RejectPassword:Zm,EmptyText:Qm,EmptyNote:Xm,OverrideDDNSDomains:eh,EditServerConfig:sh,Option:th,Value:rh,Preview:nh,PublicNote:ah,Validation:oh,AlertRules:ih,Search:ch,Format:lh,Formatted:dh,Copy:uh,Paste:mh,CopiedToClipboard:hh,ClipboardWriteFailed:xh,PastedFromClipboard:gh,ClipboardReadFailed:ph},jh="Ir a",Nh="Actualizar perfil",vh="Nuevo nombre de usuario",Sh="Nueva contraseña",bh="Editar DDNS",yh="Pseudo File Manager",Ch="Editar configuración NAT",wh="Editar grupo de servidores",$h={light:"Claro",dark:"Oscuro",system:"Seguir el sistema"},Th="Hora actual",Dh={UsernameMin:"El nombre de usuario debe tener al menos {{number}} caracteres.",PasswordRequired:"La contraseña no puede estar vacía.",ForceUpdate:"Actualización forzada:",TaskTriggeredSuccessfully:"La tarea se activó con éxito",ErrorFetchingResource:"Error al obtener el recurso: {{error}}",UnExpectedError:"Error inesperado. Consulte la consola para más detalles.",NoRowsAreSelected:"No se han seleccionado filas",ThisOperationIsUnrecoverable:"¡Esta operación no se puede deshacer!",TheServerDoesNotOnline:"El servidor no existe o aún no se ha conectado",InstallHostRequired:"La dirección de conexión del Agent no se ha configurado en los ajustes.",SelectAtLeastOneServer:"Por favor, seleccione al menos un servidor.",UnknownIdentifier:"Identificador desconocido"},kh="desconocido",Ph="Peso (cuanto mayor sea el número, más alto se mostrará)",Rh="IDs de perfil de DDNS",Ah="Objetivo",Eh="Tareas que se activarán en caso de alerta",_h="Servicios",Ih="Retraso máximo (ms)",Lh="Servidor",Fh="Confirmar",Oh="Enviar",Mh="Resultado",Uh="DNS dinámico",Bh="Fallar",Gh="Contraseña original",zh="Elija una página para navegar",Hh="Privado",Vh="Reglas de alerta",qh="Proveedor",Wh="Ajustes del sistema",Kh="Nombre de usuario",Jh="Grupo de notificaciones",Yh="Cobertura",Zh="Servicio local",Qh="Comando de instalación",Xh="Mostrar en servicio",ex={Alarmed:"Ejecutado en el servidor que activó la alarma",Excludes:"Excluir servidores específicos",Only:"Solo servidores específicos"},sx="Finalizar",tx="Expresión Cron",rx="Descargando",nx="Cortafuegos de aplicaciones web",ax="Nezha Monitoring",ox="Notificación",ix="Tipo",cx="¿Confirmar eliminación?",lx="Por favor, inicie sesión primero",dx="Cerrar",ux="Desconectado",mx="Servidor específico",hx="Última ejecución",xx="Sin resultados",gx="Iniciar sesión",px="Servicio",fx="Travesía NAT",jx="Siempre",Nx="Grupo",vx="Retraso mínimo (milisegundos)",Sx="Versión",bx="Nota",yx="Perfil",Cx="Cerrar sesión",wx="Acciones",$x="ID del grupo de notificación",Tx="Usuario",Dx="Ir a",kx="Habilitar tarea desencadenante",Px="Nombre",Rx="Oculto para visitantes",Ax="Éxito",Ex="Cargando",_x="(Separar con comas)",Ix="Cubrir todo",Lx="Ignorar todo",Fx="Nombre del sitio",Ox="Intervalo",Mx="Tareas a activar tras la recuperación",Ux="Comando",Bx="Enviar notificación de éxito",Gx="Modo de activación",zx="No enviar mensaje de prueba",Hx="Notificador",Vx="Habilitar notificación de latencia",qx="Tareas programadas",Wx="Reglas",Kx="Crear grupo de servidores",Jx="Vincular nombre de dominio",Yx="Tarea",Zx="Habilitar",Qx="Público",Xx="Habilitar notificación de fallos",eg="Editar servidor",sg="Contraseña",tg="Dominios",rg="Actualizar",ng="Crear DDNS",ag="Verificar TLS",og="Tiempo máximo para intentos de reintento",ig="Copiar ruta",cg="Credencial",lg="Subiendo",dg="Crear configuración NAT",ug="Notificación de cambio de IP",mg="Mostrar la dirección IP completa en los mensajes de notificación",hg="Editar servicio",xg="Crear servicio",gg="Editar tarea",pg="Crear tarea",fg="Conectado en",jg="Método de solicitud",Ng="Solo una vez",vg="Editar notificador",Sg="Editar reglas de alerta",bg="Crear reglas de alerta",yg="Cancelar",Cg="Habilitar DDNS",wg="Enviar si tiene éxito",$g="El usuario no es válido",Tg="Encabezado de solicitud",Dg="Inicio de sesión fallido",kg="Token de ataque de fuerza bruta",Pg="Clave secreta del Agent bajo ataque de fuerza bruta",Rg="Idioma",Ag="Editar grupo de notificaciones",Eg="Crear grupo de notificaciones",_g="Nuevo usuario",Ig="Contar",Lg="Comunidad",Fg="Oficial",Og="Está utilizando un tema de la comunidad",Mg="Este tema es proporcionado por la comunidad, úselo bajo su propio riesgo",Ug="Autenticación gRPC fallida",Bg="El token de la API no es válido",Gg="Bloqueado por el usuario",zg="Al Activarse",Hg="Tipo de solicitud",Vg="Cuerpo de la solicitud",qg="Dirección de conexión del Agent [nombre de dominio/IP:puerto]",Wg="Usar TLS para conectar el Agent",Kg="Códigos personalizados (Style y Script)",Jg="Códigos personalizados para el Dashboard",Yg="Servidores de nombres DNS públicos personalizados para DDNS",Zg="Encabezado de solicitud de IP real del frontend",Qg="Encabezado de solicitud de IP real del Agent",Xg="Usar IP de conexión directa",ep="Crear notificador",sp="Última razón de bloqueo",tp="Último tiempo de bloqueo",rp="Tema",np="Autor",ap="Repositorio",op="Identificador de bloqueo",ip="ID de usuario",cp="Usuario en línea",lp="Total",dp="Confirmar bloqueo",up="Volver al Inicio",mp="Servidores Alarmados",hp="Rechazar contraseña de inicio de sesión",xp="Opción",gp="Valor",pp="Vista previa",fp="Sobrescribir dominios DDNS (por configuración)",jp="El texto está vacío",Np="No tenías ninguna nota.",vp="Editar configuración del servidor",Sp={Goto:jh,UpdateProfile:Nh,NewUsername:vh,NewPassword:Sh,EditDDNS:bh,FileManager:yh,EditNAT:Ch,EditServerGroup:wh,theme:$h,CurrentTime:Th,Results:Dh,Unknown:kh,Weight:Ph,DDNSProfiles:Rh,Target:Ah,TasksToTriggerOnAlert:Eh,Services:_h,MaximumLatency:Ih,Server:Lh,Confirm:Fh,Submit:Oh,Result:Mh,DDNS:Uh,Failure:Bh,OriginalPassword:Gh,SelectAPageToNavigateTo:zh,Private:Hh,AlertRule:Vh,Provider:qh,Settings:Wh,Username:Kh,NotifierGroup:Jh,Coverage:Yh,LocalService:Zh,InstallCommands:Qh,ShowInService:Xh,Coverages:ex,Done:sx,CronExpression:tx,Downloading:rx,WAF:nx,nezha:ax,Notification:ox,Type:ix,ConfirmDeletion:cx,LoginFirst:lx,Close:dx,Offline:ux,SpecificServers:mx,LastExecution:hx,NoResults:xx,Login:gx,Service:px,NATT:fx,Always:jx,Group:Nx,MinimumLatency:vx,Version:Sx,Note:bx,Profile:yx,Logout:Cx,Actions:wx,NotifierGroupID:$x,User:Tx,NavigateTo:Dx,Error:"Error",EnableTriggerTask:kx,Name:Px,HideForGuest:Rx,Success:Ax,Loading:Ex,SeparateWithComma:_x,CoverAll:Ix,IgnoreAll:Lx,SiteName:Fx,Interval:Ox,TasksToTriggerAfterRecovery:Mx,Command:Ux,SendSuccessNotification:Bx,TriggerMode:Gx,DoNotSendTestMessage:zx,Notifier:Hx,EnableLatencyNotification:Vx,Scheduled:qx,Rules:Wx,CreateServerGroup:Kx,BindHostname:Jx,Task:Yx,Enable:Zx,Public:Qx,EnableFailureNotification:Xx,EditServer:eg,Password:sg,Domains:tg,Refresh:rg,CreateDDNS:ng,VerifyTLS:ag,MaximumRetryAttempts:og,CopyPath:ig,Credential:cg,Uploading:lg,CreateNAT:dg,IPChangeNotification:ug,FullIPNotification:mg,EditService:hg,CreateService:xg,EditTask:gg,CreateTask:pg,ConnectedAt:fg,RequestMethod:jg,Once:Ng,EditNotifier:vg,EditAlertRule:Sg,CreateAlertRule:bg,Cancel:yg,EnableDDNS:Cg,PushSuccessful:wg,UserInvalid:$g,RequestHeader:Tg,LoginFailed:Dg,BruteForceAttackingToken:kg,BruteForceAttackingAgentSecret:Pg,Language:Rg,EditNotifierGroup:Ag,CreateNotifierGroup:Eg,NewUser:_g,Count:Ig,Community:Lg,Official:Fg,CommunityThemeWarning:Og,CommunityThemeDescription:Mg,GrpcAuthFailed:Ug,APITokenInvalid:Bg,BlockByUser:Gg,Trigger:zg,RequestType:Hg,RequestBody:Vg,DashboardOriginalHost:qg,ConfigTLS:Wg,CustomCodes:Kg,CustomCodesDashboard:Jg,CustomPublicDNSNameserversforDDNS:Yg,WebRealIPHeader:Zg,AgentRealIPHeader:Qg,UseDirectConnectingIP:Xg,CreateNotifier:ep,LastBlockReason:sp,LastBlockTime:tp,Theme:rp,Author:np,Repository:ap,BlockIdentifier:op,UserId:ip,OnlineUser:cp,Total:lp,ConfirmBlock:dp,BackToHome:up,OnAlert:mp,RejectPassword:hp,Option:xp,Value:gp,Preview:pp,OverrideDDNSDomains:fp,EmptyText:jp,EmptyNote:Np,EditServerConfig:vp},bp={light:"Clair",dark:"Sombre",system:"Suivre le système"},yp="Nom d’utilisateur",Cp="Mot de passe",wp="Heure actuelle",$p={UsernameMin:"Le nom d’utilisateur doit comporter au moins {{number}} caractères.",PasswordRequired:"Le mot de passe ne peut pas être vide.",SelectAtLeastOneServer:"Veuillez sélectionner au moins un serveur.",UnExpectedError:"Erreur inattendue, veuillez consulter la console pour avoir plus de détails.",ForceUpdate:"Mise à jour forcée :",NoRowsAreSelected:"Aucune ligne n’a été sélectionnée",ThisOperationIsUnrecoverable:"Cette opération ne peut pas être annulée !",TheServerDoesNotOnline:"Le serveur n’existe pas ou n’a pas encore été connecté",UnknownIdentifier:"Identifiant inconnu"},Tp="Se connecter",Dp="Serveur",kp="Service",Pp="Tâche",Rp="Notification",Ap="DNS dynamique",Ep="NAT traversal",_p="Groupe",Ip="Profil",Lp="Paramètres système",Fp="Retourner à l’accueil",Op="Se déconnecter",Mp="Naviguer vers",Up="Fermer",Bp="Nom",Gp="Version",zp="inconnu",Hp="Activer",Vp="Caché des visiteurs",qp="Commande d’installation",Wp="Note",Kp="Succès",Jp="Terminé",Yp="Hors-ligne",Zp="Échoué",Qp="Chargement",Xp="Pas de résultats",ef="Actions",sf="Modifier le serveur",tf="(Séparé par des virgules)",rf="Publique",nf="Privée",af="Envoyer",of="Tout ignorer",cf="Veuillez d’abord vous connecter",lf="ID de profil DDNS",df="Cible",uf="Serveur spécifique",mf="Type",hf="Intervalle",xf="Tâches à déclencher en cas d’alerte",gf="Tâches à déclencher après la récupération",pf="Confirmer",ff="Confirmer la suppression ?",jf="Services",Nf="Montrer en service",vf="Délai maximum (ms)",Sf="Délai minimum (millisecondes)",bf="Commande",yf="Dernière exécution",Cf="Résultat",wf="Tâches planifiées",$f="Règles d’alerte",Tf="Règles",Df="Ne pas envoyer de message de test",kf="Toujours",Pf="Domaines",Rf="Rafraîchir",Af="Copier le chemin",Ef="Nouveau nom d’utilisateur",_f="Mot de passe d’origine",If="Nouveau mot de passe",Lf="Éditer le DNS dynamique",Ff="Utilisateur",Of="Nom du site",Mf="Langage",Uf="Thème",Bf="Auteur",Gf="Communauté",zf="Annuler",Hf="L’utilisateur est invalide",Vf="Bloqué par un administrateur",qf="Utilisateur en ligne",Wf="ID utilisateur",Kf={theme:bp,Username:yp,Password:Cp,CurrentTime:wp,Results:$p,Login:Tp,Server:Dp,Service:kp,Task:Pp,Notification:Rp,DDNS:Ap,NATT:Ep,Group:_p,Profile:Ip,Settings:Lp,BackToHome:Fp,Logout:Op,NavigateTo:Mp,Close:Up,Error:"Erreur",Name:Bp,Version:Gp,Unknown:zp,Enable:Hp,HideForGuest:Vp,InstallCommands:qp,Note:Wp,Success:Kp,Done:Jp,Offline:Yp,Failure:Zp,Loading:Qp,NoResults:Xp,Actions:ef,EditServer:sf,SeparateWithComma:tf,Public:rf,Private:nf,Submit:af,IgnoreAll:of,LoginFirst:cf,DDNSProfiles:lf,Target:df,SpecificServers:uf,Type:mf,Interval:hf,TasksToTriggerOnAlert:xf,TasksToTriggerAfterRecovery:gf,Confirm:pf,ConfirmDeletion:ff,Services:jf,ShowInService:Nf,MaximumLatency:vf,MinimumLatency:Sf,Command:bf,LastExecution:yf,Result:Cf,Scheduled:wf,AlertRule:$f,Rules:Tf,DoNotSendTestMessage:Df,Always:kf,Domains:Pf,Refresh:Rf,CopyPath:Af,NewUsername:Ef,OriginalPassword:_f,NewPassword:If,EditDDNS:Lf,User:Ff,SiteName:Of,Language:Mf,Theme:Uf,Author:Bf,Community:Gf,Cancel:zf,UserInvalid:Hf,BlockByUser:Vf,OnlineUser:qf,UserId:Wf},Jf="Monitor Nezha",Yf={light:"Terang",dark:"Gelap",system:"Mengikuti sistem"},Zf="Nama Pengguna",Qf="Kata Sandi",Xf="Mohon masuk terlebih dahulu",ej="Waktu saat ini",sj={UsernameMin:"Nama Pengguna setidak nya harus {{number}} karakter.",PasswordRequired:"Kata Sandi tidak boleh kosong.",ErrorFetchingResource:"Kesalahan mengambil sumber daya: {{error}}",SelectAtLeastOneServer:"Silahkan pilih setidaknya satu server.",UnExpectedError:"Kesalahan tidak terduga, Silahhkan lihat konsol untuk detailnya.",ForceUpdate:"Peningkatan Paksa:",NoRowsAreSelected:"Tidak ada baris yang dipilih",ThisOperationIsUnrecoverable:"Operasi tidak dapat dibatalkan!",TaskTriggeredSuccessfully:"Tugas berhasil dipicu",TheServerDoesNotOnline:"Server tidak ada atau masih belum terhubung"},tj={nezha:Jf,theme:Yf,Username:Zf,Password:Qf,LoginFirst:Xf,CurrentTime:ej,Results:sj},rj="Monitoraggio Nezha",nj={light:"Chiaro",dark:"Scuro",system:"Segui il sistema"},aj="Nome utente",oj="Password",ij="Effettua prima il login",cj="Ora attuale",lj={UsernameMin:"Il nome utente deve contenere almeno {{number}} caratteri.",PasswordRequired:"La password non può essere vuota.",ErrorFetchingResource:"Errore nel recupero della risorsa: {{error}}",SelectAtLeastOneServer:"Seleziona almeno un server.",UnExpectedError:"Errore imprevisto. Controlla la console per i dettagli.",ForceUpdate:"Aggiornamento forzato:",NoRowsAreSelected:"Nessuna riga selezionata",ThisOperationIsUnrecoverable:"Questa operazione non può essere annullata!",TaskTriggeredSuccessfully:"Attività avviata correttamente",TheServerDoesNotOnline:"Il server non esiste o non è stato ancora connesso",InstallHostRequired:"L'indirizzo di aggancio dell'Agent non è stato inserito nelle impostazioni.",UnknownIdentifier:"identificatore sconosciuto"},dj="Accedi",uj="Server",mj="Servizio",hj="Compito",xj="Notifica",gj="DNS Dinamico",pj="Traversata NAT",fj="Gruppo",jj="Informazioni personali",Nj="Impostazioni di sistema",vj="Esci",Sj="Vai a",bj="Scegli una pagina da visitare",yj="Chiudi",Cj="Nome",wj="Versione",$j="Sconosciuto",Tj="Abilita",Dj="Nascosto ai visitatori",kj="Comando di installazione",Pj="Osservazione",Rj="Successo",Aj="Fine",Ej="Non in linea",_j="Fallire",Ij="Caricamento",Lj="Nessun contenuto",Fj="Azione",Oj="Modifica server",Mj="Peso (più grande è il numero, più alto sarà visualizzato)",Uj="ID profilo DDNS",Bj="(separati da virgole)",Gj="Pubblico",zj="Privato",Hj="Invia",Vj="Bersaglio",qj="Copertura",Wj="Copri tutto",Kj="Ignorare tutto",Jj="Server specifico",Yj="Tipo",Zj="Intervallo",Qj="ID del gruppo di notifiche",Xj="Grilletto",eN="Attività da attivare in caso di allarme",sN="Attività da attivare dopo il ripristino",tN="Confermo",rN="Confermi l'eliminazione?",nN="Servizi",aN="Mostra in servizio",oN={Only:"Solo server specifici",Excludes:"Escludi server specifici",Alarmed:"Eseguito sul server che ha attivato l'allarme"},iN="Abilita la notifica di errore",cN="Tempo di ritardo massimo (millisecondi)",lN="Tempo di ritardo minimo (millisecondi)",dN="Abilita le notifiche ritardate",uN="Abilita attività di attivazione",mN="Espressione cron",hN="Ordine",xN="Gruppo di notifica",gN="Invia notifica di successo",pN="Ultimo giustiziato",fN="Risultato",jN="Attività pianificate",NN="Notifica",vN="Regole di allerta",SN="Verifica TLS",bN="Modalità di attivazione",yN="Regola",CN="Metodo di richiesta",wN="Intestazione della richiesta",$N="Non inviare messaggi di prova",TN="Sempre",DN="Solo una volta",kN="Fornitore",PN="Nome di dominio",RN="Numero massimo di tentativi",AN="aggiornare",EN="Percorso di copia",_N="Vai a",IN="Aggiorna il profilo",LN="Nuovo nome utente",FN="Password originale",ON="Nuova parola d'ordine",MN="Modifica DDNS",UN="Crea DDNS",BN="Credenziale",GN="Tipo di richiesta",zN="Richiedi corpo",HN="Pseudo File Manager",VN="Download in corso",qN="Caricamento",WN="Modifica configurazione NAT",KN="Crea configurazione NAT",JN="servizio locale",YN="Associa il nome di dominio",ZN="Modifica gruppo di server",QN="Crea gruppo di server",XN="Servizi di editing",ev="Crea servizio",sv="Modifica attività",tv="Crea attività",rv="Crea notifica",nv="Modifica notifica",av="Modifica le regole degli allarmi",ov="Crea regole di avviso",iv="Modifica gruppo di notifiche",cv="Crea gruppo di notifica",lv="Utente",dv="Firewall dell'applicazione Web",uv="Nome del sito",mv="Lingua",hv="Codice personalizzato (stili e script)",xv="Codice personalizzato per dashboard",gv="Indirizzo di ancoraggio dell'agente [nome dominio/IP:porta]",pv="Usa TLS per connettere Agent",fv="Server dei nomi DNS pubblici personalizzati per DDNS",jv="Intestazione della richiesta IP reale del frontend",Nv="Intestazione della richiesta IP reale dell’agente",vv="Utilizzare l'IP di connessione diretta",Sv="Notifica di modifica IP",bv="Mostra l'indirizzo IP completo nei messaggi di notifica",yv="Accesso non riuscito",Cv="Segnalino di attacco di forza bruta",wv="Segreti proxy dell'attacco di forza bruta",$v="Nuovo utente",Tv="Contare",Dv="Motivo dell'ultimo divieto",kv="L'ultima volta che è stato vietato",Pv="Tema",Rv="Autore",Av="Repository",Ev="Comunità",_v="Ufficiale",Iv="Questo tema appartiene alla comunità",Lv="Questo tema viene fornito dalla comunità, utilizzalo a tuo rischio e pericolo",Fv="Annulla",Ov="Abilita DDNS",Mv="Esegui il push se ha successo",Uv="Autenticazione gRPC fallita",Bv="Il token API non è valido",Gv="L'utente non è valido",zv="Bloccato dall'amministratore",Hv="Totale",Vv="Conferma blocco",qv="Utente online",Wv="Identificatore del blocco",Kv="ID utente",Jv="Connesso alle",Yv={nezha:rj,theme:nj,Username:aj,Password:oj,LoginFirst:ij,CurrentTime:cj,Results:lj,Login:dj,Server:uj,Service:mj,Task:hj,Notification:xj,DDNS:gj,NATT:pj,Group:fj,Profile:jj,Settings:Nj,Logout:vj,NavigateTo:Sj,SelectAPageToNavigateTo:bj,Close:yj,Error:"Errore",Name:Cj,Version:wj,Unknown:$j,Enable:Tj,HideForGuest:Dj,InstallCommands:kj,Note:Pj,Success:Rj,Done:Aj,Offline:Ej,Failure:_j,Loading:Ij,NoResults:Lj,Actions:Fj,EditServer:Oj,Weight:Mj,DDNSProfiles:Uj,SeparateWithComma:Bj,Public:Gj,Private:zj,Submit:Hj,Target:Vj,Coverage:qj,CoverAll:Wj,IgnoreAll:Kj,SpecificServers:Jj,Type:Yj,Interval:Zj,NotifierGroupID:Qj,Trigger:Xj,TasksToTriggerOnAlert:eN,TasksToTriggerAfterRecovery:sN,Confirm:tN,ConfirmDeletion:rN,Services:nN,ShowInService:aN,Coverages:oN,EnableFailureNotification:iN,MaximumLatency:cN,MinimumLatency:lN,EnableLatencyNotification:dN,EnableTriggerTask:uN,CronExpression:mN,Command:hN,NotifierGroup:xN,SendSuccessNotification:gN,LastExecution:pN,Result:fN,Scheduled:jN,Notifier:NN,AlertRule:vN,VerifyTLS:SN,TriggerMode:bN,Rules:yN,RequestMethod:CN,RequestHeader:wN,DoNotSendTestMessage:$N,Always:TN,Once:DN,Provider:kN,Domains:PN,MaximumRetryAttempts:RN,Refresh:AN,CopyPath:EN,Goto:_N,UpdateProfile:IN,NewUsername:LN,OriginalPassword:FN,NewPassword:ON,EditDDNS:MN,CreateDDNS:UN,Credential:BN,RequestType:GN,RequestBody:zN,FileManager:HN,Downloading:VN,Uploading:qN,EditNAT:WN,CreateNAT:KN,LocalService:JN,BindHostname:YN,EditServerGroup:ZN,CreateServerGroup:QN,EditService:XN,CreateService:ev,EditTask:sv,CreateTask:tv,CreateNotifier:rv,EditNotifier:nv,EditAlertRule:av,CreateAlertRule:ov,EditNotifierGroup:iv,CreateNotifierGroup:cv,User:lv,WAF:dv,SiteName:uv,Language:mv,CustomCodes:hv,CustomCodesDashboard:xv,DashboardOriginalHost:gv,ConfigTLS:pv,CustomPublicDNSNameserversforDDNS:fv,WebRealIPHeader:jv,AgentRealIPHeader:Nv,UseDirectConnectingIP:vv,IPChangeNotification:Sv,FullIPNotification:bv,LoginFailed:yv,BruteForceAttackingToken:Cv,BruteForceAttackingAgentSecret:wv,NewUser:$v,Count:Tv,LastBlockReason:Dv,LastBlockTime:kv,Theme:Pv,Author:Rv,Repository:Av,Community:Ev,Official:_v,CommunityThemeWarning:Iv,CommunityThemeDescription:Lv,Cancel:Fv,EnableDDNS:Ov,PushSuccessful:Mv,GrpcAuthFailed:Uv,APITokenInvalid:Bv,UserInvalid:Gv,BlockByUser:zv,Total:Hv,ConfirmBlock:Vv,OnlineUser:qv,BlockIdentifier:Wv,UserId:Kv,ConnectedAt:Jv},Zv="Закрыть",Qv="Максимальная задержка (мс)",Xv={dark:"Темная тема",light:"Светлая тема",system:"Как в Системе"},eS={Alarmed:"Выполняется на сервере, вызвавшем тревогу",Excludes:"Исключить определённые серверы",Only:"Только определённые серверы"},sS="Недействительный API-токен",tS="Неизвестно",rS="Токен для защиты от брутфорса",nS="Новое имя пользователя",aS={ForceUpdate:"Принудительное обновление:",UsernameMin:"Имя пользователя должно содержать не менее {{number}} символов.",TheServerDoesNotOnline:"Сервер не существует или еще не подключен",PasswordRequired:"Пароль не может быть пустым.",ErrorFetchingResource:"Ошибка при получении ресурса: {{error}}",SelectAtLeastOneServer:"Выберите хотя бы один сервер.",UnExpectedError:"Непредвиденная ошибка. Подробности в консоли.",ThisOperationIsUnrecoverable:"Эту операцию нельзя отменить!",TaskTriggeredSuccessfully:"Задача успешно запущена",UnknownIdentifier:"Неизвестный идентификатор",NoRowsAreSelected:"Не выбраны строки",InstallHostRequired:"В настройках не указан адрес подключения агента."},oS="Провайдер",iS="Системные настройки",cS="Готово",lS="(Разделяйте запятой)",dS="Перейти к",uS="Время последнего бана",mS="Группа уведомлений",hS="Использовать IP для прямого подключения",xS="Обновить",gS="Группа",pS="Учетные данные",fS="Эта тема предоставлена сообществом, используйте на свой страх и риск",jS="Адрес подключения агента [домен/IP:порт]",NS="Режим срабатывания",vS="Один раз",SS="Включить уведомления о задержке",bS="Домены",yS="Редактировать задачу",CS="Создать задачу",wS="Обход NAT",$S="Пожалуйста, сначала войдите в систему",TS="Заголовок запроса",DS="Ничего не найдено",kS="Сервисы",PS="Выйти",RS="При срабатывании",AS="Редактировать правила оповещений",ES="Недействительный пользователь",_S="Количество",IS="Привязать доменное имя",LS="Вы используете тему от сообщества",FS="Имя пользователя",OS="Пароль",MS="Текущее время",US="Сервер",BS="Динамический DNS",GS="Профиль",zS="Вернуться на главную",HS="Название",VS="Включить",qS="Скрыто для гостей",WS="Заметка",KS="Успешно",JS="Оффлайн",YS="Неудача",ZS="Действия",QS="Вес (чем больше число, тем выше в списке)",XS="ID профилей DDNS",eb="Цель",sb="Охват",tb="Охватить всё",rb="Игнорировать всё",nb="Серверы с тревогами",ab="Конкретный сервер",ob="Тип",ib="Интервал",cb="ID группы уведомлений",lb="Задачи, запускаемые при тревоге",db="Минимальная задержка (мс)",ub="Cron-выражение",mb="Команда",hb="Последний запуск",xb="Отправлять уведомление при успехе",gb="Результат",pb="Уведомитель",fb="Правила тревог",jb="Правила",Nb="Метод запроса",vb="Не отправлять тестовое сообщение",Sb="Всегда",bb="Максимальное время для повторных попыток",yb="Копировать путь",Cb="Перейти",wb="Обновить профиль",$b="Новый пароль",Tb="Редактировать DDNS",Db="Создать DDNS",kb="Тип запроса",Pb="Тело запроса",Rb="Псевдофайловый менеджер",Ab="Скачивание",Eb="Загрузка",_b="Редактировать NAT-конфигурацию",Ib="Редактировать группу серверов",Lb="Создать группу серверов",Fb="Пользователь",Ob="Имя Сайта",Mb="Использовать TLS для подключения агента",Ub="Ошибка входа",Bb="Секрет агента для защиты от брутфорса",Gb="Пользовательский код для панели управления",zb="Пользовательские публичные DNS-серверы для DDNS",Hb="Заголовок запроса с реальным IP от frontend",Vb="Заголовок запроса с реальным IP от агента",qb="Показывать полный IP-адрес в уведомлениях",Wb="Редактировать сервис",Kb="Создать сервис",Jb="Создать уведомитель",Yb="Редактировать уведомитель",Zb="Редактировать группу уведомителей",Qb="Создать группу уведомителей",Xb="Тема",ey="Автор",sy="Репозиторий",ty="Сообщество",ry="Официальный",ny="Отмена",ay="Включить DDNS",oy="Отправлять при успешном выполнении",iy="Ошибка аутентификации gRPC",cy="Заблокирован администратором",ly="Идентификатор блокировки",dy="Подключен в",uy="Пользователь в сети",my="Всего",hy="Подтвердить блокировку",xy="Отклонить вход по паролю",gy="Текст отсутствует",py="Переопределение доменов DDNS (по настройкам)",fy="Редактировать конфигурацию сервера",jy="Опция",Ny="Значение",vy="Предпросмотр",Sy="Nezha Monitoring",by="Пользовательский код (стили и скрипты)",yy="Локальный сервис",Cy="Войти",wy="Сервис",$y="Задача",Ty="Причина последней блокировки",Dy="У вас нет заметок.",ky="Уведомление",Py="Выберите страницу для перехода",Ry="Версия",Ay="Команда установки",Ey="Загрузка",_y="Редактировать сервер",Iy="Публичный",Ly="Приватный",Fy="Отправить",Oy="Задачи, запускаемые после восстановления",My="Подтвердить",Uy="Включить задачу-триггер",By="Язык",Gy="Подтвердить удаление?",zy="Старый пароль",Hy="Показывать в Сервисе",Vy="Включить уведомления об ошибках",qy="Создать NAT-конфигурацию",Wy="Запланированные задачи",Ky="Файрвол (WAF)",Jy="Проверка TLS",Yy="Уведомление об изменении IP",Zy="Создать правила оповещений",Qy="ID пользователя",Xy="Новый пользователь",eC={Close:Zv,MaximumLatency:Qv,theme:Xv,Coverages:eS,APITokenInvalid:sS,Unknown:tS,BruteForceAttackingToken:rS,NewUsername:nS,Results:aS,Provider:oS,Settings:iS,Done:cS,SeparateWithComma:lS,NavigateTo:dS,LastBlockTime:uS,NotifierGroup:mS,UseDirectConnectingIP:hS,Refresh:xS,Group:gS,Credential:pS,CommunityThemeDescription:fS,DashboardOriginalHost:jS,Error:"Ошибка",TriggerMode:NS,Once:vS,EnableLatencyNotification:SS,Domains:bS,EditTask:yS,CreateTask:CS,NATT:wS,LoginFirst:$S,RequestHeader:TS,NoResults:DS,Services:kS,Logout:PS,Trigger:RS,EditAlertRule:AS,UserInvalid:ES,Count:_S,BindHostname:IS,CommunityThemeWarning:LS,Username:FS,Password:OS,CurrentTime:MS,Server:US,DDNS:BS,Profile:GS,BackToHome:zS,Name:HS,Enable:VS,HideForGuest:qS,Note:WS,Success:KS,Offline:JS,Failure:YS,Actions:ZS,Weight:QS,DDNSProfiles:XS,Target:eb,Coverage:sb,CoverAll:tb,IgnoreAll:rb,OnAlert:nb,SpecificServers:ab,Type:ob,Interval:ib,NotifierGroupID:cb,TasksToTriggerOnAlert:lb,MinimumLatency:db,CronExpression:ub,Command:mb,LastExecution:hb,SendSuccessNotification:xb,Result:gb,Notifier:pb,AlertRule:fb,Rules:jb,RequestMethod:Nb,DoNotSendTestMessage:vb,Always:Sb,MaximumRetryAttempts:bb,CopyPath:yb,Goto:Cb,UpdateProfile:wb,NewPassword:$b,EditDDNS:Tb,CreateDDNS:Db,RequestType:kb,RequestBody:Pb,FileManager:Rb,Downloading:Ab,Uploading:Eb,EditNAT:_b,EditServerGroup:Ib,CreateServerGroup:Lb,User:Fb,SiteName:Ob,ConfigTLS:Mb,LoginFailed:Ub,BruteForceAttackingAgentSecret:Bb,CustomCodesDashboard:Gb,CustomPublicDNSNameserversforDDNS:zb,WebRealIPHeader:Hb,AgentRealIPHeader:Vb,FullIPNotification:qb,EditService:Wb,CreateService:Kb,CreateNotifier:Jb,EditNotifier:Yb,EditNotifierGroup:Zb,CreateNotifierGroup:Qb,Theme:Xb,Author:ey,Repository:sy,Community:ty,Official:ry,Cancel:ny,EnableDDNS:ay,PushSuccessful:oy,GrpcAuthFailed:iy,BlockByUser:cy,BlockIdentifier:ly,ConnectedAt:dy,OnlineUser:uy,Total:my,ConfirmBlock:hy,RejectPassword:xy,EmptyText:gy,OverrideDDNSDomains:py,EditServerConfig:fy,Option:jy,Value:Ny,Preview:vy,nezha:Sy,CustomCodes:by,LocalService:yy,Login:Cy,Service:wy,Task:$y,LastBlockReason:Ty,EmptyNote:Dy,Notification:ky,SelectAPageToNavigateTo:Py,Version:Ry,InstallCommands:Ay,Loading:Ey,EditServer:_y,Public:Iy,Private:Ly,Submit:Fy,TasksToTriggerAfterRecovery:Oy,Confirm:My,EnableTriggerTask:Uy,Language:By,ConfirmDeletion:Gy,OriginalPassword:zy,ShowInService:Hy,EnableFailureNotification:Vy,CreateNAT:qy,Scheduled:Wy,WAF:Ky,VerifyTLS:Jy,IPChangeNotification:Yy,CreateAlertRule:Zy,UserId:Qy,NewUser:Xy},sC="கண்காணிப்பு",tC={light:"ஒளி",dark:"இருண்ட",system:"அமைப்பைப் பின்தொடரவும்"},rC="பயனர்பெயர்",nC="கடவுச்சொல்",aC="முதலில் உள்நுழைக",oC="தற்போதைய நேரம்",iC={UsernameMin:"பயனர்பெயர் குறைந்தபட்சம் {{number}} எழுத்துக்களாக இருக்க வேண்டும்.",PasswordRequired:"கடவுச்சொல் காலியாக இருக்க முடியாது.",ErrorFetchingResource:"வளத்தைப் பெறுவதில் பிழை: {{error}}",SelectAtLeastOneServer:"குறைந்தது ஒரு சேவையகத்தைத் தேர்ந்தெடுக்கவும்.",UnExpectedError:"எதிர்பாராத பிழை, விவரங்களுக்கு கன்சோலைப் பார்க்கவும்.",ForceUpdate:"கட்டாய மேம்படுத்தல்:",NoRowsAreSelected:"வரிசைகள் எதுவும் தேர்ந்தெடுக்கப்படவில்லை",ThisOperationIsUnrecoverable:"இந்த செயல்பாட்டை செயல்தவிர்க்க முடியாது!",TaskTriggeredSuccessfully:"பணி வெற்றிகரமாக தூண்டப்பட்டது",TheServerDoesNotOnline:"சேவையகம் இல்லை அல்லது இன்னும் இணைக்கப்படவில்லை",InstallHostRequired:"அமைப்புகளில் முகவர் நறுக்குதல் முகவரி நிரப்பப்படவில்லை.",UnknownIdentifier:"தெரியாத அடையாளங்காட்டி"},cC="நீக்குதலை உறுதிப்படுத்தவா?",lC="சேவைகள்",dC="சேவையில் காட்டு",uC={Excludes:"குறிப்பிட்ட சேவையகங்களை விலக்குகிறது",Only:"குறிப்பிட்ட சேவையகங்கள் மட்டுமே",Alarmed:"அலாரத்தைத் தூண்டிய சேவையகத்தில் செயல்படுத்தப்பட்டது"},mC="தோல்வி அறிவிப்பை இயக்கவும்",hC="அதிகபட்ச நேரந்தவறுகை (எம்.எச்)",xC="குறைந்தபட்ச நேரந்தவறுகை (மில்லி விநாடிகள்)",gC="தாமத அறிவிப்பை இயக்கவும்",pC="முடிவு",fC="திட்டமிடப்பட்ட பணிகள்",jC="அறிவிக்கவும்",NC="விதிகள்",vC="எச்சரிக்கை விதிகளை உருவாக்கவும்",SC="குழுவைத் திருத்து",bC="அறிவிப்பு குழுவை உருவாக்கவும்",yC="புதிய பயனர்",CC="புகுபதிகை",wC="சேவையகம்",$C="சேவை",TC="பணி",DC="அறிவிப்பு",kC="மாறும் டி.என்.எச்",PC="நாட் டிராவர்சல்",RC="குழு",AC="சுயவிவரம்",EC="கணினி அமைப்புகள்",_C="வீட்டிற்கு திரும்பவும்",IC="விடுபதிகை",LC="செல்லவும்",FC="செல்ல ஒரு பக்கத்தைத் தேர்வுசெய்க",OC="மூடு",MC="பெயர்",UC="பதிப்பு",BC="தெரியவில்லை",GC="இயக்கு",zC="பார்வையாளர்களிடமிருந்து மறைக்கப்பட்டுள்ளது",HC="நிறுவல் கட்டளை",VC="குறிப்பு",qC="செய்",WC="முடிக்க",KC="இணையமில்லாமல்",JC="தோல்வி",YC="ஏற்றுகிறது",ZC="முடிவுகள் இல்லை",QC="செயல்கள்",XC="சேவையகத்தைத் திருத்து",ew="எடை (பெரிய எண், அதிக அளவில் காட்டப்படும்)",sw="டி.டி.என்.எச் சுயவிவர ஐடிகள்",tw="(கமாவுடன் பிரிக்கவும்)",rw="பொது",nw="தனிப்பட்ட",aw="சமர்ப்பிக்கவும்",ow="இலக்கு",iw="பாதுகாப்பு",cw="அனைத்தையும் மறைக்கவும்",lw="அனைத்தையும் புறக்கணிக்கவும்",dw="எச்சரிக்கை சேவையகங்கள்",uw="குறிப்பிட்ட சேவையகம்",mw="வகை",hw="இடைவேளை",xw="குழு ஐடியை அறிவிக்கவும்",gw="தூண்டுதலில்",pw="எச்சரிக்கையில் தூண்டப்பட வேண்டிய பணிகள்",fw="மீட்கப்பட்ட பிறகு தூண்டப்பட வேண்டிய பணிகள்",jw="உறுதிப்படுத்தவும்",Nw="தூண்டுதல் பணியை இயக்கவும்",vw="க்ரோன் வெளிப்பாடு",Sw="கட்டளை",bw="குழுவிற்கு அறிவிக்கவும்",yw="செய் அறிவிப்பை அனுப்புங்கள்",Cw="கடைசி சாவுஒறுப்பு",ww="எச்சரிக்கை விதிகள்",$w="TLS ஐ சரிபார்க்கவும்",Tw="தூண்டுதல் பயன்முறை",Dw="கோரிக்கை முறை",kw="கோரிக்கை தலைப்பு",Pw="சோதனை செய்தியை அனுப்ப வேண்டாம்",Rw="எப்போதும்",Aw="ஒருமுறை",Ew="வழங்குநர்",_w="களங்கள்",Iw="மீண்டும் முயற்சிக்கும் முயற்சிகளுக்கு அதிகபட்ச நேரம்",Lw="புதுப்பிப்பு",Fw="நகல் பாதை",Ow="செல்",Mw="சுயவிவரத்தைப் புதுப்பிக்கவும்",Uw="புதிய பயனர்பெயர்",Bw="அசல் கடவுச்சொல்",Gw="புதிய கடவுச்சொல்",zw="DDNS ஐத் திருத்து",Hw="DDNS ஐ உருவாக்கவும்",Vw="நற்சான்றிதழ்",qw="கோரிக்கை வகை",Ww="கோரிக்கை அமைப்பு",Kw="போலி கோப்பு மேலாளர்",Jw="பதிவிறக்குகிறது",Yw="பதிவேற்றம்",Zw="NAT உள்ளமைவைத் திருத்து",Qw="NAT உள்ளமைவை உருவாக்கவும்",Xw="உள்ளக பணி",e$="டொமைன் பெயரை பிணைக்கவும்",s$="சேவையக குழுவைத் திருத்து",t$="சேவையக குழுவை உருவாக்கவும்",r$="பயனர்",n$="வலை பயன்பாடு ஃபயர்வால்",a$="தளத்தின் பெயர்",o$="முகவரியை இணைக்கும் முகவரி [டொமைன் பெயர்/ஐபி: போர்ட்]",i$="முகவரை இணைக்க TLS ஐப் பயன்படுத்தவும்",c$="உள்நுழைவு தோல்வியடைந்தது",l$="மிருகத்தனமான ஆற்றல் டோக்கனைத் தாக்குகிறது",d$="மிருகத்தனமான படை தாக்குதல் முகவர் மறைபொருள்",u$="மொழி",m$="தனிப்பயன் குறியீடுகள் (நடை மற்றும் ச்கிரிப்ட்)",h$="டாச்போர்டுக்கான தனிப்பயன் குறியீடுகள்",x$="டி.டி.என்.எச்சிற்கான தனிப்பயன் பொது டி.என்.எச் பெயர்செர்வர்ச்",g$="முன்நிலை உண்மையான ஐபி கோரிக்கை தலைப்பு",p$="ஏஜெண்ட் உண்மையான ஐபி கோரிக்கை தலைப்பு",f$="நேரடி இணைப்பு ஐபி பயன்படுத்தவும்",j$="ஐபி மாற்ற அறிவிப்பு",N$="அறிவிப்பு செய்திகளில் முழு ஐபி முகவரியைக் காட்டுங்கள்",v$="சேவையைத் திருத்து",S$="சேவையை உருவாக்கவும்",b$="பணியைத் திருத்து",y$="பணியை உருவாக்கவும்",C$="அறிவிப்பை உருவாக்கவும்",w$="அறிவிப்பு திருத்து",$$="எச்சரிக்கை விதிகளைத் திருத்தவும்",T$="எண்ணுங்கள்",D$="கடைசி தொகுதி காரணம்",k$="கடைசி தடை நேரம்",P$="கருப்பொருள்",R$="நூலாசிரியர்",A$="களஞ்சியம்",E$="சமூகம்",_$="அதிகாரி",I$="நீங்கள் ஒரு சமூக கருப்பொருளைப் பயன்படுத்துகிறீர்கள்",L$="இந்த கருப்பொருள் சமூகத்தால் வழங்கப்படுகிறது, உங்கள் சொந்த ஆபத்தில் பயன்படுத்தவும்",F$="ரத்துசெய்",O$="DDNS ஐ இயக்கவும்",M$="வெற்றிகரமாக இருந்தால் தள்ளுங்கள்",U$="சிஆர்பிசி ஏற்பு தோல்வியடைந்தது",B$="பநிஇ கிள்ளாக்கு தவறானது",G$="பயனர் தவறானது",z$="நிர்வாகியால் தடுக்கப்பட்டது",H$="தொகுதி அடையாளங்காட்டி",V$="பயனர் ஐடி",q$="இணைக்கப்பட்டுள்ளது",W$="நிகழ்நிலை பயனர்",K$="மொத்தம்",J$="தொகுதி உறுதிப்படுத்தவும்",Y$="கடவுச்சொல் உள்நுழைவை நிராகரிக்கவும்",Z$="உரை காலியாக உள்ளது",Q$="உங்களிடம் எந்த குறிப்பும் இல்லை.",X$={nezha:sC,theme:tC,Username:rC,Password:nC,LoginFirst:aC,CurrentTime:oC,Results:iC,ConfirmDeletion:cC,Services:lC,ShowInService:dC,Coverages:uC,EnableFailureNotification:mC,MaximumLatency:hC,MinimumLatency:xC,EnableLatencyNotification:gC,Result:pC,Scheduled:fC,Notifier:jC,Rules:NC,CreateAlertRule:vC,EditNotifierGroup:SC,CreateNotifierGroup:bC,NewUser:yC,Login:CC,Server:wC,Service:$C,Task:TC,Notification:DC,DDNS:kC,NATT:PC,Group:RC,Profile:AC,Settings:EC,BackToHome:_C,Logout:IC,NavigateTo:LC,SelectAPageToNavigateTo:FC,Close:OC,Error:"பிழை",Name:MC,Version:UC,Unknown:BC,Enable:GC,HideForGuest:zC,InstallCommands:HC,Note:VC,Success:qC,Done:WC,Offline:KC,Failure:JC,Loading:YC,NoResults:ZC,Actions:QC,EditServer:XC,Weight:ew,DDNSProfiles:sw,SeparateWithComma:tw,Public:rw,Private:nw,Submit:aw,Target:ow,Coverage:iw,CoverAll:cw,IgnoreAll:lw,OnAlert:dw,SpecificServers:uw,Type:mw,Interval:hw,NotifierGroupID:xw,Trigger:gw,TasksToTriggerOnAlert:pw,TasksToTriggerAfterRecovery:fw,Confirm:jw,EnableTriggerTask:Nw,CronExpression:vw,Command:Sw,NotifierGroup:bw,SendSuccessNotification:yw,LastExecution:Cw,AlertRule:ww,VerifyTLS:$w,TriggerMode:Tw,RequestMethod:Dw,RequestHeader:kw,DoNotSendTestMessage:Pw,Always:Rw,Once:Aw,Provider:Ew,Domains:_w,MaximumRetryAttempts:Iw,Refresh:Lw,CopyPath:Fw,Goto:Ow,UpdateProfile:Mw,NewUsername:Uw,OriginalPassword:Bw,NewPassword:Gw,EditDDNS:zw,CreateDDNS:Hw,Credential:Vw,RequestType:qw,RequestBody:Ww,FileManager:Kw,Downloading:Jw,Uploading:Yw,EditNAT:Zw,CreateNAT:Qw,LocalService:Xw,BindHostname:e$,EditServerGroup:s$,CreateServerGroup:t$,User:r$,WAF:n$,SiteName:a$,DashboardOriginalHost:o$,ConfigTLS:i$,LoginFailed:c$,BruteForceAttackingToken:l$,BruteForceAttackingAgentSecret:d$,Language:u$,CustomCodes:m$,CustomCodesDashboard:h$,CustomPublicDNSNameserversforDDNS:x$,WebRealIPHeader:g$,AgentRealIPHeader:p$,UseDirectConnectingIP:f$,IPChangeNotification:j$,FullIPNotification:N$,EditService:v$,CreateService:S$,EditTask:b$,CreateTask:y$,CreateNotifier:C$,EditNotifier:w$,EditAlertRule:$$,Count:T$,LastBlockReason:D$,LastBlockTime:k$,Theme:P$,Author:R$,Repository:A$,Community:E$,Official:_$,CommunityThemeWarning:I$,CommunityThemeDescription:L$,Cancel:F$,EnableDDNS:O$,PushSuccessful:M$,GrpcAuthFailed:U$,APITokenInvalid:B$,UserInvalid:G$,BlockByUser:z$,BlockIdentifier:H$,UserId:V$,ConnectedAt:q$,OnlineUser:W$,Total:K$,ConfirmBlock:J$,RejectPassword:Y$,EmptyText:Z$,EmptyNote:Q$},eT="哪吒监控",sT={light:"亮色",dark:"暗色",system:"跟随系统"},tT="用户名",rT="密码",nT="用户名或密码错误",aT="网络错误",oT="请先登录",iT="当前时间",cT={UsernameMin:"用户名必须至少有 {{number}} 个字符。",PasswordRequired:"密码不能为空。",ErrorFetchingResource:"获取资源时出错：{{error}}",SelectAtLeastOneServer:"请至少选择一台服务器。",UnExpectedError:"意外错误，请查看控制台了解详细信息。",ForceUpdate:"强制升级：",NoRowsAreSelected:"未选择任何行",ThisOperationIsUnrecoverable:"这个操作将无法恢复！",TaskTriggeredSuccessfully:"任务触发成功",TheServerDoesNotOnline:"服务器不存在或者还未连接",InstallHostRequired:"设置中尚未填写Agent对接地址。",UnknownIdentifier:"未知标识符"},lT="登录",dT="服务器",uT="服务",mT="任务",hT="通知",xT="动态域名解析",gT="内网穿透",pT="分组",fT="个人信息",jT="系统设置",NT="返回前台",vT="登出",ST="导航至",bT="选择一个页面跳转",yT="关闭",CT="名称",wT="版本",$T="未知",TT="启用",DT="对游客隐藏",kT="安装命令",PT="终端",RT="配置",AT="备注",ET="成功",_T="完成",IT="离线",LT="失败",FT="加载中",OT="没有内容",MT="操作",UT="编辑服务器",BT="权重（数字越大，显示越靠前）",GT="DDNS 配置文件 ID",zT="（以英文逗号分隔）",HT="公开",VT="私有",qT="提交",WT="目标",KT="覆盖范围",JT="覆盖全部",YT="忽略全部",ZT="告警服务器",QT="特定服务器",XT="类型",eD="间隔",sD="通知组ID",tD="触发",rD="告警时要触发的任务",nD="恢复后要触发的任务",aD="添加",oD="删除",iD="高级 JSON",cD="保存",lD="确认",dD="确认删除？",uD="服务",mD="服务中显示",hD={Excludes:"排除特定服务器",Only:"仅特定服务器",Alarmed:"在触发报警的服务器上执行"},xD="启用失败通知",gD="最大延迟时间（毫秒）",pD="最小延迟时间（毫秒）",fD="启用延迟通知",jD="启用触发任务",ND="Cron表达式",vD="命令",SD="通知组",bD="发送成功通知",yD="最后执行",CD="结果",wD="计划任务",$D="警报规则",TD="通知",DD="验证 TLS",kD="触发模式",PD="规则",RD="请求方式",AD="请求头",ED="不发送测试消息",_D="总是",ID="仅一次",LD="提供商",FD="域名",OD="最大重试次数",MD="刷新",UD="复制路径",BD="前往",GD="更新个人资料",zD="新用户名",HD="原始密码",VD="新密码",qD="编辑DDNS",WD="创建DDNS",KD="凭据",JD="请求类型",YD="请求体",ZD="文件列表",QD="下载中",XD="上传中",ek="编辑内网穿透配置",sk="创建内网穿透配置",tk="本地服务",rk="绑定域名",nk="AutoSSH",ak="编辑AutoSSH配置",ok="添加AutoSSH配置",ik="配置AutoSSH端口映射",ck="映射类型",lk="远程转发 (-R)",dk="本地转发 (-L)",uk="源端口",mk="目标主机",hk="目标端口",xk="选择服务器",gk="运行中",pk="已停止",fk="错误",jk="是",Nk="否",vk="编辑",Sk="取消",bk="暂无数据",yk="编辑服务器分组",Ck="创建服务器分组",wk="编辑服务",$k="创建服务",Tk="编辑任务",Dk="创建任务",kk="编辑通知",Pk="创建通知",Rk="编辑报警规则",Ak="创建报警规则",Ek="编辑通知分组",_k="创建通知分组",Ik="用户",Lk="Web应用防火墙",Fk="站点名称",Ok="语言",Mk="自定义代码（样式和脚本）",Uk="仪表板的自定义代码",Bk="Agent对接地址【域名/IP:端口】",Gk="Agent 使用 TLS 连接",zk="DDNS 的自定义公共 DNS 名称服务器",Hk="前端真实IP请求头",Vk="Agent真实IP请求头",qk="使用直连 IP",Wk="IP变更通知",Kk="在通知消息中显示完整的 IP 地址",Jk="登录失败",Yk="暴力攻击令牌",Zk="暴力攻击代理秘密",Qk="新用户",Xk="编辑用户",eP="服务器权限",sP="选择服务器",tP="留空保持当前值",rP="密码不能为空",nP="AutoSSH服务器地址",aP="格式: 用户名@IP:端口",oP="计数",iP="最后封禁原因",cP="最后封禁时间",lP="主题",dP="作者",uP="仓库",mP="社区",hP="官方",xP="正在使用社区主题",gP="社区主题未经官方审计，需自行甄别风险",pP="启用 DDNS",fP="推送成功的通知",jP="gRPC 认证失败",NP="API 令牌无效",vP="用户无效",SP="被管理员封禁",bP="封禁标识",yP="用户 ID",CP="连接时间",wP="在线用户",$P="总数",TP="确认封禁",DP="禁止密码登录",kP="空文本",PP="您没有任何备注。",RP="编辑服务器配置",AP="强制指定 DDNS 域名（每个配置）",EP="值",_P="预览",IP="选项",LP={Label:"公开备注",Billing:"账单信息",Plan:"套餐配置",StartDate:"开始时间",EndDate:"结束时间",AutoRenewal:"自动续费",Cycle:"周期",Amount:"金额",Bandwidth:"带宽",TrafficVolume:"流量配额",TrafficType:"流量类型",IPv4:"IPv4",IPv6:"IPv6",NetworkRoute:"网络路由",Extra:"额外备注",Enabled:"启用",Disabled:"禁用",Inbound:"入站",Both:"双向",Day:"天",Week:"周",Month:"月",Year:"年",NoExpiry:"不过期",SetNoExpiry:"设置为不过期",CancelNoExpiry:"取消不过期",Free:"免费",PayAsYouGo:"按量付费",CommaSeparated:"以英文逗号分隔多个",Has:"有",None:"无",CustomFields:"自定义字段",ClearDate:"清除日期",Clear:"清除",RawText:"原始文本"},FP={InvalidDate:"无效的日期格式",MustBe0Or1:"只能为 0 或 1",MustBeDayWeekMonthYear:"必须为 Day/Week/Month/Year",MustBe1Or2:"只能为 1 或 2",DigitsOnly:"仅允许数字",InvalidForm:"表单校验失败",InvalidJSON:"无效的 JSON"},OP={CoverAllServers:"监控所有服务器",IgnoreAllSelectSpecific:"忽略所有，选择特定服务器",IgnoreHint:"{{server}}ID: true/false",IgnoreExample:'例如：{"1": true, "2": false}'},MP="搜索...",UP="格式化",BP="已格式化",GP="复制",zP="粘贴",HP="已复制到剪贴板",VP="无法写入剪贴板",qP="已从剪贴板粘贴",WP="无法读取剪贴板",KP={nezha:eT,theme:sT,Username:tT,Password:rT,InvalidUsernameOrPassword:nT,NetworkError:aT,LoginFirst:oT,CurrentTime:iT,Results:cT,Login:lT,Server:dT,Service:uT,Task:mT,Notification:hT,DDNS:xT,NATT:gT,Group:pT,Profile:fT,Settings:jT,BackToHome:NT,Logout:vT,NavigateTo:ST,SelectAPageToNavigateTo:bT,Close:yT,Error:"错误",Name:CT,Version:wT,Unknown:$T,Enable:TT,HideForGuest:DT,InstallCommands:kT,Terminal:PT,Config:RT,Note:AT,Success:ET,Done:_T,Offline:IT,Failure:LT,Loading:FT,NoResults:OT,Actions:MT,EditServer:UT,Weight:BT,DDNSProfiles:GT,SeparateWithComma:zT,Public:HT,Private:VT,Submit:qT,Target:WT,Coverage:KT,CoverAll:JT,IgnoreAll:YT,OnAlert:ZT,SpecificServers:QT,Type:XT,Interval:eD,NotifierGroupID:sD,Trigger:tD,TasksToTriggerOnAlert:rD,TasksToTriggerAfterRecovery:nD,Add:aD,Delete:oD,AdvancedJSON:iD,Save:cD,Confirm:lD,ConfirmDeletion:dD,Services:uD,ShowInService:mD,Coverages:hD,EnableFailureNotification:xD,MaximumLatency:gD,MinimumLatency:pD,EnableLatencyNotification:fD,EnableTriggerTask:jD,CronExpression:ND,Command:vD,NotifierGroup:SD,SendSuccessNotification:bD,LastExecution:yD,Result:CD,Scheduled:wD,AlertRule:$D,Notifier:TD,VerifyTLS:DD,TriggerMode:kD,Rules:PD,RequestMethod:RD,RequestHeader:AD,DoNotSendTestMessage:ED,Always:_D,Once:ID,Provider:LD,Domains:FD,MaximumRetryAttempts:OD,Refresh:MD,CopyPath:UD,Goto:BD,UpdateProfile:GD,NewUsername:zD,OriginalPassword:HD,NewPassword:VD,EditDDNS:qD,CreateDDNS:WD,Credential:KD,RequestType:JD,RequestBody:YD,FileManager:ZD,Downloading:QD,Uploading:XD,EditNAT:ek,CreateNAT:sk,LocalService:tk,BindHostname:rk,AutoSSH:nk,EditAutoSSH:ak,AddAutoSSH:ok,ConfigureAutoSSHPortMapping:ik,MappingType:ck,RemoteForward:lk,LocalForward:dk,SourcePort:uk,TargetHost:mk,TargetPort:hk,SelectServer:xk,running:gk,stopped:pk,error:fk,Yes:jk,No:Nk,Edit:vk,Cancel:Sk,NoData:bk,EditServerGroup:yk,CreateServerGroup:Ck,EditService:wk,CreateService:$k,EditTask:Tk,CreateTask:Dk,EditNotifier:kk,CreateNotifier:Pk,EditAlertRule:Rk,CreateAlertRule:Ak,EditNotifierGroup:Ek,CreateNotifierGroup:_k,User:Ik,WAF:Lk,SiteName:Fk,Language:Ok,CustomCodes:Mk,CustomCodesDashboard:Uk,DashboardOriginalHost:Bk,ConfigTLS:Gk,CustomPublicDNSNameserversforDDNS:zk,WebRealIPHeader:Hk,AgentRealIPHeader:Vk,UseDirectConnectingIP:qk,IPChangeNotification:Wk,FullIPNotification:Kk,LoginFailed:Jk,BruteForceAttackingToken:Yk,BruteForceAttackingAgentSecret:Zk,NewUser:Qk,EditUser:Xk,ServerPermissions:eP,SelectServers:sP,LeaveBlankToKeepCurrent:tP,PasswordRequired:rP,AutoSSHServerAddress:nP,AutoSSHServerAddressFormat:aP,Count:oP,LastBlockReason:iP,LastBlockTime:cP,Theme:lP,Author:dP,Repository:uP,Community:mP,Official:hP,CommunityThemeWarning:xP,CommunityThemeDescription:gP,EnableDDNS:pP,PushSuccessful:fP,GrpcAuthFailed:jP,APITokenInvalid:NP,UserInvalid:vP,BlockByUser:SP,BlockIdentifier:bP,UserId:yP,ConnectedAt:CP,OnlineUser:wP,Total:$P,ConfirmBlock:TP,RejectPassword:DP,EmptyText:kP,EmptyNote:PP,EditServerConfig:RP,OverrideDDNSDomains:AP,Value:EP,Preview:_P,Option:IP,PublicNote:LP,Validation:FP,AlertRules:OP,Search:MP,Format:UP,Formatted:BP,Copy:GP,Paste:zP,CopiedToClipboard:HP,ClipboardWriteFailed:VP,PastedFromClipboard:qP,ClipboardReadFailed:WP},JP="哪吒監控",YP={light:"亮色",dark:"暗色",system:"跟隨系統"},ZP="用戶名",QP="密碼",XP="請先登錄",eR="當前時間",sR={UsernameMin:"使用者名稱必須至少有 {{number}} 個字元。",PasswordRequired:"密碼不能為空。",ErrorFetchingResource:"取得資源時發生錯誤：{{error}}",SelectAtLeastOneServer:"請至少選擇一台伺服器。",UnExpectedError:"意外錯誤，請查看控制台以了解詳細資訊。",ForceUpdate:"強制升級：",NoRowsAreSelected:"未選擇任何行",ThisOperationIsUnrecoverable:"這個操作將無法恢復！",TaskTriggeredSuccessfully:"任務觸發成功",TheServerDoesNotOnline:"伺服器不存在或尚未連接",InstallHostRequired:"設定中尚未填寫Agent對接位址。",UnknownIdentifier:"未知標識符"},tR="登入",rR="伺服器",nR="服務",aR="任務",oR="通知",iR="動態網域解析",cR="內網穿透",lR="分組",dR="個人資訊",uR="系統設定",mR="返回前台",hR="登出",xR="導航至",gR="選擇一個頁面跳轉",pR="關閉",fR="名稱",jR="版本",NR="未知",vR="啟用",SR="對遊客隱藏",bR="安裝命令",yR="備註",CR="成功",wR="完成",$R="離線",TR="失敗",DR="沒有內容",kR="載入中",PR="操作",RR="編輯伺服器",AR="權重（數字越大，顯示越前）",ER="DDNS 設定檔 ID",_R="（以英文逗號分隔）",IR="公開",LR="私人",FR="提交",OR="目標",MR="覆蓋範圍",UR="覆蓋全部",BR="忽略全部",GR="告警伺服器",zR="特定伺服器",HR="類型",VR="間隔",qR="通知群組ID",WR="觸發",KR="告警時要觸發的任務",JR="恢復後要觸發的任務",YR="確認",ZR="確認刪除？",QR="服務",XR="服務中顯示",e1={Only:"僅特定伺服器",Excludes:"排除特定伺服器",Alarmed:"在觸發警報的伺服器上執行"},s1="啟用失敗通知",t1="最大延遲時間（毫秒）",r1="最小延遲時間（毫秒）",n1="啟用延遲通知",a1="啟用觸發任務",o1="Cron表達式",i1="命令",c1="通知群組",l1="發送成功通知",d1="最後執行",u1="結果",m1="計劃任務",h1="警報規則",x1="通知",g1="驗證 TLS",p1="觸發模式",f1="規則",j1="請求方式",N1="請求頭",v1="不發送測試訊息",S1="總是",b1="僅一次",y1="提供者",C1="網域",w1="最大重試次數",$1="刷新",T1="複製路徑",D1="前往",k1="更新個人資料",P1="新用戶名",R1="原始密碼",A1="新密碼",E1="編輯DDNS",_1="建立DDNS",I1="憑證",L1="請求類型",F1="請求體",O1="檔案列表",M1="下載中",U1="上傳中",B1="編輯內網穿透配置",G1="創建內網穿透配置",z1="本地服務",H1="綁定域名",V1="編輯伺服器分組",q1="建立伺服器分組",W1="編輯服務",K1="創建服務",J1="編輯任務",Y1="創建任務",Z1="建立通知",Q1="編輯通知",X1="編輯警報規則",eA="建立警報規則",sA="編輯通知分組",tA="建立通知分組",rA="使用者",nA="Web應用防火牆",aA="網站名稱",oA="語言",iA="自訂程式碼（樣式和腳本）",cA="儀表板的自訂程式碼",lA="Agent對接位址【網域名稱/IP:連接埠】",dA="Agent 使用 TLS 連線",uA="DDNS 的自訂公共 DNS 名稱伺服器",mA="前端真實IP請求頭",hA="Agent真實IP請求頭",xA="使用直連 IP",gA="IP變更通知",pA="在通知訊息中顯示完整的 IP 位址",fA="登入失敗",jA="暴力攻擊令牌",NA="暴力攻擊代理秘密",vA="新用戶",SA="計數",bA="最後封鎖原因",yA="最後封鎖時間",CA="主題",wA="作者",$A="仓库",TA="社群",DA="官方",kA="正在使用社區主題",PA="社群主題未經官方審計，需自行甄別風險",RA="取消",AA="啟用 DDNS",EA="推送成功的通知",_A="gRPC 認證失敗",IA="API 令牌無效",LA="使用者無效",FA="被管理员封鎖",OA="封鎖標識符",MA="使用者 ID",UA="連線時間",BA="線上使用者",GA="總數",zA="確認封鎖",HA="禁止密碼登入",VA="空文字",qA="您沒有任何備註。",WA="強制指定 DDNS 域名（每個配置）",KA="編輯伺服器配置",JA="選項",YA="值",ZA="預覽",QA={nezha:JP,theme:YP,Username:ZP,Password:QP,LoginFirst:XP,CurrentTime:eR,Results:sR,Login:tR,Server:rR,Service:nR,Task:aR,Notification:oR,DDNS:iR,NATT:cR,Group:lR,Profile:dR,Settings:uR,BackToHome:mR,Logout:hR,NavigateTo:xR,SelectAPageToNavigateTo:gR,Close:pR,Error:"錯誤",Name:fR,Version:jR,Unknown:NR,Enable:vR,HideForGuest:SR,InstallCommands:bR,Note:yR,Success:CR,Done:wR,Offline:$R,Failure:TR,NoResults:DR,Loading:kR,Actions:PR,EditServer:RR,Weight:AR,DDNSProfiles:ER,SeparateWithComma:_R,Public:IR,Private:LR,Submit:FR,Target:OR,Coverage:MR,CoverAll:UR,IgnoreAll:BR,OnAlert:GR,SpecificServers:zR,Type:HR,Interval:VR,NotifierGroupID:qR,Trigger:WR,TasksToTriggerOnAlert:KR,TasksToTriggerAfterRecovery:JR,Confirm:YR,ConfirmDeletion:ZR,Services:QR,ShowInService:XR,Coverages:e1,EnableFailureNotification:s1,MaximumLatency:t1,MinimumLatency:r1,EnableLatencyNotification:n1,EnableTriggerTask:a1,CronExpression:o1,Command:i1,NotifierGroup:c1,SendSuccessNotification:l1,LastExecution:d1,Result:u1,Scheduled:m1,AlertRule:h1,Notifier:x1,VerifyTLS:g1,TriggerMode:p1,Rules:f1,RequestMethod:j1,RequestHeader:N1,DoNotSendTestMessage:v1,Always:S1,Once:b1,Provider:y1,Domains:C1,MaximumRetryAttempts:w1,Refresh:$1,CopyPath:T1,Goto:D1,UpdateProfile:k1,NewUsername:P1,OriginalPassword:R1,NewPassword:A1,EditDDNS:E1,CreateDDNS:_1,Credential:I1,RequestType:L1,RequestBody:F1,FileManager:O1,Downloading:M1,Uploading:U1,EditNAT:B1,CreateNAT:G1,LocalService:z1,BindHostname:H1,EditServerGroup:V1,CreateServerGroup:q1,EditService:W1,CreateService:K1,EditTask:J1,CreateTask:Y1,CreateNotifier:Z1,EditNotifier:Q1,EditAlertRule:X1,CreateAlertRule:eA,EditNotifierGroup:sA,CreateNotifierGroup:tA,User:rA,WAF:nA,SiteName:aA,Language:oA,CustomCodes:iA,CustomCodesDashboard:cA,DashboardOriginalHost:lA,ConfigTLS:dA,CustomPublicDNSNameserversforDDNS:uA,WebRealIPHeader:mA,AgentRealIPHeader:hA,UseDirectConnectingIP:xA,IPChangeNotification:gA,FullIPNotification:pA,LoginFailed:fA,BruteForceAttackingToken:jA,BruteForceAttackingAgentSecret:NA,NewUser:vA,Count:SA,LastBlockReason:bA,LastBlockTime:yA,Theme:CA,Author:wA,Repository:$A,Community:TA,Official:DA,CommunityThemeWarning:kA,CommunityThemeDescription:PA,Cancel:RA,EnableDDNS:AA,PushSuccessful:EA,GrpcAuthFailed:_A,APITokenInvalid:IA,UserInvalid:LA,BlockByUser:FA,BlockIdentifier:OA,UserId:MA,ConnectedAt:UA,OnlineUser:BA,Total:GA,ConfirmBlock:zA,RejectPassword:HA,EmptyText:VA,EmptyNote:qA,OverrideDDNSDomains:WA,EditServerConfig:KA,Option:JA,Value:YA,Preview:ZA},XA={"zh-CN":{translation:KP},"zh-TW":{translation:QA},"en-US":{translation:fh},"ru-RU":{translation:eC},"es-ES":{translation:Sp},"de-DE":{translation:bl},"ta-IN":{translation:X$},"it-IT":{translation:Yv},"fr-FR":{translation:Kf},"id-ID":{translation:tj}},eE=()=>localStorage.getItem("language")||"en-US";O.use(ua).init({resources:XA,lng:eE(),fallbackLng:"en-US",interpolation:{escapeValue:!1}});O.on("languageChanged",s=>{localStorage.setItem("language",s)});function sE(s,r){if(!r)return s;const t=new URL(window.location.origin+s);for(const a in r)t.searchParams.append(a,r[a]);return t.toString()}var R=(s=>(s.GET="GET",s.POST="POST",s.PUT="PUT",s.PATCH="PATCH",s.DELETE="DELETE",s))(R||{});let tt=0;async function A(s,r,t){let a;if(s==="GET"||s==="DELETE"?a=await fetch(sE(r,t),{method:"GET"}):a=await fetch(r,{method:s,headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):null}),!a.ok)throw new Error(a.statusText);const c=await a.json();if(!c.success)throw new Error(c.error);return document.cookie&&(!tt||Date.now()-tt>1e3*60*60)&&(tt=Date.now(),fetch("/api/v1/refresh-token")),c.data}async function _e(s,r){return A(r?.method,s.toString(),r?.body)}const os=async()=>A(R.GET,"/api/v1/profile",null),tE=async(s,r)=>A(R.POST,"/api/v1/login",{username:s,password:r}),rE=async s=>A(R.POST,"/api/v1/user",s),Ft=async s=>A(R.POST,"/api/v1/batch-delete/user",s),nE=async s=>A(R.POST,"/api/v1/profile",s),aE=async(s,r)=>A(R.PATCH,`/api/v1/user/${s}`,r),ls=dt(ut((s,r)=>({profile:r()?.profile,setProfile:t=>s({profile:t})}),{name:"mainStore",storage:mt(()=>localStorage)})),Nn=u.createContext({profile:void 0,login:()=>{},loginOauth2:()=>{},logout:()=>{}}),oE=({children:s})=>{const r=ls(n=>n.profile),t=ls(n=>n.setProfile),{t:a}=M();u.useEffect(()=>{(async()=>{try{const n=await os();n.role=n.role||0,t(n)}catch{t(void 0)}})()},[]);const c=Vs(),l=async(n,o)=>{try{localStorage.removeItem("serverStore"),st(()=>!0,void 0,{revalidate:!1}),await tE(n,o);const i=await os();i.role=i.role||0,t(i),c("/dashboard")}catch(i){const h=i?.message;h==="ApiErrorUnauthorized"||h==="Unauthorized"?$(a("InvalidUsernameOrPassword")):$(h||a("NetworkError"))}},x=async()=>{try{localStorage.removeItem("serverStore"),st(()=>!0,void 0,{revalidate:!1});const n=await os();n.role=n.role||0,t(n),c("/dashboard")}catch(n){$(n.message)}finally{window.history.replaceState({},document.title,window.location.pathname)}},d=()=>{document.cookie.split(";").forEach(function(n){document.cookie=n.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),t(void 0),localStorage.removeItem("serverStore"),st(()=>!0,void 0,{revalidate:!1}),c("/dashboard/login",{replace:!0})},m=u.useMemo(()=>({profile:r,login:l,loginOauth2:x,logout:d}),[r]);return e.jsx(Nn.Provider,{value:m,children:s})},es=()=>u.useContext(Nn),iE=async s=>A(R.POST,"/api/v1/notification",s),cE=async(s,r)=>A(R.PATCH,`/api/v1/notification/${s}`,r),Ot=async s=>A(R.POST,"/api/v1/batch-delete/notification",s),lE=async()=>A(R.GET,"/api/v1/notification",null),dE=async s=>A(R.POST,"/api/v1/notification-group",s),uE=async(s,r)=>A(R.PATCH,`/api/v1/notification-group/${s}`,r),Mt=async s=>A(R.POST,"/api/v1/batch-delete/notification-group",s),mE=async()=>A(R.GET,"/api/v1/notification-group",null),Ds=dt(ut((s,r)=>({notifiers:r()?.notifiers,notifierGroup:r()?.notifierGroup,setNotifier:t=>s({notifiers:t}),setNotifierGroup:t=>s({notifierGroup:t})}),{name:"notificationStore",storage:mt(()=>localStorage)})),vn=u.createContext({}),xs=({children:s,withNotifier:r,withNotifierGroup:t})=>{const a=Ds(n=>n.notifierGroup),c=Ds(n=>n.setNotifierGroup),l=Ds(n=>n.notifiers),x=Ds(n=>n.setNotifier),d=bs();u.useEffect(()=>{t&&(async()=>{try{const n=await mE();c(n)}catch(n){$("NotificationProvider Error",{description:n.message}),c(void 0)}})(),r&&(async()=>{try{const o=(await lE()||[]).map(({id:i,name:h})=>({id:i,name:h}));x(o)}catch(n){$("NotificationProvider Error",{description:n.message}),x(void 0)}})()},[d.pathname]);const m=u.useMemo(()=>({notifiers:l,notifierGroup:a}),[l,a]);return e.jsx(vn.Provider,{value:m,children:s})},ys=()=>u.useContext(vn),hE=async(s,r)=>A(R.PATCH,`/api/v1/server/${s}`,r),Ut=async s=>A(R.POST,"/api/v1/batch-delete/server",s),xE=async s=>A(R.POST,"/api/v1/batch-move/server",s),gE=async s=>A(R.POST,"/api/v1/force-update/server",s),pE=async()=>A(R.GET,"/api/v1/server",null),fE=async s=>A(R.GET,`/api/v1/server/config/${s}`,null),Sn=async s=>A(R.POST,"/api/v1/server/config",s),jE=async s=>A(R.POST,"/api/v1/server-group",s),NE=async(s,r)=>A(R.PATCH,`/api/v1/server-group/${s}`,r),Bt=async s=>A(R.POST,"/api/v1/batch-delete/server-group",s),vE=async()=>A(R.GET,"/api/v1/server-group",null),ks=dt(ut((s,r)=>({server:r()?.server,serverGroup:r()?.serverGroup,setServer:t=>s({server:t}),setServerGroup:t=>s({serverGroup:t})}),{name:"serverStore",storage:mt(()=>localStorage)})),bn=u.createContext({}),ns=({children:s,withServer:r,withServerGroup:t})=>{const a=ks(n=>n.serverGroup),c=ks(n=>n.setServerGroup),l=ks(n=>n.server),x=ks(n=>n.setServer),d=bs();u.useEffect(()=>{t&&(async()=>{try{const n=await vE();c(n)}catch(n){$("ServerProvider Error",{description:n.message}),c(void 0)}})(),r&&(async()=>{try{const o=(await pE()||[]).map(({id:i,name:h})=>({id:i,name:h}));x(o)}catch(n){$("ServerProvider Error",{description:n.message}),x(void 0)}})()},[d.pathname]);const m=u.useMemo(()=>({servers:l,serverGroups:a}),[l,a]);return e.jsx(bn.Provider,{value:m,children:s})},us=()=>u.useContext(bn),SE={theme:"system",setTheme:()=>null},yn=u.createContext(SE);function bE({children:s,defaultTheme:r="system",storageKey:t="vite-ui-theme",...a}){const[c,l]=u.useState(()=>localStorage.getItem(t)||r);u.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),c==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(m);return}d.classList.add(c)},[c]);const x={theme:c,setTheme:d=>{localStorage.setItem(t,d),l(d)}};return e.jsx(yn.Provider,{...a,value:x,children:s})}const yE=()=>{const s=u.useContext(yn);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s},Cn={1:"HTTP GET",2:"ICMP Ping",3:"TCPing"},CE={0:O.t("Coverages.Excludes"),1:O.t("Coverages.Only")},wE={1:"GET",2:"POST",3:"PATCH",4:"DELETE",5:"PUT"},$E={1:"JSON",2:"Form"},wn={0:O.t("Scheduled"),1:O.t("Trigger")},TE={0:O.t("Coverages.Only"),1:O.t("Coverages.Excludes"),2:O.t("Coverages.Alarmed")},DE={1:"GET",2:"POST"},kE={1:"JSON",2:"Form"},$n={0:O.t("Always"),1:O.t("Once")};var Os=(s=>(s[s.List=0]="List",s[s.Download=1]="Download",s[s.Upload=2]="Upload",s))(Os||{});const Ps={file:new Uint8Array([78,90,84,68]),fileName:new Uint8Array([78,90,70,78]),error:new Uint8Array([78,69,82,82]),complete:new Uint8Array([78,90,85,80])};var As=(s=>(s[s.Error=0]="Error",s[s.Progress=1]="Progress",s[s.Result=2]="Result",s))(As||{});const PE={1:O.t("Coverages.Excludes"),2:O.t("Coverages.Only")},RE={"zh-CN":"简体中文（中国大陆）","zh-TW":"正體中文（台灣）","en-US":"English","ru-RU":"Русский","es-ES":"Español","de-DE":"Deutsch","ta-IN":"தமிழ்","it-IT":"Italiano","fr-FR":"Français","id-ID":"Bahasa Indonesia"},AE={1:O.t("LoginFailed"),2:O.t("BruteForceAttackingToken"),3:O.t("BruteForceAttackingAgentSecret"),4:O.t("BlockByUser"),5:O.t("WAFBlockReasonTypeBruteForceOauth2")},EE={"-127":O.t("GrpcAuthFailed"),"-126":O.t("APITokenInvalid"),"-125":O.t("UserInvalid"),"-124":O.t("BlockByUser")};function _E(s){return new Worker("/dashboard/assets/fm-DNeVr5Tr.js",{name:s?.name})}function g(...s){return qa(Wa(s))}const IE=fn("").transform(()=>{});function _(s){return s.optional().or(IE)}const Te={recordToStr:s=>{const r=[];for(const t in s)r.push(t);return r.join(",")},strToRecord:s=>s.split(",").reduce((t,a)=>(t[a]=!0,t),{}),arrToStr:s=>s.join(","),strToArr:s=>s.split(",").filter(Boolean)||[],recordToArr:s=>{const r=[];for(const t of Object.values(s))r.push(t);return r},recordToStrArr:s=>{const r=[];for(const t of Object.keys(s))r.push(t);return r},arrToRecord:s=>{const r={};for(const t of s)r[t]=!0;return r}},LE=s=>new Promise(r=>setTimeout(r,s)),rt={parseFMList:async s=>{const r=new DataView(s);let t=4;const a=r.getUint32(t);t+=4;const c=new Uint8Array(s,t,a),l=new TextDecoder("utf-8").decode(c);t+=a;const x=[];for(;t<r.byteLength;){const d=r.getUint8(t);t+=1;const m=r.getUint8(t);t+=1;const n=new Uint8Array(s,t,m),o=new TextDecoder("utf-8").decode(n);t+=m,x.push({type:d,name:o})}return{path:l,fmList:x}},buildUploadHeader:({path:s,file:r})=>{const t=`${s}/${r.name}`,a=new TextEncoder().encode(t),c=new ArrayBuffer(9+a.length),l=new DataView(c);return l.setUint8(0,Os.Upload),l.setBigUint64(1,BigInt(r.size),!1),new Uint8Array(c,9).set(a),c},readFileAsArrayBuffer:async s=>{const r=new FileReader;return new Promise((t,a)=>{r.onload=()=>t(r.result),r.onerror=()=>a(r.error),r.readAsArrayBuffer(s)})}},gs=new _E;function Tn(s){return s.replace(/\/{2,}/g,"/")}function FE(s){return s?s.ipv4_addr&&s.ipv6_addr?`${s.ipv4_addr}/${s.ipv6_addr}`:s.ipv4_addr?s.ipv4_addr:s.ipv6_addr:""}async function Ks(s){try{return await navigator.clipboard.writeText(s)}catch(r){console.error("navigator",r)}try{return ma(s)}catch(r){console.error("copy",r)}throw new Error("Failed to copy text to clipboard")}const Be=ds("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),T=u.forwardRef(({className:s,variant:r,size:t,asChild:a=!1,...c},l)=>{const x=a?xt:"button";return e.jsx(x,{className:g(Be({variant:r,size:t,className:s})),ref:l,...c})});T.displayName="Button";const Qe=Ja,Xe=Ya,Gt=Za,OE=u.forwardRef(({className:s,inset:r,children:t,...a},c)=>e.jsxs(Cr,{ref:c,className:g("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...a,children:[t,e.jsx(qs,{className:"ml-auto"})]}));OE.displayName=Cr.displayName;const ME=u.forwardRef(({className:s,...r},t)=>e.jsx(wr,{ref:t,className:g("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r}));ME.displayName=wr.displayName;const We=u.forwardRef(({className:s,sideOffset:r=4,...t},a)=>e.jsx(Ka,{children:e.jsx($r,{ref:a,sideOffset:r,className:g("z-50 min-w-[8rem] overflow-hidden rounded-lg border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t})}));We.displayName=$r.displayName;const Q=u.forwardRef(({className:s,inset:r,...t},a)=>e.jsx(Tr,{ref:a,className:g("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...t}));Q.displayName=Tr.displayName;const UE=u.forwardRef(({className:s,children:r,checked:t,...a},c)=>e.jsxs(Dr,{ref:c,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:t,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(kr,{children:e.jsx(Ue,{className:"h-4 w-4"})})}),r]}));UE.displayName=Dr.displayName;const BE=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(Pr,{ref:a,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(kr,{children:e.jsx(ha,{className:"h-2 w-2 fill-current"})})}),r]}));BE.displayName=Pr.displayName;const it=u.forwardRef(({className:s,inset:r,...t},a)=>e.jsx(Rr,{ref:a,className:g("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...t}));it.displayName=Rr.displayName;const ps=u.forwardRef(({className:s,...r},t)=>e.jsx(Ar,{ref:t,className:g("-mx-1 my-1 h-px bg-muted",s),...r}));ps.displayName=Ar.displayName;const Dn=({className:s,...r})=>e.jsx("span",{className:g("ml-auto text-xs tracking-widest opacity-60",s),...r});Dn.displayName="DropdownMenuShortcut";function zt(){const{t:s}=M(),{setTheme:r}=yE(),t=a=>{r(a)};return e.jsxs(Qe,{children:[e.jsx(Xe,{asChild:!0,children:e.jsxs(T,{variant:"ghost",className:"focus-visible:ring-0",size:"icon",children:[e.jsx(xa,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(ga,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(We,{align:"end",children:[e.jsx(Q,{onClick:()=>t("light"),children:s("theme.light")}),e.jsx(Q,{onClick:()=>t("dark"),children:s("theme.dark")}),e.jsx(Q,{onClick:()=>t("system"),children:s("theme.system")})]})]})}const pt=({shouldScaleBackground:s=!0,...r})=>e.jsx(Ke.Root,{shouldScaleBackground:s,...r});pt.displayName="Drawer";const kn=Ke.Trigger,GE=Ke.Portal,zE=Ke.Close,Pn=u.forwardRef(({className:s,...r},t)=>e.jsx(Ke.Overlay,{ref:t,className:g("fixed inset-0 z-50 bg-black/80",s),...r}));Pn.displayName=Ke.Overlay.displayName;const ft=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(GE,{children:[e.jsx(Pn,{}),e.jsxs(Ke.Content,{ref:a,className:g("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s),...t,children:[e.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),r]})]}));ft.displayName="DrawerContent";const jt=({className:s,...r})=>e.jsx("div",{className:g("grid gap-1.5 p-4 text-center sm:text-left",s),...r});jt.displayName="DrawerHeader";const Rn=({className:s,...r})=>e.jsx("div",{className:g("mt-auto flex flex-col gap-2 p-4",s),...r});Rn.displayName="DrawerFooter";const Nt=u.forwardRef(({className:s,...r},t)=>e.jsx(Ke.Title,{ref:t,className:g("text-lg font-semibold leading-none tracking-tight",s),...r}));Nt.displayName="DrawerTitle";const An=u.forwardRef(({className:s,...r},t)=>e.jsx(Ke.Description,{ref:t,className:g("text-sm text-muted-foreground",s),...r}));An.displayName="DrawerDescription";const En=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(Er,{ref:a,className:g("relative z-10 flex max-w-max flex-1 items-center justify-center",s),...t,children:[r,e.jsx(In,{})]}));En.displayName=Er.displayName;const HE=u.forwardRef(({className:s,...r},t)=>e.jsx(_r,{ref:t,className:g("group flex flex-1 list-none items-center justify-center space-x-1",s),...r}));HE.displayName=_r.displayName;const Je=Xa,Le=ds("group inline-flex h-10 w-max items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors hover:text-accent-foreground focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),VE=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(Ir,{ref:a,className:g(Le(),"group",s),...t,children:[r," ",e.jsx(ss,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));VE.displayName=Ir.displayName;const qE=u.forwardRef(({className:s,...r},t)=>e.jsx(Lr,{ref:t,className:g("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",s),...r}));qE.displayName=Lr.displayName;const _n=Qa,In=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{className:g("absolute left-0 top-full flex justify-center"),children:e.jsx(Fr,{className:g("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",s),ref:t,...r})}));In.displayName=Fr.displayName;const WE=u.forwardRef(({className:s,...r},t)=>e.jsx(Or,{ref:t,className:g("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",s),...r,children:e.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));WE.displayName=Or.displayName;function Js(s){const[r,t]=u.useState(!1);return u.useEffect(()=>{function a(l){t(l.matches)}const c=matchMedia(s);return c.addEventListener("change",a),t(c.matches),()=>c.removeEventListener("change",a)},[s]),r}const Ms=u.forwardRef(({className:s,...r},t)=>e.jsx(Mr,{ref:t,className:g("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r}));Ms.displayName=Mr.displayName;const Us=u.forwardRef(({className:s,...r},t)=>e.jsx(Ur,{ref:t,className:g("aspect-square h-full w-full",s),...r}));Us.displayName=Ur.displayName;const Bs=u.forwardRef(({className:s,...r},t)=>e.jsx(Br,{ref:t,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r}));Bs.displayName=Br.displayName;const F=u.forwardRef((s,r)=>e.jsx(T,{className:"rounded-lg shadow-[inset_0_1px_0_rgba(255,255,255,0.2)]",...s,ref:r,size:"icon",children:(()=>{switch(s.icon){case"clipboard":return e.jsx(Da,{});case"check":return e.jsx(Ue,{});case"edit":return e.jsx(Ta,{});case"trash":return e.jsx($a,{});case"plus":return e.jsx(wa,{});case"terminal":return e.jsx(Sr,{});case"update":return e.jsx(Ca,{});case"folder-closed":return e.jsx(ya,{});case"play":return e.jsx(ba,{});case"download":return e.jsx(vr,{});case"upload":return e.jsx(Sa,{});case"menu":return e.jsx(va,{});case"ban":return e.jsx(Na,{});case"expand":return e.jsx(ja,{});case"cog":return e.jsx(Nr,{});case"minus":return e.jsx(fa,{});case"user-pen":return e.jsx(pa,{});case"more":return e.jsx(ht,{})}})()})),Ye=s=>e.jsxs("div",{className:"relative",children:[e.jsx(_n,{...s,className:Le()+" hover:bg-inherit data-[active]:bg-inherit transition-colors text-foreground/60 data-[active]:text-foreground hover:text-foreground/90"}),s.active&&e.jsx(ka.div,{layoutId:"tab-underline",className:"absolute bottom-0 left-0 right-0 h-[2px] bg-black dark:bg-white"})]}),KE=[{href:"/dashboard",label:O.t("Server")},{href:"/dashboard/service",label:O.t("Service")},{href:"/dashboard/cron",label:O.t("Task")},{href:"/dashboard/notification",label:O.t("Notification")},{href:"/dashboard/ddns",label:O.t("DDNS")},{href:"/dashboard/nat",label:O.t("NATT")},{href:"/dashboard/autossh",label:O.t("AutoSSH")},{href:"/dashboard/server-group",label:O.t("Group")}];function JE(){const{t:s}=M(),{logout:r}=es(),t=ls(i=>i.profile),a=bs(),c=Js("(min-width: 890px)"),[l,x]=u.useState(!1),[d,m]=u.useState(!1),n=Vs(),o=window.DisableAnimatedMan;return c?e.jsx("header",{className:"flex pt-8 px-4 dark:bg-black/40 bg-muted border-b-[1px] overflow-visible",children:e.jsxs(En,{className:"flex flex-col items-start relative max-w-5xl mx-auto",children:[!o&&e.jsx("img",{className:g("absolute right-0 z-[9999] top-11 w-20 scale-100 pointer-events-none",{hidden:a.pathname==="/dashboard/login"}),alt:"animated-man",src:"/dashboard/animated-man.webp"}),e.jsx("section",{className:"w-full flex items-center  justify-between",children:e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx(_n,{asChild:!0,className:Le()+" !text-foreground hover:opacity-60 transition-opacity",children:e.jsxs(se,{to:t?"/dashboard":"#",children:[e.jsx("img",{className:"h-7 mr-1",src:"/dashboard/logo.svg"}),s("nezha")]})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("a",{href:"/",rel:"noopener noreferrer",className:"flex items-center text-nowrap gap-1 text-sm font-medium opacity-50 transition-opacity hover:opacity-100",children:s("BackToHome")}),e.jsx(zt,{}),t&&e.jsx(e.Fragment,{children:e.jsxs(Qe,{open:d,onOpenChange:m,children:[e.jsx(Xe,{asChild:!0,children:e.jsxs(Ms,{className:"ml-1 h-8 w-8 cursor-pointer border-foreground border-[1px]",children:[e.jsx(Us,{src:"https://api.dicebear.com/7.x/notionists/svg?seed="+t.username,alt:t.username}),e.jsx(Bs,{children:t.username})]})}),e.jsxs(We,{className:"w-32",children:[e.jsx(it,{className:"break-all",children:t.username}),e.jsx(ps,{}),e.jsxs(Gt,{children:[e.jsx(Q,{onClick:()=>{m(!1),n("/dashboard/profile")},className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(At,{}),s("Profile")]})}),e.jsx(Q,{onClick:()=>{m(!1),n("/dashboard/settings")},className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(Et,{}),s("Settings")]})})]}),e.jsx(ps,{}),e.jsxs(Q,{onClick:r,className:"cursor-pointer",children:[e.jsx(_t,{}),s("Logout")]})]})]})})]})]})}),e.jsx("div",{className:"flex mt-4 ml-4",children:e.jsx(ZE,{})}),e.jsx("div",{className:"flex mt-4 list-none",children:t&&e.jsxs(e.Fragment,{children:[e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard",className:Le(),children:e.jsx(se,{to:"/dashboard",children:s("Server")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/service",className:Le(),children:e.jsx(se,{to:"/dashboard/service",children:s("Service")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/cron",className:Le(),children:e.jsx(se,{to:"/dashboard/cron",children:s("Task")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/notification"||a.pathname==="/dashboard/alert-rule",className:Le(),children:e.jsx(se,{to:"/dashboard/notification",children:s("Notification")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/ddns",className:Le(),children:e.jsx(se,{to:"/dashboard/ddns",children:s("DDNS")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/nat",className:Le(),children:e.jsx(se,{to:"/dashboard/nat",children:s("NATT")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/autossh",className:Le(),children:e.jsx(se,{to:"/dashboard/autossh",children:s("AutoSSH")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/server-group"||a.pathname==="/dashboard/notification-group",className:Le(),children:e.jsx(se,{to:"/dashboard/server-group",children:s("Group")})})})]})})]})}):e.jsxs("header",{className:"flex dark:bg-black/40 bg-muted border-b-[1px] px-4 h-16",children:[e.jsx("div",{className:"flex max-w-max flex-1 items-center justify-center gap-2",children:t&&e.jsxs(pt,{open:l,onOpenChange:x,children:[e.jsx(kn,{"aria-label":"Toggle Menu",asChild:!0,children:e.jsx(F,{icon:"menu",variant:"ghost"})}),e.jsxs(ft,{children:[e.jsxs(jt,{className:"text-left",children:[e.jsx(Nt,{children:s("NavigateTo")}),e.jsx(An,{children:s("SelectAPageToNavigateTo")})]}),e.jsx("div",{className:"grid gap-1 px-4",children:KE.slice(0).map((i,h)=>e.jsx(se,{to:i.href?i.href:"#",className:"py-1 text-sm",onClick:()=>{x(!1)},children:i.label},h))}),e.jsx(Rn,{children:e.jsx(zE,{asChild:!0,children:e.jsx(T,{variant:"outline",children:s("Close")})})})]})]})}),e.jsxs(se,{className:"mx-2 my-2 inline-flex w-full items-center",to:t?"/dashboard":"#",children:[e.jsx("img",{className:"h-7 mr-1",src:"/dashboard/logo.svg"})," ",s("nezha")]}),e.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[e.jsx("a",{href:"/",rel:"noopener noreferrer",className:"flex items-center text-nowrap gap-1 text-sm font-medium opacity-50 transition-opacity hover:opacity-100",children:s("BackToHome")}),e.jsx(zt,{}),t&&e.jsx(e.Fragment,{children:e.jsxs(Qe,{open:d,onOpenChange:m,children:[e.jsx(Xe,{asChild:!0,children:e.jsxs(Ms,{className:"ml-1 h-8 w-8 cursor-pointer border-foreground border-[1px]",children:[e.jsx(Us,{src:"https://api.dicebear.com/7.x/notionists/svg?seed="+t.username,alt:t.username}),e.jsx(Bs,{children:t.username})]})}),e.jsxs(We,{className:"w-56",children:[e.jsx(it,{children:t.username}),e.jsx(ps,{}),e.jsxs(Gt,{children:[e.jsx(Q,{onClick:()=>{m(!1),n("/dashboard/profile")},className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(At,{}),s("Profile")]})}),e.jsx(Q,{onClick:()=>{m(!1),n("/dashboard/settings")},className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(Et,{}),s("Settings")]})})]}),e.jsx(ps,{}),e.jsxs(Q,{onClick:r,className:"cursor-pointer",children:[e.jsx(_t,{}),s("Logout"),e.jsx(Dn,{children:"⇧⌘Q"})]})]})]})})]})]})}const YE=(s,r)=>{const t=u.useRef(()=>{});u.useEffect(()=>{t.current=s}),u.useEffect(()=>{{const a=setInterval(()=>t.current(),r);return()=>clearInterval(a)}},[r])};function ZE(){const{t:s}=M(),r=ls(l=>l.profile),t=et.TIME_SIMPLE;t.hour12=!0;const[a,c]=u.useState(et.now().setLocale("en-US").toLocaleString(t));return YE(()=>{c(et.now().setLocale("en-US").toLocaleString(t))},1e3),e.jsxs("section",{className:"flex flex-col",children:[r&&e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsxs("div",{className:"flex gap-1.5 text-sm font-semibold",children:["👋 Hi, ",r?.username,r?.login_ip&&e.jsxs("p",{className:"font-medium opacity-45",children:["from ",r?.login_ip]})]})}),!r&&e.jsx("p",{className:"text-sm font-semibold",children:s("LoginFirst")}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("p",{className:"text-[13px] font-medium opacity-50",children:s("CurrentTime")}),e.jsx("p",{className:"opacity-100 text-[13px] font-medium",children:a})]})]})}const QE=({...s})=>{const{theme:r="system"}=Pa();return e.jsx(Ra,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})};function Cs(){return pe("/api/v1/setting",_e)}const XE=s=>{const r=document.createElement("div");r.innerHTML=s;const t="data-injected",a=()=>{document.querySelectorAll(`[${t}]`).forEach(n=>n.remove())},c=n=>new Promise((o,i)=>{const h=document.createElement("script");h.src=n.src,h.async=!1,h.setAttribute(t,"true"),h.onload=()=>o(),h.onerror=()=>i(new Error(`Failed to load script: ${n.src}`)),document.head.appendChild(h)}),l=n=>{const o=document.createElement("script");o.textContent=n.textContent,o.setAttribute(t,"true"),document.body.appendChild(o)},x=n=>new Promise((o,i)=>{if(n.href){const h=document.createElement("link");h.rel="stylesheet",h.href=n.href,h.setAttribute(t,"true"),h.onload=()=>o(),h.onerror=()=>i(new Error(`Failed to load stylesheet: ${h.href}`)),document.head.appendChild(h)}else{const h=document.createElement("style");h.textContent=n.textContent,h.setAttribute(t,"true"),document.head.appendChild(h),o()}}),d={SCRIPT:n=>{const o=n;return o.src?c(o):Promise.resolve()},STYLE:n=>x(n),META:n=>{const o=n.cloneNode(!0);return o.setAttribute(t,"true"),document.head.appendChild(o),Promise.resolve()},DEFAULT:n=>(n.setAttribute(t,"true"),document.body.appendChild(n),Promise.resolve())};a();const m=[];return Array.from(r.childNodes).forEach(n=>{if(n.nodeType===Node.ELEMENT_NODE){const o=n;if(o.tagName==="SCRIPT"&&!o.src)l(o);else{const i=d[o.tagName]||d.DEFAULT;m.push(i(o))}}else n.nodeType===Node.TEXT_NODE&&document.body.appendChild(document.createTextNode(n.textContent||""))}),Promise.all(m).then(()=>{console.log("All resources have been injected successfully.")}).catch(n=>{console.error("Error during resource injection:",n)})};function e_(){const{t:s}=M(),{data:r,error:t}=Cs();if(u.useEffect(()=>{document.title=r?.config?.site_name||"哪吒监控 Nezha Monitoring"},[r?.config?.site_name]),u.useEffect(()=>{r?.config?.custom_code_dashboard&&XE(r?.config?.custom_code_dashboard)},[r?.config?.custom_code_dashboard]),t)throw t;return r?(r?.config?.language&&!localStorage.getItem("language")&&O.changeLanguage(r?.config?.language),e.jsxs(bE,{defaultTheme:"system",storageKey:"vite-ui-theme",children:[e.jsxs("section",{className:"text-sm mx-auto h-full flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx(JE,{}),e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsx(na,{})})]}),e.jsxs("footer",{className:"mx-5 py-5 text-foreground/50 font-light text-xs text-center",children:["© 2019-",new Date().getFullYear()," ",s("nezha")," ",r?.version]})]}),e.jsx(QE,{})]})):null}const is=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{ref:t,className:g("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r}));is.displayName="Card";const Es=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{ref:t,className:g("flex flex-col space-y-1.5 p-6",s),...r}));Es.displayName="CardHeader";const _s=u.forwardRef(({className:s,...r},t)=>e.jsx("h3",{ref:t,className:g("text-2xl font-semibold leading-none tracking-tight",s),...r}));_s.displayName="CardTitle";const s_=u.forwardRef(({className:s,...r},t)=>e.jsx("p",{ref:t,className:g("text-sm text-muted-foreground",s),...r}));s_.displayName="CardDescription";const cs=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{ref:t,className:g("p-6 pt-0",s),...r}));cs.displayName="CardContent";const Ln=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{ref:t,className:g("flex items-center p-6 pt-0",s),...r}));Ln.displayName="CardFooter";function Ht(){const s=aa(),r=Vs();return console.error(s),e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background p-4",children:e.jsxs(is,{className:"w-full max-w-md shadow-2xl rounded-2xl",children:[e.jsxs(cs,{className:"pt-6 text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(Aa,{className:"h-12 w-12 text-destructive"})}),e.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Oops!"}),e.jsx("p",{className:"text-lg text-muted-foreground/80",children:"Sorry, an unexpected error has occurred."}),e.jsx("div",{className:"p-4 bg-muted/70 rounded-lg",children:e.jsx("p",{className:"text-sm text-destructive font-semibold italic",children:s.statusText||s.message})})]}),e.jsx(Ln,{className:"flex justify-center pb-6",children:e.jsx(T,{variant:"default",size:"lg",onClick:()=>r("/dashboard"),children:"Back to Dashboard"})})]})})}const t_=({children:s})=>{const{profile:r}=es();return!r&&window.location.pathname!=="/dashboard/login"?e.jsxs(e.Fragment,{children:[e.jsx(oa,{to:"/dashboard/login"}),s]}):s},r_=async s=>A(R.POST,"/api/v1/cron",s),n_=async(s,r)=>A(R.PATCH,`/api/v1/cron/${s}`,r),Vt=async s=>A(R.POST,"/api/v1/batch-delete/cron",s),a_=async s=>A(R.GET,`/api/v1/cron/${s}/manual`,null),Ze=to,ws=ro,o_=eo,Fn=u.forwardRef(({className:s,...r},t)=>e.jsx(Gr,{className:g("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t}));Fn.displayName=Gr.displayName;const ze=u.forwardRef(({className:s,...r},t)=>e.jsxs(o_,{children:[e.jsx(Fn,{}),e.jsx(zr,{ref:t,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]}));ze.displayName=zr.displayName;const He=({className:s,...r})=>e.jsx("div",{className:g("flex flex-col space-y-2 text-center sm:text-left",s),...r});He.displayName="AlertDialogHeader";const ts=({className:s,...r})=>e.jsx("div",{className:g("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...r});ts.displayName="AlertDialogFooter";const Ve=u.forwardRef(({className:s,...r},t)=>e.jsx(so,{ref:t,className:g("text-lg font-semibold",s),...r}));Ve.displayName="AlertDialogTitle";const qe=u.forwardRef(({className:s,...r},t)=>e.jsx(Hr,{ref:t,className:g("text-sm text-muted-foreground",s),...r}));qe.displayName=Hr.displayName;const rs=u.forwardRef(({className:s,...r},t)=>e.jsx(Vr,{ref:t,className:g(Be(),s),...r}));rs.displayName=Vr.displayName;const ms=u.forwardRef(({className:s,...r},t)=>e.jsx(qr,{ref:t,className:g(Be({variant:"outline"}),"mt-2 sm:mt-0",s),...r}));ms.displayName=qr.displayName;function Fe({className:s,children:r,delete:{fn:t,id:a,mutate:c}}){const{t:l}=M(),x=async()=>{try{await t([a])}catch(d){$(l("Error"),{description:d.message})}await c()};return e.jsxs("div",{className:s,children:[r,e.jsxs(Ze,{children:[e.jsx(ws,{asChild:!0,children:e.jsx(F,{variant:"destructive",icon:"trash",className:"text-white"})}),e.jsxs(ze,{className:"sm:max-w-lg",children:[e.jsxs(He,{children:[e.jsx(Ve,{children:l("ConfirmDeletion")}),e.jsx(qe,{children:l("Results.ThisOperationIsUnrecoverable")})]}),e.jsxs(ts,{children:[e.jsx(ms,{children:l("Close")}),e.jsx(rs,{className:Be({variant:"destructive",className:"text-white"}),onClick:x,children:l("Confirm")})]})]})]})]})}function i_({className:s,children:r,block:{fn:t,id:a,mutate:c}}){const{t:l}=M(),x=async()=>{try{await t([a])}catch(d){$(l("Error"),{description:d.message})}await c()};return e.jsxs("div",{className:s,children:[r,e.jsxs(Ze,{children:[e.jsx(ws,{asChild:!0,children:e.jsx(F,{variant:"destructive",icon:"ban",className:"text-white"})}),e.jsxs(ze,{className:"sm:max-w-lg",children:[e.jsxs(He,{children:[e.jsx(Ve,{children:l("ConfirmBlock")}),e.jsx(qe,{children:l("Results.ThisOperationIsUnrecoverable")})]}),e.jsxs(ts,{children:[e.jsx(ms,{children:l("Close")}),e.jsx(rs,{className:Be({variant:"destructive",className:"text-white"}),onClick:x,children:l("Confirm")})]})]})]})]})}const Ys=u.forwardRef((s,r)=>{const{t}=M(),[a,c]=u.useState(!1),l=async x=>{if(!x){$("Warning",{description:t("EmptyText")});return}a||(c(!0),await Ks(x),setTimeout(()=>{c(!1)},2*1e3))};return e.jsx(F,{...s,ref:r,variant:"outline",size:"icon",icon:a?"check":"clipboard",onClick:()=>l(s.text)})}),B=u.forwardRef(({className:s,...r},t)=>e.jsx(Wr,{ref:t,className:g("flex peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:e.jsx(no,{className:g("flex items-center justify-center text-current"),children:e.jsx(Ue,{className:"h-4 w-4"})})}));B.displayName=Wr.displayName;const me=Qr,xe=Xr,c_=Jr,ge=gt,On=u.forwardRef(({className:s,...r},t)=>e.jsx(Kr,{ref:t,className:g("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r}));On.displayName=Kr.displayName;const le=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(c_,{children:[e.jsx(On,{}),e.jsxs(Ws,{ref:a,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t,children:[r,e.jsxs(gt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(fs,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));le.displayName=Ws.displayName;const oe=({className:s,...r})=>e.jsx("div",{className:g("flex flex-col space-y-1.5 text-center sm:text-left",s),...r});oe.displayName="DialogHeader";const he=({className:s,...r})=>e.jsx("div",{className:g("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...r});he.displayName="DialogFooter";const ie=u.forwardRef(({className:s,...r},t)=>e.jsx(Yr,{ref:t,className:g("text-lg font-semibold leading-none tracking-tight",s),...r}));ie.displayName="DialogTitle";const ce=u.forwardRef(({className:s,...r},t)=>e.jsx(Zr,{ref:t,className:g("text-sm text-muted-foreground",s),...r}));ce.displayName="DialogDescription";const l_=ds("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),U=u.forwardRef(({className:s,...r},t)=>e.jsx(en,{ref:t,className:g(l_(),s),...r}));U.displayName=en.displayName;const Se=bo,Mn=u.createContext({}),v=({...s})=>e.jsx(Mn.Provider,{value:{name:s.name},children:e.jsx(yo,{...s})}),Zs=()=>{const s=u.useContext(Mn),r=u.useContext(Un),{getFieldState:t,formState:a}=So(),c=t(s.name,a);if(!s)throw new Error("useFormField should be used within <FormField>");const{id:l}=r;return{id:l,name:s.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...c}},Un=u.createContext({}),N=u.forwardRef(({className:s,...r},t)=>{const a=u.useId();return e.jsx(Un.Provider,{value:{id:a},children:e.jsx("div",{ref:t,className:g("space-y-2",s),...r})})});N.displayName="FormItem";const y=u.forwardRef(({className:s,...r},t)=>{const{error:a,formItemId:c}=Zs();return e.jsx(U,{ref:t,className:g(a&&"text-destructive",s),htmlFor:c,...r})});y.displayName="FormLabel";const j=u.forwardRef(({...s},r)=>{const{error:t,formItemId:a,formDescriptionId:c,formMessageId:l}=Zs();return e.jsx(xt,{ref:r,id:a,"aria-describedby":t?`${c} ${l}`:`${c}`,"aria-invalid":!!t,...s})});j.displayName="FormControl";const Is=u.forwardRef(({className:s,...r},t)=>{const{formDescriptionId:a}=Zs();return e.jsx("p",{ref:t,id:a,className:g("text-sm text-muted-foreground",s),...r})});Is.displayName="FormDescription";const S=u.forwardRef(({className:s,children:r,...t},a)=>{const{error:c,formMessageId:l}=Zs(),x=c?String(c?.message):r;return x?e.jsx("p",{ref:a,id:l,className:g("text-sm font-medium text-destructive",s),...t,children:x}):null});S.displayName="FormMessage";const k=u.forwardRef(({className:s,type:r,...t},a)=>e.jsx("input",{type:r,className:g("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...t}));k.displayName="Input";const de=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(sn,{ref:a,className:g("relative overflow-hidden",s),...t,children:[e.jsx(ao,{className:"h-full w-full rounded-[inherit]",children:r}),e.jsx(Bn,{}),e.jsx(oo,{})]}));de.displayName=sn.displayName;const Bn=u.forwardRef(({className:s,orientation:r="vertical",...t},a)=>e.jsx(tn,{ref:a,orientation:r,className:g("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...t,children:e.jsx(io,{className:"relative flex-1 rounded-full bg-border"})}));Bn.displayName=tn.displayName;const te=xo,re=go,X=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(rn,{ref:a,className:g("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[r,e.jsx(co,{asChild:!0,children:e.jsx(ss,{className:"h-4 w-4 opacity-50"})})]}));X.displayName=rn.displayName;const Gn=u.forwardRef(({className:s,...r},t)=>e.jsx(nn,{ref:t,className:g("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(Ea,{className:"h-4 w-4"})}));Gn.displayName=nn.displayName;const zn=u.forwardRef(({className:s,...r},t)=>e.jsx(an,{ref:t,className:g("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(ss,{className:"h-4 w-4"})}));zn.displayName=an.displayName;const ee=u.forwardRef(({className:s,children:r,position:t="popper",...a},c)=>e.jsx(lo,{children:e.jsxs(on,{ref:c,className:g("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...a,children:[e.jsx(Gn,{}),e.jsx(uo,{className:g("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(zn,{})]})}));ee.displayName=on.displayName;const d_=u.forwardRef(({className:s,...r},t)=>e.jsx(cn,{ref:t,className:g("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r}));d_.displayName=cn.displayName;const E=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(ln,{ref:a,className:g("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(mo,{children:e.jsx(Ue,{className:"h-4 w-4"})})}),e.jsx(ho,{children:r})]}));E.displayName=ln.displayName;const u_=u.forwardRef(({className:s,...r},t)=>e.jsx(dn,{ref:t,className:g("-mx-1 my-1 h-px bg-muted",s),...r}));u_.displayName=dn.displayName;const vt=u.forwardRef(({className:s,...r},t)=>e.jsx(ke,{ref:t,className:g("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...r}));vt.displayName=ke.displayName;const St=u.forwardRef(({className:s,...r},t)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(_a,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(ke.Input,{ref:t,className:g("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...r})]}));St.displayName=ke.Input.displayName;const bt=u.forwardRef(({className:s,...r},t)=>e.jsx(ke.List,{ref:t,className:g("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...r}));bt.displayName=ke.List.displayName;const yt=u.forwardRef((s,r)=>e.jsx(ke.Empty,{ref:r,className:"py-6 text-center text-sm",...s}));yt.displayName=ke.Empty.displayName;const Gs=u.forwardRef(({className:s,...r},t)=>e.jsx(ke.Group,{ref:t,className:g("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...r}));Gs.displayName=ke.Group.displayName;const Hn=u.forwardRef(({className:s,...r},t)=>e.jsx(ke.Separator,{ref:t,className:g("-mx-1 h-px bg-border",s),...r}));Hn.displayName=ke.Separator.displayName;const as=u.forwardRef(({className:s,...r},t)=>e.jsx(ke.Item,{ref:t,className:g("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s),...r}));as.displayName=ke.Item.displayName;const zs=fo,Hs=jo,vs=u.forwardRef(({className:s,align:r="center",sideOffset:t=4,...a},c)=>e.jsx(po,{children:e.jsx(un,{ref:c,align:r,sideOffset:t,className:g("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a})}));vs.displayName=un.displayName;const Ct=u.forwardRef(({options:s,placeholder:r,defaultValue:t,className:a,onValueChange:c,...l},x)=>{const[d,m]=u.useState(!1),[n,o]=u.useState(t);return e.jsxs(zs,{open:d,onOpenChange:m,children:[e.jsx(Hs,{asChild:!0,children:e.jsxs(T,{ref:x,...l,role:"combobox",variant:"outline","aria-expanded":d,className:g("flex w-full justify-between hover:bg-inherit",a),children:[n?(()=>{const i=s.find(h=>h.value===n)?.label;return i?e.jsx("div",{children:i}):e.jsx("div",{className:"text-muted-foreground",children:r})})():e.jsx("div",{className:"text-muted-foreground",children:r}),e.jsx(ss,{className:"ml-auto opacity-50"})]})}),e.jsx(vs,{className:"w-auto p-0",align:"start",children:e.jsxs(vt,{filter:(i,h,b=[])=>(i+" "+b.join(" ")).toLowerCase().includes(h.toLowerCase())?1:0,children:[e.jsx(St,{placeholder:r,className:"h-9"}),e.jsxs(bt,{children:[e.jsx(yt,{children:"No result found."}),e.jsx(Gs,{children:s.map(i=>e.jsxs(as,{value:i.value,keywords:[i.label],onSelect:h=>{o(h===n?"":h),c(h===n?"":h),m(!1)},children:[e.jsx(Ue,{className:g("justify-start",n===i.value?"opacity-100":"opacity-0")}),e.jsx("span",{children:i.label})]},i.value))})]})]})})]})}),ae=u.forwardRef(({className:s,...r},t)=>e.jsx("textarea",{className:g("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...r}));ae.displayName="Textarea";const m_=ds("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Re({className:s,variant:r,...t}){return e.jsx("div",{className:g(m_({variant:r}),s),...t})}const Ss=u.forwardRef(({className:s,orientation:r="horizontal",decorative:t=!0,...a},c)=>e.jsx(mn,{ref:c,decorative:t,orientation:r,className:g("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...a}));Ss.displayName=mn.displayName;const qt=ds("m-1 transition ease-in-out delay-150 hover:-translate-y-1 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),hs=u.forwardRef(({options:s,onValueChange:r,variant:t,defaultValue:a=[],placeholder:c="Select options",animation:l=0,maxCount:x=3,modalPopover:d=!1,asChild:m=!1,className:n,...o},i)=>{const[h,b]=u.useState(a),[C,K]=u.useState(!1),[G,f]=u.useState(!1),p=D=>{if(D.key==="Enter")K(!0);else if(D.key==="Backspace"&&!D.currentTarget.value){const H=[...h];H.pop(),b(H),r(H)}},q=D=>{const H=h.includes(D)?h.filter(Y=>Y!==D):[...h,D];b(H),r(H)},fe=()=>{b([]),r([])},z=()=>{K(D=>!D)},Pe=()=>{const D=h.slice(0,x);b(D),r(D)},we=()=>{if(h.length===s.length)fe();else{const D=s.map(H=>H.value);b(D),r(D)}},$e=D=>{D.stopPropagation()},L=D=>{D.stopPropagation()};return e.jsxs(zs,{open:C,onOpenChange:K,modal:d,children:[e.jsx(Hs,{asChild:!0,children:e.jsx(T,{ref:i,...o,onClick:z,className:g("flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit [&_svg]:pointer-events-auto",n),children:h.length>0?e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("div",{className:"flex flex-wrap items-center",children:[h.slice(0,x).map(D=>{const H=s.find(ue=>ue.value===D),Y=H?.icon;return e.jsxs(Re,{className:g(G?"animate-bounce":"",qt({variant:t})),style:{animationDuration:`${l}s`},children:[Y&&e.jsx(Y,{className:"h-4 w-4 mr-2"}),H?.label,e.jsx(fs,{className:"ml-2 h-2 w-2 cursor-pointer",onClick:ue=>{ue.stopPropagation(),q(D)}})]},D)}),h.length>x&&e.jsxs(Re,{className:g("bg-transparent text-foreground border-foreground/1 hover:bg-transparent",G?"animate-bounce":"",qt({variant:t})),style:{animationDuration:`${l}s`},children:[`+ ${h.length-x} more`,e.jsx(fs,{className:"ml-2 h-2 w-2 cursor-pointer",onClick:D=>{D.stopPropagation(),Pe()}})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(fs,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:D=>{D.stopPropagation(),fe()}}),e.jsx(Ss,{orientation:"vertical",className:"flex min-h-6 h-full"}),e.jsx(ss,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})]}):e.jsxs("div",{className:"flex items-center justify-between w-full mx-auto",children:[e.jsx("span",{className:"text-sm text-muted-foreground mx-3",children:c}),e.jsx(ss,{className:"h-4 cursor-pointer text-muted-foreground mx-2"})]})})}),e.jsx(vs,{className:"w-auto p-0",align:"start",onEscapeKeyDown:()=>K(!1),onWheel:$e,onTouchMove:L,children:e.jsxs(vt,{children:[e.jsx(St,{placeholder:"Search...",onKeyDown:p}),e.jsxs(bt,{children:[e.jsx(yt,{children:"No results found."}),e.jsxs(Gs,{children:[e.jsxs(as,{onSelect:we,className:"cursor-pointer",children:[e.jsx("div",{className:g("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",h.length===s.length?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx("span",{children:"(Select All)"})]},"all"),s.map(D=>{const H=h.includes(D.value);return e.jsxs(as,{onSelect:()=>q(D.value),className:"cursor-pointer",children:[e.jsx("div",{className:g("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",H?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(Ue,{className:"h-4 w-4"})}),D.icon&&e.jsx(D.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:D.label})]},D.value)})]}),e.jsx(Hn,{}),e.jsx(Gs,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[h.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(as,{onSelect:fe,className:"flex-1 justify-center cursor-pointer",children:"Clear"}),e.jsx(Ss,{orientation:"vertical",className:"flex min-h-6 h-full"})]}),e.jsx(as,{onSelect:()=>K(!1),className:"flex-1 justify-center cursor-pointer max-w-full",children:"Close"})]})})]})]})}),l>0&&h.length>0&&e.jsx(Ia,{className:g("cursor-pointer my-2 text-foreground bg-background w-3 h-3",G?"":"text-muted-foreground"),onClick:()=>f(!G)})]})});hs.displayName="MultiSelect";const h_=ne({task_type:Z(),name:w().min(1),scheduler:w(),command:_(w()),servers:De(je()),cover:Z().int(),push_successful:_(V()),notification_group_id:Z().int()}),Wt=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(h_),defaultValues:s?{task_type:s.task_type??0,name:s.name??"",scheduler:s.scheduler??"",command:s.command??"",servers:s.servers??[],cover:s.cover??0,push_successful:s.push_successful??!1,notification_group_id:s.notification_group_id??0}:{task_type:0,name:"",scheduler:"",command:"",servers:[],cover:0,push_successful:!1,notification_group_id:0},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async i=>{try{s?.id?await n_(s.id,i):await r_(i)}catch(h){console.error(h),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()},{servers:d}=us(),m=d?.map(i=>({value:`${i.id}`,label:i.name}))||[{value:"",label:""}],{notifierGroup:n}=ys(),o=n?.map(i=>({value:`${i.group.id}`,label:i.group.name}))||[{value:"",label:""}];return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditTask":"CreateTask")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"My Task",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"task_type",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Type")}),e.jsxs(te,{onValueChange:i.onChange,defaultValue:`${i.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Select task type"})})}),e.jsx(ee,{children:Object.entries(wn).map(([h,b])=>e.jsx(E,{value:h,children:b},h))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"scheduler",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("CronExpression")}),e.jsx(j,{children:e.jsx(k,{placeholder:"0 0 3 * * * (At 3 AM)",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"command",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Command")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"cover",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Coverage")}),e.jsxs(te,{onValueChange:i.onChange,defaultValue:`${i.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{})})}),e.jsx(ee,{children:Object.entries(TE).map(([h,b])=>e.jsx(E,{value:h,children:b},h))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"servers",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("SpecificServers")}),e.jsx(j,{children:e.jsx(hs,{options:m,onValueChange:h=>{const b=h.map(Number);i.onChange(b)},defaultValue:i.value?.map(String)})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"notification_group_id",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("NotifierGroup")}),e.jsx(j,{children:e.jsx(Ct,{placeholder:"Search...",options:o,onValueChange:i.onChange,defaultValue:i.value.toString()})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"push_successful",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(U,{className:"text-sm",children:t("PushSuccessful")})]})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function Oe({className:s,children:r,delete:{fn:t,id:a,mutate:c}}){const{t:l}=M(),x=async()=>{try{await t(a)}catch(d){$(l("Error"),{description:d.message})}await c()};return e.jsx("div",{className:s,children:a.length<1?e.jsxs(e.Fragment,{children:[e.jsx(F,{variant:"destructive",icon:"trash",className:"text-white",onClick:()=>{$(l("Error"),{description:l("Results.NoRowsAreSelected")})}}),r]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ze,{children:[e.jsx(ws,{asChild:!0,children:e.jsx(F,{variant:"destructive",icon:"trash",className:"text-white"})}),e.jsxs(ze,{className:"sm:max-w-lg",children:[e.jsxs(He,{children:[e.jsx(Ve,{children:l("ConfirmDeletion")}),e.jsx(qe,{children:l("Results.ThisOperationIsUnrecoverable")})]}),e.jsxs(ts,{children:[e.jsx(ms,{children:l("Close")}),e.jsx(rs,{className:Be({variant:"destructive",className:"text-white"}),onClick:x,children:l("Confirm")})]})]})]}),r]})})}function x_({className:s,children:r,block:{fn:t,id:a,mutate:c}}){const{t:l}=M(),x=async()=>{try{await t(a)}catch(d){$(l("Error"),{description:d.message})}await c()};return e.jsx("div",{className:s,children:a.length<1?e.jsxs(e.Fragment,{children:[e.jsx(F,{variant:"destructive",icon:"ban",className:"text-white",onClick:()=>{$(l("Error"),{description:l("Results.NoRowsAreSelected")})}}),r]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ze,{children:[e.jsx(ws,{asChild:!0,children:e.jsx(F,{variant:"destructive",icon:"ban",className:"text-white"})}),e.jsxs(ze,{className:"sm:max-w-lg",children:[e.jsxs(He,{children:[e.jsx(Ve,{children:l("ConfirmBlock")}),e.jsx(qe,{children:l("Results.ThisOperationIsUnrecoverable")})]}),e.jsxs(ts,{children:[e.jsx(ms,{children:l("Close")}),e.jsx(rs,{className:Be({variant:"destructive",className:"text-white"}),onClick:x,children:l("Confirm")})]})]})]}),r]})})}const be=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:t,className:g("w-full caption-bottom text-sm",s),...r})}));be.displayName="Table";const ye=u.forwardRef(({className:s,...r},t)=>e.jsx("thead",{ref:t,className:g("[&_tr]:border-b",s),...r}));ye.displayName="TableHeader";const Ce=u.forwardRef(({className:s,...r},t)=>e.jsx("tbody",{ref:t,className:g("[&_tr:last-child]:border-0",s),...r}));Ce.displayName="TableBody";const g_=u.forwardRef(({className:s,...r},t)=>e.jsx("tfoot",{ref:t,className:g("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r}));g_.displayName="TableFooter";const P=u.forwardRef(({className:s,...r},t)=>e.jsx("tr",{ref:t,className:g("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r}));P.displayName="TableRow";const J=u.forwardRef(({className:s,...r},t)=>e.jsx("th",{ref:t,className:g("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r}));J.displayName="TableHead";const I=u.forwardRef(({className:s,...r},t)=>e.jsx("td",{ref:t,className:g("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r}));I.displayName="TableCell";const p_=u.forwardRef(({className:s,...r},t)=>e.jsx("caption",{ref:t,className:g("mt-4 text-sm text-muted-foreground",s),...r}));p_.displayName="TableCaption";function f_(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/cron",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.id},{header:s("Name"),accessorKey:"name",cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.name})}},{header:s("Type"),accessorKey:"taskType",accessorFn:n=>wn[n.task_type]||""},{header:s("CronExpression"),accessorKey:"scheduler",accessorFn:n=>n.scheduler},{header:s("Command"),accessorKey:"command",cell:({row:n})=>{const o=n.original;return e.jsx(Ys,{text:o.command})}},{header:s("NotifierGroup"),accessorKey:"ngroup",accessorFn:n=>n.notification_group_id},{header:s("SendSuccessNotification"),accessorKey:"pushSuccessful",accessorFn:n=>n.push_successful??!1},{header:s("Coverage"),accessorKey:"cover",accessorFn:n=>n.cover,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:(()=>{switch(o.cover){case 0:return e.jsx("span",{children:s("IgnoreAll")});case 1:return e.jsx("span",{children:s("CoverAll")});case 2:return e.jsx("span",{children:s("OnAlert")})}})()})}},{header:s("SpecificServers"),accessorKey:"servers",accessorFn:n=>n.servers,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-16 whitespace-normal break-words",children:e.jsx("span",{children:(o.servers||[]).join(",")})})}},{header:s("LastExecution"),accessorKey:"lastExecution",accessorFn:n=>n.last_executed_at,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:o.last_executed_at})}},{header:s("Result"),accessorKey:"lastResult",accessorFn:n=>n.last_result??!1},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:Vt,id:o.id,mutate:t},children:e.jsxs(e.Fragment,{children:[e.jsx(F,{variant:"outline",icon:"play",onClick:async()=>{try{await a_(o.id)}catch(i){console.error(i),$(s("Error"),{description:s("Results.UnExpectedError")}),await t();return}$(s("Success"),{description:s("Results.TaskTriggeredSuccessfully")}),await t()}}),e.jsx(Wt,{mutate:t,data:o})]})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full gap-3 mt-6 mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("Task")}),e.jsx(Oe,{className:"flex gap-2 flex-wrap shrink-0",delete:{fn:Vt,id:m.map(n=>n.original.id),mutate:t},children:e.jsx(Wt,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}var wt=(s=>(s[s.LOGIN=1]="LOGIN",s[s.BIND=2]="BIND",s))(wt||{});const Vn=async(s,r)=>A(R.GET,`/api/v1/oauth2/${s}`,{type:r}),j_=async s=>A(R.POST,`/api/v1/oauth2/${s}/unbind`);function N_(s){return e.jsx("svg",{viewBox:"0 0 496 512",fill:"currentColor",...s,children:e.jsx("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})})}const v_=ne({username:w().min(2,{message:O.t("Results.UsernameMin",{number:2})}),password:w().min(1,{message:O.t("Results.PasswordRequired")})});function S_(){const{login:s,loginOauth2:r}=es(),{data:t}=Cs();u.useEffect(()=>{new URLSearchParams(window.location.search).get("oauth2")&&r()},[window.location.search]);const a=Ne({resolver:ve(v_),defaultValues:{username:"",password:""}});function c(d){s(d.username,d.password)}async function l(d){try{const m=await Vn(d,wt.LOGIN);window.location.href=m.redirect}catch(m){$.error(m.message)}}const{t:x}=M();return e.jsxs("div",{className:"mt-28 sm:max-w-sm m-auto max-w-xs",children:[e.jsxs(Se,{...a,children:[e.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-8",children:[e.jsx(v,{control:a.control,name:"username",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:x("Username")}),e.jsx(j,{children:e.jsx(k,{placeholder:"admin",autoComplete:"username",...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"password",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:x("Password")}),e.jsx(j,{children:e.jsx(k,{type:"password",placeholder:"admin",autoComplete:"current-password",...d})}),e.jsx(S,{})]})}),e.jsx(T,{type:"submit",className:"w-full rounded-lg shadow-[inset_0_1px_0_rgba(255,255,255,0.2)]",children:x("Login")})]}),t?.config?.oauth2_providers&&t?.config?.oauth2_providers.length>0&&e.jsxs("section",{className:"flex items-center my-3 w-full",children:[e.jsx(Ss,{className:"flex-1"}),e.jsx("div",{className:"flex justify-center text-xs text-muted-foreground w-full max-w-[100px]",children:"OAuth2"}),e.jsx(Ss,{className:"flex-1"})]})]}),e.jsx("div",{className:"mt-3 flex flex-col gap-3",children:t?.config?.oauth2_providers?.map(d=>e.jsxs(T,{className:"w-full rounded-lg shadow-[inset_0_1px_0_rgba(255,255,255,0.2)] bg-muted text-primary hover:bg-muted/80 hover:text-primary/80",onClick:()=>l(d),children:[d==="GitHub"&&e.jsx(N_,{className:"size-4"}),d]}))})]})}const b_=({serverIds:s,...r})=>{const{t}=M(),[a,c]=u.useState(!1),[l,x]=u.useState(void 0),d=async()=>{try{await xE({ids:s,to_user:l})}catch(m){console.error(m),$(t("Error"),{description:t("Results.UnExpectedError")});return}$(t("Done")),c(!1)};return s.length<1?e.jsx(F,{...r,icon:"user-pen",onClick:()=>{$(t("Error"),{description:t("Results.NoRowsAreSelected")})}}):e.jsxs(me,{open:a,onOpenChange:c,children:[e.jsx(xe,{asChild:!0,children:e.jsx(F,{...r,icon:"user-pen"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t("BatchMoveServer")}),e.jsx(ce,{})]}),e.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[e.jsx(U,{children:t("Servers")}),e.jsx(ae,{disabled:!0,children:s.join(", ")}),e.jsx(U,{children:t("ToUser")}),e.jsx(k,{type:"number",placeholder:"User ID",value:l,onChange:m=>{x(parseInt(m.target.value,10))}}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Cancel")})}),e.jsx(T,{disabled:!l||l==0,type:"submit",className:"my-2",onClick:d,children:t("Move")})]})]})]})})})]})},Kt=u.forwardRef(({uuid:s,iconOnly:r=!1,menuItem:t=!1,...a},c)=>{const[l,x]=u.useState(!1),{data:d}=Cs(),{profile:m}=es(),{t:n}=M(),o=async i=>{if(!l)try{if(x(!0),!m)throw new Error("Profile is not found.");if(!d?.config)throw new Error("Settings is not found.");await Ks(y_(i,d.config,m,s)||"")}catch(h){console.error(h),$(n("Error"),{description:h.message})}finally{setTimeout(()=>{x(!1)},2*1e3)}};return e.jsxs(Qe,{children:[e.jsx(Xe,{asChild:!0,children:t?e.jsxs("button",{type:"button",className:"flex w-full items-center text-sm px-2 py-2 hover:bg-accent hover:text-accent-foreground",title:O.t("InstallCommands"),children:[l?e.jsx(Ue,{className:"h-4 w-4 mr-2"}):e.jsx(It,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:O.t("InstallCommands")})]}):r?e.jsx(T,{ref:c,title:O.t("InstallCommands"),size:"icon",...a,children:l?e.jsx(Ue,{className:"h-4 w-4"}):e.jsx(vr,{className:"h-4 w-4"})}):e.jsxs(T,{ref:c,title:O.t("InstallCommands"),...a,children:[l?e.jsx(Ue,{className:"h-4 w-4"}):e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{className:"ml-2",children:O.t("InstallCommands")})]})}),e.jsxs(We,{side:t?"right":void 0,align:t?"start":void 0,children:[e.jsx(Q,{className:"nezha-copy",onClick:async()=>{o(1)},children:"Linux"}),e.jsx(Q,{className:"nezha-copy",onClick:async()=>{o(2)},children:"macOS"}),e.jsx(Q,{className:"nezha-copy",onClick:async()=>{o(3)},children:"Windows"})]})]})}),y_=(s,{install_host:r,tls:t},{agent_secret:a},c)=>{if(!r)throw new Error(O.t("Results.InstallHostRequired"));if(!a)throw new Error(O.t("Results.AgentSecretRequired"));const l=[`NZ_SERVER=${r}`,`NZ_TLS=${t||!1}`,`NZ_CLIENT_SECRET=${a}`];c&&l.push(`NZ_UUID=${c}`);const x=l.join(" "),d=[`$env:NZ_SERVER="${r}";`,`$env:NZ_TLS="${t||!1}";`,`$env:NZ_CLIENT_SECRET="${a}";`];c&&d.push(`$env:NZ_UUID="${c}";`);const m=d.join("");switch(s){case 1:case 2:return`curl -L https://raw.githubusercontent.com/nezhahq/scripts/main/agent/install.sh -o agent.sh && chmod +x agent.sh && env ${x} ./agent.sh`;case 3:return`${m} [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Ssl3 -bor [Net.SecurityProtocolType]::Tls -bor [Net.SecurityProtocolType]::Tls11 -bor [Net.SecurityProtocolType]::Tls12;set-ExecutionPolicy RemoteSigned;Invoke-WebRequest https://raw.githubusercontent.com/nezhahq/scripts/main/agent/install.ps1 -OutFile C:install.ps1;powershell.exe C:install.ps1`;default:throw new Error(`Unknown OS: ${s}`)}},C_=u.forwardRef((s,r)=>{const{t}=M(),[a,c]=u.useState(!1),l=async x=>{if(!x){$("Warning",{description:t("EmptyNote")});return}a||(c(!0),await Ks(x),setTimeout(()=>{c(!1)},2*1e3))};return e.jsxs(Qe,{children:[e.jsx(Xe,{asChild:!0,children:e.jsx(F,{...s,ref:r,variant:"outline",size:"icon",icon:a?"check":"clipboard"})}),e.jsxs(We,{children:[e.jsx(Q,{onClick:()=>{l(s.note.private)},children:t("Private")}),e.jsx(Q,{onClick:()=>{l(s.note.public)},children:t("Public")})]})]})});function Jt({className:s,classNames:r,showOutsideDays:t=!0,captionLayout:a="label",buttonVariant:c="ghost",formatters:l,components:x,...d}){const m=br();return e.jsx(La,{showOutsideDays:t,className:g("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,s),captionLayout:a,formatters:{formatMonthDropdown:n=>n.toLocaleString("default",{month:"short"}),...l},classNames:{root:g("w-fit",m.root),months:g("relative flex flex-col gap-4 md:flex-row",m.months),month:g("flex w-full flex-col gap-4",m.month),nav:g("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",m.nav),button_previous:g(Be({variant:c}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",m.button_previous),button_next:g(Be({variant:c}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",m.button_next),month_caption:g("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",m.month_caption),dropdowns:g("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",m.dropdowns),dropdown_root:g("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",m.dropdown_root),dropdown:g("bg-popover absolute inset-0 opacity-0",m.dropdown),caption_label:g("select-none font-medium",a==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",m.caption_label),table:"w-full border-collapse",weekdays:g("flex",m.weekdays),weekday:g("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",m.weekday),week:g("mt-2 flex w-full",m.week),week_number_header:g("w-[--cell-size] select-none",m.week_number_header),week_number:g("text-muted-foreground select-none text-[0.8rem]",m.week_number),day:g("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",m.day),range_start:g("bg-accent rounded-l-md",m.range_start),range_middle:g("rounded-none",m.range_middle),range_end:g("bg-accent rounded-r-md",m.range_end),today:g("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",m.today),outside:g("text-muted-foreground aria-selected:text-muted-foreground",m.outside),disabled:g("text-muted-foreground opacity-50",m.disabled),hidden:g("invisible",m.hidden),...r},components:{Root:({className:n,rootRef:o,...i})=>e.jsx("div",{"data-slot":"calendar",ref:o,className:g(n),...i}),Chevron:({className:n,orientation:o,...i})=>o==="left"?e.jsx(yr,{className:g("size-4",n),...i}):o==="right"?e.jsx(qs,{className:g("size-4",n),...i}):e.jsx(ss,{className:g("size-4",n),...i}),DayButton:w_,WeekNumber:({children:n,...o})=>e.jsx("td",{...o,children:e.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:n})}),...x},...d})}function w_({className:s,day:r,modifiers:t,...a}){const c=br(),l=u.useRef(null);return u.useEffect(()=>{t.focused&&l.current?.focus()},[t.focused]),e.jsx(T,{ref:l,variant:"ghost",size:"icon","data-day":r.date.toLocaleDateString(),"data-selected-single":t.selected&&!t.range_start&&!t.range_end&&!t.range_middle,"data-range-start":t.range_start,"data-range-end":t.range_end,"data-range-middle":t.range_middle,className:g("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",c.day,s),...a})}const js=u.forwardRef(({className:s,...r},t)=>e.jsx(hn,{className:g("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:t,children:e.jsx(No,{className:g("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));js.displayName=hn.displayName;const $t=ne({billingDataMod:ne({startDate:w().optional(),endDate:w().optional(),autoRenewal:w().optional(),cycle:w().optional(),amount:w().optional()}).optional(),planDataMod:ne({bandwidth:w().optional(),trafficVol:w().optional(),trafficType:w().optional(),IPv4:w().optional(),IPv6:w().optional(),networkRoute:w().optional(),extra:w().optional()}).optional()}),nt={},Yt=s=>{if(!s||s==="0000-00-00T23:59:59+08:00")return!0;const r=new Date(s);return!isNaN(r.getTime())},Zt=s=>{if(!s)return;if(s==="0000-00-00T23:59:59+08:00")return s;const r=new Date(s);return isNaN(r.getTime())?s:r.toISOString()},Qt=s=>{if(!s)return nt;try{const r=JSON.parse(s),t=$t.safeParse(r);return t.success?t.data:nt}catch{return nt}},$_=s=>{const r={};return s.billingDataMod?.autoRenewal&&!/^(0|1)$/.test(s.billingDataMod.autoRenewal)&&(r["billing.autoRenewal"]=O.t("Validation.MustBe0Or1")),s.billingDataMod?.cycle&&!/^(Day|Week|Month|Year)$/i.test(s.billingDataMod.cycle)&&(r["billing.cycle"]=O.t("Validation.MustBeDayWeekMonthYear")),s.planDataMod?.trafficType&&!/^(1|2)$/.test(s.planDataMod.trafficType)&&(r["plan.trafficType"]=O.t("Validation.MustBe1Or2")),s.planDataMod?.IPv4!==void 0&&!/^(0|1)$/.test(s.planDataMod.IPv4)&&(r["plan.IPv4"]=O.t("Validation.MustBe0Or1")),s.planDataMod?.IPv6!==void 0&&!/^(0|1)$/.test(s.planDataMod.IPv6)&&(r["plan.IPv6"]=O.t("Validation.MustBe0Or1")),s.billingDataMod?.startDate&&!Yt(s.billingDataMod.startDate)&&(r["billing.startDate"]=O.t("Validation.InvalidDate")),s.billingDataMod?.endDate&&!Yt(s.billingDataMod.endDate)&&(r["billing.endDate"]=O.t("Validation.InvalidDate")),{errors:r,valid:Object.keys(r).length===0}},T_=s=>{if(!s)return"raw";try{const r=JSON.parse(s);return $t.strict().safeParse(r).success?"structured":"raw"}catch{return"raw"}},qn=(s,r,t)=>{const a=r.split("."),c=structuredClone?structuredClone(s):JSON.parse(JSON.stringify(s));let l=c;for(let x=0;x<a.length-1;x++){const d=a[x];l[d]={...l[d]??{}},l=l[d]}return l[a[a.length-1]]=t,c},D_=(s,r,t)=>{const a=r.split("."),c=structuredClone?structuredClone(s):JSON.parse(JSON.stringify(s));let l=c;for(let o=0;o<a.length-1;o++){const i=a[o];if(l=l[i],!l)break}const x=a[a.length-1],d=l?l[x]:void 0,m=new Date(t);if(d){const o=new Date(d);isNaN(o.getTime())||m.setHours(o.getHours(),o.getMinutes(),o.getSeconds(),0)}let n=c;for(let o=0;o<a.length-1;o++){const i=a[o];n[i]={...n[i]??{}},n=n[i]}return n[x]=m.toISOString(),c},k_=s=>{const r="0000-00-00T23:59:59+08:00",a=s.billingDataMod?.endDate===r?"":r;return qn(s,"billingDataMod.endDate",a)},P_=ne({name:w().min(1),note:_(w()),public_note:_(w().refine(s=>{const r=(s??"").trim();if(r.length===0)return!0;try{const t=JSON.parse(r);return $t.safeParse(t).success}catch{return!0}},{message:"Invalid Public Note JSON"})),display_index:Z().int(),hide_for_guest:_(V()),enable_ddns:_(V()),ddns_profiles:_(De(je())),ddns_profiles_raw:_(w()),override_ddns_domains:_(Ns(w(),De(w()))),override_ddns_domains_raw:_(w().refine(s=>{try{return JSON.parse(s),!0}catch{return!1}},{message:"Invalid JSON string"}))}),R_=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(P_),defaultValues:{...s,ddns_profiles_raw:s.ddns_profiles?Te.arrToStr(s.ddns_profiles):void 0,override_ddns_domains_raw:s.override_ddns_domains?JSON.stringify(s.override_ddns_domains):void 0},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),[x,d]=u.useState(Qt(s?.public_note)),[m,n]=u.useState({}),[o,i]=u.useState(T_(s?.public_note)),[h,b]=u.useState(s?.public_note??""),C=(p,q)=>{d(fe=>qn(fe,p,q))},K=(p,q)=>{d(fe=>D_(fe,p,q))},G=()=>{d(p=>k_(p))},f=async p=>{try{if(p.ddns_profiles=p.ddns_profiles_raw?Te.strToArr(p.ddns_profiles_raw).map(Number):void 0,p.override_ddns_domains=p.override_ddns_domains_raw?JSON.parse(p.override_ddns_domains_raw):void 0,o==="raw"){const q=(h??"").trim();q.length===0?p.public_note=void 0:p.public_note=q}else{const{errors:q,valid:fe}=$_(x);if(!fe){n(q),$(t("Error"),{description:t("Validation.InvalidForm")});return}n({});const z=x.billingDataMod,Pe=x.planDataMod,we={billingDataMod:z&&{...z,startDate:Zt(z.startDate),endDate:Zt(z.endDate)},planDataMod:Pe},$e=JSON.stringify(we);p.public_note=$e.length>2?$e:void 0}await hE(s.id,p)}catch(q){console.error(q),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()};return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:e.jsx(F,{variant:"outline",icon:"edit"})}),e.jsx(le,{className:"sm:max-w-xl",onInteractOutside:p=>p.preventDefault(),onEscapeKeyDown:p=>p.preventDefault(),children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t("EditServer")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(f),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"My Server",...p})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"display_index",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Weight")}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"0",...p})}),e.jsx(S,{})]})}),a.watch("enable_ddns")?e.jsxs(e.Fragment,{children:[e.jsx(v,{control:a.control,name:"ddns_profiles_raw",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("DDNSProfiles")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"1,2,3",...p})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"override_ddns_domains_raw",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("OverrideDDNSDomains")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",...p})}),e.jsx(S,{})]})})]}):e.jsx(e.Fragment,{}),e.jsx(v,{control:a.control,name:"enable_ddns",render:({field:p})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:p.value,onCheckedChange:p.onChange}),e.jsx(U,{className:"text-sm",children:t("EnableDDNS")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"hide_for_guest",render:({field:p})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:p.value,onCheckedChange:p.onChange}),e.jsx(U,{className:"text-sm",children:t("HideForGuest")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"note",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Private")+t("Note")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-none",...p})}),e.jsx(S,{})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"space-y-1",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{children:t("PublicNote.Label")}),e.jsx("a",{href:"https://nezha.wiki/guide/servers.html#%E5%85%AC%E5%BC%80%E5%A4%87%E6%B3%A8%E8%AE%BE%E7%BD%AE",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-muted-foreground hover:text-foreground",children:e.jsx(Fa,{className:"h-4 w-4"})})]})})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{type:"button",variant:o==="structured"?"default":"outline",className:"text-xs h-7",onClick:()=>{i("structured"),d(Qt(h))},children:t("PublicNote.CustomFields")}),e.jsx(T,{type:"button",variant:o==="raw"?"default":"outline",className:"text-xs h-7",onClick:()=>i("raw"),children:t("PublicNote.RawText")})]})}),o==="raw"&&e.jsx("div",{children:e.jsx(ae,{className:"resize-y",value:h,onChange:p=>b(p.target.value),rows:10})}),o==="structured"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rounded-md border p-3 space-y-3",children:[e.jsx("div",{className:"text-sm font-medium opacity-80",children:t("PublicNote.Billing")}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.StartDate")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700 ml-2",onClick:()=>C("billingDataMod.startDate",void 0),children:t("PublicNote.ClearDate")??"Clear"}),e.jsxs(zs,{children:[e.jsx(Hs,{asChild:!0,children:e.jsx(T,{variant:"outline",className:"w-full justify-start text-left font-normal",children:x.billingDataMod?.startDate?new Date(x.billingDataMod.startDate).toLocaleDateString():"YYYY-MM-DD"})}),e.jsx(vs,{className:"p-0 w-[300px] max-h-[60dvh] overflow-hidden",align:"start",children:e.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:e.jsx(Jt,{className:"w-full min-h-[320px]",mode:"single",captionLayout:"dropdown",startMonth:new Date(2e3,0),endMonth:new Date(2050,11),selected:x.billingDataMod?.startDate?new Date(x.billingDataMod.startDate):void 0,onSelect:p=>{p&&K("billingDataMod.startDate",p)},autoFocus:!0})})})]}),m["billing.startDate"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["billing.startDate"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.EndDate")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:G,children:x.billingDataMod?.endDate==="0000-00-00T23:59:59+08:00"?t("PublicNote.CancelNoExpiry"):t("PublicNote.SetNoExpiry")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>C("billingDataMod.endDate",void 0),children:t("PublicNote.ClearDate")??"Clear"})]}),e.jsxs(zs,{children:[e.jsx(Hs,{asChild:!0,children:e.jsx(T,{variant:"outline",className:"w-full justify-start text-left font-normal",children:x.billingDataMod?.endDate?x.billingDataMod?.endDate==="0000-00-00T23:59:59+08:00"?t("PublicNote.NoExpiry"):new Date(x.billingDataMod?.endDate).toLocaleDateString():"YYYY-MM-DD"})}),e.jsx(vs,{className:"p-0 w-[300px] max-h-[60dvh] overflow-hidden",align:"start",children:e.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:e.jsx(Jt,{className:"w-full min-h-[320px]",mode:"single",captionLayout:"dropdown",startMonth:new Date(2e3,0),endMonth:new Date(2050,11),selected:x.billingDataMod?.endDate&&x.billingDataMod?.endDate!=="0000-00-00T23:59:59+08:00"?new Date(x.billingDataMod?.endDate):void 0,onSelect:p=>{p&&K("billingDataMod.endDate",p)},autoFocus:!0})})})]}),m["billing.endDate"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["billing.endDate"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(U,{className:"text-xs",children:t("PublicNote.AutoRenewal")})}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("span",{className:"text-xs",children:t("PublicNote.Disabled")}),e.jsx(js,{checked:x.billingDataMod?.autoRenewal==="1",onCheckedChange:p=>C("billingDataMod.autoRenewal",p?"1":void 0)}),e.jsx("span",{className:"text-xs",children:t("PublicNote.Enabled")})]}),m["billing.autoRenewal"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["billing.autoRenewal"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.Cycle")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>C("billingDataMod.cycle",void 0),children:t("PublicNote.Clear")??"Clear"})]}),e.jsxs(te,{onValueChange:p=>C("billingDataMod.cycle",p),value:x.billingDataMod?.cycle,children:[e.jsx(X,{children:e.jsx(re,{placeholder:"Select cycle"})}),e.jsxs(ee,{children:[e.jsx(E,{value:"Day",children:t("PublicNote.Day")}),e.jsx(E,{value:"Week",children:t("PublicNote.Week")}),e.jsx(E,{value:"Month",children:t("PublicNote.Month")}),e.jsx(E,{value:"Year",children:t("PublicNote.Year")})]})]}),m["billing.cycle"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["billing.cycle"]})]}),e.jsxs("div",{className:"space-y-1 sm:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.Amount")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>C("billingDataMod.amount","0"),children:t("PublicNote.Free")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>C("billingDataMod.amount","-1"),children:t("PublicNote.PayAsYouGo")})]}),e.jsx(k,{placeholder:"200EUR",value:x.billingDataMod?.amount,onChange:p=>C("billingDataMod.amount",p.target.value)})]})]})]}),e.jsxs("div",{className:"rounded-md border p-3 space-y-3",children:[e.jsx("div",{className:"text-sm font-medium opacity-80",children:t("PublicNote.Plan")}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.Bandwidth")}),e.jsx(k,{placeholder:"30Mbps",value:x.planDataMod?.bandwidth,onChange:p=>C("planDataMod.bandwidth",p.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.TrafficVolume")}),e.jsx(k,{placeholder:"1TB/Month",value:x.planDataMod?.trafficVol,onChange:p=>C("planDataMod.trafficVol",p.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.TrafficType")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>C("planDataMod.trafficType",void 0),children:t("PublicNote.Clear")??"Clear"})]}),e.jsxs(te,{onValueChange:p=>C("planDataMod.trafficType",p),value:x.planDataMod?.trafficType??"",children:[e.jsx(X,{children:e.jsx(re,{placeholder:"Select type"})}),e.jsxs(ee,{children:[e.jsx(E,{value:"1",children:t("PublicNote.Inbound")}),e.jsx(E,{value:"2",children:t("PublicNote.Both")})]})]}),m["plan.trafficType"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["plan.trafficType"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.IPv4")}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs",children:t("PublicNote.None")}),e.jsx(js,{checked:x.planDataMod?.IPv4==="1",onCheckedChange:p=>C("planDataMod.IPv4",p?"1":"0")}),e.jsx("span",{className:"text-xs",children:t("PublicNote.Has")})]}),m["plan.IPv4"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["plan.IPv4"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.IPv6")}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs",children:t("PublicNote.None")}),e.jsx(js,{checked:x.planDataMod?.IPv6==="1",onCheckedChange:p=>C("planDataMod.IPv6",p?"1":"0")}),e.jsx("span",{className:"text-xs",children:t("PublicNote.Has")})]}),m["plan.IPv6"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["plan.IPv6"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.NetworkRoute")}),e.jsx(k,{placeholder:t("PublicNote.CommaSeparated"),value:x.planDataMod?.networkRoute??"",onChange:p=>C("planDataMod.networkRoute",p.target.value)})]}),e.jsxs("div",{className:"space-y-1 sm:col-span-2",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.Extra")}),e.jsx(k,{placeholder:t("PublicNote.CommaSeparated"),value:x.planDataMod?.extra??"",onChange:p=>C("planDataMod.extra",p.target.value)})]})]})]})]})]}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Submit")})]})]})})]})})})]})},A_=ne({debug:_(V()),disable_auto_update:_(V()),disable_command_execute:_(V()),disable_force_update:_(V()),disable_nat:_(V()),disable_send_query:_(V()),gpu:_(V()),hard_drive_partition_allowlist:_(De(w())),hard_drive_partition_allowlist_raw:_(w().refine(s=>{try{return JSON.parse(s),!0}catch{return!1}},{message:"Invalid JSON string"})),ip_report_period:_(Z().int().min(30)),nic_allowlist:_(Ns(w(),V())),nic_allowlist_raw:_(w().refine(s=>{try{return JSON.parse(s),!0}catch{return!1}},{message:"Invalid JSON string"})),report_delay:_(Z().int().min(1).max(4)),skip_connection_count:_(V()),skip_procs_count:_(V()),temperature:_(V())}),Xt=["disable_auto_update","disable_command_execute","disable_force_update","disable_nat","disable_send_query","gpu","temperature","skip_connection_count","skip_procs_count","debug"],Wn=[];for(let s=0;s<Xt.length;s+=2)Wn.push(Xt.slice(s,s+2));const E_=({sid:s,menuItem:r=!1,...t})=>{const{t:a}=M(),[c,l]=u.useState(void 0),[x,d]=u.useState(!0),[m,n]=u.useState(!1);u.useEffect(()=>{m&&(async()=>{try{const b=await fE(s);l(JSON.parse(b))}catch(b){console.error(b),$(a("Error"),{description:b.message}),n(!1);return}finally{d(!1)}})()},[m]);const o=Ne({resolver:ve(A_),defaultValues:{...c,hard_drive_partition_allowlist_raw:JSON.stringify(c?.hard_drive_partition_allowlist),nic_allowlist_raw:JSON.stringify(c?.nic_allowlist)},resetOptions:{keepDefaultValues:!1}});u.useEffect(()=>{c&&o.reset({...c,hard_drive_partition_allowlist_raw:JSON.stringify(c.hard_drive_partition_allowlist),nic_allowlist_raw:JSON.stringify(c.nic_allowlist)})},[c,o]);const i=async h=>{let b={};try{h.nic_allowlist=h.nic_allowlist_raw?JSON.parse(h.nic_allowlist_raw):void 0,h.hard_drive_partition_allowlist=h.hard_drive_partition_allowlist_raw?JSON.parse(h.hard_drive_partition_allowlist_raw):void 0,b=await Sn({config:JSON.stringify(h),servers:[s]})}catch(C){console.error(C),$(a("Error"),{description:a("Results.UnExpectedError")});return}$(a("Done"),{description:a("Results.ForceUpdate")+(b.success?.length?a("Success")+` [${b.success.join(",")}]`:"")+(b.failure?.length?a("Failure")+` [${b.failure.join(",")}]`:"")+(b.offline?.length?a("Offline")+` [${b.offline.join(",")}]`:"")}),n(!1),o.reset()};return e.jsxs(me,{open:m,onOpenChange:n,children:[e.jsx(xe,{asChild:!0,children:r?e.jsxs("button",{type:"button",className:"flex w-full items-center text-sm px-2 py-2 hover:bg-accent hover:text-accent-foreground",onClick:()=>n(!0),children:[e.jsx(Nr,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:a("Config")})]}):e.jsx(F,{...t,icon:"cog"})}),e.jsx(le,{className:"sm:max-w-xl",children:x?e.jsx("div",{className:"items-center mx-1",children:e.jsxs(oe,{children:[e.jsx(ie,{children:"Loading..."}),e.jsx(ce,{})]})}):e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:a("EditServerConfig")}),e.jsx(ce,{})]}),e.jsx(Se,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(i),className:"space-y-2 my-2",children:[e.jsx(v,{control:o.control,name:"ip_report_period",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:"ip_report_period"}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"0",...h})}),e.jsx(S,{})]})}),e.jsx(v,{control:o.control,name:"report_delay",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:"report_delay"}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"0",...h})}),e.jsx(S,{})]})}),e.jsx(v,{control:o.control,name:"hard_drive_partition_allowlist_raw",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:"hard_drive_partition_allowlist"}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",...h})}),e.jsx(S,{})]})}),e.jsx(v,{control:o.control,name:"nic_allowlist_raw",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:"nic_allowlist"}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",...h})}),e.jsx(S,{})]})}),Wn.map((h,b)=>e.jsx("div",{className:"flex gap-8",children:h.map(C=>e.jsx(v,{control:o.control,name:C,render:({field:K})=>e.jsxs(N,{className:"flex items-center w-full",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:!!K.value,onCheckedChange:K.onChange}),e.jsx(U,{className:"text-sm",children:a(C)})]})}),e.jsx(S,{})]})},C))},b)),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:a("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:a("Submit")})]})]})})]})})})]})},__=({property:s,setData:r})=>{const[t,a]=u.useState({}),{t:c}=M();return u.useEffect(()=>{r(t)},[t,r]),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx(F,{icon:"plus",onClick:()=>{const[l,x]=s;if(l&&x){const d={...t};d[l]=JSON.parse(x),a(d)}}}),e.jsx(F,{icon:"minus",variant:"destructive",onClick:()=>{const[l]=s;if(l){const x={...t};x[l]=void 0,a(x)}}})]}),e.jsx(U,{children:c("Preview")}),e.jsx(ae,{value:JSON.stringify(t,null,2),readOnly:!0})]})},I_=({sid:s,...r})=>{const{t}=M(),[a,c]=u.useState({}),[l,x]=u.useState(!1),[d,m]=u.useState(""),[n,o]=u.useState(""),i=async()=>{let h={};try{h=await Sn({config:JSON.stringify(a),servers:s})}catch(b){console.error(b),$(t("Error"),{description:t("Results.UnExpectedError")});return}$(t("Done"),{description:t("Results.ForceUpdate")+(h.success?.length?t("Success")+` [${h.success.join(",")}]`:"")+(h.failure?.length?t("Failure")+` [${h.failure.join(",")}]`:"")+(h.offline?.length?t("Offline")+` [${h.offline.join(",")}]`:"")}),x(!1)};return s.length<1?e.jsx(F,{...r,icon:"cog",onClick:()=>{$(t("Error"),{description:t("Results.NoRowsAreSelected")})}}):e.jsxs(me,{open:l,onOpenChange:x,children:[e.jsx(xe,{asChild:!0,children:e.jsx(F,{...r,icon:"cog"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t("EditServerConfig")}),e.jsx(ce,{})]}),e.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[e.jsx(U,{children:t("Option")}),e.jsx(k,{type:"text",placeholder:"option",value:d,onChange:h=>{m(h.target.value)}}),e.jsx(U,{children:t("Value")}),e.jsx(ae,{className:"resize-y",value:n,onChange:h=>{o(h.target.value)}}),e.jsx(__,{property:[d,n],setData:c}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",onClick:i,children:t("Submit")})]})]})]})})})]})},L_=async s=>A(R.POST,"/api/v1/terminal",{server_id:s});function F_(s){const[r,t]=u.useState(null);async function a(){try{const c=await L_(s);t(c)}catch(c){console.error("Failed to fetch terminal:",c)}}return u.useEffect(()=>{s&&a()},[s]),r}const O_=async s=>A(R.GET,`/api/v1/file?id=${s}`,null),Kn=u.forwardRef(({...s},r)=>e.jsx("nav",{ref:r,"aria-label":"breadcrumb",...s}));Kn.displayName="Breadcrumb";const Jn=u.forwardRef(({className:s,...r},t)=>e.jsx("ol",{ref:t,className:g("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",s),...r}));Jn.displayName="BreadcrumbList";const Ls=u.forwardRef(({className:s,...r},t)=>e.jsx("li",{ref:t,className:g("inline-flex items-center gap-1.5",s),...r}));Ls.displayName="BreadcrumbItem";const M_=u.forwardRef(({asChild:s,className:r,...t},a)=>{const c=s?xt:"a";return e.jsx(c,{ref:a,className:g("transition-colors hover:text-foreground",r),...t})});M_.displayName="BreadcrumbLink";const Yn=u.forwardRef(({className:s,...r},t)=>e.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:g("font-normal text-foreground",s),...r}));Yn.displayName="BreadcrumbPage";const Fs=({children:s,className:r,...t})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:g("[&>svg]:w-3.5 [&>svg]:h-3.5",r),...t,children:s??e.jsx(qs,{})});Fs.displayName="BreadcrumbSeparator";const Zn=({className:s,...r})=>e.jsxs("span",{role:"presentation","aria-hidden":"true",className:g("flex h-9 w-9 items-center justify-center",s),...r,children:[e.jsx(ht,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"More"})]});Zn.displayName="BreadcrumbElipssis";const at=3;function U_(s){const r=s.split("/").filter(Boolean),t=[];let a="";return r.forEach(c=>{a+=`/${c}`,t.push({href:a,label:c})}),t}const B_=({path:s,setPath:r})=>{const[t,a]=u.useState(!1),c=U_(Tn(s));return e.jsx(Kn,{children:e.jsxs(Jn,{children:[e.jsx(Ls,{children:e.jsx("p",{className:"cursor-pointer hover:text-white transition",onClick:()=>{r("/")},children:"/"})}),e.jsx(Fs,{}),c.length>at?e.jsxs(e.Fragment,{children:[e.jsx(Ls,{children:e.jsxs(Qe,{open:t,onOpenChange:a,children:[e.jsx(Xe,{className:"flex items-center gap-1","aria-label":"Toggle menu",children:e.jsx(Zn,{className:"h-4 w-4"})}),e.jsx(We,{align:"start",children:c.slice(0,-at).map((l,x)=>e.jsx(Q,{children:e.jsx("p",{onClick:()=>{r(l.href)},children:l.label})},x))})]})}),e.jsx(Fs,{})]}):null,c.slice(-at).map((l,x,d)=>e.jsxs(u.Fragment,{children:[e.jsx(Ls,{className:"overflow-auto",children:l.href?e.jsx(e.Fragment,{children:e.jsx("p",{className:"max-w-20 truncate md:max-w-none cursor-pointer hover:text-white transition",onClick:()=>{r(l.href)},children:l.label})}):e.jsx(Yn,{className:"max-w-20 truncate md:max-w-none",children:l.label})}),x!==d.length-1?e.jsx(Fs,{}):null]},x))]})})},G_=Qr,z_=Xr,H_=Jr,V_=ds("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Qn=u.forwardRef(({side:s="right",className:r,children:t,setOpen:a,...c},l)=>e.jsx(H_,{children:e.jsxs(Ws,{ref:l,className:g(V_({side:s}),r),...c,children:[t,e.jsxs(gt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(fs,{className:"h-4 w-4",onClick:()=>{a(!1)}}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})}));Qn.displayName=Ws.displayName;const Xn=({className:s,...r})=>e.jsx("div",{className:g("flex flex-col space-y-2 text-center sm:text-left",s),...r});Xn.displayName="SheetHeader";const ea=u.forwardRef(({className:s,...r},t)=>e.jsx(Yr,{ref:t,className:g("text-lg font-semibold text-foreground",s),...r}));ea.displayName="SheetTitle";const ct=u.forwardRef(({className:s,...r},t)=>e.jsx(Zr,{ref:t,className:g("text-sm text-muted-foreground",s),...r}));ct.displayName="SheetDescription";const sa=u.forwardRef(({className:s,...r},t)=>e.jsx("table",{ref:t,className:g("w-full caption-bottom text-sm",s),...r}));sa.displayName="TableComponent";const q_=s=>function(t){const a=t["data-index"],c=s[a];return c?e.jsx(P,{"data-state":c.getIsSelected()&&"selected",className:"translate-y-[50%]",...t,children:c.getVisibleCells().map(l=>e.jsx(I,{children:W(l.column.columnDef.cell,l.getContext())},l.id))},c.id):null};function W_({isSorted:s}){return s?e.jsx("div",{children:{asc:"↑",desc:"↓"}[s]}):null}function K_({columns:s,data:r,rowComponent:t}){const[a,c]=u.useState([{id:"type",desc:!0}]),l=Ae({data:r,columns:s,state:{sorting:a},onSortingChange:c,getCoreRowModel:Ee(),getSortedRowModel:Oa()}),{rows:x}=l.getRowModel(),[d,m]=u.useState(0),n=u.useRef(null),o=Js("(min-width: 640px)");return u.useEffect(()=>{const i=()=>{if(n.current){const h=n.current;let b=0,C=h;for(;C;)b+=C.offsetTop||0,C=C.offsetParent;const G=window.innerHeight-b;m(G)}};return i(),o&&window.addEventListener("resize",i),()=>{o&&window.removeEventListener("resize",i)}},[o]),e.jsx("div",{className:"rounded-md border",ref:n,style:{height:d},children:e.jsx(Ma,{totalCount:x.length,components:{Table:sa,TableRow:t?t(x):q_(x),Scroller:de},fixedHeaderContent:()=>l.getHeaderGroups().map(i=>e.jsx(P,{className:"bg-card hover:bg-muted",children:i.headers.map(h=>e.jsx(J,{colSpan:h.colSpan,style:{width:h.getSize()},children:h.isPlaceholder?null:e.jsxs("div",{className:"flex items-center",style:h.column.getCanSort()?{cursor:"pointer",userSelect:"none"}:{},onClick:h.column.getToggleSortingHandler(),children:[W(h.column.columnDef.header,h.getContext()),e.jsx(W_,{isSorted:h.column.getIsSorted()})]})},h.id))},i.id))})})}const Rs=(s,r)=>{if(s.length!==r.length)return!1;for(let t=0;t<s.length;t++)if(s[t]!==r[t])return!1;return!0},er=({wsUrl:s,...r})=>{const{t}=M(),a=u.useRef(null),c=u.useRef(null);u.useEffect(()=>()=>{c.current?.close()},[]);const[l,x]=u.useState(!1),[d,m]=u.useState(!1),n=[{id:"type",header:()=>e.jsx("span",{children:t("Type")}),accessorFn:L=>L.type,cell:({row:L})=>L.original.type==0?e.jsx(Ua,{size:24}):e.jsx(Ba,{size:24})},{header:()=>e.jsx("span",{children:t("Name")}),id:"name",accessorFn:L=>L.name,cell:({row:L})=>e.jsx("div",{className:"max-w-48 text-sm whitespace-normal break-words",children:L.original.name}),size:5e3},{header:()=>e.jsx("span",{children:t("Actions")}),id:"download",cell:({row:L})=>L.original.type==0?e.jsx(F,{variant:"ghost",icon:"download",onClick:()=>{l||x(!0),fe(L.original.name)}}):e.jsx(T,{size:"icon",variant:"ghost",className:"pointer-events-none"})}],o=L=>function(H){const Y=H["data-index"],ue=L[Y];return ue?e.jsx(P,{"data-state":ue.getIsSelected()&&"selected",onClick:()=>{ue.original.type===1&&p(`${f}/${ue.original.name}`)},className:ue.original.type===1?"cursor-pointer":"cursor-default",...H,children:ue.getVisibleCells().map(Me=>e.jsx(I,{children:W(Me.column.columnDef.cell,Me.getContext())},Me.id))},ue.id):null},[i,h]=u.useState([]),b=u.useRef(!0),C=u.useRef(!1),K=u.useRef("temp"),G=async()=>{for(;!C.current;)await new Promise(L=>setTimeout(L,10))};u.useEffect(()=>{const L=new URL(s,window.location.origin);L.protocol=L.protocol.replace("http","ws");const D=new WebSocket(L);c.current=D,D.binaryType="arraybuffer",D.onopen=()=>{q()},D.onclose=H=>{console.log("WebSocket connection closed:",H)},D.onerror=H=>{console.error(H),$("Websocket "+t("Error"),{description:t("Results.UnExpectedError")})},D.onmessage=async H=>{try{const Y=new Uint8Array(H.data,0,4);if(Rs(Y,Ps.error)){const ue=H.data.slice(4),Me=new TextDecoder("utf-8").decode(ue);throw new Error(Me)}if(b.current)if(Rs(Y,Ps.file))gs.postMessage({operation:1,arrayBuffer:H.data,fileName:K.current}),b.current=!1;else if(Rs(Y,Ps.fileName)){const{path:ue,fmList:Me}=await rt.parseFMList(H.data);p(ue),h(Me)}else if(Rs(Y,Ps.complete))m(!1),q();else throw new Error(t("Results.UnknownIdentifier"));else await G(),gs.postMessage({operation:2,arrayBuffer:H.data,fileName:K.current})}catch(Y){console.error("Error processing received data:",Y),$("FM "+t("Error"),{description:t("Results.UnExpectedError")}),x(!1),m(!1)}}},[s]),u.useEffect(()=>{gs.onmessage=async D=>{switch(D.data.type){case As.Error:{console.error("Error from worker",D.data.error);break}case As.Progress:{C.current=!0;break}case As.Result:{if(C.current=!1,D.data.blob&&D.data.fileName){const H=URL.createObjectURL(D.data.blob),Y=document.createElement("a");Y.href=H,Y.download=D.data.fileName,Y.click(),URL.revokeObjectURL(H)}b.current=!0,l&&x(!1);break}}};const L=()=>{gs.postMessage({operation:3})};return window.addEventListener("beforeunload",L),()=>{window.removeEventListener("beforeunload",L)}},[gs,l]);const[f,p]=u.useState("");u.useEffect(()=>{c.current&&c.current.readyState===WebSocket.OPEN&&q()},[c.current,f]);const q=()=>{const L=new Int8Array([Os.List]),D=new TextEncoder().encode(f),H=new Int8Array(L.length+D.length);H.set(L),H.set(D,L.length),c.current?.send(H)},fe=L=>{K.current=L;const D=new Int8Array([Os.Download]),H=new TextEncoder().encode(`${f}/${L}`),Y=new Int8Array(D.length+H.length);Y.set(D),Y.set(H,D.length),c.current?.send(Y)},z=async L=>{let H=0;const Y=rt.buildUploadHeader({path:f,file:L});for(c.current?.send(Y);H<L.size;){const ue=L.slice(H,H+1048576),Me=await rt.readFileAsArrayBuffer(ue);Me&&c.current?.send(Me),H+=1048576}},Pe=u.useRef(null),[we,$e]=u.useState("");return e.jsxs("div",{ref:a,...r,children:[e.jsxs("div",{className:"flex justify-center items-center gap-4",children:[e.jsxs(Ze,{children:[e.jsxs(Qe,{children:[e.jsx(Xe,{asChild:!0,children:e.jsx(F,{variant:"ghost",icon:"menu"})}),e.jsxs(We,{children:[e.jsx(Q,{onClick:q,children:t("Refresh")}),e.jsx(Q,{onClick:async()=>{try{await Ks(Tn(f))}catch(L){$("FM "+t("Error"),{description:L.message}),console.error("copy error: ",L)}},children:t("CopyPath")}),e.jsx(ws,{asChild:!0,children:e.jsx(Q,{children:t("Goto")})})]})]}),e.jsxs(ze,{children:[e.jsxs(He,{children:[e.jsx(Ve,{children:t("Goto")}),e.jsx(qe,{})]}),e.jsx(k,{className:"mb-1",placeholder:"Path",value:we,onChange:L=>{$e(L.target.value)}}),e.jsxs(ts,{children:[e.jsx(ms,{children:t("Close")}),e.jsx(rs,{onClick:()=>{p(we)},children:t("Confirm")})]})]})]}),e.jsx("h1",{className:"text-base",children:t("FileManager")}),e.jsxs("div",{className:"ml-auto",children:[e.jsx("input",{ref:Pe,type:"file",className:"hidden",onChange:async L=>{const D=L.target.files;D&&D.length>0&&(d||m(!0),await z(D[0]))}}),e.jsx(F,{icon:"upload",variant:"ghost",onClick:()=>{Pe.current&&Pe.current.click()}})]})]}),e.jsx(B_,{path:f,setPath:p}),e.jsx(Ze,{open:l,children:e.jsx(ze,{children:e.jsxs(He,{children:[e.jsxs(Ve,{children:[t("Downloading"),"..."]}),e.jsx(qe,{})]})})}),e.jsx(Ze,{open:d,children:e.jsx(ze,{children:e.jsxs(He,{children:[e.jsxs(Ve,{children:[t("Uploading"),"..."]}),e.jsx(qe,{})]})})}),e.jsx(K_,{columns:n,data:i,rowComponent:o})]})},J_=({id:s})=>{const{t:r}=M(),[t,a]=u.useState(!1),[c,l]=u.useState(null),[x,d]=u.useState(!1),m=Js("(min-width: 640px)"),n=async()=>{if(s){try{d(!1);const o=await O_(s);l(o)}catch(o){$(r("Error"),{description:r("Results.UnExpectedError")}),console.error("fetch error",o);return}d(!0)}};return m?e.jsxs(G_,{modal:!1,open:t,onOpenChange:o=>{o&&a(!0)},children:[e.jsx(z_,{asChild:!0,children:e.jsx(F,{icon:"folder-closed",onClick:n})}),e.jsx(Qn,{setOpen:a,className:"min-w-[35%]",children:e.jsxs("div",{className:"overflow-auto",children:[e.jsx(ea,{}),e.jsx(Xn,{className:"pb-2",children:e.jsx(ct,{})}),c?.session_id&&x?e.jsx(er,{className:"p-1 space-y-5",wsUrl:`/api/v1/ws/file/${c.session_id}`}):e.jsx("p",{children:r("Results.TheServerDoesNotOnline")})]})})]}):e.jsxs(pt,{children:[e.jsx(kn,{asChild:!0,children:e.jsx(F,{icon:"folder-closed",onClick:n})}),e.jsx(ft,{className:"min-h-[60%] p-4",children:e.jsxs("div",{className:"overflow-auto",children:[e.jsx(Nt,{}),e.jsx(jt,{className:"pb-2",children:e.jsx(ct,{})}),c?.session_id&&x?e.jsx(er,{className:"p-1 space-y-5",wsUrl:`/api/v1/ws/file/${c.session_id}`}):e.jsx("p",{children:r("Results.TheServerDoesNotOnline")})]})})]})},Y_=u.forwardRef(({wsUrl:s,setClose:r,...t},a)=>{const c=u.useRef(null),l=u.useRef(null),x=u.useRef(null);u.useImperativeHandle(a,()=>({...c.current,async requestFullscreen(){await c.current?.requestFullscreen()}}),[]),u.useEffect(()=>()=>{x.current?.close(),l.current?.dispose()},[]),u.useEffect(()=>{l.current=new Ga.Terminal({cursorBlink:!0,fontSize:16});const i=new URL(s,window.location.origin);i.protocol=i.protocol.replace("http","ws");const h=new WebSocket(i);x.current=h,h.binaryType="arraybuffer",h.onopen=()=>{o()},h.onclose=()=>{l.current?.dispose(),r(!0)},h.onerror=b=>{console.error(b),$("Websocket error",{description:"View console for details."})}},[s]);const d=u.useRef(new za.FitAddon).current,m=u.useRef(!1),n=()=>{if(!c.current)return;d.fit();const i=d.proposeDimensions();if(i){const h=new Int8Array([1]),b=new TextEncoder().encode(JSON.stringify({Rows:i.rows,Cols:i.cols})),C=new Int8Array(h.length+b.length);C.set(h),C.set(b,h.length),x.current?.send(C)}},o=async()=>{if(!m.current){m.current=!0;try{await LE(1500),n()}catch(i){console.error("resize error",i)}finally{m.current=!1}}};return u.useEffect(()=>{if(!x.current||!c.current||!l.current)return;const i=new Ha.AttachAddon(x.current);return l.current.loadAddon(i),l.current.loadAddon(d),l.current.open(c.current),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o),x.current&&x.current.close()}},[x.current,l.current,c.current]),e.jsx("div",{ref:c,...t})}),Z_=()=>{const{id:s}=ia(),[r,t]=u.useState(!1),a=F_(s?parseInt(s):void 0),c=u.useRef(null);return e.jsxs("div",{className:"px-8",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx("h1",{className:"flex-1 text-3xl font-bold tracking-tight",children:`Terminal (${s})`}),e.jsxs("div",{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",children:[e.jsx(F,{icon:"expand",onClick:async()=>{await c.current?.requestFullscreen()}}),e.jsx(J_,{id:s})]})]}),a?.session_id?e.jsx(Y_,{ref:c,className:"max-h-[60%] mb-5 overflow-auto",wsUrl:`/api/v1/ws/terminal/${a?.session_id}`,setClose:t}):e.jsx("p",{children:"The server does not exist, or have not been connected yet."}),e.jsx(Ze,{open:r,onOpenChange:t,children:e.jsxs(ze,{className:"sm:max-w-lg",children:[e.jsxs(He,{children:[e.jsx(Ve,{children:"Session completed"}),e.jsx(qe,{children:"You may close this window now."})]}),e.jsx(ts,{children:e.jsx(rs,{asChild:!0,children:e.jsx(T,{onClick:window.close,children:"Close"})})})]})})]})},Q_=({id:s,menuItem:r=!1})=>{const{t}=M(),a=()=>{window.open(`/dashboard/terminal/${s}`,"_blank")};return r?e.jsxs("button",{type:"button",onClick:a,className:"flex w-full items-center text-sm px-2 py-2 hover:bg-accent hover:text-accent-foreground",children:[e.jsx(Sr,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:t("Terminal")})]}):e.jsx(F,{variant:"outline",icon:"terminal",onClick:a})};function sr(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/server",_e,{revalidateOnFocus:!1,revalidateOnReconnect:!1}),{serverGroups:l}=us();u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const x=[{id:"select",header:({table:o})=>e.jsx(B,{checked:o.getIsAllPageRowsSelected()||o.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:i=>o.toggleAllPageRowsSelected(!!i),"aria-label":"Select all"}),cell:({row:o})=>e.jsx(B,{checked:o.getIsSelected(),onCheckedChange:i=>o.toggleSelected(!!i),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:o=>`${o.id}(${o.display_index})`},{header:s("Name"),accessorKey:"name",accessorFn:o=>o.name,cell:({row:o})=>{const i=o.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:i.name})}},{header:s("Group"),accessorKey:"groups",accessorFn:o=>l?.filter(i=>i.servers?.includes(o.id)).map(i=>i.group.id)||[]},{id:"ip",header:"IP",cell:({row:o})=>{const i=o.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:FE(i.geoip?.ip)})}},{header:s("Version"),accessorKey:"host.version",accessorFn:o=>o.host.version||s("Unknown")},{header:s("EnableDDNS"),accessorKey:"enableDDNS",accessorFn:o=>o.enable_ddns??!1},{header:s("HideForGuest"),accessorKey:"hideForGuest",accessorFn:o=>o.hide_for_guest??!1},{id:"note",header:s("Note"),cell:({row:o})=>{const i=o.original;return e.jsx(C_,{note:{private:i.note,public:i.public_note}})}},{id:"uuid",header:"UUID",cell:({row:o})=>{const i=o.original;return e.jsx(Ys,{text:i.uuid})}},{id:"actions",header:s("Actions"),cell:({row:o})=>{const i=o.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:Ut,id:i.id,mutate:t},children:e.jsxs(e.Fragment,{children:[e.jsx(R_,{mutate:t,data:i}),e.jsxs(Qe,{children:[e.jsx(Xe,{asChild:!0,children:e.jsx(F,{icon:"more",variant:"outline","aria-label":"More actions"})}),e.jsxs(We,{align:"end",children:[e.jsx(Q,{asChild:!0,children:e.jsx(Q_,{id:i.id,menuItem:!0})}),e.jsx(Q,{asChild:!0,children:e.jsx(E_,{sid:i.id,variant:"ghost",menuItem:!0})}),e.jsx(Q,{asChild:!0,children:e.jsx(Kt,{uuid:i.uuid,menuItem:!0})})]})]})]})})}}],d=u.useMemo(()=>r??[],[r]),m=Ae({data:d,columns:x,getCoreRowModel:Ee()}),n=m.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full gap-3 mt-6 mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("Server")}),e.jsxs(Oe,{className:"flex gap-2 flex-wrap shrink-0",delete:{fn:Ut,id:n.map(o=>o.original.id),mutate:t},children:[e.jsx(F,{icon:"update",onClick:async()=>{const o=n.map(h=>h.original.id);if(o.length<1){$(s("Error"),{description:s("Results.SelectAtLeastOneServer")});return}let i={};try{i=await gE(o)}catch(h){console.error(h),$(s("Error"),{description:s("Results.UnExpectedError")});return}$(s("Done"),{description:s("Results.ForceUpdate")+(i.success?.length?s("Success")+` [${i.success.join(",")}]`:"")+(i.failure?.length?s("Failure")+` [${i.failure.join(",")}]`:"")+(i.offline?.length?s("Offline")+` [${i.offline.join(",")}]`:"")})}}),e.jsx(b_,{serverIds:n.map(o=>o.original.id)}),e.jsx(I_,{sid:n.map(o=>o.original.id),className:"shadow-[inset_0_1px_0_rgba(255,255,255,0.2)] bg-yellow-600 text-white hover:bg-yellow-500 dark:hover:bg-yellow-700 rounded-lg"}),e.jsx(Kt,{className:"shadow-[inset_0_1px_0_rgba(255,255,255,0.2)] bg-blue-700 text-white hover:bg-blue-600 dark:hover:bg-blue-800 rounded-lg"})]})]}),e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs(be,{className:"min-w-[960px]",children:[e.jsx(ye,{className:"sticky top-0 bg-background z-10",children:m.getHeaderGroups().map(o=>e.jsx(P,{children:o.headers.map(i=>e.jsx(J,{className:"text-sm",children:i.isPlaceholder?null:W(i.column.columnDef.header,i.getContext())},i.id))},o.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:x.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):m.getRowModel().rows?.length?m.getRowModel().rows.map(o=>e.jsx(P,{"data-state":o.getIsSelected()&&"selected",children:o.getVisibleCells().map(i=>e.jsx(I,{className:"text-xsm",children:W(i.column.columnDef.cell,i.getContext())},i.id))},o.id)):e.jsx(P,{children:e.jsx(I,{colSpan:x.length,className:"h-24 text-center",children:s("NoResults")})})})]})})]})}const X_=async s=>A(R.POST,"/api/v1/service",s),e2=async(s,r)=>A(R.PATCH,`/api/v1/service/${s}`,r),tr=async s=>A(R.POST,"/api/v1/batch-delete/service",s),s2=ne({cover:Z().int().min(0),duration:Z().int().min(30),enable_show_in_service:_(V()),enable_trigger_task:_(V()),fail_trigger_tasks:De(je()),fail_trigger_tasks_raw:w(),latency_notify:_(V()),max_latency:Z().int().min(0),min_latency:Z().int().min(0),name:w().min(1),notification_group_id:Z().int(),notify:_(V()),recover_trigger_tasks:De(je()),recover_trigger_tasks_raw:w(),skip_servers:Ns(w(),V()),skip_servers_raw:De(w()),target:w(),type:Z().int().min(0)}),rr=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(s2),defaultValues:s?{...s,fail_trigger_tasks_raw:Te.arrToStr(s.fail_trigger_tasks),recover_trigger_tasks_raw:Te.arrToStr(s.recover_trigger_tasks),skip_servers_raw:Te.recordToStrArr(s.skip_servers?s.skip_servers:{})}:{type:1,cover:0,name:"",target:"",max_latency:0,min_latency:0,duration:30,notification_group_id:0,fail_trigger_tasks:[],fail_trigger_tasks_raw:"",recover_trigger_tasks:[],recover_trigger_tasks_raw:"",skip_servers:{},skip_servers_raw:[]},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async i=>{i.skip_servers=Te.arrToRecord(i.skip_servers_raw),i.fail_trigger_tasks=Te.strToArr(i.fail_trigger_tasks_raw).map(Number),i.recover_trigger_tasks=Te.strToArr(i.recover_trigger_tasks_raw).map(Number);const{skip_servers_raw:h,...b}=i;try{s?.id?await e2(s.id,b):await X_(b)}catch(C){console.error(C),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()},{servers:d}=us(),m=d?.map(i=>({value:`${i.id}`,label:i.name}))||[{value:"",label:""}],{notifierGroup:n}=ys(),o=n?.map(i=>({value:`${i.group.id}`,label:i.group.name}))||[{value:"",label:""}];return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditService":"CreateService")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"My Service Monitor",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"target",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Target")}),e.jsx(j,{children:e.jsx(k,{placeholder:"HTTP (https://t.tt)｜Ping (t.tt)｜TCP (t.tt:80)",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"type",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Type")}),e.jsxs(te,{onValueChange:i.onChange,defaultValue:`${i.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Select service type"})})}),e.jsx(ee,{children:Object.entries(Cn).map(([h,b])=>e.jsx(E,{value:h,children:b},h))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"enable_show_in_service",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(U,{className:"text-sm",children:t("ShowInService")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"duration",render:({field:i})=>e.jsxs(N,{children:[e.jsxs(y,{children:[t("Interval")," (s)"]}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"30",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"cover",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Coverage")}),e.jsxs(te,{onValueChange:i.onChange,defaultValue:`${i.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{})})}),e.jsx(ee,{children:Object.entries(CE).map(([h,b])=>e.jsx(E,{value:h,children:b},h))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"skip_servers_raw",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("SpecificServers")}),e.jsx(j,{children:e.jsx(hs,{options:m,onValueChange:i.onChange,defaultValue:i.value})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"notification_group_id",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("NotifierGroupID")}),e.jsx(j,{children:e.jsx(Ct,{placeholder:"Search...",options:o,onValueChange:i.onChange,defaultValue:i.value.toString()})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"notify",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(U,{className:"text-sm",children:t("EnableFailureNotification")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"max_latency",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("MaximumLatency")}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"100.88",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"min_latency",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("MinimumLatency")}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"100.88",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"latency_notify",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(U,{className:"text-sm",children:t("EnableLatencyNotification")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"enable_trigger_task",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(U,{className:"text-sm",children:t("EnableTriggerTask")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"fail_trigger_tasks_raw",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TasksToTriggerOnAlert")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"1,2,3",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"recover_trigger_tasks_raw",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TasksToTriggerAfterRecovery")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"1,2,3",...i})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Submit")})]})]})})]})})})]})};function t2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/service/list",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.id},{header:s("Name"),accessorFn:n=>n.name,accessorKey:"name",cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:o.name})}},{header:s("Target"),accessorFn:n=>n.target,accessorKey:"target",cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:o.target})}},{header:s("Coverage"),accessorKey:"cover",accessorFn:n=>n.cover,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:(()=>{switch(o.cover){case 0:return e.jsx("span",{children:s("CoverAll")});case 1:return e.jsx("span",{children:s("IgnoreAll")})}})()})}},{header:s("SpecificServers"),cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:Object.keys(o.skip_servers??{}).join(",")})}},{header:s("Type"),accessorKey:"type",accessorFn:n=>n.type,cell:({row:n})=>Cn[n.original.type]||""},{header:s("Interval"),accessorKey:"duration",accessorFn:n=>n.duration},{header:s("NotifierGroupID"),accessorKey:"ngroup",accessorFn:n=>n.notification_group_id},{header:s("Trigger"),accessorKey:"triggerTask",accessorFn:n=>n.enable_trigger_task??!1},{header:s("TasksToTriggerOnAlert"),accessorKey:"failTriggerTasks",accessorFn:n=>n.fail_trigger_tasks},{header:s("TasksToTriggerAfterRecovery"),accessorKey:"recoverTriggerTasks",accessorFn:n=>n.recover_trigger_tasks},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:tr,id:o.id,mutate:t},children:e.jsx(rr,{mutate:t,data:o})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full gap-3 mt-6 mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("Service")}),e.jsx(Oe,{className:"flex gap-2 flex-wrap shrink-0",delete:{fn:tr,id:m.map(n=>n.original.id),mutate:t},children:e.jsx(rr,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const r2=async s=>A(R.POST,"/api/v1/ddns",s),n2=async(s,r)=>A(R.PATCH,`/api/v1/ddns/${s}`,r),nr=async s=>A(R.POST,"/api/v1/batch-delete/ddns",s),a2=async()=>A(R.GET,"/api/v1/ddns/providers",null),o2=ne({max_retries:Z().int().min(1),enable_ipv4:_(V()),enable_ipv6:_(V()),name:w().min(1),provider:w(),domains:De(w()),domains_raw:w(),access_id:_(w()),access_secret:_(w()),webhook_url:_(w().url()),webhook_method:_(Z().int().min(1).max(255)),webhook_request_type:_(Z().int().min(1).max(255)),webhook_request_body:_(w()),webhook_headers:_(w())}),ar=({data:s,providers:r,mutate:t})=>{const{t:a}=M(),c=Ne({resolver:ve(o2),defaultValues:s?{max_retries:s.max_retries??3,enable_ipv4:s.enable_ipv4??!1,enable_ipv6:s.enable_ipv6??!1,name:s.name??"",provider:s.provider??"dummy",domains:s.domains??[],domains_raw:Te.arrToStr(s.domains??[]),access_id:s.access_id??"",access_secret:s.access_secret??"",webhook_url:s.webhook_url??"",webhook_method:s.webhook_method,webhook_request_type:s.webhook_request_type,webhook_request_body:s.webhook_request_body??"",webhook_headers:s.webhook_headers??""}:{max_retries:3,enable_ipv4:!1,enable_ipv6:!1,name:"",provider:"dummy",domains:[],domains_raw:"",access_id:"",access_secret:"",webhook_url:"",webhook_method:void 0,webhook_request_type:void 0,webhook_request_body:"",webhook_headers:""},resetOptions:{keepDefaultValues:!1}}),[l,x]=u.useState(!1),d=async m=>{try{m.domains=Te.strToArr(m.domains_raw),s?.id?await n2(s.id,m):await r2(m)}catch(n){console.error(n),$(a("Error"),{description:a("Results.UnExpectedError")});return}x(!1),await t(),c.reset()};return e.jsxs(me,{open:l,onOpenChange:x,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:a(s?"EditDDNS":"CreateDDNS")}),e.jsx(ce,{})]}),e.jsx(Se,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-2 my-2",children:[e.jsx(v,{control:c.control,name:"name",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:a("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"My DDNS Profile",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"provider",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:a("Provider")}),e.jsxs(te,{onValueChange:m.onChange,defaultValue:`${m.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Select service type"})})}),e.jsx(ee,{children:r.map((n,o)=>e.jsx(E,{value:n,children:n},o))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"domains_raw",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:a("Domains")+a("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"www.example.com",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"access_id",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:[a("Credential")," 1"]}),e.jsx(j,{children:e.jsx(k,{placeholder:"Token ID",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"access_secret",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:[a("Credential")," 2"]}),e.jsx(j,{children:e.jsx(k,{placeholder:"Token Secret",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"max_retries",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:a("MaximumRetryAttempts")}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"3",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"webhook_url",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:"Webhook URL"}),e.jsx(j,{children:e.jsx(k,{placeholder:"https://ddns.example.com/?record=#record#",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"webhook_method",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:["Webhook ",a("RequestMethod")]}),e.jsxs(te,{onValueChange:m.onChange,defaultValue:`${m.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Webhook Request Method"})})}),e.jsx(ee,{children:Object.entries(wE).map(([n,o])=>e.jsx(E,{value:n,children:o},n))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"webhook_request_type",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:["Webhook ",a("RequestType")]}),e.jsxs(te,{onValueChange:m.onChange,defaultValue:`${m.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Webhook Request Type"})})}),e.jsx(ee,{children:Object.entries($E).map(([n,o])=>e.jsx(E,{value:n,children:o},n))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"webhook_headers",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:["Webhook ",a("RequestHeader")]}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",placeholder:'{"User-Agent":"Nezha-Agent"}',...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"webhook_request_body",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:["Webhook ",a("RequestBody")]}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",placeholder:`{\r
 "ip": #ip#,\r
 "domain": "#domain#"\r
}`,...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"enable_ipv4",render:({field:m})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:m.value,onCheckedChange:m.onChange}),e.jsxs(U,{className:"text-sm",children:[a("Enable")," IPv4"]})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"enable_ipv6",render:({field:m})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:m.value,onCheckedChange:m.onChange}),e.jsxs(U,{className:"text-sm",children:[a("Enable")," IPv6"]})]})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:a("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:a("Confirm")})]})]})})]})})})]})};function i2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/ddns",_e),[l,x]=u.useState([]);u.useEffect(()=>{(async()=>{const h=await a2();x(h)})()},[]),u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const d=[{id:"select",header:({table:i})=>e.jsx(B,{checked:i.getIsAllPageRowsSelected()||i.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:h=>i.toggleAllPageRowsSelected(!!h),"aria-label":"Select all"}),cell:({row:i})=>e.jsx(B,{checked:i.getIsSelected(),onCheckedChange:h=>i.toggleSelected(!!h),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:i=>i.id},{header:s("Name"),accessorKey:"name",accessorFn:i=>i.name,cell:({row:i})=>{const h=i.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:h.name})}},{header:"IPv4",accessorKey:"enableIPv4",accessorFn:i=>i.enable_ipv4??!1},{header:"IPv6",accessorKey:"enableIPv6",accessorFn:i=>i.enable_ipv6??!1},{header:s("Provider"),accessorKey:"provider",accessorFn:i=>i.provider},{header:s("Domains"),accessorKey:"domains",accessorFn:i=>i.domains,cell:({row:i})=>{const h=i.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:h.domains})}},{header:s("MaximumRetryAttempts"),accessorKey:"maxRetries",accessorFn:i=>i.max_retries},{id:"actions",header:s("Actions"),cell:({row:i})=>{const h=i.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:nr,id:h.id,mutate:t},children:e.jsx(ar,{mutate:t,data:h,providers:l})})}}],m=u.useMemo(()=>r??[],[r]),n=Ae({data:m,columns:d,getCoreRowModel:Ee()}),o=n.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx("h1",{className:"flex-1 text-3xl font-bold tracking-tight",children:s("DDNS")}),e.jsx(Oe,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:nr,id:o.map(i=>i.original.id),mutate:t},children:e.jsx(ar,{mutate:t,providers:l})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:n.getHeaderGroups().map(i=>e.jsx(P,{children:i.headers.map(h=>e.jsx(J,{className:"text-sm",children:h.isPlaceholder?null:W(h.column.columnDef.header,h.getContext())},h.id))},i.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:d.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):n.getRowModel().rows?.length?n.getRowModel().rows.map(i=>e.jsx(P,{"data-state":i.getIsSelected()&&"selected",children:i.getVisibleCells().map(h=>e.jsx(I,{className:"text-xsm",children:W(h.column.columnDef.cell,h.getContext())},h.id))},i.id)):e.jsx(P,{children:e.jsx(I,{colSpan:d.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const c2=async s=>A(R.POST,"/api/v1/nat",s),l2=async(s,r)=>A(R.PATCH,`/api/v1/nat/${s}`,r),or=async s=>A(R.POST,"/api/v1/batch-delete/nat",s),d2=ne({name:w().min(1),enabled:V(),server_id:Z().int(),host:w(),domain:w()}),ir=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(d2),defaultValues:s?{name:s.name??"",enabled:s.enabled??!1,server_id:s.server_id??0,host:s.host??"",domain:s.domain??""}:{name:"",enabled:!1,server_id:0,host:"",domain:""},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async d=>{try{s?.id?await l2(s.id,d):await c2(d)}catch(m){console.error(m),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()};return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditNAT":"CreateNAT")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"My NAT Profile",...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"server_id",render:({field:d})=>e.jsxs(N,{children:[e.jsxs(y,{children:[t("Server")," ID"]}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"1",...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"host",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("LocalService")}),e.jsx(j,{children:e.jsx(k,{placeholder:"192.168.1.1:80 (with port)",...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"domain",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("BindHostname")}),e.jsx(j,{children:e.jsx(k,{placeholder:"router.app.yourdomain.com",...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"enabled",render:({field:d})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:d.value,onCheckedChange:d.onChange}),e.jsx(U,{className:"text-sm",children:t("Enable")})]})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function u2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/nat",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.id},{header:s("Enabled"),accessorKey:"enabled",accessorFn:n=>n.enabled},{header:s("Name"),accessorKey:"name",accessorFn:n=>n.name,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.name})}},{header:s("Server")+" ID",accessorKey:"serverID",accessorFn:n=>n.server_id},{header:s("LocalService"),accessorKey:"host",accessorFn:n=>n.host,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.host})}},{header:s("BindHostname"),accessorKey:"domain",accessorFn:n=>n.domain,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.domain})}},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:or,id:o.id,mutate:t},children:e.jsx(ir,{mutate:t,data:o})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsxs("h1",{className:"flex-1 text-3xl font-bold tracking-tight",children:[" ",s("NATT")]}),e.jsx(Oe,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:or,id:m.map(n=>n.original.id),mutate:t},children:e.jsx(ir,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const Qs=vo,$s=u.forwardRef(({className:s,...r},t)=>e.jsx(xn,{ref:t,className:g("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r}));$s.displayName=xn.displayName;const Ie=u.forwardRef(({className:s,...r},t)=>e.jsx(gn,{ref:t,className:g("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r}));Ie.displayName=gn.displayName;const lt=u.forwardRef(({className:s,...r},t)=>e.jsx(pn,{ref:t,className:g("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r}));lt.displayName=pn.displayName;const ta=({className:s})=>{const{t:r}=M(),t=bs();return e.jsx(Qs,{defaultValue:t.pathname,className:s,children:e.jsxs($s,{className:"grid w-full grid-cols-2",children:[e.jsx(Ie,{value:"/dashboard/server-group",asChild:!0,children:e.jsx(se,{to:"/dashboard/server-group",children:r("Server")})}),e.jsx(Ie,{value:"/dashboard/notification-group",asChild:!0,children:e.jsx(se,{to:"/dashboard/notification-group",children:r("Notification")})})]})})},m2=ne({name:w().min(1),notifications:De(je())}),cr=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(m2),defaultValues:s?{name:s.group.name,notifications:s.notifications}:{name:"",notifications:[]},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async n=>{try{s?.group.id?await uE(s.group.id,n):await dE(n)}catch(o){console.error(o),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()},{notifiers:d}=ys(),m=d?.map(n=>({value:`${n.id}`,label:n.name}))||[{value:"",label:""}];return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditNotifierGroup":"CreateNotifierGroup")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"Group Name",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"notifications",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Notification")}),e.jsx(hs,{options:m,onValueChange:o=>{const i=o.map(Number);n.onChange(i)},defaultValue:n.value?.map(String)}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function h2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/notification-group",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.group.id},{header:s("Name"),accessorKey:"name",accessorFn:n=>n.group.name,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:o.group.name})}},{header:s("Notifier")+"(ID)",accessorKey:"notifications",accessorFn:n=>n.notifications,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:e.jsx("span",{children:(o.notifications||[]).join(",")})})}},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:Mt,id:o.group.id,mutate:t},children:e.jsx(cr,{mutate:t,data:o})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx(ta,{className:"flex-1 mr-4 sm:max-w-[40%]"}),e.jsx(Oe,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:Mt,id:m.map(n=>n.original.group.id),mutate:t},children:e.jsx(cr,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const x2=ne({name:w().min(1),servers:De(je())}),lr=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(x2),defaultValues:s?{name:s.group.name,servers:s.servers}:{name:"",servers:[]},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async n=>{try{s?.group.id?await NE(s.group.id,n):await jE(n)}catch(o){console.error(o),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()},{servers:d}=us(),m=d?.map(n=>({value:`${n.id}`,label:n.name}))||[{value:"",label:""}];return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditServerGroup":"CreateServerGroup")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"Group Name",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"servers",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Server")}),e.jsx(j,{children:e.jsx(hs,{options:m,onValueChange:o=>{const i=o.map(Number);n.onChange(i)},defaultValue:n.value?.map(String)})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function g2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/server-group",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.group.id},{header:s("Name"),accessorKey:"name",accessorFn:n=>n.group.name,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:o.group.name})}},{header:s("Server")+"(ID)",accessorKey:"servers",accessorFn:n=>n.servers,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:e.jsx("span",{children:(o.servers||[]).join(",")})})}},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:Bt,id:o.group.id,mutate:t},children:e.jsx(lr,{mutate:t,data:o})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx(ta,{className:"flex-1 mr-4 sm:max-w-[40%]"}),e.jsx(Oe,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:Bt,id:m.map(n=>n.original.group.id),mutate:t},children:e.jsx(lr,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const p2=async s=>A(R.POST,"/api/v1/alert-rule",s),f2=async(s,r)=>A(R.PATCH,`/api/v1/alert-rule/${s}`,r),dr=async s=>A(R.POST,"/api/v1/batch-delete/alert-rule",s),j2=ne({type:w(),min:je().optional(),max:je().optional(),cycle_start:w().optional(),cycle_interval:je().optional(),cycle_unit:jn(["hour","day","week","month","year"]).optional(),duration:je().optional(),cover:je().int().min(0),ignore:Ns(w(),V()).optional(),next_transfer_at:Ns(w(),w()).optional(),last_cycle_status:V().optional()}),N2=ne({name:w().min(1),rules_raw:w().refine(s=>{try{return JSON.parse(s),!0}catch{return!1}},{message:"Invalid JSON string"}),rules:De(j2),fail_trigger_tasks:De(je()),fail_trigger_tasks_raw:w(),recover_trigger_tasks:De(je()),recover_trigger_tasks_raw:w(),notification_group_id:Z().int(),trigger_mode:Z().int().min(0),enable:V().optional()}),ur=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(N2),defaultValues:s?{...s,rules_raw:JSON.stringify(s.rules),fail_trigger_tasks_raw:Te.arrToStr(s.fail_trigger_tasks),recover_trigger_tasks_raw:Te.arrToStr(s.recover_trigger_tasks)}:{name:"",rules_raw:"",rules:[],fail_trigger_tasks:[],fail_trigger_tasks_raw:"",recover_trigger_tasks:[],recover_trigger_tasks_raw:"",notification_group_id:0,trigger_mode:0},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=(()=>{try{if(s?.rules)return s.rules;const h=a.getValues("rules_raw");return h?JSON.parse(h):[]}catch{return[]}})(),[d,m]=u.useState(x);u.useEffect(()=>{try{a.setValue("rules_raw",JSON.stringify(d),{shouldDirty:!0})}catch{}},[d]);const n=async h=>{h.rules=JSON.parse(h.rules_raw),h.fail_trigger_tasks=Te.strToArr(h.fail_trigger_tasks_raw).map(Number),h.recover_trigger_tasks=Te.strToArr(h.recover_trigger_tasks_raw).map(Number);const{rules_raw:b,...C}=h;try{s?.id?await f2(s.id,C):await p2(C)}catch(K){console.error(K),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()},{notifierGroup:o}=ys(),i=o?.map(h=>({value:`${h.group.id}`,label:h.group.name}))||[{value:"",label:""}];return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditAlertRule":"CreateAlertRule")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(n),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{...h})}),e.jsx(S,{})]})}),e.jsxs(N,{children:[e.jsx(y,{children:t("Rules")}),e.jsxs("div",{className:"space-y-3",children:[d.map((h,b)=>{const C=typeof h.type=="string"&&h.type.endsWith("_cycle"),K=h.type==="offline";return e.jsxs("div",{className:"rounded-md border p-3 space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:t("Type")}),e.jsxs(te,{onValueChange:G=>{const f=[...d];f[b]={...f[b],type:G},G.endsWith("_cycle")||(delete f[b].cycle_start,delete f[b].cycle_interval,delete f[b].cycle_unit),m(f)},defaultValue:h.type||"",children:[e.jsx(X,{children:e.jsx(re,{placeholder:t("Select")})}),e.jsxs(ee,{children:[e.jsx(E,{value:"cpu",children:"cpu"}),e.jsx(E,{value:"gpu",children:"gpu"}),e.jsx(E,{value:"memory",children:"memory"}),e.jsx(E,{value:"swap",children:"swap"}),e.jsx(E,{value:"disk",children:"disk"}),e.jsx(E,{value:"net_in_speed",children:"net_in_speed"}),e.jsx(E,{value:"net_out_speed",children:"net_out_speed"}),e.jsx(E,{value:"net_all_speed",children:"net_all_speed"}),e.jsx(E,{value:"transfer_in",children:"transfer_in"}),e.jsx(E,{value:"transfer_out",children:"transfer_out"}),e.jsx(E,{value:"transfer_all",children:"transfer_all"}),e.jsx(E,{value:"offline",children:"offline"}),e.jsx(E,{value:"load1",children:"load1"}),e.jsx(E,{value:"load5",children:"load5"}),e.jsx(E,{value:"load15",children:"load15"}),e.jsx(E,{value:"process_count",children:"process_count"}),e.jsx(E,{value:"tcp_conn_count",children:"tcp_conn_count"}),e.jsx(E,{value:"udp_conn_count",children:"udp_conn_count"}),e.jsx(E,{value:"temperature_max",children:"temperature_max"}),e.jsx(E,{value:"transfer_in_cycle",children:"transfer_in_cycle"}),e.jsx(E,{value:"transfer_out_cycle",children:"transfer_out_cycle"}),e.jsx(E,{value:"transfer_all_cycle",children:"transfer_all_cycle"})]})]})]}),e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:"duration"}),e.jsx(k,{type:"number",value:h.duration??"",onChange:G=>{const f=[...d];f[b]={...f[b],duration:G.target.value?Number(G.target.value):void 0},m(f)},placeholder:"10"})]})]}),!K&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:"min"}),e.jsx(k,{type:"number",value:h.min??"",onChange:G=>{const f=[...d];f[b]={...f[b],min:G.target.value?Number(G.target.value):void 0},m(f)},placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:"max"}),e.jsx(k,{type:"number",value:h.max??"",onChange:G=>{const f=[...d];f[b]={...f[b],max:G.target.value?Number(G.target.value):void 0},m(f)},placeholder:"100"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:"cover"}),e.jsxs(te,{onValueChange:G=>{const f=[...d];f[b]={...f[b],cover:Number(G)},m(f)},defaultValue:(h.cover??0).toString(),children:[e.jsx(X,{children:e.jsx(re,{})}),e.jsxs(ee,{children:[e.jsxs(E,{value:"0",children:["0（",t("AlertRules.CoverAllServers"),"）"]}),e.jsxs(E,{value:"1",children:["1（",t("AlertRules.IgnoreAllSelectSpecific"),"）"]})]})]})]}),e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:t("AlertRules.IgnoreHint",{server:t("Server")})}),e.jsx(ae,{className:"resize-y",value:(()=>{try{return h.ignore?JSON.stringify(h.ignore):""}catch{return""}})(),onChange:G=>{const f=[...d];try{const p=G.target.value?JSON.parse(G.target.value):void 0;f[b]={...f[b],ignore:p}}catch{}m(f)},placeholder:t("AlertRules.IgnoreExample")})]})]}),C&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx(U,{className:"text-sm",children:"cycle_start (RFC3339)"}),e.jsx(k,{value:h.cycle_start??"",onChange:G=>{const f=[...d];f[b]={...f[b],cycle_start:G.target.value||void 0},m(f)},placeholder:"2022-01-01T00:00:00+08:00"})]}),e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:"cycle_interval"}),e.jsx(k,{type:"number",value:h.cycle_interval??"",onChange:G=>{const f=[...d];f[b]={...f[b],cycle_interval:G.target.value?Number(G.target.value):void 0},m(f)},placeholder:"1"})]}),e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:"cycle_unit"}),e.jsxs(te,{onValueChange:G=>{const f=[...d];f[b]={...f[b],cycle_unit:G},m(f)},defaultValue:h.cycle_unit||"month",children:[e.jsx(X,{children:e.jsx(re,{})}),e.jsxs(ee,{children:[e.jsx(E,{value:"hour",children:"hour"}),e.jsx(E,{value:"day",children:"day"}),e.jsx(E,{value:"week",children:"week"}),e.jsx(E,{value:"month",children:"month"}),e.jsx(E,{value:"year",children:"year"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(T,{type:"button",variant:"secondary",onClick:()=>{const G=[...d];G.splice(b,1),m(G)},children:t("Delete")}),e.jsx("span",{})]})]},b)}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(T,{type:"button",variant:"outline",onClick:()=>{m([...d,{type:"",cover:0,duration:10}])},children:t("Add")})})]}),e.jsx(y,{className:"mt-3",children:t("AdvancedJSON")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",value:a.watch("rules_raw"),onChange:h=>{a.setValue("rules_raw",h.target.value,{shouldDirty:!0});try{const b=JSON.parse(h.target.value);Array.isArray(b)&&m(b)}catch{}}})})]}),e.jsx(v,{control:a.control,name:"notification_group_id",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("NotifierGroup")}),e.jsx(j,{children:e.jsx(Ct,{placeholder:t("Search"),options:i,onValueChange:h.onChange,defaultValue:h.value.toString()})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"trigger_mode",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TriggerMode")}),e.jsxs(te,{onValueChange:h.onChange,defaultValue:`${h.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{})})}),e.jsx(ee,{children:Object.entries($n).map(([b,C])=>e.jsx(E,{value:b,children:C},b))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"fail_trigger_tasks_raw",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TasksToTriggerOnAlert")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"1,2,3",...h})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"recover_trigger_tasks_raw",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TasksToTriggerAfterRecovery")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"1,2,3",...h})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"enable",render:({field:h})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:h.value,onCheckedChange:h.onChange}),e.jsx(U,{className:"text-sm",children:t("Enable")})]})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})},ra=({className:s})=>{const{t:r}=M(),t=bs();return e.jsx(Qs,{defaultValue:t.pathname,className:s,children:e.jsxs($s,{className:"grid w-full grid-cols-2",children:[e.jsx(Ie,{value:"/dashboard/notification",asChild:!0,children:e.jsx(se,{to:"/dashboard/notification",children:r("Notifier")})}),e.jsx(Ie,{value:"/dashboard/alert-rule",asChild:!0,children:e.jsx(se,{to:"/dashboard/alert-rule",children:r("AlertRule")})})]})})};function v2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/alert-rule",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.id},{header:s("Name"),accessorKey:"name",accessorFn:n=>n.name,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.name})}},{header:s("NotifierGroup"),accessorKey:"ngroup",accessorFn:n=>n.notification_group_id},{header:s("TriggerMode"),accessorKey:"trigger Mode",accessorFn:n=>$n[n.trigger_mode]||""},{header:s("Rules"),cell:({row:n})=>{const o=n.original;return e.jsx(Ys,{text:JSON.stringify(o.rules)})}},{header:s("TasksToTriggerOnAlert"),accessorKey:"failTriggerTasks",accessorFn:n=>n.fail_trigger_tasks},{header:s("TasksToTriggerAfterRecovery"),accessorKey:"recoverTriggerTasks",accessorFn:n=>n.recover_trigger_tasks},{header:s("Enable"),accessorKey:"enable",accessorFn:n=>n.enable},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:dr,id:o.id,mutate:t},children:e.jsx(ur,{mutate:t,data:o})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx(ra,{className:"flex-1 mr-4 sm:max-w-[40%]"}),e.jsx(Oe,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:dr,id:m.map(n=>n.original.id),mutate:t},children:e.jsx(ur,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const S2=ne({name:w().min(1),url:w().url(),request_method:Z().int().min(1).max(255),request_type:Z().int().min(1).max(255),request_header:w(),request_body:w(),verify_tls:_(V()),skip_check:_(V())}),mr=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(S2),defaultValues:s?{name:s.name??"",url:s.url??"",request_method:s.request_method??1,request_type:s.request_type??1,request_header:s.request_header??"",request_body:s.request_body??"",verify_tls:s.verify_tls??!1,skip_check:s.skip_check??!1}:{name:"",url:"",request_method:1,request_type:1,request_header:"",request_body:"",verify_tls:!1,skip_check:!1},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async d=>{try{s?.id?await cE(s.id,d):await iE(d)}catch(m){console.error(m),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()};return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditNotifier":"CreateNotifier")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"My Notifier",...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"url",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:"URL"}),e.jsx(j,{children:e.jsx(k,{...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"request_method",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("RequestMethod")}),e.jsxs(te,{onValueChange:d.onChange,defaultValue:`${d.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Request Method"})})}),e.jsx(ee,{children:Object.entries(DE).map(([m,n])=>e.jsx(E,{value:m,children:n},m))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"request_type",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Type")}),e.jsxs(te,{onValueChange:d.onChange,defaultValue:`${d.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Request Type"})})}),e.jsx(ee,{children:Object.entries(kE).map(([m,n])=>e.jsx(E,{value:m,children:n},m))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"request_header",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("RequestHeader")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",placeholder:'{"User-Agent":"Nezha-Agent"}',...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"request_body",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("RequestBody")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y h-[240px]",placeholder:`{\r
  "content":"#NEZHA#",\r
  "ServerName":"#SERVER.NAME#",\r
  "ServerIP":"#SERVER.IP#",\r
  "ServerIPV4":"#SERVER.IPV4#",\r
  "ServerIPV6":"#SERVER.IPV6#",\r
  "CPU":"#SERVER.CPU#",\r
  "MEM":"#SERVER.MEM#",\r
  "SWAP":"#SERVER.SWAP#",\r
  "DISK":"#SERVER.DISK#",\r
  "NetInSpeed":"#SERVER.NETINSPEED#",\r
  "NetOutSpeed":"#SERVER.NETOUTSPEED#",\r
  "TransferIn":"#SERVER.TRANSFERIN#",\r
  "TranferOut":"#SERVER.TRANSFEROUT#",\r
  "Load1":"#SERVER.LOAD1#",\r
  "Load5":"#SERVER.LOAD5#",\r
  "Load15":"#SERVER.LOAD15#",\r
  "TCP_CONN_COUNT":"#SERVER.TCPCONNCOUNT",\r
  "UDP_CONN_COUNT":"#SERVER.UDPCONNCOUNT"\r
}`,...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"verify_tls",render:({field:d})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:d.value,onCheckedChange:d.onChange}),e.jsx(U,{className:"text-sm",children:t("VerifyTLS")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"skip_check",render:({field:d})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:d.value,onCheckedChange:d.onChange}),e.jsx(U,{className:"text-sm",children:t("DoNotSendTestMessage")})]})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function b2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/notification",_e),{notifierGroup:l}=ys();u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const x=[{id:"select",header:({table:o})=>e.jsx(B,{checked:o.getIsAllPageRowsSelected()||o.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:i=>o.toggleAllPageRowsSelected(!!i),"aria-label":"Select all"}),cell:({row:o})=>e.jsx(B,{checked:o.getIsSelected(),onCheckedChange:i=>o.toggleSelected(!!i),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:o=>o.id},{header:s("Name"),accessorKey:"name",accessorFn:o=>o.name,cell:({row:o})=>{const i=o.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:i.name})}},{header:s("Group"),accessorKey:"groups",accessorFn:o=>l?.filter(i=>i.notifications?.includes(o.id)).map(i=>i.group.id)||[]},{header:"URL",accessorKey:"url",accessorFn:o=>o.url,cell:({row:o})=>{const i=o.original;return e.jsx(Ys,{text:i.url})}},{header:s("VerifyTLS"),accessorKey:"verify_tls",accessorFn:o=>o.verify_tls},{id:"actions",header:s("Actions"),cell:({row:o})=>{const i=o.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:Ot,id:i.id,mutate:t},children:e.jsx(mr,{mutate:t,data:i})})}}],d=u.useMemo(()=>r??[],[r]),m=Ae({data:d,columns:x,getCoreRowModel:Ee()}),n=m.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx(ra,{className:"flex-1 mr-4 sm:max-w-[40%]"}),e.jsx(Oe,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:Ot,id:n.map(o=>o.original.id),mutate:t},children:e.jsx(mr,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:m.getHeaderGroups().map(o=>e.jsx(P,{children:o.headers.map(i=>e.jsx(J,{className:"text-sm",children:i.isPlaceholder?null:W(i.column.columnDef.header,i.getContext())},i.id))},o.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:x.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):m.getRowModel().rows?.length?m.getRowModel().rows.map(o=>e.jsx(P,{"data-state":o.getIsSelected()&&"selected",children:o.getVisibleCells().map(i=>e.jsx(I,{className:"text-xsm",children:W(i.column.columnDef.cell,i.getContext())},i.id))},o.id)):e.jsx(P,{children:e.jsx(I,{colSpan:x.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const hr=async s=>A(R.POST,"/api/v1/online-user/batch-block",s),Xs=({className:s})=>{const{t:r}=M(),{profile:t}=es(),a=t?.role===0;return e.jsx(Qs,{defaultValue:window.location.pathname,className:s,children:e.jsxs($s,{className:"grid w-full grid-cols-5",children:[a&&e.jsxs(e.Fragment,{children:[e.jsx(Ie,{value:"/dashboard/settings",asChild:!0,children:e.jsx(se,{to:"/dashboard/settings",children:r("Settings")})}),e.jsx(Ie,{value:"/dashboard/settings/user",asChild:!0,children:e.jsx(se,{to:"/dashboard/settings/user",children:r("User")})}),e.jsx(Ie,{value:"/dashboard/settings/terminal-audit",asChild:!0,children:e.jsx(se,{to:"/dashboard/settings/terminal-audit",children:"终端审计"})})]}),e.jsx(Ie,{value:"/dashboard/settings/online-user",asChild:!0,children:e.jsx(se,{to:"/dashboard/settings/online-user",children:r("OnlineUser")})}),e.jsx(Ie,{value:"/dashboard/settings/waf",asChild:!0,children:e.jsx(se,{to:"/dashboard/settings/waf",children:r("WAF")})})]})})},Tt=({className:s,...r})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:g("mx-auto flex w-full justify-center",s),...r});Tt.displayName="Pagination";const Dt=u.forwardRef(({className:s,...r},t)=>e.jsx("ul",{ref:t,className:g("flex flex-row items-center gap-1",s),...r}));Dt.displayName="PaginationContent";const Ge=u.forwardRef(({className:s,...r},t)=>e.jsx("li",{ref:t,className:g("",s),...r}));Ge.displayName="PaginationItem";const Ts=({className:s,isActive:r,size:t="icon",...a})=>e.jsx("a",{"aria-current":r?"page":void 0,className:g(Be({variant:r?"outline":"ghost",size:t}),s),...a});Ts.displayName="PaginationLink";const kt=({className:s,...r})=>e.jsxs(Ts,{"aria-label":"Go to previous page",size:"default",className:g("gap-1 pl-2.5",s),...r,children:[e.jsx(yr,{className:"h-4 w-4"}),e.jsx("span",{children:"Previous"})]});kt.displayName="PaginationPrevious";const Pt=({className:s,...r})=>e.jsxs(Ts,{"aria-label":"Go to next page",size:"default",className:g("gap-1 pr-2.5",s),...r,children:[e.jsx("span",{children:"Next"}),e.jsx(qs,{className:"h-4 w-4"})]});Pt.displayName="PaginationNext";const Rt=({className:s,...r})=>e.jsxs("span",{"aria-hidden":!0,className:g("flex h-9 w-9 items-center justify-center",s),...r,children:[e.jsx(ht,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"More pages"})]});Rt.displayName="PaginationEllipsis";function y2(){const{t:s}=M(),{profile:r}=es(),[t,a]=jr(),c=Number(t.get("page"))||1,l=Number(t.get("pageSize"))||10,x=(c-1)*l,{data:d,mutate:m,error:n,isLoading:o}=pe(`/api/v1/online-user?offset=${x}&limit=${l}`,_e),i=r?.role===0;u.useEffect(()=>{n&&$(s("Error"),{description:s(`Error fetching resource: ${n.message}.`)})},[n]);let h=[{id:"select",header:({table:f})=>e.jsx(B,{checked:f.getIsAllPageRowsSelected()||f.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:p=>f.toggleAllPageRowsSelected(!!p),"aria-label":"Select all"}),cell:({row:f})=>e.jsx(B,{checked:f.getIsSelected(),onCheckedChange:p=>f.toggleSelected(!!p),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"IP",accessorKey:"ip",accessorFn:f=>f.ip??""},{header:s("UserId"),accessorKey:"user_id",accessorFn:f=>f.user_id||""},{header:s("ConnectedAt"),accessorKey:"connected_at",accessorFn:f=>f.connected_at,cell:({row:f})=>{const p=f.original,q=new Date(p.connected_at);return e.jsx("span",{children:q.toISOString()})}},{id:"actions",header:"Actions",cell:({row:f})=>{const p=f.original;return e.jsx(i_,{className:"flex gap-2",block:{fn:hr,id:p.ip??"",mutate:m},children:e.jsx(e.Fragment,{})})}}];i||(h=h.filter(f=>f.id!=="actions"));const b=u.useMemo(()=>d?.value??[],[d]),C=Ae({data:b,columns:h,getCoreRowModel:Ee()}),K=C.getSelectedRowModel().rows,G=()=>{if(!d?.pagination)return null;const{total:f}=d.pagination,p=Math.ceil(f/l),q=z=>{z<1||z>p||a({page:z.toString(),pageSize:l.toString()})},fe=()=>{const z=[];if(p<=5)return Array.from({length:p},(L,D)=>D+1);z.push(1);let we=Math.max(2,c-1),$e=Math.min(p-1,c+1);c<=3?$e=Math.min(4,p-1):c>=p-2&&(we=Math.max(2,p-3)),we>2&&z.push(-1);for(let L=we;L<=$e;L++)z.push(L);return $e<p-1&&z.push(-1),p>1&&z.push(p),z};return e.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s("Total"),": ",f]}),e.jsx(Tt,{children:e.jsxs(Dt,{children:[e.jsx(Ge,{children:e.jsx(kt,{onClick:()=>q(c-1),className:c<=1?"pointer-events-none opacity-50":"cursor-pointer"})}),fe().map((z,Pe)=>z===-1?e.jsx(Ge,{children:e.jsx(Rt,{})},`ellipsis-${Pe}`):e.jsx(Ge,{children:e.jsx(Ts,{onClick:()=>q(z),isActive:z===c,children:z})},z)),e.jsx(Ge,{children:e.jsx(Pt,{onClick:()=>q(c+1),className:c>=p?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})};return e.jsxs("div",{className:"px-3",children:[e.jsx(Xs,{className:"mt-6 w-full"}),e.jsx("div",{className:"flex mt-4 mb-4",children:i&&e.jsx(x_,{className:"flex-2 flex gap-2 ml-auto",block:{fn:hr,id:K.map(f=>f.original.ip??""),mutate:m},children:e.jsx(e.Fragment,{})})}),e.jsxs(be,{children:[e.jsx(ye,{children:C.getHeaderGroups().map(f=>e.jsx(P,{children:f.headers.map(p=>e.jsx(J,{className:"text-sm",children:p.isPlaceholder?null:W(p.column.columnDef.header,p.getContext())},p.id))},f.id))}),e.jsx(Ce,{children:o?e.jsx(P,{children:e.jsxs(I,{colSpan:h.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):C.getRowModel().rows?.length?C.getRowModel().rows.map(f=>e.jsx(P,{"data-state":f.getIsSelected()&&"selected",children:f.getVisibleCells().map(p=>e.jsx(I,{className:"text-xsm",children:W(p.column.columnDef.cell,p.getContext())},p.id))},f.id)):e.jsx(P,{children:e.jsx(I,{colSpan:h.length,className:"h-24 text-center",children:s("NoResults")})})})]}),G()]})}const C2=ne({original_password:w().min(5).max(72),new_password:w().min(8).max(72),new_username:w().min(1).max(32),reject_password:_(V())}),xr=({className:s})=>{const{t:r}=M(),{profile:t,setProfile:a}=ls(),c=Ne({resolver:ve(C2),defaultValues:{original_password:"",new_password:"",new_username:t?.username,reject_password:t?.reject_password},resetOptions:{keepDefaultValues:!1}}),[l,x]=u.useState(!1),d=async m=>{try{await nE(m)}catch(o){console.error(o),$(r("Error"),{description:r("Results.UnExpectedError")});return}const n=await os();a(n),x(!1),c.reset()};return e.jsxs(me,{open:l,onOpenChange:x,children:[e.jsx(xe,{asChild:!0,children:e.jsx(T,{variant:"outline",className:s,children:r("UpdateProfile")})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:r("UpdateProfile")}),e.jsx(ce,{})]}),e.jsx(Se,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-2 my-2",children:[e.jsx(v,{control:c.control,name:"new_username",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:r("NewUsername")}),e.jsx(j,{children:e.jsx(k,{autoComplete:"username",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"original_password",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:r("OriginalPassword")}),e.jsx(j,{children:e.jsx(k,{autoComplete:"current-password",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"new_password",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:r("NewPassword")}),e.jsx(j,{children:e.jsx(k,{...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"reject_password",render:({field:m})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:m.value,onCheckedChange:m.onChange}),e.jsx(U,{className:"text-sm",children:r("RejectPassword")})]})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:r("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:r("Confirm")})]})]})})]})})})]})};function w2(){const{profile:s,setProfile:r}=ls(),{servers:t,serverGroups:a}=us(),{data:c}=Cs(),l=Js("(min-width: 890px)");u.useEffect(()=>{new URLSearchParams(window.location.search).get("oauth2")&&(os().then(n=>{r(n)}),window.history.replaceState({},document.title,window.location.pathname))},[window.location.search]);const x=async m=>{try{const n=await Vn(m,wt.BIND);window.location.href=n.redirect}catch(n){$.error(n.message)}},d=async m=>{try{await j_(m);const n=await os();r(n)}catch(n){$.error(n.message)}};return s&&e.jsxs("div",{className:`flex p-8 gap-4 ${l?"ml-6":"flex-col"}`,children:[e.jsxs("div",{className:`flex ${l?"flex-col mr-6":"gap-4 w-full items-center"}`,children:[e.jsxs(Ms,{className:`${l?"h-[300px] w-[300px]":"h-[150px] w-[150px]"} border-foreground border-[1px]`,children:[e.jsx(Us,{src:"https://api.dicebear.com/7.x/notionists/svg?seed="+s.username,alt:s.username}),e.jsx(Bs,{children:s.username})]}),e.jsxs("div",{children:[e.jsx("p",{className:"justify-center text-3xl font-semibold",children:s.username}),e.jsxs("p",{className:"text-gray-400",children:["IP: ",s.login_ip||"Unknown"]})]}),l&&e.jsx(xr,{className:"flex mt-4 justify-center items-center max-w-[300px] rounded-lg"})]}),!l&&e.jsx(xr,{className:"flex justify-center items-center max-w-full rounded-lg"}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs(is,{className:"w-full",children:[e.jsx(Es,{children:e.jsxs(_s,{className:"flex gap-2 text-xl items-center",children:[e.jsx(Va,{})," Servers"]})}),e.jsx(cs,{className:"text-lg font-semibold",children:t?.length||0})]}),e.jsxs(is,{className:"w-full",children:[e.jsx(Es,{children:e.jsxs(_s,{className:"flex gap-2 text-xl items-center",children:[e.jsx(Lt,{})," Server Groups"]})}),e.jsx(cs,{className:"text-lg font-semibold",children:a?.length||0})]}),e.jsxs(is,{className:"w-full",children:[e.jsx(Es,{children:e.jsxs(_s,{className:"flex gap-2 text-xl items-center",children:[e.jsx(Lt,{})," Oauth2 bindings"]})}),e.jsx(cs,{className:"text-lg font-semibold",children:c?.config?.oauth2_providers?.map(m=>e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[e.jsxs("section",{className:"flex gap-2 items-center",children:[e.jsxs("p",{children:[m,": "]}),s.oauth2_bind?.[m.toLowerCase()]&&e.jsx("p",{className:" bg-muted px-1.5 py-0.5 text-sm rounded-full",children:s.oauth2_bind?.[m.toLowerCase()]})]}),s.oauth2_bind?.[m.toLowerCase()]?e.jsx(T,{className:"w-fit bg-red-600 hover:bg-red-500 dark:text-white rounded-lg shadow-[inset_0_1px_0_rgba(255,255,255,0.2)] my-1",size:"sm",onClick:()=>d(m),children:"Unbind"}):e.jsx(T,{className:"my-1",size:"sm",onClick:()=>x(m),children:"Bind"})]}))})]})]})})]})}const $2=async s=>A(R.PATCH,"/api/v1/setting",s),T2=ne({dns_servers:_(w()),autossh_host:_(w()),ignored_ip_notification:_(w()),ip_change_notification_group_id:Z().int().min(0),cover:Z().int().min(1),site_name:w().min(1),language:w().min(2),user_template:w().min(1),install_host:_(w()),custom_code:_(w()),custom_code_dashboard:_(w()),web_real_ip_header:_(w()),agent_real_ip_header:_(w()),tls:_(V()),enable_ip_change_notification:_(V()),enable_plain_ip_in_notification:_(V())});function D2(){const{t:s,i18n:r}=M(),{data:t,mutate:a}=Cs(),{profile:c}=es(),l=Vs();c?.role===0||l("/dashboard/settings/online-user");const d=Ne({resolver:ve(T2),defaultValues:t?{...t.config,user_template:t.config?.user_template||Object.keys(t.frontend_templates?.filter(n=>!n.is_admin)||{})[0]||"user-dist"}:{ip_change_notification_group_id:0,cover:1,site_name:"",language:"",user_template:"user-dist"},resetOptions:{keepDefaultValues:!1}});u.useEffect(()=>{t?.config&&d.reset(t?.config)},[t?.config,d]);const m=async n=>{try{await $2(n),d.reset(),await a()}catch(o){$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:o?.toString()})});return}finally{n.language!=r.language&&r.changeLanguage(n.language),$(s("Success"))}};return e.jsxs("div",{className:"px-3",children:[e.jsx(Xs,{className:"mt-6 mb-4 w-full"}),e.jsx("div",{children:e.jsx(Se,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(m),className:"space-y-2 my-2",children:[e.jsx(v,{control:d.control,name:"site_name",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("SiteName")}),e.jsx(j,{children:e.jsx(k,{...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"language",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("Language")}),e.jsx(j,{children:e.jsxs(te,{onValueChange:n.onChange,value:n.value,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{})})}),e.jsx(ee,{children:Object.entries(RE).map(([o,i])=>e.jsx(E,{value:o,children:i},o))})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"user_template",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("Theme")}),e.jsx(j,{children:e.jsxs(te,{value:n.value,onValueChange:o=>{const i=t?.frontend_templates?.find(h=>h.path===o);i&&d.setValue("user_template",i.path)},children:[e.jsx(j,{children:e.jsx(X,{className:"py-8",children:e.jsx(re,{placeholder:s("SelectTheme")})})}),e.jsx(ee,{children:(t?.frontend_templates?.filter(o=>!o.is_admin)||[]).map(o=>e.jsxs("div",{children:[e.jsx(E,{value:o.path,children:e.jsxs("div",{className:"flex flex-col items-start gap-1",children:[e.jsx("div",{className:"font-medium",children:o.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[s("Author"),":"," ",o.author]}),o.is_official?e.jsx("span",{className:"px-1.5 py-0.5 rounded-md bg-blue-100 text-blue-800 text-xs",children:s("Official")}):e.jsx("span",{className:"px-1.5 py-0.5 rounded-md bg-red-100 text-red-800 text-xs",children:s("Community")})]})]})}),e.jsx("div",{className:"px-8 py-1",children:e.jsx("a",{href:o.repository,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:o.repository})})]},o.path))})]})}),e.jsx(S,{}),!t?.frontend_templates?.find(o=>o.path===n.value)?.is_official&&e.jsxs("div",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-200 bg-yellow-100 dark:bg-yellow-900 border border-yellow-200 dark:border-yellow-700 rounded-md p-2",children:[e.jsx("div",{className:"font-medium text-lg mb-1",children:s("CommunityThemeWarning")}),e.jsx("div",{className:"text-yellow-700 dark:text-yellow-200",children:s("CommunityThemeDescription")})]})]})}),e.jsx(v,{control:d.control,name:"custom_code",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("CustomCodes")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y min-h-48",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"custom_code_dashboard",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("CustomCodesDashboard")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y min-h-48",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"install_host",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("DashboardOriginalHost")}),e.jsx(j,{children:e.jsx(k,{...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"tls",render:({field:n})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:n.value,onCheckedChange:n.onChange}),e.jsx(U,{className:"text-sm",children:s("ConfigTLS")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"dns_servers",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("CustomPublicDNSNameserversforDDNS")+" "+s("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"autossh_host",render:({field:n})=>e.jsxs(N,{children:[e.jsxs(y,{children:[s("AutoSSHServerAddress")," (",s("AutoSSHServerAddressFormat"),")"]}),e.jsx(j,{children:e.jsx(k,{placeholder:"root@156.227.233.135:22",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"web_real_ip_header",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("WebRealIPHeader")}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{disabled:n.value=="NZ::Use-Peer-IP",className:"w-1/2",placeholder:"CF-Connecting-IP",...n}),e.jsx(B,{checked:n.value=="NZ::Use-Peer-IP",className:"ml-2",onCheckedChange:o=>{o?(n.disabled=!0,d.setValue("web_real_ip_header","NZ::Use-Peer-IP")):(n.disabled=!1,d.setValue("web_real_ip_header",""))}}),e.jsx(y,{className:"font-normal ml-2",children:s("UseDirectConnectingIP")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"agent_real_ip_header",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("AgentRealIPHeader")}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{disabled:n.value=="NZ::Use-Peer-IP",className:"w-1/2",placeholder:"CF-Connecting-IP",...n}),e.jsx(B,{checked:n.value=="NZ::Use-Peer-IP",className:"ml-2",onCheckedChange:o=>{o?(n.disabled=!0,d.setValue("agent_real_ip_header","NZ::Use-Peer-IP")):(n.disabled=!1,d.setValue("agent_real_ip_header",""))}}),e.jsx(y,{className:"font-normal ml-2",children:s("UseDirectConnectingIP")})]})}),e.jsx(S,{})]})}),e.jsxs(N,{children:[e.jsx(y,{children:s("IPChangeNotification")}),e.jsx(is,{className:"w-full",children:e.jsx(cs,{children:e.jsxs("div",{className:"flex flex-col space-y-4 mt-4",children:[e.jsx(v,{control:d.control,name:"cover",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("Coverage")}),e.jsxs(te,{onValueChange:n.onChange,value:`${n.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{})})}),e.jsx(ee,{children:Object.entries(PE).map(([o,i])=>e.jsx(E,{value:o,children:i},o))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"ignored_ip_notification",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("SpecificServers")+" "+s("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"1,2,3",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"ip_change_notification_group_id",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("NotifierGroupID")}),e.jsx(j,{children:e.jsx(k,{placeholder:"0",type:"number",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"enable_ip_change_notification",render:({field:n})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:n.value,onCheckedChange:n.onChange}),e.jsx(U,{className:"text-sm",children:s("Enable")})]})}),e.jsx(S,{})]})})]})})})]}),e.jsx(v,{control:d.control,name:"enable_plain_ip_in_notification",render:({field:n})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:n.value,onCheckedChange:n.onChange}),e.jsx(U,{className:"text-sm",children:s("FullIPNotification")})]})}),e.jsx(S,{})]})}),e.jsx(T,{type:"submit",children:s("Confirm")})]})})})]})}const k2=ne({username:w().min(1),role:je().int().min(0).max(1),password:w().min(8).max(72).optional().or(fn("")),server_ids:De(je()).optional()}),gr=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(k2),defaultValues:s?{username:s.username,role:s.role,password:"",server_ids:s.server_ids||[]}:{username:"",role:1,password:"",server_ids:[]},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async n=>{try{if(s){const o={username:n.username,role:n.role};n.password&&n.password.length>0&&(o.password=n.password),n.server_ids&&(o.server_ids=n.server_ids),await aE(s.id,o)}else{if(!n.password||n.password.length===0){$(t("Error"),{description:t("PasswordRequired")});return}await rE(n)}}catch(o){console.error(o),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()},{servers:d}=us(),m=d?.map(n=>({value:`${n.id}`,label:n.name}))||[];return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditUser":"NewUser")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"username",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Username")}),e.jsx(j,{children:e.jsx(k,{...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"password",render:({field:n})=>e.jsxs(N,{children:[e.jsxs(y,{children:[t("Password"),s&&` (${t("LeaveBlankToKeepCurrent")})`]}),e.jsx(j,{children:e.jsx(k,{type:"password",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"role",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Role")}),e.jsxs(te,{onValueChange:o=>n.onChange(parseInt(o)),defaultValue:n.value.toString(),children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:t("SelectRole")})})}),e.jsxs(ee,{children:[e.jsx(E,{value:"0",children:t("Admin")}),e.jsx(E,{value:"1",children:t("User")})]})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"server_ids",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("ServerPermissions")}),e.jsx(j,{children:e.jsx(hs,{options:m,onValueChange:o=>{const i=o.map(Number);n.onChange(i)},defaultValue:n.value?.map(String),placeholder:t("SelectServers")})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function P2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/user",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.UnExpectedError",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.id},{header:s("Username"),accessorKey:"username",accessorFn:n=>n.username},{header:s("Role"),accessorKey:"role",accessorFn:n=>n.role===1?s("User"):s("Admin")},{header:s("LastLogin"),accessorKey:"updated_at",accessorFn:n=>n.updated_at?new Date(n.updated_at).toLocaleString():s("Never")},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:Ft,id:o.id,mutate:t},children:e.jsx(gr,{data:o,mutate:t})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsx(Xs,{className:"mt-6 w-full"}),e.jsx("div",{className:"flex mt-4 mb-4",children:e.jsx(Oe,{className:"flex-2 flex gap-2 ml-auto",delete:{fn:Ft,id:m.map(n=>n.original.id),mutate:t},children:e.jsx(gr,{mutate:t})})}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const pr=async s=>A(R.POST,"/api/v1/batch-delete/waf",s);function R2(){const{t:s}=M(),{profile:r}=es(),[t,a]=jr(),c=Number(t.get("page"))||1,l=Number(t.get("pageSize"))||10,x=(c-1)*l,{data:d,mutate:m,error:n,isLoading:o}=pe(`/api/v1/waf?offset=${x}&limit=${l}`,_e),i=r?.role===0;u.useEffect(()=>{n&&$(s("Error"),{description:s(`Error fetching resource: ${n.message}.`)})},[n]);let h=[{id:"select",header:({table:f})=>e.jsx(B,{checked:f.getIsAllPageRowsSelected()||f.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:p=>f.toggleAllPageRowsSelected(!!p),"aria-label":"Select all"}),cell:({row:f})=>e.jsx(B,{checked:f.getIsSelected(),onCheckedChange:p=>f.toggleSelected(!!p),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"IP",accessorKey:"ip",accessorFn:f=>f.ip},{header:s("Count"),accessorKey:"count",accessorFn:f=>f.count},{header:s("LastBlockReason"),accessorKey:"lastBlockReason",accessorFn:f=>f.block_reason,cell:({row:f})=>e.jsx("span",{children:AE[f.original.block_reason]||""})},{header:s("BlockIdentifier"),accessorKey:"BlockIdentifier",accessorFn:f=>EE[f.block_identifier]||f.block_identifier},{header:s("LastBlockTime"),accessorKey:"lastBlockTime",accessorFn:f=>f.block_timestamp,cell:({row:f})=>{const p=f.original,q=new Date((p.block_timestamp||0)*1e3);return e.jsx("span",{children:q.toISOString()})}},{id:"actions",header:"Actions",cell:({row:f})=>{const p=f.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:pr,id:p.ip||"",mutate:m},children:e.jsx(e.Fragment,{})})}}];i||(h=h.filter(f=>f.id!=="actions"));const b=u.useMemo(()=>d?.value??[],[d]),C=Ae({data:b,columns:h,getCoreRowModel:Ee()}),K=C.getSelectedRowModel().rows,G=()=>{if(!d?.pagination)return null;const{total:f}=d.pagination,p=Math.ceil(f/l),q=z=>{z<1||z>p||a({page:z.toString(),pageSize:l.toString()})},fe=()=>{const z=[];if(p<=5)return Array.from({length:p},(L,D)=>D+1);z.push(1);let we=Math.max(2,c-1),$e=Math.min(p-1,c+1);c<=3?$e=Math.min(4,p-1):c>=p-2&&(we=Math.max(2,p-3)),we>2&&z.push(-1);for(let L=we;L<=$e;L++)z.push(L);return $e<p-1&&z.push(-1),p>1&&z.push(p),z};return e.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s("Total"),": ",f]}),e.jsx(Tt,{children:e.jsxs(Dt,{children:[e.jsx(Ge,{children:e.jsx(kt,{onClick:()=>q(c-1),className:c<=1?"pointer-events-none opacity-50":"cursor-pointer"})}),fe().map((z,Pe)=>z===-1?e.jsx(Ge,{children:e.jsx(Rt,{})},`ellipsis-${Pe}`):e.jsx(Ge,{children:e.jsx(Ts,{onClick:()=>q(z),isActive:z===c,children:z})},z)),e.jsx(Ge,{children:e.jsx(Pt,{onClick:()=>q(c+1),className:c>=p?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})};return e.jsxs("div",{className:"px-3",children:[e.jsx(Xs,{className:"mt-6 w-full"}),e.jsx("div",{className:"flex mt-4 mb-4",children:i&&e.jsx(Oe,{className:"flex-2 flex gap-2 ml-auto",delete:{fn:pr,id:K.map(f=>f.original.ip||""),mutate:m},children:e.jsx(e.Fragment,{})})}),e.jsxs(be,{children:[e.jsx(ye,{children:C.getHeaderGroups().map(f=>e.jsx(P,{children:f.headers.map(p=>e.jsx(J,{className:"text-sm",children:p.isPlaceholder?null:W(p.column.columnDef.header,p.getContext())},p.id))},f.id))}),e.jsx(Ce,{children:o?e.jsx(P,{children:e.jsxs(I,{colSpan:h.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):C.getRowModel().rows?.length?C.getRowModel().rows.map(f=>e.jsx(P,{"data-state":f.getIsSelected()&&"selected",children:f.getVisibleCells().map(p=>e.jsx(I,{className:"text-xsm",children:W(p.column.columnDef.cell,p.getContext())},p.id))},f.id)):e.jsx(P,{children:e.jsx(I,{colSpan:h.length,className:"h-24 text-center",children:s("NoResults")})})})]}),G()]})}const A2=async(s=1,r=20,t,a)=>{const c=new URLSearchParams({page:s.toString(),page_size:r.toString()});return(await A(R.GET,`/api/v1/terminal/sessions?${c.toString()}`)).data},E2=async(s=1,r=50,t)=>{const a=new URLSearchParams({page:s.toString(),page_size:r.toString()});return t&&a.append("session_id",t.toString()),(await A(R.GET,`/api/v1/terminal/commands?${a.toString()}`)).data},_2=async()=>(await A(R.GET,"/api/v1/terminal/blacklist")).data||[],I2=async s=>(await A(R.POST,"/api/v1/terminal/blacklist",s)).data,L2=async(s,r)=>{await A(R.PATCH,`/api/v1/terminal/blacklist/${s}`,r)},F2=async s=>{await A(R.DELETE,`/api/v1/terminal/blacklist/${s}`)},O2=()=>{const[s,r]=u.useState(1),[t,a]=u.useState(null),[c,l]=u.useState(!1),{data:x,error:d,isLoading:m}=pe(["terminal-sessions",s],()=>A2(s,20),{refreshInterval:1e4}),n=C=>{if(C<60)return`${C}秒`;if(C<3600)return`${Math.floor(C/60)}分 ${C%60}秒`;const K=Math.floor(C/3600),G=Math.floor(C%3600/60);return`${K}小时 ${G}分`},o=C=>{a(C),l(!0)};if(m)return e.jsx("div",{className:"text-center py-8",children:"加载中..."});if(d)return e.jsx("div",{className:"text-center py-8 text-red-500",children:"加载数据失败"});const i=x?.sessions||[],h=x?.total||0,b=Math.ceil(h/20);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"rounded-md border",children:e.jsxs(be,{children:[e.jsx(ye,{children:e.jsxs(P,{children:[e.jsx(J,{children:"用户"}),e.jsx(J,{children:"服务器"}),e.jsx(J,{children:"开始时间"}),e.jsx(J,{children:"持续时长"}),e.jsx(J,{children:"命令数"}),e.jsx(J,{children:"状态"}),e.jsx(J,{children:"操作"})]})}),e.jsx(Ce,{children:i.length===0?e.jsx(P,{children:e.jsx(I,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"暂无会话记录"})}):i.map(C=>e.jsxs(P,{children:[e.jsx(I,{className:"font-medium",children:C.username}),e.jsx(I,{children:C.server_name}),e.jsx(I,{children:ot(new Date(C.started_at),"yyyy-MM-dd HH:mm:ss")}),e.jsx(I,{children:n(C.duration)}),e.jsx(I,{children:e.jsx(Re,{variant:"secondary",children:C.command_count})}),e.jsx(I,{children:e.jsxs("div",{className:"flex gap-2",children:[C.ended_at?e.jsx(Re,{variant:"outline",children:"已结束"}):e.jsx(Re,{variant:"default",children:"活跃中"}),C.recording_enabled&&e.jsx(Re,{variant:"secondary",children:"已录像"})]})}),e.jsx(I,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>o(C),children:"查看命令"}),C.recording_enabled&&C.recording_path&&e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>{window.open(`/api/v1/terminal/recording/${C.id}`,"_blank")},children:"下载录像"})]})})]},C.id))})]})}),b>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["第 ",s," 页，共 ",b," 页（总计 ",h," 条）"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"outline",size:"sm",onClick:()=>r(C=>Math.max(1,C-1)),disabled:s===1,children:"上一页"}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>r(C=>Math.min(b,C+1)),disabled:s===b,children:"下一页"})]})]}),e.jsx(M2,{session:t,open:c,onOpenChange:l})]})},M2=({session:s,open:r,onOpenChange:t})=>{const[a,c]=u.useState(1),{data:l,error:x,isLoading:d}=pe(s&&r?["terminal-commands",s.id,a]:null,()=>E2(a,50,s.id));if(!s)return null;const m=l?.commands||[],n=l?.total||0,o=Math.ceil(n/50);return e.jsx(me,{open:r,onOpenChange:t,children:e.jsxs(le,{className:"max-w-4xl",children:[e.jsxs(oe,{children:[e.jsxs(ie,{children:["终端命令 - ",s.username,"@",s.server_name]}),e.jsxs(ce,{children:["会话开始时间: ",ot(new Date(s.started_at),"yyyy-MM-dd HH:mm:ss")]})]}),e.jsx(de,{className:"max-h-[60vh]",children:d?e.jsx("div",{className:"text-center py-8",children:"加载中..."}):x?e.jsx("div",{className:"text-center py-8 text-red-500",children:"加载命令失败"}):m.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"暂无命令记录"}):e.jsx("div",{className:"space-y-2 p-2",children:m.map(i=>e.jsx("div",{className:`p-3 rounded-lg border ${i.blocked?"bg-red-50 border-red-200 dark:bg-red-950/20":"bg-muted/50"}`,children:e.jsx("div",{className:"flex items-start justify-between gap-2",children:e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-sm font-mono bg-background px-2 py-1 rounded",children:i.command}),i.blocked&&e.jsx(Re,{variant:"destructive",className:"text-xs",children:"已拦截"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[e.jsxs("div",{children:["工作目录: ",e.jsx("code",{children:i.working_dir})]}),e.jsxs("div",{children:["执行时间: ",ot(new Date(i.executed_at),"yyyy-MM-dd HH:mm:ss")]}),!i.blocked&&e.jsxs("div",{children:["退出码: ",e.jsx("code",{children:i.exit_code})]}),i.blocked&&i.block_reason&&e.jsxs("div",{className:"text-red-600 dark:text-red-400",children:["拦截原因: ",i.block_reason]})]})]})})},i.id))})}),o>1&&e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["第 ",a," 页，共 ",o," 页"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"outline",size:"sm",onClick:()=>c(i=>Math.max(1,i-1)),disabled:a===1,children:"上一页"}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>c(i=>Math.min(o,i+1)),disabled:a===o,children:"下一页"})]})]})]})})},U2=ne({pattern:w().min(1,"匹配模式不能为空"),description:w().min(1,"描述不能为空"),action:jn(["block","warn","log"]),enabled:V()}),fr=({data:s,mutate:r})=>{const[t,a]=u.useState(!1),[c,l]=u.useState(!1),x=Ne({resolver:ve(U2),defaultValues:s?{pattern:s.pattern,description:s.description,action:s.action,enabled:s.enabled}:{pattern:"",description:"",action:"block",enabled:!0}}),d=async n=>{try{s?.id?(await L2(s.id,n),$.success("成功",{description:"黑名单规则已更新"})):(await I2(n),$.success("成功",{description:"黑名单规则已创建"})),a(!1),r(),x.reset()}catch(o){console.error(o),$.error("错误",{description:"保存黑名单规则失败"})}},m=async()=>{if(s?.id)try{await F2(s.id),$.success("成功",{description:"黑名单规则已删除"}),l(!1),r()}catch(n){console.error(n),$.error("错误",{description:"删除黑名单规则失败"})}};return e.jsxs(e.Fragment,{children:[e.jsxs(me,{open:t,onOpenChange:a,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:s?"编辑黑名单规则":"创建黑名单规则"}),e.jsx(ce,{children:"配置命令匹配模式以拦截、警告或记录"})]}),e.jsx(Se,{...x,children:e.jsxs("form",{onSubmit:x.handleSubmit(d),className:"space-y-4 my-4",children:[e.jsx(v,{control:x.control,name:"pattern",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:"匹配模式"}),e.jsx(j,{children:e.jsx(k,{placeholder:"^rm\\s+-rf.*",...n})}),e.jsx(Is,{children:"用于匹配命令的正则表达式"}),e.jsx(S,{})]})}),e.jsx(v,{control:x.control,name:"description",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:"描述"}),e.jsx(j,{children:e.jsx(ae,{placeholder:"描述此规则的作用",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:x.control,name:"action",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:"动作"}),e.jsxs(te,{onValueChange:n.onChange,defaultValue:n.value,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"选择动作"})})}),e.jsxs(ee,{children:[e.jsx(E,{value:"block",children:"拦截"}),e.jsx(E,{value:"warn",children:"警告"}),e.jsx(E,{value:"log",children:"仅记录"})]})]}),e.jsx(Is,{children:"拦截：阻止执行，警告：显示警告，仅记录：只记录不阻止"}),e.jsx(S,{})]})}),e.jsx(v,{control:x.control,name:"enabled",render:({field:n})=>e.jsxs(N,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(y,{children:"启用"}),e.jsx(Is,{children:"启用或禁用此规则"})]}),e.jsx(j,{children:e.jsx(js,{checked:n.value,onCheckedChange:n.onChange})})]})}),e.jsxs(he,{children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{variant:"outline",children:"取消"})}),e.jsx(T,{type:"submit",children:"保存"})]})]})})]})})})]}),s&&e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:e.jsx(F,{variant:"outline",icon:"trash"})}),e.jsxs(le,{children:[e.jsxs(oe,{children:[e.jsx(ie,{children:"删除黑名单规则"}),e.jsx(ce,{children:"确定要删除此规则吗？此操作无法撤销。"})]}),e.jsxs(he,{children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{variant:"outline",children:"取消"})}),e.jsx(T,{variant:"destructive",onClick:m,children:"删除"})]})]})]})]})},B2=()=>{const{data:s,error:r,isLoading:t,mutate:a}=pe("terminal-blacklist",_2),c=x=>{switch(x){case"block":return e.jsx(Re,{variant:"destructive",children:"拦截"});case"warn":return e.jsx(Re,{variant:"default",children:"警告"});case"log":return e.jsx(Re,{variant:"secondary",children:"记录"});default:return e.jsx(Re,{variant:"outline",children:x})}};if(t)return e.jsx("div",{className:"text-center py-8",children:"加载中..."});if(r)return e.jsxs("div",{className:"text-center py-8 text-red-500",children:[e.jsx("div",{children:"加载数据失败"}),e.jsx("div",{className:"text-sm mt-2",children:r.message||"未知错误"})]});const l=s||[];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"命令黑名单规则"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"管理命令匹配模式以拦截、警告或记录"})]}),e.jsx(fr,{mutate:a})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(be,{children:[e.jsx(ye,{children:e.jsxs(P,{children:[e.jsx(J,{children:"匹配模式"}),e.jsx(J,{children:"描述"}),e.jsx(J,{children:"动作"}),e.jsx(J,{children:"状态"}),e.jsx(J,{className:"text-right",children:"操作"})]})}),e.jsx(Ce,{children:l.length===0?e.jsx(P,{children:e.jsx(I,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"暂无黑名单规则"})}):l.map(x=>e.jsxs(P,{children:[e.jsx(I,{children:e.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:x.pattern})}),e.jsx(I,{className:"max-w-md",children:e.jsx("div",{className:"truncate",title:x.description,children:x.description})}),e.jsx(I,{children:c(x.action)}),e.jsx(I,{children:x.enabled?e.jsx(Re,{variant:"default",children:"已启用"}):e.jsx(Re,{variant:"outline",children:"已禁用"})}),e.jsx(I,{className:"text-right",children:e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx(fr,{data:x,mutate:a})})})]},x.id))})]})})]})};function G2(){const[s,r]=u.useState("sessions");return e.jsxs("div",{className:"px-3 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full gap-3 mt-6 mb-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"终端审计"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"监控终端会话并管理命令黑名单"})]})}),e.jsxs(Qs,{value:s,onValueChange:r,className:"w-full",children:[e.jsxs($s,{className:"grid w-full max-w-md grid-cols-2",children:[e.jsx(Ie,{value:"sessions",children:"终端会话"}),e.jsx(Ie,{value:"blacklist",children:"命令黑名单"})]}),e.jsx(lt,{value:"sessions",className:"mt-6",children:e.jsx(O2,{})}),e.jsx(lt,{value:"blacklist",className:"mt-6",children:e.jsx(B2,{})})]})]})}const z2=ca([{path:"/",element:e.jsx(ns,{withServerGroup:!0,children:e.jsx(sr,{})}),errorElement:e.jsx(Ht,{})},{path:"/dashboard",element:e.jsx(oE,{children:e.jsx(t_,{children:e.jsx(e_,{})})}),errorElement:e.jsx(Ht,{}),children:[{path:"/dashboard/login",element:e.jsx(S_,{})},{path:"/dashboard",element:e.jsx(ns,{withServerGroup:!0,children:e.jsx(sr,{})})},{path:"/dashboard/service",element:e.jsx(ns,{withServer:!0,children:e.jsx(xs,{withNotifierGroup:!0,children:e.jsx(t2,{})})})},{path:"/dashboard/cron",element:e.jsx(ns,{withServer:!0,children:e.jsx(xs,{withNotifierGroup:!0,children:e.jsx(f_,{})})})},{path:"/dashboard/alert-rule",element:e.jsx(xs,{withNotifierGroup:!0,children:e.jsx(v2,{})})},{path:"/dashboard/ddns",element:e.jsx(i2,{})},{path:"/dashboard/nat",element:e.jsx(u2,{})},{path:"/dashboard/server-group",element:e.jsx(ns,{withServer:!0,children:e.jsx(g2,{})})},{path:"/dashboard/notification-group",element:e.jsx(xs,{withNotifier:!0,children:e.jsx(h2,{})})},{path:"/dashboard/terminal/:id",element:e.jsx(Z_,{})},{path:"/dashboard/notification",element:e.jsx(xs,{withNotifierGroup:!0,children:e.jsx(b2,{})})},{path:"/dashboard/profile",element:e.jsx(ns,{withServer:!0,withServerGroup:!0,children:e.jsx(w2,{})})},{path:"/dashboard/settings",element:e.jsx(D2,{})},{path:"/dashboard/settings/user",element:e.jsx(P2,{})},{path:"/dashboard/settings/waf",element:e.jsx(R2,{})},{path:"/dashboard/settings/online-user",element:e.jsx(y2,{})},{path:"/dashboard/settings/terminal-audit",element:e.jsx(G2,{})}]}]);la.createRoot(document.getElementById("root")).render(e.jsx(da,{router:z2}));
