import{r as u,u as Vs,j as e,d as bs,L as se,O as ta,e as ra,N as na,f as aa,h as pr,i as oa,k as ia,l as ca}from"./react-DaKiOxKV.js";import{i as O,a as la,u as M}from"./i18n-CIjymz4X.js";import{i as dt,p as ut,j as mt,t as $,k as da,C as qs,m as Ue,n as ua,S as ma,M as ha,D as Ke,q as ss,E as ht,U as xa,r as ga,v as fr,w as pa,B as fa,x as ja,y as Na,z as jr,P as va,F as Sa,A as ba,T as Nr,G as ya,H as Ca,I as wa,J as $a,K as Ta,L as At,N as Et,O as _t,Q as et,V as Da,W as ka,X as Pa,Y as fs,Z as Ra,_ as ke,$ as Aa,a0 as Ea,a1 as Ae,a2 as W,a3 as Ee,a4 as It,a5 as vr,a6 as _a,a7 as Sr,a8 as Ia,a9 as La,aa as Fa,ab as Oa,ac as Ma,ad as Ua,ae as Ba,af as Ga,ag as za,ah as Lt}from"./vendor-DQu9Rupt.js";import{m as st,u as pe}from"./data-Bp1b3RQS.js";import{t as Ha,e as Va,S as xt,f as ls,g as br,h as yr,i as qa,j as Cr,I as wr,k as $r,l as Tr,m as Dr,L as kr,n as Pr,o as Wa,p as Ka,G as Ja,q as Rr,r as Ar,s as Er,v as _r,V as Ir,w as Lr,x as Ya,y as Za,z as Fr,A as Or,F as Mr,B as Ur,E as Qa,H as Br,J as Xa,K as Gr,M as zr,N as Hr,Q as eo,U as so,W as Vr,X as to,O as qr,P as Wr,C as Ws,b as gt,T as Kr,D as Jr,R as Yr,a as Zr,Y as Qr,Z as Xr,_ as ro,$ as no,a0 as en,a1 as ao,a2 as sn,a3 as oo,a4 as tn,a5 as rn,a6 as io,a7 as nn,a8 as co,a9 as an,aa as on,ab as lo,ac as uo,ad as cn,ae as mo,af as ho,ag as xo,ah as ln,ai as go,aj as po,ak as dn,al as un,am as fo,an as mn,ao as hn,ap as xn,aq as jo}from"./ui-C1rhP7Hn.js";import{l as gn,u as No,F as vo,C as So,o as ne,n as Z,b as V,a as De,c as je,s as w,d as Ne,e as ve,r as Ns,_ as pn}from"./form-7BGPcR-l.js";import{m as ot}from"./utils-DoDoqC8P.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const x of l.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function t(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(c){if(c.ep)return;c.ep=!0;const l=t(c);fetch(c.href,l)}})();const bo={dark:"Dunkel",system:"Folgen Sie dem System",light:"Hell"},yo="Benutzername",Co="Bitte zuerst einloggen",wo="Aktuelle Uhrzeit",$o={PasswordRequired:"Passwort kann nicht leer sein.",SelectAtLeastOneServer:"Bitte wählen Sie mindestens einen Server aus.",NoRowsAreSelected:"Keine Zeilen ausgewählt",ThisOperationIsUnrecoverable:"Diese Operation kann nicht rückgängig gemacht werden!",UnExpectedError:"Unerwarteter Fehler, mehr Details in der Konsole.",UsernameMin:"Benutzername muss mindestens {{number}} Zeichen beinhalten.",ErrorFetchingResource:"Fehler beim Abrufen der Ressource: {{error}}",InstallHostRequired:"Die Adresse des Agenten wurde in den Einstellungen nicht gesetzt.",ForceUpdate:"Erzwungenes Upgrade:",TheServerDoesNotOnline:"Der Server existiert nicht oder ist noch nicht verbunden",UnknownIdentifier:"Unbekannte Bezeichnung",TaskTriggeredSuccessfully:"Der wurde erfolgreich ausgelöst"},To="Server",Do="Service",ko="Aufgabe",Po="Benachrichtung",Ro="Dynamisches DNS",Ao="NAT Traversen",Eo="Gruppe",_o="Ausloggen",Io="Schließen",Lo="Name",Fo="Version",Oo="Unbekannt",Mo="Aktivieren",Uo="Versteckt von Besuchern",Bo="Anmerkung",Go="Erfolgreich",zo="Fehlgeschlagen",Ho="(Getrennt mit Komma)",Vo="Privat",qo="Senden",Wo="Ziel",Ko="Deckung",Jo="Alles Ignorieren",Yo="Typ",Zo="Kennung der Gruppe",Qo="An Trigger",Xo="Bestätigen",ei={Excludes:"Bestimmte Server ausschließen",Alarmed:"Ausgeführt auf dem Server, der den Alarm ausgelöst hat",Only:"Nur bestimmte Server"},si="Aktivierung Fehlermitteilung",ti="Maximale Verzögerung (ms)",ri="Mindestverzögerung (ms)",ni="Latenzbenachrichtigung einschalten",ai="Trigger-Task aktivieren",oi="Cron Expression",ii="Erfolgsmeldung senden",ci="Letzte Ausführung",li="Ergebnis",di="Benachrichtigungen",ui="Benachrichtigungsregeln",mi="Auslösemodus",hi="Regeln",xi="Keine Testnachricht senden",gi="Immer",pi="Anbieter",fi="Domains",ji="Gehe zu",Ni="DDNS bearbeiten",vi="DDNS erstellen",Si="Einverständnis",bi="Herunterladen",yi="Hochladen",Ci="NAT-Konfiguration erstellen",wi="Lokaler Service",$i="Server Gruppe bearbeiten",Ti="Server Gruppe erstellen",Di="Web Application Firewall",ki="Seiten Name",Pi="Verwenden Sie TLS, um Agenten zu verbinden",Ri="Brute Force Angriffs Token",Ai="Brute Force Angriff Agent Geheimnis",Ei="Benutzerdefinierter Coder für das Dashboard",_i="Echter IP-Anfrage-Header des Frontend",Ii="Echter IP-Anfrage-Header des Agent",Li="Direkte IP-Verbindung verwenden",Fi="IP Änderung Benachrichtigung",Oi="Task bearbeiten",Mi="Task erstellen",Ui="Notifier erstellen",Bi="Notifier bearbeiten",Gi="Notifier Gruppe erstellen",zi="Neuer Benutzer",Hi="Letzte Ban Zeit",Vi="Design",qi="Autor",Wi="Offiziell",Ki="Sie verwenden ein Community-Design",Ji="DDNS aktivieren",Yi="Push, wenn erfolgreich",Zi="Einmalig",Qi="Alarmregeln erstellen",Xi="Letzter Block Grund",ec="Aufgaben, die nach der Wiederherstellung ausgelöst werden",sc="Benutzerdefinierter Code (Style und Skript)",tc="Löschung bestätigen?",rc="Passwort",nc="Systemeinstellungen",ac="Alle abdecken",oc="Fertig",ic="Öffentlich",cc="Wählen Sie eine Seite zum Springen",lc="DDNS Profil-IDs",dc="Pfad kopieren",uc="Neuer Benutzername",mc="Notifier Gruppe bearbeiten",hc="Request-Body",xc="Anfrage-Typ",gc="Anmeldung gescheitert",pc="Repository",fc="Community",jc="Abbrechen",Nc="Benutzerdefinierte Public DNS Nameserver für DDNS",vc="Alarmregeln bearbeiten",Sc="Geplante Aufgaben",bc="TLS verifizieren",yc="Request Methode",Cc="Benutzer",wc="Nezha Monitoring",$c="Server bearbeiten",Tc="Request Header",Dc="Befehl",kc="Installationsbefehl",Pc="Aktionen",Rc="Gewicht (je größer die Zahl, desto höher wird es angezeigt)",Ac="Aufgaben, die bei Alarm ausgelöst werden sollen",Ec="Benachrichtigungsgruppe",_c="NAT-Konfiguration bearbeiten",Ic="Bind Domain Name",Lc="Service bearbeiten",Fc="Anzahl",Oc="Laden",Mc="Services",Uc="Agent Verbindungsadresse [Domainname/IP:port]",Bc="Navigieren",Gc="Offline",zc="Intervall",Hc="Profil",Vc="Keine Ergebnisse",qc="Spezifischer Server",Wc="Maximale Zeit für Wiederversuche",Kc="Aktualisieren",Jc="Update Profil",Yc="Original-Passwort",Zc="Anmelden",Qc="Neues Passwort",Xc="Pseudo File Manager",el="Zeige in Service",sl="Dieses Design wird von der Community bereitgestellt, Benutzung auf eigene Gefahr",tl="Sprache",rl="Vollständige IP-Adresse in Benachrichtigung anzeigen",nl="Service erstellen",al="gRPC-Authentifizierung fehlgeschlagen",ol="API-Token ist ungültig",il="Blockierungskennung",cl="Verbunden um",ll="Benutzer-ID",dl="Gesamt",ul="Blockierung bestätigen",ml="Vom Administrator blockiert",hl="Benutzer ist ungültig",xl="Online-Benutzer",gl="Passwort Login verbieten",pl="Du hast noch keine Notizen.",fl="Zurück zur Startseite",jl="Server mit Warnung",Nl="Text ist leer",vl={theme:bo,Username:yo,LoginFirst:Co,CurrentTime:wo,Results:$o,Server:To,Service:Do,Task:ko,Notification:Po,DDNS:Ro,NATT:Ao,Group:Eo,Logout:_o,Close:Io,Error:"Fehler",Name:Lo,Version:Fo,Unknown:Oo,Enable:Mo,HideForGuest:Uo,Note:Bo,Success:Go,Failure:zo,SeparateWithComma:Ho,Private:Vo,Submit:qo,Target:Wo,Coverage:Ko,IgnoreAll:Jo,Type:Yo,NotifierGroupID:Zo,Trigger:Qo,Confirm:Xo,Coverages:ei,EnableFailureNotification:si,MaximumLatency:ti,MinimumLatency:ri,EnableLatencyNotification:ni,EnableTriggerTask:ai,CronExpression:oi,SendSuccessNotification:ii,LastExecution:ci,Result:li,Notifier:di,AlertRule:ui,TriggerMode:mi,Rules:hi,DoNotSendTestMessage:xi,Always:gi,Provider:pi,Domains:fi,Goto:ji,EditDDNS:Ni,CreateDDNS:vi,Credential:Si,Downloading:bi,Uploading:yi,CreateNAT:Ci,LocalService:wi,EditServerGroup:$i,CreateServerGroup:Ti,WAF:Di,SiteName:ki,ConfigTLS:Pi,BruteForceAttackingToken:Ri,BruteForceAttackingAgentSecret:Ai,CustomCodesDashboard:Ei,WebRealIPHeader:_i,AgentRealIPHeader:Ii,UseDirectConnectingIP:Li,IPChangeNotification:Fi,EditTask:Oi,CreateTask:Mi,CreateNotifier:Ui,EditNotifier:Bi,CreateNotifierGroup:Gi,NewUser:zi,LastBlockTime:Hi,Theme:Vi,Author:qi,Official:Wi,CommunityThemeWarning:Ki,EnableDDNS:Ji,PushSuccessful:Yi,Once:Zi,CreateAlertRule:Qi,LastBlockReason:Xi,TasksToTriggerAfterRecovery:ec,CustomCodes:sc,ConfirmDeletion:tc,Password:rc,Settings:nc,CoverAll:ac,Done:oc,Public:ic,SelectAPageToNavigateTo:cc,DDNSProfiles:lc,CopyPath:dc,NewUsername:uc,EditNotifierGroup:mc,RequestBody:hc,RequestType:xc,LoginFailed:gc,Repository:pc,Community:fc,Cancel:jc,CustomPublicDNSNameserversforDDNS:Nc,EditAlertRule:vc,Scheduled:Sc,VerifyTLS:bc,RequestMethod:yc,User:Cc,nezha:wc,EditServer:$c,RequestHeader:Tc,Command:Dc,InstallCommands:kc,Actions:Pc,Weight:Rc,TasksToTriggerOnAlert:Ac,NotifierGroup:Ec,EditNAT:_c,BindHostname:Ic,EditService:Lc,Count:Fc,Loading:Oc,Services:Mc,DashboardOriginalHost:Uc,NavigateTo:Bc,Offline:Gc,Interval:zc,Profile:Hc,NoResults:Vc,SpecificServers:qc,MaximumRetryAttempts:Wc,Refresh:Kc,UpdateProfile:Jc,OriginalPassword:Yc,Login:Zc,NewPassword:Qc,FileManager:Xc,ShowInService:el,CommunityThemeDescription:sl,Language:tl,FullIPNotification:rl,CreateService:nl,GrpcAuthFailed:al,APITokenInvalid:ol,BlockIdentifier:il,ConnectedAt:cl,UserId:ll,Total:dl,ConfirmBlock:ul,BlockByUser:ml,UserInvalid:hl,OnlineUser:xl,RejectPassword:gl,EmptyNote:pl,BackToHome:fl,OnAlert:jl,EmptyText:Nl},Sl="Nezha Monitoring",bl={light:"Light",dark:"Dark",system:"Follow System"},yl="Username",Cl="Password",wl="Invalid Username Or Password",$l="Network Error",Tl="Please Log in first",Dl="Current Time",kl={UsernameMin:"Username must be at least {{number}} characters.",PasswordRequired:"Password cannot be empty.",ErrorFetchingResource:"Error Fetching Resource : {{error}}",SelectAtLeastOneServer:"Please select at least one server.",UnExpectedError:"Unexpected error, Please see the console for details.",ForceUpdate:"Forced upgrade:",NoRowsAreSelected:"No rows are selected",ThisOperationIsUnrecoverable:"This operation cannot be undone!",TaskTriggeredSuccessfully:"The task triggered successfully",TheServerDoesNotOnline:"The server does not exist or has not been connected yet",InstallHostRequired:"The Agent docking address has not been filled in in the settings.",UnknownIdentifier:"Unknown identifier"},Pl="Log in",Rl="Server",Al="Service",El="Task",_l="Notification",Il="Dynamic DNS",Ll="NAT Traversal",Fl="Group",Ol="Profile",Ml="System settings",Ul="Back to Home",Bl="Log out",Gl="Navigate to",zl="Choose a page to jump to",Hl="Close",Vl="Name",ql="Version",Wl="unknown",Kl="Enable",Jl="Hidden from Visitors",Yl="Installation command",Zl="Terminal",Ql="Config",Xl="Note",ed="Success",sd="Finish",td="Offline",rd="Fail",nd="Loading",ad="No results",od="Actions",id="Edit Server",cd="Weight (the larger the number, the higher it is displayed)",ld="DDNS Profile IDs",dd="(Separate with comma)",ud="Public",md="Private",hd="Submit",xd="Target",gd="Coverage",pd="Cover All",fd="Ignore All",jd="Alarmed Servers",Nd="Specific server",vd="Type",Sd="Interval",bd="Notifier Group ID",yd="On Trigger",Cd="Tasks to be triggered on alert",wd="Tasks to be triggered after recovery",$d="Add",Td="Delete",Dd="Advanced JSON",kd="Save",Pd="Confirm",Rd="Confirm Deletion?",Ad="Services",Ed="Show in Service",_d={Excludes:"Excludes Specific Servers",Only:"Only Specific Servers",Alarmed:"Executed on the server that triggered the alarm"},Id="Enable Failure Notification",Ld="Maximum Delay (ms)",Fd="Minimum Delay (milliseconds)",Od="Enable Latency Notification",Md="Enable Trigger Task",Ud="Cron Expression",Bd="Command",Gd="Notifier Group",zd="Send Success Notification",Hd="Last Execution",Vd="Result",qd="Scheduled Tasks",Wd="Notifier",Kd="Alert rules",Jd="Verify TLS",Yd="Trigger Mode",Zd="Rules",Qd="Request Method",Xd="Request Header",eu="Do Not Send Test Message",su="Always",tu="Once",ru="Provider",nu="Domains",au="Maximum time for retry attempts",ou="Refresh",iu="Copy path",cu="Go to",lu="Update Profile",du="New Username",uu="Original Password",mu="New Password",hu="Edit DDNS",xu="Create DDNS",gu="Credential",pu="Request Type",fu="Request Body",ju="Pseudo File Manager",Nu="Downloading",vu="Uploading",Su="Edit NAT Configuration",bu="Create NAT Configuration",yu="Local Service",Cu="Bind Domain Name",wu="AutoSSH",$u="Edit AutoSSH Configuration",Tu="Add AutoSSH Configuration",Du="Configure AutoSSH Port Mapping",ku="Mapping Type",Pu="Remote Forward (-R)",Ru="Local Forward (-L)",Au="Source Port",Eu="Target Host",_u="Target Port",Iu="Select Server",Lu="Running",Fu="Stopped",Ou="Error",Mu="Yes",Uu="No",Bu="Edit",Gu="Cancel",zu="No Data",Hu="Edit Server Group",Vu="Create Server Group",qu="User",Wu="Web Application Firewall",Ku="Site Name",Ju="Agent connecting address [domain name/IP:port]",Yu="Use TLS to connect Agent",Zu="Login Failed",Qu="Brute Force Attacking Token",Xu="Brute Force Attacking Agent Secret",em="Language",sm="Custom Codes (Style and Script)",tm="Custom Codes for Dashboard",rm="Custom Public DNS Nameservers for DDNS",nm="Frontend real IP request header",am="Agent real IP request header",om="Use direct connection IP",im="IP Change Notification",cm="Show Full IP Address in Notification Messages",lm="Edit Service",dm="Create Service",um="Edit Task",mm="Create Task",hm="Create Notifier",xm="Edit Notifier",gm="Edit Alert Rules",pm="Create Alert Rules",fm="Edit Notifier Group",jm="Create Notifier Group",Nm="New User",vm="Edit User",Sm="Server Permissions",bm="Select Servers",ym="Leave blank to keep current",Cm="Password is required",wm="AutoSSH Server Address",$m="Format: username@IP:port",Tm="Count",Dm="Last Block Reason",km="Last ban time",Pm="Theme",Rm="Author",Am="Repository",Em="Community",_m="Official",Im="You are using a community theme",Lm="This theme is provided by the community, use at your own risk",Fm="Enable DDNS",Om="Push if Successful",Mm="gRPC authentication failed",Um="API token is invalid",Bm="User is invalid",Gm="Blocked by admin",zm="Block identifier",Hm="User ID",Vm="Connected at",qm="Online User",Wm="Total",Km="Confirm Block",Jm="Reject Password Login",Ym="Text is empty",Zm="You didn't have any note.",Qm="Override DDNS Domains (per configuration)",Xm="Edit Server Config",eh="Option",sh="Value",th="Preview",rh={Label:"Public Note",Billing:"Billing",Plan:"Plan",StartDate:"Start Date",EndDate:"End Date",AutoRenewal:"Auto Renewal",Cycle:"Cycle",Amount:"Amount",Bandwidth:"Bandwidth",TrafficVolume:"Traffic Volume",TrafficType:"Traffic Type",IPv4:"IPv4",IPv6:"IPv6",NetworkRoute:"Network Route",Extra:"Extra",Enabled:"Enabled",Disabled:"Disabled",Inbound:"Inbound",Both:"Both",Day:"Day",Week:"Week",Month:"Month",Year:"Year",NoExpiry:"No Expiry",SetNoExpiry:"Set No Expiry",CancelNoExpiry:"Cancel No Expiry",Free:"Free",PayAsYouGo:"Pay as you go",CommaSeparated:"Separate multiple items with commas",Has:"Has",None:"None",CustomFields:"Custom Fields",ClearDate:"Clear Date",Clear:"Clear",RawText:"Raw Text"},nh={InvalidDate:"Invalid date",MustBe0Or1:"Must be 0 or 1",MustBeDayWeekMonthYear:"Must be Day/Week/Month/Year",MustBe1Or2:"Must be 1 or 2",DigitsOnly:"Digits only",InvalidForm:"Invalid form",InvalidJSON:"Invalid JSON"},ah={CoverAllServers:"Monitor all servers",IgnoreAllSelectSpecific:"Ignore all, select specific servers",IgnoreHint:"{{server}} ID: true/false",IgnoreExample:'e.g., {"1": true, "2": false}'},oh="Search...",ih="Format",ch="Formatted",lh="Copy",dh="Paste",uh="Copied to clipboard",mh="Clipboard write failed",hh="Pasted from clipboard",xh="Clipboard read failed",gh={nezha:Sl,theme:bl,Username:yl,Password:Cl,InvalidUsernameOrPassword:wl,NetworkError:$l,LoginFirst:Tl,CurrentTime:Dl,Results:kl,Login:Pl,Server:Rl,Service:Al,Task:El,Notification:_l,DDNS:Il,NATT:Ll,Group:Fl,Profile:Ol,Settings:Ml,BackToHome:Ul,Logout:Bl,NavigateTo:Gl,SelectAPageToNavigateTo:zl,Close:Hl,Error:"Error",Name:Vl,Version:ql,Unknown:Wl,Enable:Kl,HideForGuest:Jl,InstallCommands:Yl,Terminal:Zl,Config:Ql,Note:Xl,Success:ed,Done:sd,Offline:td,Failure:rd,Loading:nd,NoResults:ad,Actions:od,EditServer:id,Weight:cd,DDNSProfiles:ld,SeparateWithComma:dd,Public:ud,Private:md,Submit:hd,Target:xd,Coverage:gd,CoverAll:pd,IgnoreAll:fd,OnAlert:jd,SpecificServers:Nd,Type:vd,Interval:Sd,NotifierGroupID:bd,Trigger:yd,TasksToTriggerOnAlert:Cd,TasksToTriggerAfterRecovery:wd,Add:$d,Delete:Td,AdvancedJSON:Dd,Save:kd,Confirm:Pd,ConfirmDeletion:Rd,Services:Ad,ShowInService:Ed,Coverages:_d,EnableFailureNotification:Id,MaximumLatency:Ld,MinimumLatency:Fd,EnableLatencyNotification:Od,EnableTriggerTask:Md,CronExpression:Ud,Command:Bd,NotifierGroup:Gd,SendSuccessNotification:zd,LastExecution:Hd,Result:Vd,Scheduled:qd,Notifier:Wd,AlertRule:Kd,VerifyTLS:Jd,TriggerMode:Yd,Rules:Zd,RequestMethod:Qd,RequestHeader:Xd,DoNotSendTestMessage:eu,Always:su,Once:tu,Provider:ru,Domains:nu,MaximumRetryAttempts:au,Refresh:ou,CopyPath:iu,Goto:cu,UpdateProfile:lu,NewUsername:du,OriginalPassword:uu,NewPassword:mu,EditDDNS:hu,CreateDDNS:xu,Credential:gu,RequestType:pu,RequestBody:fu,FileManager:ju,Downloading:Nu,Uploading:vu,EditNAT:Su,CreateNAT:bu,LocalService:yu,BindHostname:Cu,AutoSSH:wu,EditAutoSSH:$u,AddAutoSSH:Tu,ConfigureAutoSSHPortMapping:Du,MappingType:ku,RemoteForward:Pu,LocalForward:Ru,SourcePort:Au,TargetHost:Eu,TargetPort:_u,SelectServer:Iu,running:Lu,stopped:Fu,error:Ou,Yes:Mu,No:Uu,Edit:Bu,Cancel:Gu,NoData:zu,EditServerGroup:Hu,CreateServerGroup:Vu,User:qu,WAF:Wu,SiteName:Ku,DashboardOriginalHost:Ju,ConfigTLS:Yu,LoginFailed:Zu,BruteForceAttackingToken:Qu,BruteForceAttackingAgentSecret:Xu,Language:em,CustomCodes:sm,CustomCodesDashboard:tm,CustomPublicDNSNameserversforDDNS:rm,WebRealIPHeader:nm,AgentRealIPHeader:am,UseDirectConnectingIP:om,IPChangeNotification:im,FullIPNotification:cm,EditService:lm,CreateService:dm,EditTask:um,CreateTask:mm,CreateNotifier:hm,EditNotifier:xm,EditAlertRule:gm,CreateAlertRule:pm,EditNotifierGroup:fm,CreateNotifierGroup:jm,NewUser:Nm,EditUser:vm,ServerPermissions:Sm,SelectServers:bm,LeaveBlankToKeepCurrent:ym,PasswordRequired:Cm,AutoSSHServerAddress:wm,AutoSSHServerAddressFormat:$m,Count:Tm,LastBlockReason:Dm,LastBlockTime:km,Theme:Pm,Author:Rm,Repository:Am,Community:Em,Official:_m,CommunityThemeWarning:Im,CommunityThemeDescription:Lm,EnableDDNS:Fm,PushSuccessful:Om,GrpcAuthFailed:Mm,APITokenInvalid:Um,UserInvalid:Bm,BlockByUser:Gm,BlockIdentifier:zm,UserId:Hm,ConnectedAt:Vm,OnlineUser:qm,Total:Wm,ConfirmBlock:Km,RejectPassword:Jm,EmptyText:Ym,EmptyNote:Zm,OverrideDDNSDomains:Qm,EditServerConfig:Xm,Option:eh,Value:sh,Preview:th,PublicNote:rh,Validation:nh,AlertRules:ah,Search:oh,Format:ih,Formatted:ch,Copy:lh,Paste:dh,CopiedToClipboard:uh,ClipboardWriteFailed:mh,PastedFromClipboard:hh,ClipboardReadFailed:xh},ph="Ir a",fh="Actualizar perfil",jh="Nuevo nombre de usuario",Nh="Nueva contraseña",vh="Editar DDNS",Sh="Pseudo File Manager",bh="Editar configuración NAT",yh="Editar grupo de servidores",Ch={light:"Claro",dark:"Oscuro",system:"Seguir el sistema"},wh="Hora actual",$h={UsernameMin:"El nombre de usuario debe tener al menos {{number}} caracteres.",PasswordRequired:"La contraseña no puede estar vacía.",ForceUpdate:"Actualización forzada:",TaskTriggeredSuccessfully:"La tarea se activó con éxito",ErrorFetchingResource:"Error al obtener el recurso: {{error}}",UnExpectedError:"Error inesperado. Consulte la consola para más detalles.",NoRowsAreSelected:"No se han seleccionado filas",ThisOperationIsUnrecoverable:"¡Esta operación no se puede deshacer!",TheServerDoesNotOnline:"El servidor no existe o aún no se ha conectado",InstallHostRequired:"La dirección de conexión del Agent no se ha configurado en los ajustes.",SelectAtLeastOneServer:"Por favor, seleccione al menos un servidor.",UnknownIdentifier:"Identificador desconocido"},Th="desconocido",Dh="Peso (cuanto mayor sea el número, más alto se mostrará)",kh="IDs de perfil de DDNS",Ph="Objetivo",Rh="Tareas que se activarán en caso de alerta",Ah="Servicios",Eh="Retraso máximo (ms)",_h="Servidor",Ih="Confirmar",Lh="Enviar",Fh="Resultado",Oh="DNS dinámico",Mh="Fallar",Uh="Contraseña original",Bh="Elija una página para navegar",Gh="Privado",zh="Reglas de alerta",Hh="Proveedor",Vh="Ajustes del sistema",qh="Nombre de usuario",Wh="Grupo de notificaciones",Kh="Cobertura",Jh="Servicio local",Yh="Comando de instalación",Zh="Mostrar en servicio",Qh={Alarmed:"Ejecutado en el servidor que activó la alarma",Excludes:"Excluir servidores específicos",Only:"Solo servidores específicos"},Xh="Finalizar",ex="Expresión Cron",sx="Descargando",tx="Cortafuegos de aplicaciones web",rx="Nezha Monitoring",nx="Notificación",ax="Tipo",ox="¿Confirmar eliminación?",ix="Por favor, inicie sesión primero",cx="Cerrar",lx="Desconectado",dx="Servidor específico",ux="Última ejecución",mx="Sin resultados",hx="Iniciar sesión",xx="Servicio",gx="Travesía NAT",px="Siempre",fx="Grupo",jx="Retraso mínimo (milisegundos)",Nx="Versión",vx="Nota",Sx="Perfil",bx="Cerrar sesión",yx="Acciones",Cx="ID del grupo de notificación",wx="Usuario",$x="Ir a",Tx="Habilitar tarea desencadenante",Dx="Nombre",kx="Oculto para visitantes",Px="Éxito",Rx="Cargando",Ax="(Separar con comas)",Ex="Cubrir todo",_x="Ignorar todo",Ix="Nombre del sitio",Lx="Intervalo",Fx="Tareas a activar tras la recuperación",Ox="Comando",Mx="Enviar notificación de éxito",Ux="Modo de activación",Bx="No enviar mensaje de prueba",Gx="Notificador",zx="Habilitar notificación de latencia",Hx="Tareas programadas",Vx="Reglas",qx="Crear grupo de servidores",Wx="Vincular nombre de dominio",Kx="Tarea",Jx="Habilitar",Yx="Público",Zx="Habilitar notificación de fallos",Qx="Editar servidor",Xx="Contraseña",eg="Dominios",sg="Actualizar",tg="Crear DDNS",rg="Verificar TLS",ng="Tiempo máximo para intentos de reintento",ag="Copiar ruta",og="Credencial",ig="Subiendo",cg="Crear configuración NAT",lg="Notificación de cambio de IP",dg="Mostrar la dirección IP completa en los mensajes de notificación",ug="Editar servicio",mg="Crear servicio",hg="Editar tarea",xg="Crear tarea",gg="Conectado en",pg="Método de solicitud",fg="Solo una vez",jg="Editar notificador",Ng="Editar reglas de alerta",vg="Crear reglas de alerta",Sg="Cancelar",bg="Habilitar DDNS",yg="Enviar si tiene éxito",Cg="El usuario no es válido",wg="Encabezado de solicitud",$g="Inicio de sesión fallido",Tg="Token de ataque de fuerza bruta",Dg="Clave secreta del Agent bajo ataque de fuerza bruta",kg="Idioma",Pg="Editar grupo de notificaciones",Rg="Crear grupo de notificaciones",Ag="Nuevo usuario",Eg="Contar",_g="Comunidad",Ig="Oficial",Lg="Está utilizando un tema de la comunidad",Fg="Este tema es proporcionado por la comunidad, úselo bajo su propio riesgo",Og="Autenticación gRPC fallida",Mg="El token de la API no es válido",Ug="Bloqueado por el usuario",Bg="Al Activarse",Gg="Tipo de solicitud",zg="Cuerpo de la solicitud",Hg="Dirección de conexión del Agent [nombre de dominio/IP:puerto]",Vg="Usar TLS para conectar el Agent",qg="Códigos personalizados (Style y Script)",Wg="Códigos personalizados para el Dashboard",Kg="Servidores de nombres DNS públicos personalizados para DDNS",Jg="Encabezado de solicitud de IP real del frontend",Yg="Encabezado de solicitud de IP real del Agent",Zg="Usar IP de conexión directa",Qg="Crear notificador",Xg="Última razón de bloqueo",ep="Último tiempo de bloqueo",sp="Tema",tp="Autor",rp="Repositorio",np="Identificador de bloqueo",ap="ID de usuario",op="Usuario en línea",ip="Total",cp="Confirmar bloqueo",lp="Volver al Inicio",dp="Servidores Alarmados",up="Rechazar contraseña de inicio de sesión",mp="Opción",hp="Valor",xp="Vista previa",gp="Sobrescribir dominios DDNS (por configuración)",pp="El texto está vacío",fp="No tenías ninguna nota.",jp="Editar configuración del servidor",Np={Goto:ph,UpdateProfile:fh,NewUsername:jh,NewPassword:Nh,EditDDNS:vh,FileManager:Sh,EditNAT:bh,EditServerGroup:yh,theme:Ch,CurrentTime:wh,Results:$h,Unknown:Th,Weight:Dh,DDNSProfiles:kh,Target:Ph,TasksToTriggerOnAlert:Rh,Services:Ah,MaximumLatency:Eh,Server:_h,Confirm:Ih,Submit:Lh,Result:Fh,DDNS:Oh,Failure:Mh,OriginalPassword:Uh,SelectAPageToNavigateTo:Bh,Private:Gh,AlertRule:zh,Provider:Hh,Settings:Vh,Username:qh,NotifierGroup:Wh,Coverage:Kh,LocalService:Jh,InstallCommands:Yh,ShowInService:Zh,Coverages:Qh,Done:Xh,CronExpression:ex,Downloading:sx,WAF:tx,nezha:rx,Notification:nx,Type:ax,ConfirmDeletion:ox,LoginFirst:ix,Close:cx,Offline:lx,SpecificServers:dx,LastExecution:ux,NoResults:mx,Login:hx,Service:xx,NATT:gx,Always:px,Group:fx,MinimumLatency:jx,Version:Nx,Note:vx,Profile:Sx,Logout:bx,Actions:yx,NotifierGroupID:Cx,User:wx,NavigateTo:$x,Error:"Error",EnableTriggerTask:Tx,Name:Dx,HideForGuest:kx,Success:Px,Loading:Rx,SeparateWithComma:Ax,CoverAll:Ex,IgnoreAll:_x,SiteName:Ix,Interval:Lx,TasksToTriggerAfterRecovery:Fx,Command:Ox,SendSuccessNotification:Mx,TriggerMode:Ux,DoNotSendTestMessage:Bx,Notifier:Gx,EnableLatencyNotification:zx,Scheduled:Hx,Rules:Vx,CreateServerGroup:qx,BindHostname:Wx,Task:Kx,Enable:Jx,Public:Yx,EnableFailureNotification:Zx,EditServer:Qx,Password:Xx,Domains:eg,Refresh:sg,CreateDDNS:tg,VerifyTLS:rg,MaximumRetryAttempts:ng,CopyPath:ag,Credential:og,Uploading:ig,CreateNAT:cg,IPChangeNotification:lg,FullIPNotification:dg,EditService:ug,CreateService:mg,EditTask:hg,CreateTask:xg,ConnectedAt:gg,RequestMethod:pg,Once:fg,EditNotifier:jg,EditAlertRule:Ng,CreateAlertRule:vg,Cancel:Sg,EnableDDNS:bg,PushSuccessful:yg,UserInvalid:Cg,RequestHeader:wg,LoginFailed:$g,BruteForceAttackingToken:Tg,BruteForceAttackingAgentSecret:Dg,Language:kg,EditNotifierGroup:Pg,CreateNotifierGroup:Rg,NewUser:Ag,Count:Eg,Community:_g,Official:Ig,CommunityThemeWarning:Lg,CommunityThemeDescription:Fg,GrpcAuthFailed:Og,APITokenInvalid:Mg,BlockByUser:Ug,Trigger:Bg,RequestType:Gg,RequestBody:zg,DashboardOriginalHost:Hg,ConfigTLS:Vg,CustomCodes:qg,CustomCodesDashboard:Wg,CustomPublicDNSNameserversforDDNS:Kg,WebRealIPHeader:Jg,AgentRealIPHeader:Yg,UseDirectConnectingIP:Zg,CreateNotifier:Qg,LastBlockReason:Xg,LastBlockTime:ep,Theme:sp,Author:tp,Repository:rp,BlockIdentifier:np,UserId:ap,OnlineUser:op,Total:ip,ConfirmBlock:cp,BackToHome:lp,OnAlert:dp,RejectPassword:up,Option:mp,Value:hp,Preview:xp,OverrideDDNSDomains:gp,EmptyText:pp,EmptyNote:fp,EditServerConfig:jp},vp={light:"Clair",dark:"Sombre",system:"Suivre le système"},Sp="Nom d’utilisateur",bp="Mot de passe",yp="Heure actuelle",Cp={UsernameMin:"Le nom d’utilisateur doit comporter au moins {{number}} caractères.",PasswordRequired:"Le mot de passe ne peut pas être vide.",SelectAtLeastOneServer:"Veuillez sélectionner au moins un serveur.",UnExpectedError:"Erreur inattendue, veuillez consulter la console pour avoir plus de détails.",ForceUpdate:"Mise à jour forcée :",NoRowsAreSelected:"Aucune ligne n’a été sélectionnée",ThisOperationIsUnrecoverable:"Cette opération ne peut pas être annulée !",TheServerDoesNotOnline:"Le serveur n’existe pas ou n’a pas encore été connecté",UnknownIdentifier:"Identifiant inconnu"},wp="Se connecter",$p="Serveur",Tp="Service",Dp="Tâche",kp="Notification",Pp="DNS dynamique",Rp="NAT traversal",Ap="Groupe",Ep="Profil",_p="Paramètres système",Ip="Retourner à l’accueil",Lp="Se déconnecter",Fp="Naviguer vers",Op="Fermer",Mp="Nom",Up="Version",Bp="inconnu",Gp="Activer",zp="Caché des visiteurs",Hp="Commande d’installation",Vp="Note",qp="Succès",Wp="Terminé",Kp="Hors-ligne",Jp="Échoué",Yp="Chargement",Zp="Pas de résultats",Qp="Actions",Xp="Modifier le serveur",ef="(Séparé par des virgules)",sf="Publique",tf="Privée",rf="Envoyer",nf="Tout ignorer",af="Veuillez d’abord vous connecter",of="ID de profil DDNS",cf="Cible",lf="Serveur spécifique",df="Type",uf="Intervalle",mf="Tâches à déclencher en cas d’alerte",hf="Tâches à déclencher après la récupération",xf="Confirmer",gf="Confirmer la suppression ?",pf="Services",ff="Montrer en service",jf="Délai maximum (ms)",Nf="Délai minimum (millisecondes)",vf="Commande",Sf="Dernière exécution",bf="Résultat",yf="Tâches planifiées",Cf="Règles d’alerte",wf="Règles",$f="Ne pas envoyer de message de test",Tf="Toujours",Df="Domaines",kf="Rafraîchir",Pf="Copier le chemin",Rf="Nouveau nom d’utilisateur",Af="Mot de passe d’origine",Ef="Nouveau mot de passe",_f="Éditer le DNS dynamique",If="Utilisateur",Lf="Nom du site",Ff="Langage",Of="Thème",Mf="Auteur",Uf="Communauté",Bf="Annuler",Gf="L’utilisateur est invalide",zf="Bloqué par un administrateur",Hf="Utilisateur en ligne",Vf="ID utilisateur",qf={theme:vp,Username:Sp,Password:bp,CurrentTime:yp,Results:Cp,Login:wp,Server:$p,Service:Tp,Task:Dp,Notification:kp,DDNS:Pp,NATT:Rp,Group:Ap,Profile:Ep,Settings:_p,BackToHome:Ip,Logout:Lp,NavigateTo:Fp,Close:Op,Error:"Erreur",Name:Mp,Version:Up,Unknown:Bp,Enable:Gp,HideForGuest:zp,InstallCommands:Hp,Note:Vp,Success:qp,Done:Wp,Offline:Kp,Failure:Jp,Loading:Yp,NoResults:Zp,Actions:Qp,EditServer:Xp,SeparateWithComma:ef,Public:sf,Private:tf,Submit:rf,IgnoreAll:nf,LoginFirst:af,DDNSProfiles:of,Target:cf,SpecificServers:lf,Type:df,Interval:uf,TasksToTriggerOnAlert:mf,TasksToTriggerAfterRecovery:hf,Confirm:xf,ConfirmDeletion:gf,Services:pf,ShowInService:ff,MaximumLatency:jf,MinimumLatency:Nf,Command:vf,LastExecution:Sf,Result:bf,Scheduled:yf,AlertRule:Cf,Rules:wf,DoNotSendTestMessage:$f,Always:Tf,Domains:Df,Refresh:kf,CopyPath:Pf,NewUsername:Rf,OriginalPassword:Af,NewPassword:Ef,EditDDNS:_f,User:If,SiteName:Lf,Language:Ff,Theme:Of,Author:Mf,Community:Uf,Cancel:Bf,UserInvalid:Gf,BlockByUser:zf,OnlineUser:Hf,UserId:Vf},Wf="Monitor Nezha",Kf={light:"Terang",dark:"Gelap",system:"Mengikuti sistem"},Jf="Nama Pengguna",Yf="Kata Sandi",Zf="Mohon masuk terlebih dahulu",Qf="Waktu saat ini",Xf={UsernameMin:"Nama Pengguna setidak nya harus {{number}} karakter.",PasswordRequired:"Kata Sandi tidak boleh kosong.",ErrorFetchingResource:"Kesalahan mengambil sumber daya: {{error}}",SelectAtLeastOneServer:"Silahkan pilih setidaknya satu server.",UnExpectedError:"Kesalahan tidak terduga, Silahhkan lihat konsol untuk detailnya.",ForceUpdate:"Peningkatan Paksa:",NoRowsAreSelected:"Tidak ada baris yang dipilih",ThisOperationIsUnrecoverable:"Operasi tidak dapat dibatalkan!",TaskTriggeredSuccessfully:"Tugas berhasil dipicu",TheServerDoesNotOnline:"Server tidak ada atau masih belum terhubung"},ej={nezha:Wf,theme:Kf,Username:Jf,Password:Yf,LoginFirst:Zf,CurrentTime:Qf,Results:Xf},sj="Monitoraggio Nezha",tj={light:"Chiaro",dark:"Scuro",system:"Segui il sistema"},rj="Nome utente",nj="Password",aj="Effettua prima il login",oj="Ora attuale",ij={UsernameMin:"Il nome utente deve contenere almeno {{number}} caratteri.",PasswordRequired:"La password non può essere vuota.",ErrorFetchingResource:"Errore nel recupero della risorsa: {{error}}",SelectAtLeastOneServer:"Seleziona almeno un server.",UnExpectedError:"Errore imprevisto. Controlla la console per i dettagli.",ForceUpdate:"Aggiornamento forzato:",NoRowsAreSelected:"Nessuna riga selezionata",ThisOperationIsUnrecoverable:"Questa operazione non può essere annullata!",TaskTriggeredSuccessfully:"Attività avviata correttamente",TheServerDoesNotOnline:"Il server non esiste o non è stato ancora connesso",InstallHostRequired:"L'indirizzo di aggancio dell'Agent non è stato inserito nelle impostazioni.",UnknownIdentifier:"identificatore sconosciuto"},cj="Accedi",lj="Server",dj="Servizio",uj="Compito",mj="Notifica",hj="DNS Dinamico",xj="Traversata NAT",gj="Gruppo",pj="Informazioni personali",fj="Impostazioni di sistema",jj="Esci",Nj="Vai a",vj="Scegli una pagina da visitare",Sj="Chiudi",bj="Nome",yj="Versione",Cj="Sconosciuto",wj="Abilita",$j="Nascosto ai visitatori",Tj="Comando di installazione",Dj="Osservazione",kj="Successo",Pj="Fine",Rj="Non in linea",Aj="Fallire",Ej="Caricamento",_j="Nessun contenuto",Ij="Azione",Lj="Modifica server",Fj="Peso (più grande è il numero, più alto sarà visualizzato)",Oj="ID profilo DDNS",Mj="(separati da virgole)",Uj="Pubblico",Bj="Privato",Gj="Invia",zj="Bersaglio",Hj="Copertura",Vj="Copri tutto",qj="Ignorare tutto",Wj="Server specifico",Kj="Tipo",Jj="Intervallo",Yj="ID del gruppo di notifiche",Zj="Grilletto",Qj="Attività da attivare in caso di allarme",Xj="Attività da attivare dopo il ripristino",eN="Confermo",sN="Confermi l'eliminazione?",tN="Servizi",rN="Mostra in servizio",nN={Only:"Solo server specifici",Excludes:"Escludi server specifici",Alarmed:"Eseguito sul server che ha attivato l'allarme"},aN="Abilita la notifica di errore",oN="Tempo di ritardo massimo (millisecondi)",iN="Tempo di ritardo minimo (millisecondi)",cN="Abilita le notifiche ritardate",lN="Abilita attività di attivazione",dN="Espressione cron",uN="Ordine",mN="Gruppo di notifica",hN="Invia notifica di successo",xN="Ultimo giustiziato",gN="Risultato",pN="Attività pianificate",fN="Notifica",jN="Regole di allerta",NN="Verifica TLS",vN="Modalità di attivazione",SN="Regola",bN="Metodo di richiesta",yN="Intestazione della richiesta",CN="Non inviare messaggi di prova",wN="Sempre",$N="Solo una volta",TN="Fornitore",DN="Nome di dominio",kN="Numero massimo di tentativi",PN="aggiornare",RN="Percorso di copia",AN="Vai a",EN="Aggiorna il profilo",_N="Nuovo nome utente",IN="Password originale",LN="Nuova parola d'ordine",FN="Modifica DDNS",ON="Crea DDNS",MN="Credenziale",UN="Tipo di richiesta",BN="Richiedi corpo",GN="Pseudo File Manager",zN="Download in corso",HN="Caricamento",VN="Modifica configurazione NAT",qN="Crea configurazione NAT",WN="servizio locale",KN="Associa il nome di dominio",JN="Modifica gruppo di server",YN="Crea gruppo di server",ZN="Servizi di editing",QN="Crea servizio",XN="Modifica attività",ev="Crea attività",sv="Crea notifica",tv="Modifica notifica",rv="Modifica le regole degli allarmi",nv="Crea regole di avviso",av="Modifica gruppo di notifiche",ov="Crea gruppo di notifica",iv="Utente",cv="Firewall dell'applicazione Web",lv="Nome del sito",dv="Lingua",uv="Codice personalizzato (stili e script)",mv="Codice personalizzato per dashboard",hv="Indirizzo di ancoraggio dell'agente [nome dominio/IP:porta]",xv="Usa TLS per connettere Agent",gv="Server dei nomi DNS pubblici personalizzati per DDNS",pv="Intestazione della richiesta IP reale del frontend",fv="Intestazione della richiesta IP reale dell’agente",jv="Utilizzare l'IP di connessione diretta",Nv="Notifica di modifica IP",vv="Mostra l'indirizzo IP completo nei messaggi di notifica",Sv="Accesso non riuscito",bv="Segnalino di attacco di forza bruta",yv="Segreti proxy dell'attacco di forza bruta",Cv="Nuovo utente",wv="Contare",$v="Motivo dell'ultimo divieto",Tv="L'ultima volta che è stato vietato",Dv="Tema",kv="Autore",Pv="Repository",Rv="Comunità",Av="Ufficiale",Ev="Questo tema appartiene alla comunità",_v="Questo tema viene fornito dalla comunità, utilizzalo a tuo rischio e pericolo",Iv="Annulla",Lv="Abilita DDNS",Fv="Esegui il push se ha successo",Ov="Autenticazione gRPC fallita",Mv="Il token API non è valido",Uv="L'utente non è valido",Bv="Bloccato dall'amministratore",Gv="Totale",zv="Conferma blocco",Hv="Utente online",Vv="Identificatore del blocco",qv="ID utente",Wv="Connesso alle",Kv={nezha:sj,theme:tj,Username:rj,Password:nj,LoginFirst:aj,CurrentTime:oj,Results:ij,Login:cj,Server:lj,Service:dj,Task:uj,Notification:mj,DDNS:hj,NATT:xj,Group:gj,Profile:pj,Settings:fj,Logout:jj,NavigateTo:Nj,SelectAPageToNavigateTo:vj,Close:Sj,Error:"Errore",Name:bj,Version:yj,Unknown:Cj,Enable:wj,HideForGuest:$j,InstallCommands:Tj,Note:Dj,Success:kj,Done:Pj,Offline:Rj,Failure:Aj,Loading:Ej,NoResults:_j,Actions:Ij,EditServer:Lj,Weight:Fj,DDNSProfiles:Oj,SeparateWithComma:Mj,Public:Uj,Private:Bj,Submit:Gj,Target:zj,Coverage:Hj,CoverAll:Vj,IgnoreAll:qj,SpecificServers:Wj,Type:Kj,Interval:Jj,NotifierGroupID:Yj,Trigger:Zj,TasksToTriggerOnAlert:Qj,TasksToTriggerAfterRecovery:Xj,Confirm:eN,ConfirmDeletion:sN,Services:tN,ShowInService:rN,Coverages:nN,EnableFailureNotification:aN,MaximumLatency:oN,MinimumLatency:iN,EnableLatencyNotification:cN,EnableTriggerTask:lN,CronExpression:dN,Command:uN,NotifierGroup:mN,SendSuccessNotification:hN,LastExecution:xN,Result:gN,Scheduled:pN,Notifier:fN,AlertRule:jN,VerifyTLS:NN,TriggerMode:vN,Rules:SN,RequestMethod:bN,RequestHeader:yN,DoNotSendTestMessage:CN,Always:wN,Once:$N,Provider:TN,Domains:DN,MaximumRetryAttempts:kN,Refresh:PN,CopyPath:RN,Goto:AN,UpdateProfile:EN,NewUsername:_N,OriginalPassword:IN,NewPassword:LN,EditDDNS:FN,CreateDDNS:ON,Credential:MN,RequestType:UN,RequestBody:BN,FileManager:GN,Downloading:zN,Uploading:HN,EditNAT:VN,CreateNAT:qN,LocalService:WN,BindHostname:KN,EditServerGroup:JN,CreateServerGroup:YN,EditService:ZN,CreateService:QN,EditTask:XN,CreateTask:ev,CreateNotifier:sv,EditNotifier:tv,EditAlertRule:rv,CreateAlertRule:nv,EditNotifierGroup:av,CreateNotifierGroup:ov,User:iv,WAF:cv,SiteName:lv,Language:dv,CustomCodes:uv,CustomCodesDashboard:mv,DashboardOriginalHost:hv,ConfigTLS:xv,CustomPublicDNSNameserversforDDNS:gv,WebRealIPHeader:pv,AgentRealIPHeader:fv,UseDirectConnectingIP:jv,IPChangeNotification:Nv,FullIPNotification:vv,LoginFailed:Sv,BruteForceAttackingToken:bv,BruteForceAttackingAgentSecret:yv,NewUser:Cv,Count:wv,LastBlockReason:$v,LastBlockTime:Tv,Theme:Dv,Author:kv,Repository:Pv,Community:Rv,Official:Av,CommunityThemeWarning:Ev,CommunityThemeDescription:_v,Cancel:Iv,EnableDDNS:Lv,PushSuccessful:Fv,GrpcAuthFailed:Ov,APITokenInvalid:Mv,UserInvalid:Uv,BlockByUser:Bv,Total:Gv,ConfirmBlock:zv,OnlineUser:Hv,BlockIdentifier:Vv,UserId:qv,ConnectedAt:Wv},Jv="Закрыть",Yv="Максимальная задержка (мс)",Zv={dark:"Темная тема",light:"Светлая тема",system:"Как в Системе"},Qv={Alarmed:"Выполняется на сервере, вызвавшем тревогу",Excludes:"Исключить определённые серверы",Only:"Только определённые серверы"},Xv="Недействительный API-токен",eS="Неизвестно",sS="Токен для защиты от брутфорса",tS="Новое имя пользователя",rS={ForceUpdate:"Принудительное обновление:",UsernameMin:"Имя пользователя должно содержать не менее {{number}} символов.",TheServerDoesNotOnline:"Сервер не существует или еще не подключен",PasswordRequired:"Пароль не может быть пустым.",ErrorFetchingResource:"Ошибка при получении ресурса: {{error}}",SelectAtLeastOneServer:"Выберите хотя бы один сервер.",UnExpectedError:"Непредвиденная ошибка. Подробности в консоли.",ThisOperationIsUnrecoverable:"Эту операцию нельзя отменить!",TaskTriggeredSuccessfully:"Задача успешно запущена",UnknownIdentifier:"Неизвестный идентификатор",NoRowsAreSelected:"Не выбраны строки",InstallHostRequired:"В настройках не указан адрес подключения агента."},nS="Провайдер",aS="Системные настройки",oS="Готово",iS="(Разделяйте запятой)",cS="Перейти к",lS="Время последнего бана",dS="Группа уведомлений",uS="Использовать IP для прямого подключения",mS="Обновить",hS="Группа",xS="Учетные данные",gS="Эта тема предоставлена сообществом, используйте на свой страх и риск",pS="Адрес подключения агента [домен/IP:порт]",fS="Режим срабатывания",jS="Один раз",NS="Включить уведомления о задержке",vS="Домены",SS="Редактировать задачу",bS="Создать задачу",yS="Обход NAT",CS="Пожалуйста, сначала войдите в систему",wS="Заголовок запроса",$S="Ничего не найдено",TS="Сервисы",DS="Выйти",kS="При срабатывании",PS="Редактировать правила оповещений",RS="Недействительный пользователь",AS="Количество",ES="Привязать доменное имя",_S="Вы используете тему от сообщества",IS="Имя пользователя",LS="Пароль",FS="Текущее время",OS="Сервер",MS="Динамический DNS",US="Профиль",BS="Вернуться на главную",GS="Название",zS="Включить",HS="Скрыто для гостей",VS="Заметка",qS="Успешно",WS="Оффлайн",KS="Неудача",JS="Действия",YS="Вес (чем больше число, тем выше в списке)",ZS="ID профилей DDNS",QS="Цель",XS="Охват",eb="Охватить всё",sb="Игнорировать всё",tb="Серверы с тревогами",rb="Конкретный сервер",nb="Тип",ab="Интервал",ob="ID группы уведомлений",ib="Задачи, запускаемые при тревоге",cb="Минимальная задержка (мс)",lb="Cron-выражение",db="Команда",ub="Последний запуск",mb="Отправлять уведомление при успехе",hb="Результат",xb="Уведомитель",gb="Правила тревог",pb="Правила",fb="Метод запроса",jb="Не отправлять тестовое сообщение",Nb="Всегда",vb="Максимальное время для повторных попыток",Sb="Копировать путь",bb="Перейти",yb="Обновить профиль",Cb="Новый пароль",wb="Редактировать DDNS",$b="Создать DDNS",Tb="Тип запроса",Db="Тело запроса",kb="Псевдофайловый менеджер",Pb="Скачивание",Rb="Загрузка",Ab="Редактировать NAT-конфигурацию",Eb="Редактировать группу серверов",_b="Создать группу серверов",Ib="Пользователь",Lb="Имя Сайта",Fb="Использовать TLS для подключения агента",Ob="Ошибка входа",Mb="Секрет агента для защиты от брутфорса",Ub="Пользовательский код для панели управления",Bb="Пользовательские публичные DNS-серверы для DDNS",Gb="Заголовок запроса с реальным IP от frontend",zb="Заголовок запроса с реальным IP от агента",Hb="Показывать полный IP-адрес в уведомлениях",Vb="Редактировать сервис",qb="Создать сервис",Wb="Создать уведомитель",Kb="Редактировать уведомитель",Jb="Редактировать группу уведомителей",Yb="Создать группу уведомителей",Zb="Тема",Qb="Автор",Xb="Репозиторий",ey="Сообщество",sy="Официальный",ty="Отмена",ry="Включить DDNS",ny="Отправлять при успешном выполнении",ay="Ошибка аутентификации gRPC",oy="Заблокирован администратором",iy="Идентификатор блокировки",cy="Подключен в",ly="Пользователь в сети",dy="Всего",uy="Подтвердить блокировку",my="Отклонить вход по паролю",hy="Текст отсутствует",xy="Переопределение доменов DDNS (по настройкам)",gy="Редактировать конфигурацию сервера",py="Опция",fy="Значение",jy="Предпросмотр",Ny="Nezha Monitoring",vy="Пользовательский код (стили и скрипты)",Sy="Локальный сервис",by="Войти",yy="Сервис",Cy="Задача",wy="Причина последней блокировки",$y="У вас нет заметок.",Ty="Уведомление",Dy="Выберите страницу для перехода",ky="Версия",Py="Команда установки",Ry="Загрузка",Ay="Редактировать сервер",Ey="Публичный",_y="Приватный",Iy="Отправить",Ly="Задачи, запускаемые после восстановления",Fy="Подтвердить",Oy="Включить задачу-триггер",My="Язык",Uy="Подтвердить удаление?",By="Старый пароль",Gy="Показывать в Сервисе",zy="Включить уведомления об ошибках",Hy="Создать NAT-конфигурацию",Vy="Запланированные задачи",qy="Файрвол (WAF)",Wy="Проверка TLS",Ky="Уведомление об изменении IP",Jy="Создать правила оповещений",Yy="ID пользователя",Zy="Новый пользователь",Qy={Close:Jv,MaximumLatency:Yv,theme:Zv,Coverages:Qv,APITokenInvalid:Xv,Unknown:eS,BruteForceAttackingToken:sS,NewUsername:tS,Results:rS,Provider:nS,Settings:aS,Done:oS,SeparateWithComma:iS,NavigateTo:cS,LastBlockTime:lS,NotifierGroup:dS,UseDirectConnectingIP:uS,Refresh:mS,Group:hS,Credential:xS,CommunityThemeDescription:gS,DashboardOriginalHost:pS,Error:"Ошибка",TriggerMode:fS,Once:jS,EnableLatencyNotification:NS,Domains:vS,EditTask:SS,CreateTask:bS,NATT:yS,LoginFirst:CS,RequestHeader:wS,NoResults:$S,Services:TS,Logout:DS,Trigger:kS,EditAlertRule:PS,UserInvalid:RS,Count:AS,BindHostname:ES,CommunityThemeWarning:_S,Username:IS,Password:LS,CurrentTime:FS,Server:OS,DDNS:MS,Profile:US,BackToHome:BS,Name:GS,Enable:zS,HideForGuest:HS,Note:VS,Success:qS,Offline:WS,Failure:KS,Actions:JS,Weight:YS,DDNSProfiles:ZS,Target:QS,Coverage:XS,CoverAll:eb,IgnoreAll:sb,OnAlert:tb,SpecificServers:rb,Type:nb,Interval:ab,NotifierGroupID:ob,TasksToTriggerOnAlert:ib,MinimumLatency:cb,CronExpression:lb,Command:db,LastExecution:ub,SendSuccessNotification:mb,Result:hb,Notifier:xb,AlertRule:gb,Rules:pb,RequestMethod:fb,DoNotSendTestMessage:jb,Always:Nb,MaximumRetryAttempts:vb,CopyPath:Sb,Goto:bb,UpdateProfile:yb,NewPassword:Cb,EditDDNS:wb,CreateDDNS:$b,RequestType:Tb,RequestBody:Db,FileManager:kb,Downloading:Pb,Uploading:Rb,EditNAT:Ab,EditServerGroup:Eb,CreateServerGroup:_b,User:Ib,SiteName:Lb,ConfigTLS:Fb,LoginFailed:Ob,BruteForceAttackingAgentSecret:Mb,CustomCodesDashboard:Ub,CustomPublicDNSNameserversforDDNS:Bb,WebRealIPHeader:Gb,AgentRealIPHeader:zb,FullIPNotification:Hb,EditService:Vb,CreateService:qb,CreateNotifier:Wb,EditNotifier:Kb,EditNotifierGroup:Jb,CreateNotifierGroup:Yb,Theme:Zb,Author:Qb,Repository:Xb,Community:ey,Official:sy,Cancel:ty,EnableDDNS:ry,PushSuccessful:ny,GrpcAuthFailed:ay,BlockByUser:oy,BlockIdentifier:iy,ConnectedAt:cy,OnlineUser:ly,Total:dy,ConfirmBlock:uy,RejectPassword:my,EmptyText:hy,OverrideDDNSDomains:xy,EditServerConfig:gy,Option:py,Value:fy,Preview:jy,nezha:Ny,CustomCodes:vy,LocalService:Sy,Login:by,Service:yy,Task:Cy,LastBlockReason:wy,EmptyNote:$y,Notification:Ty,SelectAPageToNavigateTo:Dy,Version:ky,InstallCommands:Py,Loading:Ry,EditServer:Ay,Public:Ey,Private:_y,Submit:Iy,TasksToTriggerAfterRecovery:Ly,Confirm:Fy,EnableTriggerTask:Oy,Language:My,ConfirmDeletion:Uy,OriginalPassword:By,ShowInService:Gy,EnableFailureNotification:zy,CreateNAT:Hy,Scheduled:Vy,WAF:qy,VerifyTLS:Wy,IPChangeNotification:Ky,CreateAlertRule:Jy,UserId:Yy,NewUser:Zy},Xy="கண்காணிப்பு",eC={light:"ஒளி",dark:"இருண்ட",system:"அமைப்பைப் பின்தொடரவும்"},sC="பயனர்பெயர்",tC="கடவுச்சொல்",rC="முதலில் உள்நுழைக",nC="தற்போதைய நேரம்",aC={UsernameMin:"பயனர்பெயர் குறைந்தபட்சம் {{number}} எழுத்துக்களாக இருக்க வேண்டும்.",PasswordRequired:"கடவுச்சொல் காலியாக இருக்க முடியாது.",ErrorFetchingResource:"வளத்தைப் பெறுவதில் பிழை: {{error}}",SelectAtLeastOneServer:"குறைந்தது ஒரு சேவையகத்தைத் தேர்ந்தெடுக்கவும்.",UnExpectedError:"எதிர்பாராத பிழை, விவரங்களுக்கு கன்சோலைப் பார்க்கவும்.",ForceUpdate:"கட்டாய மேம்படுத்தல்:",NoRowsAreSelected:"வரிசைகள் எதுவும் தேர்ந்தெடுக்கப்படவில்லை",ThisOperationIsUnrecoverable:"இந்த செயல்பாட்டை செயல்தவிர்க்க முடியாது!",TaskTriggeredSuccessfully:"பணி வெற்றிகரமாக தூண்டப்பட்டது",TheServerDoesNotOnline:"சேவையகம் இல்லை அல்லது இன்னும் இணைக்கப்படவில்லை",InstallHostRequired:"அமைப்புகளில் முகவர் நறுக்குதல் முகவரி நிரப்பப்படவில்லை.",UnknownIdentifier:"தெரியாத அடையாளங்காட்டி"},oC="நீக்குதலை உறுதிப்படுத்தவா?",iC="சேவைகள்",cC="சேவையில் காட்டு",lC={Excludes:"குறிப்பிட்ட சேவையகங்களை விலக்குகிறது",Only:"குறிப்பிட்ட சேவையகங்கள் மட்டுமே",Alarmed:"அலாரத்தைத் தூண்டிய சேவையகத்தில் செயல்படுத்தப்பட்டது"},dC="தோல்வி அறிவிப்பை இயக்கவும்",uC="அதிகபட்ச நேரந்தவறுகை (எம்.எச்)",mC="குறைந்தபட்ச நேரந்தவறுகை (மில்லி விநாடிகள்)",hC="தாமத அறிவிப்பை இயக்கவும்",xC="முடிவு",gC="திட்டமிடப்பட்ட பணிகள்",pC="அறிவிக்கவும்",fC="விதிகள்",jC="எச்சரிக்கை விதிகளை உருவாக்கவும்",NC="குழுவைத் திருத்து",vC="அறிவிப்பு குழுவை உருவாக்கவும்",SC="புதிய பயனர்",bC="புகுபதிகை",yC="சேவையகம்",CC="சேவை",wC="பணி",$C="அறிவிப்பு",TC="மாறும் டி.என்.எச்",DC="நாட் டிராவர்சல்",kC="குழு",PC="சுயவிவரம்",RC="கணினி அமைப்புகள்",AC="வீட்டிற்கு திரும்பவும்",EC="விடுபதிகை",_C="செல்லவும்",IC="செல்ல ஒரு பக்கத்தைத் தேர்வுசெய்க",LC="மூடு",FC="பெயர்",OC="பதிப்பு",MC="தெரியவில்லை",UC="இயக்கு",BC="பார்வையாளர்களிடமிருந்து மறைக்கப்பட்டுள்ளது",GC="நிறுவல் கட்டளை",zC="குறிப்பு",HC="செய்",VC="முடிக்க",qC="இணையமில்லாமல்",WC="தோல்வி",KC="ஏற்றுகிறது",JC="முடிவுகள் இல்லை",YC="செயல்கள்",ZC="சேவையகத்தைத் திருத்து",QC="எடை (பெரிய எண், அதிக அளவில் காட்டப்படும்)",XC="டி.டி.என்.எச் சுயவிவர ஐடிகள்",ew="(கமாவுடன் பிரிக்கவும்)",sw="பொது",tw="தனிப்பட்ட",rw="சமர்ப்பிக்கவும்",nw="இலக்கு",aw="பாதுகாப்பு",ow="அனைத்தையும் மறைக்கவும்",iw="அனைத்தையும் புறக்கணிக்கவும்",cw="எச்சரிக்கை சேவையகங்கள்",lw="குறிப்பிட்ட சேவையகம்",dw="வகை",uw="இடைவேளை",mw="குழு ஐடியை அறிவிக்கவும்",hw="தூண்டுதலில்",xw="எச்சரிக்கையில் தூண்டப்பட வேண்டிய பணிகள்",gw="மீட்கப்பட்ட பிறகு தூண்டப்பட வேண்டிய பணிகள்",pw="உறுதிப்படுத்தவும்",fw="தூண்டுதல் பணியை இயக்கவும்",jw="க்ரோன் வெளிப்பாடு",Nw="கட்டளை",vw="குழுவிற்கு அறிவிக்கவும்",Sw="செய் அறிவிப்பை அனுப்புங்கள்",bw="கடைசி சாவுஒறுப்பு",yw="எச்சரிக்கை விதிகள்",Cw="TLS ஐ சரிபார்க்கவும்",ww="தூண்டுதல் பயன்முறை",$w="கோரிக்கை முறை",Tw="கோரிக்கை தலைப்பு",Dw="சோதனை செய்தியை அனுப்ப வேண்டாம்",kw="எப்போதும்",Pw="ஒருமுறை",Rw="வழங்குநர்",Aw="களங்கள்",Ew="மீண்டும் முயற்சிக்கும் முயற்சிகளுக்கு அதிகபட்ச நேரம்",_w="புதுப்பிப்பு",Iw="நகல் பாதை",Lw="செல்",Fw="சுயவிவரத்தைப் புதுப்பிக்கவும்",Ow="புதிய பயனர்பெயர்",Mw="அசல் கடவுச்சொல்",Uw="புதிய கடவுச்சொல்",Bw="DDNS ஐத் திருத்து",Gw="DDNS ஐ உருவாக்கவும்",zw="நற்சான்றிதழ்",Hw="கோரிக்கை வகை",Vw="கோரிக்கை அமைப்பு",qw="போலி கோப்பு மேலாளர்",Ww="பதிவிறக்குகிறது",Kw="பதிவேற்றம்",Jw="NAT உள்ளமைவைத் திருத்து",Yw="NAT உள்ளமைவை உருவாக்கவும்",Zw="உள்ளக பணி",Qw="டொமைன் பெயரை பிணைக்கவும்",Xw="சேவையக குழுவைத் திருத்து",e$="சேவையக குழுவை உருவாக்கவும்",s$="பயனர்",t$="வலை பயன்பாடு ஃபயர்வால்",r$="தளத்தின் பெயர்",n$="முகவரியை இணைக்கும் முகவரி [டொமைன் பெயர்/ஐபி: போர்ட்]",a$="முகவரை இணைக்க TLS ஐப் பயன்படுத்தவும்",o$="உள்நுழைவு தோல்வியடைந்தது",i$="மிருகத்தனமான ஆற்றல் டோக்கனைத் தாக்குகிறது",c$="மிருகத்தனமான படை தாக்குதல் முகவர் மறைபொருள்",l$="மொழி",d$="தனிப்பயன் குறியீடுகள் (நடை மற்றும் ச்கிரிப்ட்)",u$="டாச்போர்டுக்கான தனிப்பயன் குறியீடுகள்",m$="டி.டி.என்.எச்சிற்கான தனிப்பயன் பொது டி.என்.எச் பெயர்செர்வர்ச்",h$="முன்நிலை உண்மையான ஐபி கோரிக்கை தலைப்பு",x$="ஏஜெண்ட் உண்மையான ஐபி கோரிக்கை தலைப்பு",g$="நேரடி இணைப்பு ஐபி பயன்படுத்தவும்",p$="ஐபி மாற்ற அறிவிப்பு",f$="அறிவிப்பு செய்திகளில் முழு ஐபி முகவரியைக் காட்டுங்கள்",j$="சேவையைத் திருத்து",N$="சேவையை உருவாக்கவும்",v$="பணியைத் திருத்து",S$="பணியை உருவாக்கவும்",b$="அறிவிப்பை உருவாக்கவும்",y$="அறிவிப்பு திருத்து",C$="எச்சரிக்கை விதிகளைத் திருத்தவும்",w$="எண்ணுங்கள்",$$="கடைசி தொகுதி காரணம்",T$="கடைசி தடை நேரம்",D$="கருப்பொருள்",k$="நூலாசிரியர்",P$="களஞ்சியம்",R$="சமூகம்",A$="அதிகாரி",E$="நீங்கள் ஒரு சமூக கருப்பொருளைப் பயன்படுத்துகிறீர்கள்",_$="இந்த கருப்பொருள் சமூகத்தால் வழங்கப்படுகிறது, உங்கள் சொந்த ஆபத்தில் பயன்படுத்தவும்",I$="ரத்துசெய்",L$="DDNS ஐ இயக்கவும்",F$="வெற்றிகரமாக இருந்தால் தள்ளுங்கள்",O$="சிஆர்பிசி ஏற்பு தோல்வியடைந்தது",M$="பநிஇ கிள்ளாக்கு தவறானது",U$="பயனர் தவறானது",B$="நிர்வாகியால் தடுக்கப்பட்டது",G$="தொகுதி அடையாளங்காட்டி",z$="பயனர் ஐடி",H$="இணைக்கப்பட்டுள்ளது",V$="நிகழ்நிலை பயனர்",q$="மொத்தம்",W$="தொகுதி உறுதிப்படுத்தவும்",K$="கடவுச்சொல் உள்நுழைவை நிராகரிக்கவும்",J$="உரை காலியாக உள்ளது",Y$="உங்களிடம் எந்த குறிப்பும் இல்லை.",Z$={nezha:Xy,theme:eC,Username:sC,Password:tC,LoginFirst:rC,CurrentTime:nC,Results:aC,ConfirmDeletion:oC,Services:iC,ShowInService:cC,Coverages:lC,EnableFailureNotification:dC,MaximumLatency:uC,MinimumLatency:mC,EnableLatencyNotification:hC,Result:xC,Scheduled:gC,Notifier:pC,Rules:fC,CreateAlertRule:jC,EditNotifierGroup:NC,CreateNotifierGroup:vC,NewUser:SC,Login:bC,Server:yC,Service:CC,Task:wC,Notification:$C,DDNS:TC,NATT:DC,Group:kC,Profile:PC,Settings:RC,BackToHome:AC,Logout:EC,NavigateTo:_C,SelectAPageToNavigateTo:IC,Close:LC,Error:"பிழை",Name:FC,Version:OC,Unknown:MC,Enable:UC,HideForGuest:BC,InstallCommands:GC,Note:zC,Success:HC,Done:VC,Offline:qC,Failure:WC,Loading:KC,NoResults:JC,Actions:YC,EditServer:ZC,Weight:QC,DDNSProfiles:XC,SeparateWithComma:ew,Public:sw,Private:tw,Submit:rw,Target:nw,Coverage:aw,CoverAll:ow,IgnoreAll:iw,OnAlert:cw,SpecificServers:lw,Type:dw,Interval:uw,NotifierGroupID:mw,Trigger:hw,TasksToTriggerOnAlert:xw,TasksToTriggerAfterRecovery:gw,Confirm:pw,EnableTriggerTask:fw,CronExpression:jw,Command:Nw,NotifierGroup:vw,SendSuccessNotification:Sw,LastExecution:bw,AlertRule:yw,VerifyTLS:Cw,TriggerMode:ww,RequestMethod:$w,RequestHeader:Tw,DoNotSendTestMessage:Dw,Always:kw,Once:Pw,Provider:Rw,Domains:Aw,MaximumRetryAttempts:Ew,Refresh:_w,CopyPath:Iw,Goto:Lw,UpdateProfile:Fw,NewUsername:Ow,OriginalPassword:Mw,NewPassword:Uw,EditDDNS:Bw,CreateDDNS:Gw,Credential:zw,RequestType:Hw,RequestBody:Vw,FileManager:qw,Downloading:Ww,Uploading:Kw,EditNAT:Jw,CreateNAT:Yw,LocalService:Zw,BindHostname:Qw,EditServerGroup:Xw,CreateServerGroup:e$,User:s$,WAF:t$,SiteName:r$,DashboardOriginalHost:n$,ConfigTLS:a$,LoginFailed:o$,BruteForceAttackingToken:i$,BruteForceAttackingAgentSecret:c$,Language:l$,CustomCodes:d$,CustomCodesDashboard:u$,CustomPublicDNSNameserversforDDNS:m$,WebRealIPHeader:h$,AgentRealIPHeader:x$,UseDirectConnectingIP:g$,IPChangeNotification:p$,FullIPNotification:f$,EditService:j$,CreateService:N$,EditTask:v$,CreateTask:S$,CreateNotifier:b$,EditNotifier:y$,EditAlertRule:C$,Count:w$,LastBlockReason:$$,LastBlockTime:T$,Theme:D$,Author:k$,Repository:P$,Community:R$,Official:A$,CommunityThemeWarning:E$,CommunityThemeDescription:_$,Cancel:I$,EnableDDNS:L$,PushSuccessful:F$,GrpcAuthFailed:O$,APITokenInvalid:M$,UserInvalid:U$,BlockByUser:B$,BlockIdentifier:G$,UserId:z$,ConnectedAt:H$,OnlineUser:V$,Total:q$,ConfirmBlock:W$,RejectPassword:K$,EmptyText:J$,EmptyNote:Y$},Q$="哪吒监控",X$={light:"亮色",dark:"暗色",system:"跟随系统"},eT="用户名",sT="密码",tT="用户名或密码错误",rT="网络错误",nT="请先登录",aT="当前时间",oT={UsernameMin:"用户名必须至少有 {{number}} 个字符。",PasswordRequired:"密码不能为空。",ErrorFetchingResource:"获取资源时出错：{{error}}",SelectAtLeastOneServer:"请至少选择一台服务器。",UnExpectedError:"意外错误，请查看控制台了解详细信息。",ForceUpdate:"强制升级：",NoRowsAreSelected:"未选择任何行",ThisOperationIsUnrecoverable:"这个操作将无法恢复！",TaskTriggeredSuccessfully:"任务触发成功",TheServerDoesNotOnline:"服务器不存在或者还未连接",InstallHostRequired:"设置中尚未填写Agent对接地址。",UnknownIdentifier:"未知标识符"},iT="登录",cT="服务器",lT="服务",dT="任务",uT="通知",mT="动态域名解析",hT="内网穿透",xT="分组",gT="个人信息",pT="系统设置",fT="返回前台",jT="登出",NT="导航至",vT="选择一个页面跳转",ST="关闭",bT="名称",yT="版本",CT="未知",wT="启用",$T="对游客隐藏",TT="安装命令",DT="终端",kT="配置",PT="备注",RT="成功",AT="完成",ET="离线",_T="失败",IT="加载中",LT="没有内容",FT="操作",OT="编辑服务器",MT="权重（数字越大，显示越靠前）",UT="DDNS 配置文件 ID",BT="（以英文逗号分隔）",GT="公开",zT="私有",HT="提交",VT="目标",qT="覆盖范围",WT="覆盖全部",KT="忽略全部",JT="告警服务器",YT="特定服务器",ZT="类型",QT="间隔",XT="通知组ID",eD="触发",sD="告警时要触发的任务",tD="恢复后要触发的任务",rD="添加",nD="删除",aD="高级 JSON",oD="保存",iD="确认",cD="确认删除？",lD="服务",dD="服务中显示",uD={Excludes:"排除特定服务器",Only:"仅特定服务器",Alarmed:"在触发报警的服务器上执行"},mD="启用失败通知",hD="最大延迟时间（毫秒）",xD="最小延迟时间（毫秒）",gD="启用延迟通知",pD="启用触发任务",fD="Cron表达式",jD="命令",ND="通知组",vD="发送成功通知",SD="最后执行",bD="结果",yD="计划任务",CD="警报规则",wD="通知",$D="验证 TLS",TD="触发模式",DD="规则",kD="请求方式",PD="请求头",RD="不发送测试消息",AD="总是",ED="仅一次",_D="提供商",ID="域名",LD="最大重试次数",FD="刷新",OD="复制路径",MD="前往",UD="更新个人资料",BD="新用户名",GD="原始密码",zD="新密码",HD="编辑DDNS",VD="创建DDNS",qD="凭据",WD="请求类型",KD="请求体",JD="文件列表",YD="下载中",ZD="上传中",QD="编辑内网穿透配置",XD="创建内网穿透配置",ek="本地服务",sk="绑定域名",tk="AutoSSH",rk="编辑AutoSSH配置",nk="添加AutoSSH配置",ak="配置AutoSSH端口映射",ok="映射类型",ik="远程转发 (-R)",ck="本地转发 (-L)",lk="源端口",dk="目标主机",uk="目标端口",mk="选择服务器",hk="运行中",xk="已停止",gk="错误",pk="是",fk="否",jk="编辑",Nk="取消",vk="暂无数据",Sk="编辑服务器分组",bk="创建服务器分组",yk="编辑服务",Ck="创建服务",wk="编辑任务",$k="创建任务",Tk="编辑通知",Dk="创建通知",kk="编辑报警规则",Pk="创建报警规则",Rk="编辑通知分组",Ak="创建通知分组",Ek="用户",_k="Web应用防火墙",Ik="站点名称",Lk="语言",Fk="自定义代码（样式和脚本）",Ok="仪表板的自定义代码",Mk="Agent对接地址【域名/IP:端口】",Uk="Agent 使用 TLS 连接",Bk="DDNS 的自定义公共 DNS 名称服务器",Gk="前端真实IP请求头",zk="Agent真实IP请求头",Hk="使用直连 IP",Vk="IP变更通知",qk="在通知消息中显示完整的 IP 地址",Wk="登录失败",Kk="暴力攻击令牌",Jk="暴力攻击代理秘密",Yk="新用户",Zk="编辑用户",Qk="服务器权限",Xk="选择服务器",eP="留空保持当前值",sP="密码不能为空",tP="AutoSSH服务器地址",rP="格式: 用户名@IP:端口",nP="计数",aP="最后封禁原因",oP="最后封禁时间",iP="主题",cP="作者",lP="仓库",dP="社区",uP="官方",mP="正在使用社区主题",hP="社区主题未经官方审计，需自行甄别风险",xP="启用 DDNS",gP="推送成功的通知",pP="gRPC 认证失败",fP="API 令牌无效",jP="用户无效",NP="被管理员封禁",vP="封禁标识",SP="用户 ID",bP="连接时间",yP="在线用户",CP="总数",wP="确认封禁",$P="禁止密码登录",TP="空文本",DP="您没有任何备注。",kP="编辑服务器配置",PP="强制指定 DDNS 域名（每个配置）",RP="值",AP="预览",EP="选项",_P={Label:"公开备注",Billing:"账单信息",Plan:"套餐配置",StartDate:"开始时间",EndDate:"结束时间",AutoRenewal:"自动续费",Cycle:"周期",Amount:"金额",Bandwidth:"带宽",TrafficVolume:"流量配额",TrafficType:"流量类型",IPv4:"IPv4",IPv6:"IPv6",NetworkRoute:"网络路由",Extra:"额外备注",Enabled:"启用",Disabled:"禁用",Inbound:"入站",Both:"双向",Day:"天",Week:"周",Month:"月",Year:"年",NoExpiry:"不过期",SetNoExpiry:"设置为不过期",CancelNoExpiry:"取消不过期",Free:"免费",PayAsYouGo:"按量付费",CommaSeparated:"以英文逗号分隔多个",Has:"有",None:"无",CustomFields:"自定义字段",ClearDate:"清除日期",Clear:"清除",RawText:"原始文本"},IP={InvalidDate:"无效的日期格式",MustBe0Or1:"只能为 0 或 1",MustBeDayWeekMonthYear:"必须为 Day/Week/Month/Year",MustBe1Or2:"只能为 1 或 2",DigitsOnly:"仅允许数字",InvalidForm:"表单校验失败",InvalidJSON:"无效的 JSON"},LP={CoverAllServers:"监控所有服务器",IgnoreAllSelectSpecific:"忽略所有，选择特定服务器",IgnoreHint:"{{server}}ID: true/false",IgnoreExample:'例如：{"1": true, "2": false}'},FP="搜索...",OP="格式化",MP="已格式化",UP="复制",BP="粘贴",GP="已复制到剪贴板",zP="无法写入剪贴板",HP="已从剪贴板粘贴",VP="无法读取剪贴板",qP={nezha:Q$,theme:X$,Username:eT,Password:sT,InvalidUsernameOrPassword:tT,NetworkError:rT,LoginFirst:nT,CurrentTime:aT,Results:oT,Login:iT,Server:cT,Service:lT,Task:dT,Notification:uT,DDNS:mT,NATT:hT,Group:xT,Profile:gT,Settings:pT,BackToHome:fT,Logout:jT,NavigateTo:NT,SelectAPageToNavigateTo:vT,Close:ST,Error:"错误",Name:bT,Version:yT,Unknown:CT,Enable:wT,HideForGuest:$T,InstallCommands:TT,Terminal:DT,Config:kT,Note:PT,Success:RT,Done:AT,Offline:ET,Failure:_T,Loading:IT,NoResults:LT,Actions:FT,EditServer:OT,Weight:MT,DDNSProfiles:UT,SeparateWithComma:BT,Public:GT,Private:zT,Submit:HT,Target:VT,Coverage:qT,CoverAll:WT,IgnoreAll:KT,OnAlert:JT,SpecificServers:YT,Type:ZT,Interval:QT,NotifierGroupID:XT,Trigger:eD,TasksToTriggerOnAlert:sD,TasksToTriggerAfterRecovery:tD,Add:rD,Delete:nD,AdvancedJSON:aD,Save:oD,Confirm:iD,ConfirmDeletion:cD,Services:lD,ShowInService:dD,Coverages:uD,EnableFailureNotification:mD,MaximumLatency:hD,MinimumLatency:xD,EnableLatencyNotification:gD,EnableTriggerTask:pD,CronExpression:fD,Command:jD,NotifierGroup:ND,SendSuccessNotification:vD,LastExecution:SD,Result:bD,Scheduled:yD,AlertRule:CD,Notifier:wD,VerifyTLS:$D,TriggerMode:TD,Rules:DD,RequestMethod:kD,RequestHeader:PD,DoNotSendTestMessage:RD,Always:AD,Once:ED,Provider:_D,Domains:ID,MaximumRetryAttempts:LD,Refresh:FD,CopyPath:OD,Goto:MD,UpdateProfile:UD,NewUsername:BD,OriginalPassword:GD,NewPassword:zD,EditDDNS:HD,CreateDDNS:VD,Credential:qD,RequestType:WD,RequestBody:KD,FileManager:JD,Downloading:YD,Uploading:ZD,EditNAT:QD,CreateNAT:XD,LocalService:ek,BindHostname:sk,AutoSSH:tk,EditAutoSSH:rk,AddAutoSSH:nk,ConfigureAutoSSHPortMapping:ak,MappingType:ok,RemoteForward:ik,LocalForward:ck,SourcePort:lk,TargetHost:dk,TargetPort:uk,SelectServer:mk,running:hk,stopped:xk,error:gk,Yes:pk,No:fk,Edit:jk,Cancel:Nk,NoData:vk,EditServerGroup:Sk,CreateServerGroup:bk,EditService:yk,CreateService:Ck,EditTask:wk,CreateTask:$k,EditNotifier:Tk,CreateNotifier:Dk,EditAlertRule:kk,CreateAlertRule:Pk,EditNotifierGroup:Rk,CreateNotifierGroup:Ak,User:Ek,WAF:_k,SiteName:Ik,Language:Lk,CustomCodes:Fk,CustomCodesDashboard:Ok,DashboardOriginalHost:Mk,ConfigTLS:Uk,CustomPublicDNSNameserversforDDNS:Bk,WebRealIPHeader:Gk,AgentRealIPHeader:zk,UseDirectConnectingIP:Hk,IPChangeNotification:Vk,FullIPNotification:qk,LoginFailed:Wk,BruteForceAttackingToken:Kk,BruteForceAttackingAgentSecret:Jk,NewUser:Yk,EditUser:Zk,ServerPermissions:Qk,SelectServers:Xk,LeaveBlankToKeepCurrent:eP,PasswordRequired:sP,AutoSSHServerAddress:tP,AutoSSHServerAddressFormat:rP,Count:nP,LastBlockReason:aP,LastBlockTime:oP,Theme:iP,Author:cP,Repository:lP,Community:dP,Official:uP,CommunityThemeWarning:mP,CommunityThemeDescription:hP,EnableDDNS:xP,PushSuccessful:gP,GrpcAuthFailed:pP,APITokenInvalid:fP,UserInvalid:jP,BlockByUser:NP,BlockIdentifier:vP,UserId:SP,ConnectedAt:bP,OnlineUser:yP,Total:CP,ConfirmBlock:wP,RejectPassword:$P,EmptyText:TP,EmptyNote:DP,EditServerConfig:kP,OverrideDDNSDomains:PP,Value:RP,Preview:AP,Option:EP,PublicNote:_P,Validation:IP,AlertRules:LP,Search:FP,Format:OP,Formatted:MP,Copy:UP,Paste:BP,CopiedToClipboard:GP,ClipboardWriteFailed:zP,PastedFromClipboard:HP,ClipboardReadFailed:VP},WP="哪吒監控",KP={light:"亮色",dark:"暗色",system:"跟隨系統"},JP="用戶名",YP="密碼",ZP="請先登錄",QP="當前時間",XP={UsernameMin:"使用者名稱必須至少有 {{number}} 個字元。",PasswordRequired:"密碼不能為空。",ErrorFetchingResource:"取得資源時發生錯誤：{{error}}",SelectAtLeastOneServer:"請至少選擇一台伺服器。",UnExpectedError:"意外錯誤，請查看控制台以了解詳細資訊。",ForceUpdate:"強制升級：",NoRowsAreSelected:"未選擇任何行",ThisOperationIsUnrecoverable:"這個操作將無法恢復！",TaskTriggeredSuccessfully:"任務觸發成功",TheServerDoesNotOnline:"伺服器不存在或尚未連接",InstallHostRequired:"設定中尚未填寫Agent對接位址。",UnknownIdentifier:"未知標識符"},eR="登入",sR="伺服器",tR="服務",rR="任務",nR="通知",aR="動態網域解析",oR="內網穿透",iR="分組",cR="個人資訊",lR="系統設定",dR="返回前台",uR="登出",mR="導航至",hR="選擇一個頁面跳轉",xR="關閉",gR="名稱",pR="版本",fR="未知",jR="啟用",NR="對遊客隱藏",vR="安裝命令",SR="備註",bR="成功",yR="完成",CR="離線",wR="失敗",$R="沒有內容",TR="載入中",DR="操作",kR="編輯伺服器",PR="權重（數字越大，顯示越前）",RR="DDNS 設定檔 ID",AR="（以英文逗號分隔）",ER="公開",_R="私人",IR="提交",LR="目標",FR="覆蓋範圍",OR="覆蓋全部",MR="忽略全部",UR="告警伺服器",BR="特定伺服器",GR="類型",zR="間隔",HR="通知群組ID",VR="觸發",qR="告警時要觸發的任務",WR="恢復後要觸發的任務",KR="確認",JR="確認刪除？",YR="服務",ZR="服務中顯示",QR={Only:"僅特定伺服器",Excludes:"排除特定伺服器",Alarmed:"在觸發警報的伺服器上執行"},XR="啟用失敗通知",e1="最大延遲時間（毫秒）",s1="最小延遲時間（毫秒）",t1="啟用延遲通知",r1="啟用觸發任務",n1="Cron表達式",a1="命令",o1="通知群組",i1="發送成功通知",c1="最後執行",l1="結果",d1="計劃任務",u1="警報規則",m1="通知",h1="驗證 TLS",x1="觸發模式",g1="規則",p1="請求方式",f1="請求頭",j1="不發送測試訊息",N1="總是",v1="僅一次",S1="提供者",b1="網域",y1="最大重試次數",C1="刷新",w1="複製路徑",$1="前往",T1="更新個人資料",D1="新用戶名",k1="原始密碼",P1="新密碼",R1="編輯DDNS",A1="建立DDNS",E1="憑證",_1="請求類型",I1="請求體",L1="檔案列表",F1="下載中",O1="上傳中",M1="編輯內網穿透配置",U1="創建內網穿透配置",B1="本地服務",G1="綁定域名",z1="編輯伺服器分組",H1="建立伺服器分組",V1="編輯服務",q1="創建服務",W1="編輯任務",K1="創建任務",J1="建立通知",Y1="編輯通知",Z1="編輯警報規則",Q1="建立警報規則",X1="編輯通知分組",eA="建立通知分組",sA="使用者",tA="Web應用防火牆",rA="網站名稱",nA="語言",aA="自訂程式碼（樣式和腳本）",oA="儀表板的自訂程式碼",iA="Agent對接位址【網域名稱/IP:連接埠】",cA="Agent 使用 TLS 連線",lA="DDNS 的自訂公共 DNS 名稱伺服器",dA="前端真實IP請求頭",uA="Agent真實IP請求頭",mA="使用直連 IP",hA="IP變更通知",xA="在通知訊息中顯示完整的 IP 位址",gA="登入失敗",pA="暴力攻擊令牌",fA="暴力攻擊代理秘密",jA="新用戶",NA="計數",vA="最後封鎖原因",SA="最後封鎖時間",bA="主題",yA="作者",CA="仓库",wA="社群",$A="官方",TA="正在使用社區主題",DA="社群主題未經官方審計，需自行甄別風險",kA="取消",PA="啟用 DDNS",RA="推送成功的通知",AA="gRPC 認證失敗",EA="API 令牌無效",_A="使用者無效",IA="被管理员封鎖",LA="封鎖標識符",FA="使用者 ID",OA="連線時間",MA="線上使用者",UA="總數",BA="確認封鎖",GA="禁止密碼登入",zA="空文字",HA="您沒有任何備註。",VA="強制指定 DDNS 域名（每個配置）",qA="編輯伺服器配置",WA="選項",KA="值",JA="預覽",YA={nezha:WP,theme:KP,Username:JP,Password:YP,LoginFirst:ZP,CurrentTime:QP,Results:XP,Login:eR,Server:sR,Service:tR,Task:rR,Notification:nR,DDNS:aR,NATT:oR,Group:iR,Profile:cR,Settings:lR,BackToHome:dR,Logout:uR,NavigateTo:mR,SelectAPageToNavigateTo:hR,Close:xR,Error:"錯誤",Name:gR,Version:pR,Unknown:fR,Enable:jR,HideForGuest:NR,InstallCommands:vR,Note:SR,Success:bR,Done:yR,Offline:CR,Failure:wR,NoResults:$R,Loading:TR,Actions:DR,EditServer:kR,Weight:PR,DDNSProfiles:RR,SeparateWithComma:AR,Public:ER,Private:_R,Submit:IR,Target:LR,Coverage:FR,CoverAll:OR,IgnoreAll:MR,OnAlert:UR,SpecificServers:BR,Type:GR,Interval:zR,NotifierGroupID:HR,Trigger:VR,TasksToTriggerOnAlert:qR,TasksToTriggerAfterRecovery:WR,Confirm:KR,ConfirmDeletion:JR,Services:YR,ShowInService:ZR,Coverages:QR,EnableFailureNotification:XR,MaximumLatency:e1,MinimumLatency:s1,EnableLatencyNotification:t1,EnableTriggerTask:r1,CronExpression:n1,Command:a1,NotifierGroup:o1,SendSuccessNotification:i1,LastExecution:c1,Result:l1,Scheduled:d1,AlertRule:u1,Notifier:m1,VerifyTLS:h1,TriggerMode:x1,Rules:g1,RequestMethod:p1,RequestHeader:f1,DoNotSendTestMessage:j1,Always:N1,Once:v1,Provider:S1,Domains:b1,MaximumRetryAttempts:y1,Refresh:C1,CopyPath:w1,Goto:$1,UpdateProfile:T1,NewUsername:D1,OriginalPassword:k1,NewPassword:P1,EditDDNS:R1,CreateDDNS:A1,Credential:E1,RequestType:_1,RequestBody:I1,FileManager:L1,Downloading:F1,Uploading:O1,EditNAT:M1,CreateNAT:U1,LocalService:B1,BindHostname:G1,EditServerGroup:z1,CreateServerGroup:H1,EditService:V1,CreateService:q1,EditTask:W1,CreateTask:K1,CreateNotifier:J1,EditNotifier:Y1,EditAlertRule:Z1,CreateAlertRule:Q1,EditNotifierGroup:X1,CreateNotifierGroup:eA,User:sA,WAF:tA,SiteName:rA,Language:nA,CustomCodes:aA,CustomCodesDashboard:oA,DashboardOriginalHost:iA,ConfigTLS:cA,CustomPublicDNSNameserversforDDNS:lA,WebRealIPHeader:dA,AgentRealIPHeader:uA,UseDirectConnectingIP:mA,IPChangeNotification:hA,FullIPNotification:xA,LoginFailed:gA,BruteForceAttackingToken:pA,BruteForceAttackingAgentSecret:fA,NewUser:jA,Count:NA,LastBlockReason:vA,LastBlockTime:SA,Theme:bA,Author:yA,Repository:CA,Community:wA,Official:$A,CommunityThemeWarning:TA,CommunityThemeDescription:DA,Cancel:kA,EnableDDNS:PA,PushSuccessful:RA,GrpcAuthFailed:AA,APITokenInvalid:EA,UserInvalid:_A,BlockByUser:IA,BlockIdentifier:LA,UserId:FA,ConnectedAt:OA,OnlineUser:MA,Total:UA,ConfirmBlock:BA,RejectPassword:GA,EmptyText:zA,EmptyNote:HA,OverrideDDNSDomains:VA,EditServerConfig:qA,Option:WA,Value:KA,Preview:JA},ZA={"zh-CN":{translation:qP},"zh-TW":{translation:YA},"en-US":{translation:gh},"ru-RU":{translation:Qy},"es-ES":{translation:Np},"de-DE":{translation:vl},"ta-IN":{translation:Z$},"it-IT":{translation:Kv},"fr-FR":{translation:qf},"id-ID":{translation:ej}},QA=()=>localStorage.getItem("language")||"en-US";O.use(la).init({resources:ZA,lng:QA(),fallbackLng:"en-US",interpolation:{escapeValue:!1}});O.on("languageChanged",s=>{localStorage.setItem("language",s)});function XA(s,r){if(!r)return s;const t=new URL(window.location.origin+s);for(const a in r)t.searchParams.append(a,r[a]);return t.toString()}var R=(s=>(s.GET="GET",s.POST="POST",s.PUT="PUT",s.PATCH="PATCH",s.DELETE="DELETE",s))(R||{});let tt=0;async function A(s,r,t){let a;if(s==="GET"||s==="DELETE"?a=await fetch(XA(r,t),{method:"GET"}):a=await fetch(r,{method:s,headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):null}),!a.ok)throw new Error(a.statusText);const c=await a.json();if(!c.success)throw new Error(c.error);return document.cookie&&(!tt||Date.now()-tt>1e3*60*60)&&(tt=Date.now(),fetch("/api/v1/refresh-token")),c.data}async function _e(s,r){return A(r?.method,s.toString(),r?.body)}const as=async()=>A(R.GET,"/api/v1/profile",null),eE=async(s,r)=>A(R.POST,"/api/v1/login",{username:s,password:r}),sE=async s=>A(R.POST,"/api/v1/user",s),Ft=async s=>A(R.POST,"/api/v1/batch-delete/user",s),tE=async s=>A(R.POST,"/api/v1/profile",s),rE=async(s,r)=>A(R.PATCH,`/api/v1/user/${s}`,r),cs=dt(ut((s,r)=>({profile:r()?.profile,setProfile:t=>s({profile:t})}),{name:"mainStore",storage:mt(()=>localStorage)})),fn=u.createContext({profile:void 0,login:()=>{},loginOauth2:()=>{},logout:()=>{}}),nE=({children:s})=>{const r=cs(n=>n.profile),t=cs(n=>n.setProfile),{t:a}=M();u.useEffect(()=>{(async()=>{try{const n=await as();n.role=n.role||0,t(n)}catch{t(void 0)}})()},[]);const c=Vs(),l=async(n,o)=>{try{localStorage.removeItem("serverStore"),st(()=>!0,void 0,{revalidate:!1}),await eE(n,o);const i=await as();i.role=i.role||0,t(i),c("/dashboard")}catch(i){const h=i?.message;h==="ApiErrorUnauthorized"||h==="Unauthorized"?$(a("InvalidUsernameOrPassword")):$(h||a("NetworkError"))}},x=async()=>{try{localStorage.removeItem("serverStore"),st(()=>!0,void 0,{revalidate:!1});const n=await as();n.role=n.role||0,t(n),c("/dashboard")}catch(n){$(n.message)}finally{window.history.replaceState({},document.title,window.location.pathname)}},d=()=>{document.cookie.split(";").forEach(function(n){document.cookie=n.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),t(void 0),localStorage.removeItem("serverStore"),st(()=>!0,void 0,{revalidate:!1}),c("/dashboard/login",{replace:!0})},m=u.useMemo(()=>({profile:r,login:l,loginOauth2:x,logout:d}),[r]);return e.jsx(fn.Provider,{value:m,children:s})},es=()=>u.useContext(fn),aE=async s=>A(R.POST,"/api/v1/notification",s),oE=async(s,r)=>A(R.PATCH,`/api/v1/notification/${s}`,r),Ot=async s=>A(R.POST,"/api/v1/batch-delete/notification",s),iE=async()=>A(R.GET,"/api/v1/notification",null),cE=async s=>A(R.POST,"/api/v1/notification-group",s),lE=async(s,r)=>A(R.PATCH,`/api/v1/notification-group/${s}`,r),Mt=async s=>A(R.POST,"/api/v1/batch-delete/notification-group",s),dE=async()=>A(R.GET,"/api/v1/notification-group",null),Ds=dt(ut((s,r)=>({notifiers:r()?.notifiers,notifierGroup:r()?.notifierGroup,setNotifier:t=>s({notifiers:t}),setNotifierGroup:t=>s({notifierGroup:t})}),{name:"notificationStore",storage:mt(()=>localStorage)})),jn=u.createContext({}),hs=({children:s,withNotifier:r,withNotifierGroup:t})=>{const a=Ds(n=>n.notifierGroup),c=Ds(n=>n.setNotifierGroup),l=Ds(n=>n.notifiers),x=Ds(n=>n.setNotifier),d=bs();u.useEffect(()=>{t&&(async()=>{try{const n=await dE();c(n)}catch(n){$("NotificationProvider Error",{description:n.message}),c(void 0)}})(),r&&(async()=>{try{const o=(await iE()||[]).map(({id:i,name:h})=>({id:i,name:h}));x(o)}catch(n){$("NotificationProvider Error",{description:n.message}),x(void 0)}})()},[d.pathname]);const m=u.useMemo(()=>({notifiers:l,notifierGroup:a}),[l,a]);return e.jsx(jn.Provider,{value:m,children:s})},ys=()=>u.useContext(jn),uE=async(s,r)=>A(R.PATCH,`/api/v1/server/${s}`,r),Ut=async s=>A(R.POST,"/api/v1/batch-delete/server",s),mE=async s=>A(R.POST,"/api/v1/batch-move/server",s),hE=async s=>A(R.POST,"/api/v1/force-update/server",s),xE=async()=>A(R.GET,"/api/v1/server",null),gE=async s=>A(R.GET,`/api/v1/server/config/${s}`,null),Nn=async s=>A(R.POST,"/api/v1/server/config",s),pE=async s=>A(R.POST,"/api/v1/server-group",s),fE=async(s,r)=>A(R.PATCH,`/api/v1/server-group/${s}`,r),Bt=async s=>A(R.POST,"/api/v1/batch-delete/server-group",s),jE=async()=>A(R.GET,"/api/v1/server-group",null),ks=dt(ut((s,r)=>({server:r()?.server,serverGroup:r()?.serverGroup,setServer:t=>s({server:t}),setServerGroup:t=>s({serverGroup:t})}),{name:"serverStore",storage:mt(()=>localStorage)})),vn=u.createContext({}),xs=({children:s,withServer:r,withServerGroup:t})=>{const a=ks(n=>n.serverGroup),c=ks(n=>n.setServerGroup),l=ks(n=>n.server),x=ks(n=>n.setServer),d=bs();u.useEffect(()=>{t&&(async()=>{try{const n=await jE();c(n)}catch(n){$("ServerProvider Error",{description:n.message}),c(void 0)}})(),r&&(async()=>{try{const o=(await xE()||[]).map(({id:i,name:h})=>({id:i,name:h}));x(o)}catch(n){$("ServerProvider Error",{description:n.message}),x(void 0)}})()},[d.pathname]);const m=u.useMemo(()=>({servers:l,serverGroups:a}),[l,a]);return e.jsx(vn.Provider,{value:m,children:s})},ds=()=>u.useContext(vn),NE={theme:"system",setTheme:()=>null},Sn=u.createContext(NE);function vE({children:s,defaultTheme:r="system",storageKey:t="vite-ui-theme",...a}){const[c,l]=u.useState(()=>localStorage.getItem(t)||r);u.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),c==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(m);return}d.classList.add(c)},[c]);const x={theme:c,setTheme:d=>{localStorage.setItem(t,d),l(d)}};return e.jsx(Sn.Provider,{...a,value:x,children:s})}const SE=()=>{const s=u.useContext(Sn);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s},bn={1:"HTTP GET",2:"ICMP Ping",3:"TCPing"},bE={0:O.t("Coverages.Excludes"),1:O.t("Coverages.Only")},yE={1:"GET",2:"POST",3:"PATCH",4:"DELETE",5:"PUT"},CE={1:"JSON",2:"Form"},yn={0:O.t("Scheduled"),1:O.t("Trigger")},wE={0:O.t("Coverages.Only"),1:O.t("Coverages.Excludes"),2:O.t("Coverages.Alarmed")},$E={1:"GET",2:"POST"},TE={1:"JSON",2:"Form"},Cn={0:O.t("Always"),1:O.t("Once")};var Os=(s=>(s[s.List=0]="List",s[s.Download=1]="Download",s[s.Upload=2]="Upload",s))(Os||{});const Ps={file:new Uint8Array([78,90,84,68]),fileName:new Uint8Array([78,90,70,78]),error:new Uint8Array([78,69,82,82]),complete:new Uint8Array([78,90,85,80])};var As=(s=>(s[s.Error=0]="Error",s[s.Progress=1]="Progress",s[s.Result=2]="Result",s))(As||{});const DE={1:O.t("Coverages.Excludes"),2:O.t("Coverages.Only")},kE={"zh-CN":"简体中文（中国大陆）","zh-TW":"正體中文（台灣）","en-US":"English","ru-RU":"Русский","es-ES":"Español","de-DE":"Deutsch","ta-IN":"தமிழ்","it-IT":"Italiano","fr-FR":"Français","id-ID":"Bahasa Indonesia"},PE={1:O.t("LoginFailed"),2:O.t("BruteForceAttackingToken"),3:O.t("BruteForceAttackingAgentSecret"),4:O.t("BlockByUser"),5:O.t("WAFBlockReasonTypeBruteForceOauth2")},RE={"-127":O.t("GrpcAuthFailed"),"-126":O.t("APITokenInvalid"),"-125":O.t("UserInvalid"),"-124":O.t("BlockByUser")};function AE(s){return new Worker("/dashboard/assets/fm-DNeVr5Tr.js",{name:s?.name})}function g(...s){return Ha(Va(s))}const EE=gn("").transform(()=>{});function _(s){return s.optional().or(EE)}const Te={recordToStr:s=>{const r=[];for(const t in s)r.push(t);return r.join(",")},strToRecord:s=>s.split(",").reduce((t,a)=>(t[a]=!0,t),{}),arrToStr:s=>s.join(","),strToArr:s=>s.split(",").filter(Boolean)||[],recordToArr:s=>{const r=[];for(const t of Object.values(s))r.push(t);return r},recordToStrArr:s=>{const r=[];for(const t of Object.keys(s))r.push(t);return r},arrToRecord:s=>{const r={};for(const t of s)r[t]=!0;return r}},_E=s=>new Promise(r=>setTimeout(r,s)),rt={parseFMList:async s=>{const r=new DataView(s);let t=4;const a=r.getUint32(t);t+=4;const c=new Uint8Array(s,t,a),l=new TextDecoder("utf-8").decode(c);t+=a;const x=[];for(;t<r.byteLength;){const d=r.getUint8(t);t+=1;const m=r.getUint8(t);t+=1;const n=new Uint8Array(s,t,m),o=new TextDecoder("utf-8").decode(n);t+=m,x.push({type:d,name:o})}return{path:l,fmList:x}},buildUploadHeader:({path:s,file:r})=>{const t=`${s}/${r.name}`,a=new TextEncoder().encode(t),c=new ArrayBuffer(9+a.length),l=new DataView(c);return l.setUint8(0,Os.Upload),l.setBigUint64(1,BigInt(r.size),!1),new Uint8Array(c,9).set(a),c},readFileAsArrayBuffer:async s=>{const r=new FileReader;return new Promise((t,a)=>{r.onload=()=>t(r.result),r.onerror=()=>a(r.error),r.readAsArrayBuffer(s)})}},gs=new AE;function wn(s){return s.replace(/\/{2,}/g,"/")}function IE(s){return s?s.ipv4_addr&&s.ipv6_addr?`${s.ipv4_addr}/${s.ipv6_addr}`:s.ipv4_addr?s.ipv4_addr:s.ipv6_addr:""}async function Ks(s){try{return await navigator.clipboard.writeText(s)}catch(r){console.error("navigator",r)}try{return da(s)}catch(r){console.error("copy",r)}throw new Error("Failed to copy text to clipboard")}const Be=ls("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),T=u.forwardRef(({className:s,variant:r,size:t,asChild:a=!1,...c},l)=>{const x=a?xt:"button";return e.jsx(x,{className:g(Be({variant:r,size:t,className:s})),ref:l,...c})});T.displayName="Button";const Qe=Wa,Xe=Ka,Gt=Ja,LE=u.forwardRef(({className:s,inset:r,children:t,...a},c)=>e.jsxs(br,{ref:c,className:g("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...a,children:[t,e.jsx(qs,{className:"ml-auto"})]}));LE.displayName=br.displayName;const FE=u.forwardRef(({className:s,...r},t)=>e.jsx(yr,{ref:t,className:g("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r}));FE.displayName=yr.displayName;const We=u.forwardRef(({className:s,sideOffset:r=4,...t},a)=>e.jsx(qa,{children:e.jsx(Cr,{ref:a,sideOffset:r,className:g("z-50 min-w-[8rem] overflow-hidden rounded-lg border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t})}));We.displayName=Cr.displayName;const Q=u.forwardRef(({className:s,inset:r,...t},a)=>e.jsx(wr,{ref:a,className:g("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...t}));Q.displayName=wr.displayName;const OE=u.forwardRef(({className:s,children:r,checked:t,...a},c)=>e.jsxs($r,{ref:c,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:t,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Tr,{children:e.jsx(Ue,{className:"h-4 w-4"})})}),r]}));OE.displayName=$r.displayName;const ME=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(Dr,{ref:a,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Tr,{children:e.jsx(ua,{className:"h-2 w-2 fill-current"})})}),r]}));ME.displayName=Dr.displayName;const it=u.forwardRef(({className:s,inset:r,...t},a)=>e.jsx(kr,{ref:a,className:g("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...t}));it.displayName=kr.displayName;const ps=u.forwardRef(({className:s,...r},t)=>e.jsx(Pr,{ref:t,className:g("-mx-1 my-1 h-px bg-muted",s),...r}));ps.displayName=Pr.displayName;const $n=({className:s,...r})=>e.jsx("span",{className:g("ml-auto text-xs tracking-widest opacity-60",s),...r});$n.displayName="DropdownMenuShortcut";function zt(){const{t:s}=M(),{setTheme:r}=SE(),t=a=>{r(a)};return e.jsxs(Qe,{children:[e.jsx(Xe,{asChild:!0,children:e.jsxs(T,{variant:"ghost",className:"focus-visible:ring-0",size:"icon",children:[e.jsx(ma,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(ha,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(We,{align:"end",children:[e.jsx(Q,{onClick:()=>t("light"),children:s("theme.light")}),e.jsx(Q,{onClick:()=>t("dark"),children:s("theme.dark")}),e.jsx(Q,{onClick:()=>t("system"),children:s("theme.system")})]})]})}const pt=({shouldScaleBackground:s=!0,...r})=>e.jsx(Ke.Root,{shouldScaleBackground:s,...r});pt.displayName="Drawer";const Tn=Ke.Trigger,UE=Ke.Portal,BE=Ke.Close,Dn=u.forwardRef(({className:s,...r},t)=>e.jsx(Ke.Overlay,{ref:t,className:g("fixed inset-0 z-50 bg-black/80",s),...r}));Dn.displayName=Ke.Overlay.displayName;const ft=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(UE,{children:[e.jsx(Dn,{}),e.jsxs(Ke.Content,{ref:a,className:g("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s),...t,children:[e.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),r]})]}));ft.displayName="DrawerContent";const jt=({className:s,...r})=>e.jsx("div",{className:g("grid gap-1.5 p-4 text-center sm:text-left",s),...r});jt.displayName="DrawerHeader";const kn=({className:s,...r})=>e.jsx("div",{className:g("mt-auto flex flex-col gap-2 p-4",s),...r});kn.displayName="DrawerFooter";const Nt=u.forwardRef(({className:s,...r},t)=>e.jsx(Ke.Title,{ref:t,className:g("text-lg font-semibold leading-none tracking-tight",s),...r}));Nt.displayName="DrawerTitle";const Pn=u.forwardRef(({className:s,...r},t)=>e.jsx(Ke.Description,{ref:t,className:g("text-sm text-muted-foreground",s),...r}));Pn.displayName="DrawerDescription";const Rn=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(Rr,{ref:a,className:g("relative z-10 flex max-w-max flex-1 items-center justify-center",s),...t,children:[r,e.jsx(En,{})]}));Rn.displayName=Rr.displayName;const GE=u.forwardRef(({className:s,...r},t)=>e.jsx(Ar,{ref:t,className:g("group flex flex-1 list-none items-center justify-center space-x-1",s),...r}));GE.displayName=Ar.displayName;const Je=Za,Le=ls("group inline-flex h-10 w-max items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors hover:text-accent-foreground focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),zE=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(Er,{ref:a,className:g(Le(),"group",s),...t,children:[r," ",e.jsx(ss,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));zE.displayName=Er.displayName;const HE=u.forwardRef(({className:s,...r},t)=>e.jsx(_r,{ref:t,className:g("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",s),...r}));HE.displayName=_r.displayName;const An=Ya,En=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{className:g("absolute left-0 top-full flex justify-center"),children:e.jsx(Ir,{className:g("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",s),ref:t,...r})}));En.displayName=Ir.displayName;const VE=u.forwardRef(({className:s,...r},t)=>e.jsx(Lr,{ref:t,className:g("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",s),...r,children:e.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));VE.displayName=Lr.displayName;function Js(s){const[r,t]=u.useState(!1);return u.useEffect(()=>{function a(l){t(l.matches)}const c=matchMedia(s);return c.addEventListener("change",a),t(c.matches),()=>c.removeEventListener("change",a)},[s]),r}const Ms=u.forwardRef(({className:s,...r},t)=>e.jsx(Fr,{ref:t,className:g("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r}));Ms.displayName=Fr.displayName;const Us=u.forwardRef(({className:s,...r},t)=>e.jsx(Or,{ref:t,className:g("aspect-square h-full w-full",s),...r}));Us.displayName=Or.displayName;const Bs=u.forwardRef(({className:s,...r},t)=>e.jsx(Mr,{ref:t,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r}));Bs.displayName=Mr.displayName;const F=u.forwardRef((s,r)=>e.jsx(T,{className:"rounded-lg shadow-[inset_0_1px_0_rgba(255,255,255,0.2)]",...s,ref:r,size:"icon",children:(()=>{switch(s.icon){case"clipboard":return e.jsx($a,{});case"check":return e.jsx(Ue,{});case"edit":return e.jsx(wa,{});case"trash":return e.jsx(Ca,{});case"plus":return e.jsx(ya,{});case"terminal":return e.jsx(Nr,{});case"update":return e.jsx(ba,{});case"folder-closed":return e.jsx(Sa,{});case"play":return e.jsx(va,{});case"download":return e.jsx(jr,{});case"upload":return e.jsx(Na,{});case"menu":return e.jsx(ja,{});case"ban":return e.jsx(fa,{});case"expand":return e.jsx(pa,{});case"cog":return e.jsx(fr,{});case"minus":return e.jsx(ga,{});case"user-pen":return e.jsx(xa,{});case"more":return e.jsx(ht,{})}})()})),Ye=s=>e.jsxs("div",{className:"relative",children:[e.jsx(An,{...s,className:Le()+" hover:bg-inherit data-[active]:bg-inherit transition-colors text-foreground/60 data-[active]:text-foreground hover:text-foreground/90"}),s.active&&e.jsx(Ta.div,{layoutId:"tab-underline",className:"absolute bottom-0 left-0 right-0 h-[2px] bg-black dark:bg-white"})]}),qE=[{href:"/dashboard",label:O.t("Server")},{href:"/dashboard/service",label:O.t("Service")},{href:"/dashboard/cron",label:O.t("Task")},{href:"/dashboard/notification",label:O.t("Notification")},{href:"/dashboard/ddns",label:O.t("DDNS")},{href:"/dashboard/nat",label:O.t("NATT")},{href:"/dashboard/autossh",label:O.t("AutoSSH")},{href:"/dashboard/server-group",label:O.t("Group")}];function WE(){const{t:s}=M(),{logout:r}=es(),t=cs(i=>i.profile),a=bs(),c=Js("(min-width: 890px)"),[l,x]=u.useState(!1),[d,m]=u.useState(!1),n=Vs(),o=window.DisableAnimatedMan;return c?e.jsx("header",{className:"flex pt-8 px-4 dark:bg-black/40 bg-muted border-b-[1px] overflow-visible",children:e.jsxs(Rn,{className:"flex flex-col items-start relative max-w-5xl mx-auto",children:[!o&&e.jsx("img",{className:g("absolute right-0 z-[9999] top-11 w-20 scale-100 pointer-events-none",{hidden:a.pathname==="/dashboard/login"}),alt:"animated-man",src:"/dashboard/animated-man.webp"}),e.jsx("section",{className:"w-full flex items-center  justify-between",children:e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx(An,{asChild:!0,className:Le()+" !text-foreground hover:opacity-60 transition-opacity",children:e.jsxs(se,{to:t?"/dashboard":"#",children:[e.jsx("img",{className:"h-7 mr-1",src:"/dashboard/logo.svg"}),s("nezha")]})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("a",{href:"/",rel:"noopener noreferrer",className:"flex items-center text-nowrap gap-1 text-sm font-medium opacity-50 transition-opacity hover:opacity-100",children:s("BackToHome")}),e.jsx(zt,{}),t&&e.jsx(e.Fragment,{children:e.jsxs(Qe,{open:d,onOpenChange:m,children:[e.jsx(Xe,{asChild:!0,children:e.jsxs(Ms,{className:"ml-1 h-8 w-8 cursor-pointer border-foreground border-[1px]",children:[e.jsx(Us,{src:"https://api.dicebear.com/7.x/notionists/svg?seed="+t.username,alt:t.username}),e.jsx(Bs,{children:t.username})]})}),e.jsxs(We,{className:"w-32",children:[e.jsx(it,{className:"break-all",children:t.username}),e.jsx(ps,{}),e.jsxs(Gt,{children:[e.jsx(Q,{onClick:()=>{m(!1),n("/dashboard/profile")},className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(At,{}),s("Profile")]})}),e.jsx(Q,{onClick:()=>{m(!1),n("/dashboard/settings")},className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(Et,{}),s("Settings")]})})]}),e.jsx(ps,{}),e.jsxs(Q,{onClick:r,className:"cursor-pointer",children:[e.jsx(_t,{}),s("Logout")]})]})]})})]})]})}),e.jsx("div",{className:"flex mt-4 ml-4",children:e.jsx(JE,{})}),e.jsx("div",{className:"flex mt-4 list-none",children:t&&e.jsxs(e.Fragment,{children:[e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard",className:Le(),children:e.jsx(se,{to:"/dashboard",children:s("Server")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/service",className:Le(),children:e.jsx(se,{to:"/dashboard/service",children:s("Service")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/cron",className:Le(),children:e.jsx(se,{to:"/dashboard/cron",children:s("Task")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/notification"||a.pathname==="/dashboard/alert-rule",className:Le(),children:e.jsx(se,{to:"/dashboard/notification",children:s("Notification")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/ddns",className:Le(),children:e.jsx(se,{to:"/dashboard/ddns",children:s("DDNS")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/nat",className:Le(),children:e.jsx(se,{to:"/dashboard/nat",children:s("NATT")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/autossh",className:Le(),children:e.jsx(se,{to:"/dashboard/autossh",children:s("AutoSSH")})})}),e.jsx(Je,{children:e.jsx(Ye,{asChild:!0,active:a.pathname==="/dashboard/server-group"||a.pathname==="/dashboard/notification-group",className:Le(),children:e.jsx(se,{to:"/dashboard/server-group",children:s("Group")})})})]})})]})}):e.jsxs("header",{className:"flex dark:bg-black/40 bg-muted border-b-[1px] px-4 h-16",children:[e.jsx("div",{className:"flex max-w-max flex-1 items-center justify-center gap-2",children:t&&e.jsxs(pt,{open:l,onOpenChange:x,children:[e.jsx(Tn,{"aria-label":"Toggle Menu",asChild:!0,children:e.jsx(F,{icon:"menu",variant:"ghost"})}),e.jsxs(ft,{children:[e.jsxs(jt,{className:"text-left",children:[e.jsx(Nt,{children:s("NavigateTo")}),e.jsx(Pn,{children:s("SelectAPageToNavigateTo")})]}),e.jsx("div",{className:"grid gap-1 px-4",children:qE.slice(0).map((i,h)=>e.jsx(se,{to:i.href?i.href:"#",className:"py-1 text-sm",onClick:()=>{x(!1)},children:i.label},h))}),e.jsx(kn,{children:e.jsx(BE,{asChild:!0,children:e.jsx(T,{variant:"outline",children:s("Close")})})})]})]})}),e.jsxs(se,{className:"mx-2 my-2 inline-flex w-full items-center",to:t?"/dashboard":"#",children:[e.jsx("img",{className:"h-7 mr-1",src:"/dashboard/logo.svg"})," ",s("nezha")]}),e.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[e.jsx("a",{href:"/",rel:"noopener noreferrer",className:"flex items-center text-nowrap gap-1 text-sm font-medium opacity-50 transition-opacity hover:opacity-100",children:s("BackToHome")}),e.jsx(zt,{}),t&&e.jsx(e.Fragment,{children:e.jsxs(Qe,{open:d,onOpenChange:m,children:[e.jsx(Xe,{asChild:!0,children:e.jsxs(Ms,{className:"ml-1 h-8 w-8 cursor-pointer border-foreground border-[1px]",children:[e.jsx(Us,{src:"https://api.dicebear.com/7.x/notionists/svg?seed="+t.username,alt:t.username}),e.jsx(Bs,{children:t.username})]})}),e.jsxs(We,{className:"w-56",children:[e.jsx(it,{children:t.username}),e.jsx(ps,{}),e.jsxs(Gt,{children:[e.jsx(Q,{onClick:()=>{m(!1),n("/dashboard/profile")},className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(At,{}),s("Profile")]})}),e.jsx(Q,{onClick:()=>{m(!1),n("/dashboard/settings")},className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(Et,{}),s("Settings")]})})]}),e.jsx(ps,{}),e.jsxs(Q,{onClick:r,className:"cursor-pointer",children:[e.jsx(_t,{}),s("Logout"),e.jsx($n,{children:"⇧⌘Q"})]})]})]})})]})]})}const KE=(s,r)=>{const t=u.useRef(()=>{});u.useEffect(()=>{t.current=s}),u.useEffect(()=>{{const a=setInterval(()=>t.current(),r);return()=>clearInterval(a)}},[r])};function JE(){const{t:s}=M(),r=cs(l=>l.profile),t=et.TIME_SIMPLE;t.hour12=!0;const[a,c]=u.useState(et.now().setLocale("en-US").toLocaleString(t));return KE(()=>{c(et.now().setLocale("en-US").toLocaleString(t))},1e3),e.jsxs("section",{className:"flex flex-col",children:[r&&e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsxs("div",{className:"flex gap-1.5 text-sm font-semibold",children:["👋 Hi, ",r?.username,r?.login_ip&&e.jsxs("p",{className:"font-medium opacity-45",children:["from ",r?.login_ip]})]})}),!r&&e.jsx("p",{className:"text-sm font-semibold",children:s("LoginFirst")}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("p",{className:"text-[13px] font-medium opacity-50",children:s("CurrentTime")}),e.jsx("p",{className:"opacity-100 text-[13px] font-medium",children:a})]})]})}const YE=({...s})=>{const{theme:r="system"}=Da();return e.jsx(ka,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})};function Cs(){return pe("/api/v1/setting",_e)}const ZE=s=>{const r=document.createElement("div");r.innerHTML=s;const t="data-injected",a=()=>{document.querySelectorAll(`[${t}]`).forEach(n=>n.remove())},c=n=>new Promise((o,i)=>{const h=document.createElement("script");h.src=n.src,h.async=!1,h.setAttribute(t,"true"),h.onload=()=>o(),h.onerror=()=>i(new Error(`Failed to load script: ${n.src}`)),document.head.appendChild(h)}),l=n=>{const o=document.createElement("script");o.textContent=n.textContent,o.setAttribute(t,"true"),document.body.appendChild(o)},x=n=>new Promise((o,i)=>{if(n.href){const h=document.createElement("link");h.rel="stylesheet",h.href=n.href,h.setAttribute(t,"true"),h.onload=()=>o(),h.onerror=()=>i(new Error(`Failed to load stylesheet: ${h.href}`)),document.head.appendChild(h)}else{const h=document.createElement("style");h.textContent=n.textContent,h.setAttribute(t,"true"),document.head.appendChild(h),o()}}),d={SCRIPT:n=>{const o=n;return o.src?c(o):Promise.resolve()},STYLE:n=>x(n),META:n=>{const o=n.cloneNode(!0);return o.setAttribute(t,"true"),document.head.appendChild(o),Promise.resolve()},DEFAULT:n=>(n.setAttribute(t,"true"),document.body.appendChild(n),Promise.resolve())};a();const m=[];return Array.from(r.childNodes).forEach(n=>{if(n.nodeType===Node.ELEMENT_NODE){const o=n;if(o.tagName==="SCRIPT"&&!o.src)l(o);else{const i=d[o.tagName]||d.DEFAULT;m.push(i(o))}}else n.nodeType===Node.TEXT_NODE&&document.body.appendChild(document.createTextNode(n.textContent||""))}),Promise.all(m).then(()=>{console.log("All resources have been injected successfully.")}).catch(n=>{console.error("Error during resource injection:",n)})};function QE(){const{t:s}=M(),{data:r,error:t}=Cs();if(u.useEffect(()=>{document.title=r?.config?.site_name||"哪吒监控 Nezha Monitoring"},[r?.config?.site_name]),u.useEffect(()=>{r?.config?.custom_code_dashboard&&ZE(r?.config?.custom_code_dashboard)},[r?.config?.custom_code_dashboard]),t)throw t;return r?(r?.config?.language&&!localStorage.getItem("language")&&O.changeLanguage(r?.config?.language),e.jsxs(vE,{defaultTheme:"system",storageKey:"vite-ui-theme",children:[e.jsxs("section",{className:"text-sm mx-auto h-full flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx(WE,{}),e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsx(ta,{})})]}),e.jsxs("footer",{className:"mx-5 py-5 text-foreground/50 font-light text-xs text-center",children:["© 2019-",new Date().getFullYear()," ",s("nezha")," ",r?.version]})]}),e.jsx(YE,{})]})):null}const os=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{ref:t,className:g("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r}));os.displayName="Card";const Es=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{ref:t,className:g("flex flex-col space-y-1.5 p-6",s),...r}));Es.displayName="CardHeader";const _s=u.forwardRef(({className:s,...r},t)=>e.jsx("h3",{ref:t,className:g("text-2xl font-semibold leading-none tracking-tight",s),...r}));_s.displayName="CardTitle";const XE=u.forwardRef(({className:s,...r},t)=>e.jsx("p",{ref:t,className:g("text-sm text-muted-foreground",s),...r}));XE.displayName="CardDescription";const is=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{ref:t,className:g("p-6 pt-0",s),...r}));is.displayName="CardContent";const _n=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{ref:t,className:g("flex items-center p-6 pt-0",s),...r}));_n.displayName="CardFooter";function e_(){const s=ra(),r=Vs();return console.error(s),e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background p-4",children:e.jsxs(os,{className:"w-full max-w-md shadow-2xl rounded-2xl",children:[e.jsxs(is,{className:"pt-6 text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(Pa,{className:"h-12 w-12 text-destructive"})}),e.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Oops!"}),e.jsx("p",{className:"text-lg text-muted-foreground/80",children:"Sorry, an unexpected error has occurred."}),e.jsx("div",{className:"p-4 bg-muted/70 rounded-lg",children:e.jsx("p",{className:"text-sm text-destructive font-semibold italic",children:s.statusText||s.message})})]}),e.jsx(_n,{className:"flex justify-center pb-6",children:e.jsx(T,{variant:"default",size:"lg",onClick:()=>r("/dashboard"),children:"Back to Dashboard"})})]})})}const s_=({children:s})=>{const{profile:r}=es();return!r&&window.location.pathname!=="/dashboard/login"?e.jsxs(e.Fragment,{children:[e.jsx(na,{to:"/dashboard/login"}),s]}):s},t_=async s=>A(R.POST,"/api/v1/cron",s),r_=async(s,r)=>A(R.PATCH,`/api/v1/cron/${s}`,r),Ht=async s=>A(R.POST,"/api/v1/batch-delete/cron",s),n_=async s=>A(R.GET,`/api/v1/cron/${s}/manual`,null),Ze=eo,ws=so,a_=Qa,In=u.forwardRef(({className:s,...r},t)=>e.jsx(Ur,{className:g("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t}));In.displayName=Ur.displayName;const ze=u.forwardRef(({className:s,...r},t)=>e.jsxs(a_,{children:[e.jsx(In,{}),e.jsx(Br,{ref:t,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]}));ze.displayName=Br.displayName;const He=({className:s,...r})=>e.jsx("div",{className:g("flex flex-col space-y-2 text-center sm:text-left",s),...r});He.displayName="AlertDialogHeader";const ts=({className:s,...r})=>e.jsx("div",{className:g("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...r});ts.displayName="AlertDialogFooter";const Ve=u.forwardRef(({className:s,...r},t)=>e.jsx(Xa,{ref:t,className:g("text-lg font-semibold",s),...r}));Ve.displayName="AlertDialogTitle";const qe=u.forwardRef(({className:s,...r},t)=>e.jsx(Gr,{ref:t,className:g("text-sm text-muted-foreground",s),...r}));qe.displayName=Gr.displayName;const rs=u.forwardRef(({className:s,...r},t)=>e.jsx(zr,{ref:t,className:g(Be(),s),...r}));rs.displayName=zr.displayName;const us=u.forwardRef(({className:s,...r},t)=>e.jsx(Hr,{ref:t,className:g(Be({variant:"outline"}),"mt-2 sm:mt-0",s),...r}));us.displayName=Hr.displayName;function Fe({className:s,children:r,delete:{fn:t,id:a,mutate:c}}){const{t:l}=M(),x=async()=>{try{await t([a])}catch(d){$(l("Error"),{description:d.message})}await c()};return e.jsxs("div",{className:s,children:[r,e.jsxs(Ze,{children:[e.jsx(ws,{asChild:!0,children:e.jsx(F,{variant:"destructive",icon:"trash",className:"text-white"})}),e.jsxs(ze,{className:"sm:max-w-lg",children:[e.jsxs(He,{children:[e.jsx(Ve,{children:l("ConfirmDeletion")}),e.jsx(qe,{children:l("Results.ThisOperationIsUnrecoverable")})]}),e.jsxs(ts,{children:[e.jsx(us,{children:l("Close")}),e.jsx(rs,{className:Be({variant:"destructive",className:"text-white"}),onClick:x,children:l("Confirm")})]})]})]})]})}function o_({className:s,children:r,block:{fn:t,id:a,mutate:c}}){const{t:l}=M(),x=async()=>{try{await t([a])}catch(d){$(l("Error"),{description:d.message})}await c()};return e.jsxs("div",{className:s,children:[r,e.jsxs(Ze,{children:[e.jsx(ws,{asChild:!0,children:e.jsx(F,{variant:"destructive",icon:"ban",className:"text-white"})}),e.jsxs(ze,{className:"sm:max-w-lg",children:[e.jsxs(He,{children:[e.jsx(Ve,{children:l("ConfirmBlock")}),e.jsx(qe,{children:l("Results.ThisOperationIsUnrecoverable")})]}),e.jsxs(ts,{children:[e.jsx(us,{children:l("Close")}),e.jsx(rs,{className:Be({variant:"destructive",className:"text-white"}),onClick:x,children:l("Confirm")})]})]})]})]})}const Ys=u.forwardRef((s,r)=>{const{t}=M(),[a,c]=u.useState(!1),l=async x=>{if(!x){$("Warning",{description:t("EmptyText")});return}a||(c(!0),await Ks(x),setTimeout(()=>{c(!1)},2*1e3))};return e.jsx(F,{...s,ref:r,variant:"outline",size:"icon",icon:a?"check":"clipboard",onClick:()=>l(s.text)})}),B=u.forwardRef(({className:s,...r},t)=>e.jsx(Vr,{ref:t,className:g("flex peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:e.jsx(to,{className:g("flex items-center justify-center text-current"),children:e.jsx(Ue,{className:"h-4 w-4"})})}));B.displayName=Vr.displayName;const me=Yr,xe=Zr,i_=Wr,ge=gt,Ln=u.forwardRef(({className:s,...r},t)=>e.jsx(qr,{ref:t,className:g("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r}));Ln.displayName=qr.displayName;const le=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(i_,{children:[e.jsx(Ln,{}),e.jsxs(Ws,{ref:a,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t,children:[r,e.jsxs(gt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(fs,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));le.displayName=Ws.displayName;const oe=({className:s,...r})=>e.jsx("div",{className:g("flex flex-col space-y-1.5 text-center sm:text-left",s),...r});oe.displayName="DialogHeader";const he=({className:s,...r})=>e.jsx("div",{className:g("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...r});he.displayName="DialogFooter";const ie=u.forwardRef(({className:s,...r},t)=>e.jsx(Kr,{ref:t,className:g("text-lg font-semibold leading-none tracking-tight",s),...r}));ie.displayName="DialogTitle";const ce=u.forwardRef(({className:s,...r},t)=>e.jsx(Jr,{ref:t,className:g("text-sm text-muted-foreground",s),...r}));ce.displayName="DialogDescription";const c_=ls("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),U=u.forwardRef(({className:s,...r},t)=>e.jsx(Qr,{ref:t,className:g(c_(),s),...r}));U.displayName=Qr.displayName;const Se=vo,Fn=u.createContext({}),v=({...s})=>e.jsx(Fn.Provider,{value:{name:s.name},children:e.jsx(So,{...s})}),Zs=()=>{const s=u.useContext(Fn),r=u.useContext(On),{getFieldState:t,formState:a}=No(),c=t(s.name,a);if(!s)throw new Error("useFormField should be used within <FormField>");const{id:l}=r;return{id:l,name:s.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...c}},On=u.createContext({}),N=u.forwardRef(({className:s,...r},t)=>{const a=u.useId();return e.jsx(On.Provider,{value:{id:a},children:e.jsx("div",{ref:t,className:g("space-y-2",s),...r})})});N.displayName="FormItem";const y=u.forwardRef(({className:s,...r},t)=>{const{error:a,formItemId:c}=Zs();return e.jsx(U,{ref:t,className:g(a&&"text-destructive",s),htmlFor:c,...r})});y.displayName="FormLabel";const j=u.forwardRef(({...s},r)=>{const{error:t,formItemId:a,formDescriptionId:c,formMessageId:l}=Zs();return e.jsx(xt,{ref:r,id:a,"aria-describedby":t?`${c} ${l}`:`${c}`,"aria-invalid":!!t,...s})});j.displayName="FormControl";const Is=u.forwardRef(({className:s,...r},t)=>{const{formDescriptionId:a}=Zs();return e.jsx("p",{ref:t,id:a,className:g("text-sm text-muted-foreground",s),...r})});Is.displayName="FormDescription";const S=u.forwardRef(({className:s,children:r,...t},a)=>{const{error:c,formMessageId:l}=Zs(),x=c?String(c?.message):r;return x?e.jsx("p",{ref:a,id:l,className:g("text-sm font-medium text-destructive",s),...t,children:x}):null});S.displayName="FormMessage";const k=u.forwardRef(({className:s,type:r,...t},a)=>e.jsx("input",{type:r,className:g("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...t}));k.displayName="Input";const de=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(Xr,{ref:a,className:g("relative overflow-hidden",s),...t,children:[e.jsx(ro,{className:"h-full w-full rounded-[inherit]",children:r}),e.jsx(Mn,{}),e.jsx(no,{})]}));de.displayName=Xr.displayName;const Mn=u.forwardRef(({className:s,orientation:r="vertical",...t},a)=>e.jsx(en,{ref:a,orientation:r,className:g("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...t,children:e.jsx(ao,{className:"relative flex-1 rounded-full bg-border"})}));Mn.displayName=en.displayName;const te=mo,re=ho,X=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(sn,{ref:a,className:g("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[r,e.jsx(oo,{asChild:!0,children:e.jsx(ss,{className:"h-4 w-4 opacity-50"})})]}));X.displayName=sn.displayName;const Un=u.forwardRef(({className:s,...r},t)=>e.jsx(tn,{ref:t,className:g("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(Ra,{className:"h-4 w-4"})}));Un.displayName=tn.displayName;const Bn=u.forwardRef(({className:s,...r},t)=>e.jsx(rn,{ref:t,className:g("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(ss,{className:"h-4 w-4"})}));Bn.displayName=rn.displayName;const ee=u.forwardRef(({className:s,children:r,position:t="popper",...a},c)=>e.jsx(io,{children:e.jsxs(nn,{ref:c,className:g("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...a,children:[e.jsx(Un,{}),e.jsx(co,{className:g("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(Bn,{})]})}));ee.displayName=nn.displayName;const l_=u.forwardRef(({className:s,...r},t)=>e.jsx(an,{ref:t,className:g("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r}));l_.displayName=an.displayName;const E=u.forwardRef(({className:s,children:r,...t},a)=>e.jsxs(on,{ref:a,className:g("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(lo,{children:e.jsx(Ue,{className:"h-4 w-4"})})}),e.jsx(uo,{children:r})]}));E.displayName=on.displayName;const d_=u.forwardRef(({className:s,...r},t)=>e.jsx(cn,{ref:t,className:g("-mx-1 my-1 h-px bg-muted",s),...r}));d_.displayName=cn.displayName;const vt=u.forwardRef(({className:s,...r},t)=>e.jsx(ke,{ref:t,className:g("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...r}));vt.displayName=ke.displayName;const St=u.forwardRef(({className:s,...r},t)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(Aa,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(ke.Input,{ref:t,className:g("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...r})]}));St.displayName=ke.Input.displayName;const bt=u.forwardRef(({className:s,...r},t)=>e.jsx(ke.List,{ref:t,className:g("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...r}));bt.displayName=ke.List.displayName;const yt=u.forwardRef((s,r)=>e.jsx(ke.Empty,{ref:r,className:"py-6 text-center text-sm",...s}));yt.displayName=ke.Empty.displayName;const Gs=u.forwardRef(({className:s,...r},t)=>e.jsx(ke.Group,{ref:t,className:g("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...r}));Gs.displayName=ke.Group.displayName;const Gn=u.forwardRef(({className:s,...r},t)=>e.jsx(ke.Separator,{ref:t,className:g("-mx-1 h-px bg-border",s),...r}));Gn.displayName=ke.Separator.displayName;const ns=u.forwardRef(({className:s,...r},t)=>e.jsx(ke.Item,{ref:t,className:g("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s),...r}));ns.displayName=ke.Item.displayName;const zs=go,Hs=po,vs=u.forwardRef(({className:s,align:r="center",sideOffset:t=4,...a},c)=>e.jsx(xo,{children:e.jsx(ln,{ref:c,align:r,sideOffset:t,className:g("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a})}));vs.displayName=ln.displayName;const Ct=u.forwardRef(({options:s,placeholder:r,defaultValue:t,className:a,onValueChange:c,...l},x)=>{const[d,m]=u.useState(!1),[n,o]=u.useState(t);return e.jsxs(zs,{open:d,onOpenChange:m,children:[e.jsx(Hs,{asChild:!0,children:e.jsxs(T,{ref:x,...l,role:"combobox",variant:"outline","aria-expanded":d,className:g("flex w-full justify-between hover:bg-inherit",a),children:[n?(()=>{const i=s.find(h=>h.value===n)?.label;return i?e.jsx("div",{children:i}):e.jsx("div",{className:"text-muted-foreground",children:r})})():e.jsx("div",{className:"text-muted-foreground",children:r}),e.jsx(ss,{className:"ml-auto opacity-50"})]})}),e.jsx(vs,{className:"w-auto p-0",align:"start",children:e.jsxs(vt,{filter:(i,h,b=[])=>(i+" "+b.join(" ")).toLowerCase().includes(h.toLowerCase())?1:0,children:[e.jsx(St,{placeholder:r,className:"h-9"}),e.jsxs(bt,{children:[e.jsx(yt,{children:"No result found."}),e.jsx(Gs,{children:s.map(i=>e.jsxs(ns,{value:i.value,keywords:[i.label],onSelect:h=>{o(h===n?"":h),c(h===n?"":h),m(!1)},children:[e.jsx(Ue,{className:g("justify-start",n===i.value?"opacity-100":"opacity-0")}),e.jsx("span",{children:i.label})]},i.value))})]})]})})]})}),ae=u.forwardRef(({className:s,...r},t)=>e.jsx("textarea",{className:g("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...r}));ae.displayName="Textarea";const u_=ls("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Re({className:s,variant:r,...t}){return e.jsx("div",{className:g(u_({variant:r}),s),...t})}const Ss=u.forwardRef(({className:s,orientation:r="horizontal",decorative:t=!0,...a},c)=>e.jsx(dn,{ref:c,decorative:t,orientation:r,className:g("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...a}));Ss.displayName=dn.displayName;const Vt=ls("m-1 transition ease-in-out delay-150 hover:-translate-y-1 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),ms=u.forwardRef(({options:s,onValueChange:r,variant:t,defaultValue:a=[],placeholder:c="Select options",animation:l=0,maxCount:x=3,modalPopover:d=!1,asChild:m=!1,className:n,...o},i)=>{const[h,b]=u.useState(a),[C,K]=u.useState(!1),[G,f]=u.useState(!1),p=D=>{if(D.key==="Enter")K(!0);else if(D.key==="Backspace"&&!D.currentTarget.value){const H=[...h];H.pop(),b(H),r(H)}},q=D=>{const H=h.includes(D)?h.filter(Y=>Y!==D):[...h,D];b(H),r(H)},fe=()=>{b([]),r([])},z=()=>{K(D=>!D)},Pe=()=>{const D=h.slice(0,x);b(D),r(D)},we=()=>{if(h.length===s.length)fe();else{const D=s.map(H=>H.value);b(D),r(D)}},$e=D=>{D.stopPropagation()},L=D=>{D.stopPropagation()};return e.jsxs(zs,{open:C,onOpenChange:K,modal:d,children:[e.jsx(Hs,{asChild:!0,children:e.jsx(T,{ref:i,...o,onClick:z,className:g("flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit [&_svg]:pointer-events-auto",n),children:h.length>0?e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("div",{className:"flex flex-wrap items-center",children:[h.slice(0,x).map(D=>{const H=s.find(ue=>ue.value===D),Y=H?.icon;return e.jsxs(Re,{className:g(G?"animate-bounce":"",Vt({variant:t})),style:{animationDuration:`${l}s`},children:[Y&&e.jsx(Y,{className:"h-4 w-4 mr-2"}),H?.label,e.jsx(fs,{className:"ml-2 h-2 w-2 cursor-pointer",onClick:ue=>{ue.stopPropagation(),q(D)}})]},D)}),h.length>x&&e.jsxs(Re,{className:g("bg-transparent text-foreground border-foreground/1 hover:bg-transparent",G?"animate-bounce":"",Vt({variant:t})),style:{animationDuration:`${l}s`},children:[`+ ${h.length-x} more`,e.jsx(fs,{className:"ml-2 h-2 w-2 cursor-pointer",onClick:D=>{D.stopPropagation(),Pe()}})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(fs,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:D=>{D.stopPropagation(),fe()}}),e.jsx(Ss,{orientation:"vertical",className:"flex min-h-6 h-full"}),e.jsx(ss,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})]}):e.jsxs("div",{className:"flex items-center justify-between w-full mx-auto",children:[e.jsx("span",{className:"text-sm text-muted-foreground mx-3",children:c}),e.jsx(ss,{className:"h-4 cursor-pointer text-muted-foreground mx-2"})]})})}),e.jsx(vs,{className:"w-auto p-0",align:"start",onEscapeKeyDown:()=>K(!1),onWheel:$e,onTouchMove:L,children:e.jsxs(vt,{children:[e.jsx(St,{placeholder:"Search...",onKeyDown:p}),e.jsxs(bt,{children:[e.jsx(yt,{children:"No results found."}),e.jsxs(Gs,{children:[e.jsxs(ns,{onSelect:we,className:"cursor-pointer",children:[e.jsx("div",{className:g("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",h.length===s.length?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx("span",{children:"(Select All)"})]},"all"),s.map(D=>{const H=h.includes(D.value);return e.jsxs(ns,{onSelect:()=>q(D.value),className:"cursor-pointer",children:[e.jsx("div",{className:g("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",H?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(Ue,{className:"h-4 w-4"})}),D.icon&&e.jsx(D.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:D.label})]},D.value)})]}),e.jsx(Gn,{}),e.jsx(Gs,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[h.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(ns,{onSelect:fe,className:"flex-1 justify-center cursor-pointer",children:"Clear"}),e.jsx(Ss,{orientation:"vertical",className:"flex min-h-6 h-full"})]}),e.jsx(ns,{onSelect:()=>K(!1),className:"flex-1 justify-center cursor-pointer max-w-full",children:"Close"})]})})]})]})}),l>0&&h.length>0&&e.jsx(Ea,{className:g("cursor-pointer my-2 text-foreground bg-background w-3 h-3",G?"":"text-muted-foreground"),onClick:()=>f(!G)})]})});ms.displayName="MultiSelect";const m_=ne({task_type:Z(),name:w().min(1),scheduler:w(),command:_(w()),servers:De(je()),cover:Z().int(),push_successful:_(V()),notification_group_id:Z().int()}),qt=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(m_),defaultValues:s?{task_type:s.task_type??0,name:s.name??"",scheduler:s.scheduler??"",command:s.command??"",servers:s.servers??[],cover:s.cover??0,push_successful:s.push_successful??!1,notification_group_id:s.notification_group_id??0}:{task_type:0,name:"",scheduler:"",command:"",servers:[],cover:0,push_successful:!1,notification_group_id:0},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async i=>{try{s?.id?await r_(s.id,i):await t_(i)}catch(h){console.error(h),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()},{servers:d}=ds(),m=d?.map(i=>({value:`${i.id}`,label:i.name}))||[{value:"",label:""}],{notifierGroup:n}=ys(),o=n?.map(i=>({value:`${i.group.id}`,label:i.group.name}))||[{value:"",label:""}];return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditTask":"CreateTask")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"My Task",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"task_type",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Type")}),e.jsxs(te,{onValueChange:i.onChange,defaultValue:`${i.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Select task type"})})}),e.jsx(ee,{children:Object.entries(yn).map(([h,b])=>e.jsx(E,{value:h,children:b},h))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"scheduler",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("CronExpression")}),e.jsx(j,{children:e.jsx(k,{placeholder:"0 0 3 * * * (At 3 AM)",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"command",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Command")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"cover",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Coverage")}),e.jsxs(te,{onValueChange:i.onChange,defaultValue:`${i.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{})})}),e.jsx(ee,{children:Object.entries(wE).map(([h,b])=>e.jsx(E,{value:h,children:b},h))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"servers",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("SpecificServers")}),e.jsx(j,{children:e.jsx(ms,{options:m,onValueChange:h=>{const b=h.map(Number);i.onChange(b)},defaultValue:i.value?.map(String)})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"notification_group_id",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("NotifierGroup")}),e.jsx(j,{children:e.jsx(Ct,{placeholder:"Search...",options:o,onValueChange:i.onChange,defaultValue:i.value.toString()})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"push_successful",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(U,{className:"text-sm",children:t("PushSuccessful")})]})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function Oe({className:s,children:r,delete:{fn:t,id:a,mutate:c}}){const{t:l}=M(),x=async()=>{try{await t(a)}catch(d){$(l("Error"),{description:d.message})}await c()};return e.jsx("div",{className:s,children:a.length<1?e.jsxs(e.Fragment,{children:[e.jsx(F,{variant:"destructive",icon:"trash",className:"text-white",onClick:()=>{$(l("Error"),{description:l("Results.NoRowsAreSelected")})}}),r]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ze,{children:[e.jsx(ws,{asChild:!0,children:e.jsx(F,{variant:"destructive",icon:"trash",className:"text-white"})}),e.jsxs(ze,{className:"sm:max-w-lg",children:[e.jsxs(He,{children:[e.jsx(Ve,{children:l("ConfirmDeletion")}),e.jsx(qe,{children:l("Results.ThisOperationIsUnrecoverable")})]}),e.jsxs(ts,{children:[e.jsx(us,{children:l("Close")}),e.jsx(rs,{className:Be({variant:"destructive",className:"text-white"}),onClick:x,children:l("Confirm")})]})]})]}),r]})})}function h_({className:s,children:r,block:{fn:t,id:a,mutate:c}}){const{t:l}=M(),x=async()=>{try{await t(a)}catch(d){$(l("Error"),{description:d.message})}await c()};return e.jsx("div",{className:s,children:a.length<1?e.jsxs(e.Fragment,{children:[e.jsx(F,{variant:"destructive",icon:"ban",className:"text-white",onClick:()=>{$(l("Error"),{description:l("Results.NoRowsAreSelected")})}}),r]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ze,{children:[e.jsx(ws,{asChild:!0,children:e.jsx(F,{variant:"destructive",icon:"ban",className:"text-white"})}),e.jsxs(ze,{className:"sm:max-w-lg",children:[e.jsxs(He,{children:[e.jsx(Ve,{children:l("ConfirmBlock")}),e.jsx(qe,{children:l("Results.ThisOperationIsUnrecoverable")})]}),e.jsxs(ts,{children:[e.jsx(us,{children:l("Close")}),e.jsx(rs,{className:Be({variant:"destructive",className:"text-white"}),onClick:x,children:l("Confirm")})]})]})]}),r]})})}const be=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:t,className:g("w-full caption-bottom text-sm",s),...r})}));be.displayName="Table";const ye=u.forwardRef(({className:s,...r},t)=>e.jsx("thead",{ref:t,className:g("[&_tr]:border-b",s),...r}));ye.displayName="TableHeader";const Ce=u.forwardRef(({className:s,...r},t)=>e.jsx("tbody",{ref:t,className:g("[&_tr:last-child]:border-0",s),...r}));Ce.displayName="TableBody";const x_=u.forwardRef(({className:s,...r},t)=>e.jsx("tfoot",{ref:t,className:g("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r}));x_.displayName="TableFooter";const P=u.forwardRef(({className:s,...r},t)=>e.jsx("tr",{ref:t,className:g("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r}));P.displayName="TableRow";const J=u.forwardRef(({className:s,...r},t)=>e.jsx("th",{ref:t,className:g("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r}));J.displayName="TableHead";const I=u.forwardRef(({className:s,...r},t)=>e.jsx("td",{ref:t,className:g("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r}));I.displayName="TableCell";const g_=u.forwardRef(({className:s,...r},t)=>e.jsx("caption",{ref:t,className:g("mt-4 text-sm text-muted-foreground",s),...r}));g_.displayName="TableCaption";function p_(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/cron",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.id},{header:s("Name"),accessorKey:"name",cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.name})}},{header:s("Type"),accessorKey:"taskType",accessorFn:n=>yn[n.task_type]||""},{header:s("CronExpression"),accessorKey:"scheduler",accessorFn:n=>n.scheduler},{header:s("Command"),accessorKey:"command",cell:({row:n})=>{const o=n.original;return e.jsx(Ys,{text:o.command})}},{header:s("NotifierGroup"),accessorKey:"ngroup",accessorFn:n=>n.notification_group_id},{header:s("SendSuccessNotification"),accessorKey:"pushSuccessful",accessorFn:n=>n.push_successful??!1},{header:s("Coverage"),accessorKey:"cover",accessorFn:n=>n.cover,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:(()=>{switch(o.cover){case 0:return e.jsx("span",{children:s("IgnoreAll")});case 1:return e.jsx("span",{children:s("CoverAll")});case 2:return e.jsx("span",{children:s("OnAlert")})}})()})}},{header:s("SpecificServers"),accessorKey:"servers",accessorFn:n=>n.servers,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-16 whitespace-normal break-words",children:e.jsx("span",{children:(o.servers||[]).join(",")})})}},{header:s("LastExecution"),accessorKey:"lastExecution",accessorFn:n=>n.last_executed_at,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:o.last_executed_at})}},{header:s("Result"),accessorKey:"lastResult",accessorFn:n=>n.last_result??!1},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:Ht,id:o.id,mutate:t},children:e.jsxs(e.Fragment,{children:[e.jsx(F,{variant:"outline",icon:"play",onClick:async()=>{try{await n_(o.id)}catch(i){console.error(i),$(s("Error"),{description:s("Results.UnExpectedError")}),await t();return}$(s("Success"),{description:s("Results.TaskTriggeredSuccessfully")}),await t()}}),e.jsx(qt,{mutate:t,data:o})]})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full gap-3 mt-6 mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("Task")}),e.jsx(Oe,{className:"flex gap-2 flex-wrap shrink-0",delete:{fn:Ht,id:m.map(n=>n.original.id),mutate:t},children:e.jsx(qt,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}var wt=(s=>(s[s.LOGIN=1]="LOGIN",s[s.BIND=2]="BIND",s))(wt||{});const zn=async(s,r)=>A(R.GET,`/api/v1/oauth2/${s}`,{type:r}),f_=async s=>A(R.POST,`/api/v1/oauth2/${s}/unbind`);function j_(s){return e.jsx("svg",{viewBox:"0 0 496 512",fill:"currentColor",...s,children:e.jsx("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})})}const N_=ne({username:w().min(2,{message:O.t("Results.UsernameMin",{number:2})}),password:w().min(1,{message:O.t("Results.PasswordRequired")})});function v_(){const{login:s,loginOauth2:r}=es(),{data:t}=Cs();u.useEffect(()=>{new URLSearchParams(window.location.search).get("oauth2")&&r()},[window.location.search]);const a=Ne({resolver:ve(N_),defaultValues:{username:"",password:""}});function c(d){s(d.username,d.password)}async function l(d){try{const m=await zn(d,wt.LOGIN);window.location.href=m.redirect}catch(m){$.error(m.message)}}const{t:x}=M();return e.jsxs("div",{className:"mt-28 sm:max-w-sm m-auto max-w-xs",children:[e.jsxs(Se,{...a,children:[e.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-8",children:[e.jsx(v,{control:a.control,name:"username",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:x("Username")}),e.jsx(j,{children:e.jsx(k,{placeholder:"admin",autoComplete:"username",...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"password",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:x("Password")}),e.jsx(j,{children:e.jsx(k,{type:"password",placeholder:"admin",autoComplete:"current-password",...d})}),e.jsx(S,{})]})}),e.jsx(T,{type:"submit",className:"w-full rounded-lg shadow-[inset_0_1px_0_rgba(255,255,255,0.2)]",children:x("Login")})]}),t?.config?.oauth2_providers&&t?.config?.oauth2_providers.length>0&&e.jsxs("section",{className:"flex items-center my-3 w-full",children:[e.jsx(Ss,{className:"flex-1"}),e.jsx("div",{className:"flex justify-center text-xs text-muted-foreground w-full max-w-[100px]",children:"OAuth2"}),e.jsx(Ss,{className:"flex-1"})]})]}),e.jsx("div",{className:"mt-3 flex flex-col gap-3",children:t?.config?.oauth2_providers?.map(d=>e.jsxs(T,{className:"w-full rounded-lg shadow-[inset_0_1px_0_rgba(255,255,255,0.2)] bg-muted text-primary hover:bg-muted/80 hover:text-primary/80",onClick:()=>l(d),children:[d==="GitHub"&&e.jsx(j_,{className:"size-4"}),d]}))})]})}const S_=({serverIds:s,...r})=>{const{t}=M(),[a,c]=u.useState(!1),[l,x]=u.useState(void 0),d=async()=>{try{await mE({ids:s,to_user:l})}catch(m){console.error(m),$(t("Error"),{description:t("Results.UnExpectedError")});return}$(t("Done")),c(!1)};return s.length<1?e.jsx(F,{...r,icon:"user-pen",onClick:()=>{$(t("Error"),{description:t("Results.NoRowsAreSelected")})}}):e.jsxs(me,{open:a,onOpenChange:c,children:[e.jsx(xe,{asChild:!0,children:e.jsx(F,{...r,icon:"user-pen"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t("BatchMoveServer")}),e.jsx(ce,{})]}),e.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[e.jsx(U,{children:t("Servers")}),e.jsx(ae,{disabled:!0,children:s.join(", ")}),e.jsx(U,{children:t("ToUser")}),e.jsx(k,{type:"number",placeholder:"User ID",value:l,onChange:m=>{x(parseInt(m.target.value,10))}}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Cancel")})}),e.jsx(T,{disabled:!l||l==0,type:"submit",className:"my-2",onClick:d,children:t("Move")})]})]})]})})})]})},Wt=u.forwardRef(({uuid:s,iconOnly:r=!1,menuItem:t=!1,...a},c)=>{const[l,x]=u.useState(!1),{data:d}=Cs(),{profile:m}=es(),{t:n}=M(),o=async i=>{if(!l)try{if(x(!0),!m)throw new Error("Profile is not found.");if(!d?.config)throw new Error("Settings is not found.");await Ks(b_(i,d.config,m,s)||"")}catch(h){console.error(h),$(n("Error"),{description:h.message})}finally{setTimeout(()=>{x(!1)},2*1e3)}};return e.jsxs(Qe,{children:[e.jsx(Xe,{asChild:!0,children:t?e.jsxs("button",{type:"button",className:"flex w-full items-center text-sm px-2 py-2 hover:bg-accent hover:text-accent-foreground",title:O.t("InstallCommands"),children:[l?e.jsx(Ue,{className:"h-4 w-4 mr-2"}):e.jsx(It,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:O.t("InstallCommands")})]}):r?e.jsx(T,{ref:c,title:O.t("InstallCommands"),size:"icon",...a,children:l?e.jsx(Ue,{className:"h-4 w-4"}):e.jsx(jr,{className:"h-4 w-4"})}):e.jsxs(T,{ref:c,title:O.t("InstallCommands"),...a,children:[l?e.jsx(Ue,{className:"h-4 w-4"}):e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{className:"ml-2",children:O.t("InstallCommands")})]})}),e.jsxs(We,{side:t?"right":void 0,align:t?"start":void 0,children:[e.jsx(Q,{className:"nezha-copy",onClick:async()=>{o(1)},children:"Linux"}),e.jsx(Q,{className:"nezha-copy",onClick:async()=>{o(2)},children:"macOS"}),e.jsx(Q,{className:"nezha-copy",onClick:async()=>{o(3)},children:"Windows"})]})]})}),b_=(s,{install_host:r,tls:t},{agent_secret:a},c)=>{if(!r)throw new Error(O.t("Results.InstallHostRequired"));if(!a)throw new Error(O.t("Results.AgentSecretRequired"));const l=[`NZ_SERVER=${r}`,`NZ_TLS=${t||!1}`,`NZ_CLIENT_SECRET=${a}`];c&&l.push(`NZ_UUID=${c}`);const x=l.join(" "),d=[`$env:NZ_SERVER="${r}";`,`$env:NZ_TLS="${t||!1}";`,`$env:NZ_CLIENT_SECRET="${a}";`];c&&d.push(`$env:NZ_UUID="${c}";`);const m=d.join("");switch(s){case 1:case 2:return`curl -L https://raw.githubusercontent.com/nezhahq/scripts/main/agent/install.sh -o agent.sh && chmod +x agent.sh && env ${x} ./agent.sh`;case 3:return`${m} [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Ssl3 -bor [Net.SecurityProtocolType]::Tls -bor [Net.SecurityProtocolType]::Tls11 -bor [Net.SecurityProtocolType]::Tls12;set-ExecutionPolicy RemoteSigned;Invoke-WebRequest https://raw.githubusercontent.com/nezhahq/scripts/main/agent/install.ps1 -OutFile C:install.ps1;powershell.exe C:install.ps1`;default:throw new Error(`Unknown OS: ${s}`)}},y_=u.forwardRef((s,r)=>{const{t}=M(),[a,c]=u.useState(!1),l=async x=>{if(!x){$("Warning",{description:t("EmptyNote")});return}a||(c(!0),await Ks(x),setTimeout(()=>{c(!1)},2*1e3))};return e.jsxs(Qe,{children:[e.jsx(Xe,{asChild:!0,children:e.jsx(F,{...s,ref:r,variant:"outline",size:"icon",icon:a?"check":"clipboard"})}),e.jsxs(We,{children:[e.jsx(Q,{onClick:()=>{l(s.note.private)},children:t("Private")}),e.jsx(Q,{onClick:()=>{l(s.note.public)},children:t("Public")})]})]})});function Kt({className:s,classNames:r,showOutsideDays:t=!0,captionLayout:a="label",buttonVariant:c="ghost",formatters:l,components:x,...d}){const m=vr();return e.jsx(_a,{showOutsideDays:t,className:g("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,s),captionLayout:a,formatters:{formatMonthDropdown:n=>n.toLocaleString("default",{month:"short"}),...l},classNames:{root:g("w-fit",m.root),months:g("relative flex flex-col gap-4 md:flex-row",m.months),month:g("flex w-full flex-col gap-4",m.month),nav:g("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",m.nav),button_previous:g(Be({variant:c}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",m.button_previous),button_next:g(Be({variant:c}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",m.button_next),month_caption:g("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",m.month_caption),dropdowns:g("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",m.dropdowns),dropdown_root:g("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",m.dropdown_root),dropdown:g("bg-popover absolute inset-0 opacity-0",m.dropdown),caption_label:g("select-none font-medium",a==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",m.caption_label),table:"w-full border-collapse",weekdays:g("flex",m.weekdays),weekday:g("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",m.weekday),week:g("mt-2 flex w-full",m.week),week_number_header:g("w-[--cell-size] select-none",m.week_number_header),week_number:g("text-muted-foreground select-none text-[0.8rem]",m.week_number),day:g("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",m.day),range_start:g("bg-accent rounded-l-md",m.range_start),range_middle:g("rounded-none",m.range_middle),range_end:g("bg-accent rounded-r-md",m.range_end),today:g("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",m.today),outside:g("text-muted-foreground aria-selected:text-muted-foreground",m.outside),disabled:g("text-muted-foreground opacity-50",m.disabled),hidden:g("invisible",m.hidden),...r},components:{Root:({className:n,rootRef:o,...i})=>e.jsx("div",{"data-slot":"calendar",ref:o,className:g(n),...i}),Chevron:({className:n,orientation:o,...i})=>o==="left"?e.jsx(Sr,{className:g("size-4",n),...i}):o==="right"?e.jsx(qs,{className:g("size-4",n),...i}):e.jsx(ss,{className:g("size-4",n),...i}),DayButton:C_,WeekNumber:({children:n,...o})=>e.jsx("td",{...o,children:e.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:n})}),...x},...d})}function C_({className:s,day:r,modifiers:t,...a}){const c=vr(),l=u.useRef(null);return u.useEffect(()=>{t.focused&&l.current?.focus()},[t.focused]),e.jsx(T,{ref:l,variant:"ghost",size:"icon","data-day":r.date.toLocaleDateString(),"data-selected-single":t.selected&&!t.range_start&&!t.range_end&&!t.range_middle,"data-range-start":t.range_start,"data-range-end":t.range_end,"data-range-middle":t.range_middle,className:g("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",c.day,s),...a})}const js=u.forwardRef(({className:s,...r},t)=>e.jsx(un,{className:g("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:t,children:e.jsx(fo,{className:g("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));js.displayName=un.displayName;const $t=ne({billingDataMod:ne({startDate:w().optional(),endDate:w().optional(),autoRenewal:w().optional(),cycle:w().optional(),amount:w().optional()}).optional(),planDataMod:ne({bandwidth:w().optional(),trafficVol:w().optional(),trafficType:w().optional(),IPv4:w().optional(),IPv6:w().optional(),networkRoute:w().optional(),extra:w().optional()}).optional()}),nt={},Jt=s=>{if(!s||s==="0000-00-00T23:59:59+08:00")return!0;const r=new Date(s);return!isNaN(r.getTime())},Yt=s=>{if(!s)return;if(s==="0000-00-00T23:59:59+08:00")return s;const r=new Date(s);return isNaN(r.getTime())?s:r.toISOString()},Zt=s=>{if(!s)return nt;try{const r=JSON.parse(s),t=$t.safeParse(r);return t.success?t.data:nt}catch{return nt}},w_=s=>{const r={};return s.billingDataMod?.autoRenewal&&!/^(0|1)$/.test(s.billingDataMod.autoRenewal)&&(r["billing.autoRenewal"]=O.t("Validation.MustBe0Or1")),s.billingDataMod?.cycle&&!/^(Day|Week|Month|Year)$/i.test(s.billingDataMod.cycle)&&(r["billing.cycle"]=O.t("Validation.MustBeDayWeekMonthYear")),s.planDataMod?.trafficType&&!/^(1|2)$/.test(s.planDataMod.trafficType)&&(r["plan.trafficType"]=O.t("Validation.MustBe1Or2")),s.planDataMod?.IPv4!==void 0&&!/^(0|1)$/.test(s.planDataMod.IPv4)&&(r["plan.IPv4"]=O.t("Validation.MustBe0Or1")),s.planDataMod?.IPv6!==void 0&&!/^(0|1)$/.test(s.planDataMod.IPv6)&&(r["plan.IPv6"]=O.t("Validation.MustBe0Or1")),s.billingDataMod?.startDate&&!Jt(s.billingDataMod.startDate)&&(r["billing.startDate"]=O.t("Validation.InvalidDate")),s.billingDataMod?.endDate&&!Jt(s.billingDataMod.endDate)&&(r["billing.endDate"]=O.t("Validation.InvalidDate")),{errors:r,valid:Object.keys(r).length===0}},$_=s=>{if(!s)return"raw";try{const r=JSON.parse(s);return $t.strict().safeParse(r).success?"structured":"raw"}catch{return"raw"}},Hn=(s,r,t)=>{const a=r.split("."),c=structuredClone?structuredClone(s):JSON.parse(JSON.stringify(s));let l=c;for(let x=0;x<a.length-1;x++){const d=a[x];l[d]={...l[d]??{}},l=l[d]}return l[a[a.length-1]]=t,c},T_=(s,r,t)=>{const a=r.split("."),c=structuredClone?structuredClone(s):JSON.parse(JSON.stringify(s));let l=c;for(let o=0;o<a.length-1;o++){const i=a[o];if(l=l[i],!l)break}const x=a[a.length-1],d=l?l[x]:void 0,m=new Date(t);if(d){const o=new Date(d);isNaN(o.getTime())||m.setHours(o.getHours(),o.getMinutes(),o.getSeconds(),0)}let n=c;for(let o=0;o<a.length-1;o++){const i=a[o];n[i]={...n[i]??{}},n=n[i]}return n[x]=m.toISOString(),c},D_=s=>{const r="0000-00-00T23:59:59+08:00",a=s.billingDataMod?.endDate===r?"":r;return Hn(s,"billingDataMod.endDate",a)},k_=ne({name:w().min(1),note:_(w()),public_note:_(w().refine(s=>{const r=(s??"").trim();if(r.length===0)return!0;try{const t=JSON.parse(r);return $t.safeParse(t).success}catch{return!0}},{message:"Invalid Public Note JSON"})),display_index:Z().int(),hide_for_guest:_(V()),enable_ddns:_(V()),ddns_profiles:_(De(je())),ddns_profiles_raw:_(w()),override_ddns_domains:_(Ns(w(),De(w()))),override_ddns_domains_raw:_(w().refine(s=>{try{return JSON.parse(s),!0}catch{return!1}},{message:"Invalid JSON string"}))}),P_=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(k_),defaultValues:{...s,ddns_profiles_raw:s.ddns_profiles?Te.arrToStr(s.ddns_profiles):void 0,override_ddns_domains_raw:s.override_ddns_domains?JSON.stringify(s.override_ddns_domains):void 0},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),[x,d]=u.useState(Zt(s?.public_note)),[m,n]=u.useState({}),[o,i]=u.useState($_(s?.public_note)),[h,b]=u.useState(s?.public_note??""),C=(p,q)=>{d(fe=>Hn(fe,p,q))},K=(p,q)=>{d(fe=>T_(fe,p,q))},G=()=>{d(p=>D_(p))},f=async p=>{try{if(p.ddns_profiles=p.ddns_profiles_raw?Te.strToArr(p.ddns_profiles_raw).map(Number):void 0,p.override_ddns_domains=p.override_ddns_domains_raw?JSON.parse(p.override_ddns_domains_raw):void 0,o==="raw"){const q=(h??"").trim();q.length===0?p.public_note=void 0:p.public_note=q}else{const{errors:q,valid:fe}=w_(x);if(!fe){n(q),$(t("Error"),{description:t("Validation.InvalidForm")});return}n({});const z=x.billingDataMod,Pe=x.planDataMod,we={billingDataMod:z&&{...z,startDate:Yt(z.startDate),endDate:Yt(z.endDate)},planDataMod:Pe},$e=JSON.stringify(we);p.public_note=$e.length>2?$e:void 0}await uE(s.id,p)}catch(q){console.error(q),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()};return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:e.jsx(F,{variant:"outline",icon:"edit"})}),e.jsx(le,{className:"sm:max-w-xl",onInteractOutside:p=>p.preventDefault(),onEscapeKeyDown:p=>p.preventDefault(),children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t("EditServer")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(f),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"My Server",...p})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"display_index",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Weight")}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"0",...p})}),e.jsx(S,{})]})}),a.watch("enable_ddns")?e.jsxs(e.Fragment,{children:[e.jsx(v,{control:a.control,name:"ddns_profiles_raw",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("DDNSProfiles")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"1,2,3",...p})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"override_ddns_domains_raw",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("OverrideDDNSDomains")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",...p})}),e.jsx(S,{})]})})]}):e.jsx(e.Fragment,{}),e.jsx(v,{control:a.control,name:"enable_ddns",render:({field:p})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:p.value,onCheckedChange:p.onChange}),e.jsx(U,{className:"text-sm",children:t("EnableDDNS")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"hide_for_guest",render:({field:p})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:p.value,onCheckedChange:p.onChange}),e.jsx(U,{className:"text-sm",children:t("HideForGuest")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"note",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Private")+t("Note")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-none",...p})}),e.jsx(S,{})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"space-y-1",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{children:t("PublicNote.Label")}),e.jsx("a",{href:"https://nezha.wiki/guide/servers.html#%E5%85%AC%E5%BC%80%E5%A4%87%E6%B3%A8%E8%AE%BE%E7%BD%AE",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-muted-foreground hover:text-foreground",children:e.jsx(Ia,{className:"h-4 w-4"})})]})})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{type:"button",variant:o==="structured"?"default":"outline",className:"text-xs h-7",onClick:()=>{i("structured"),d(Zt(h))},children:t("PublicNote.CustomFields")}),e.jsx(T,{type:"button",variant:o==="raw"?"default":"outline",className:"text-xs h-7",onClick:()=>i("raw"),children:t("PublicNote.RawText")})]})}),o==="raw"&&e.jsx("div",{children:e.jsx(ae,{className:"resize-y",value:h,onChange:p=>b(p.target.value),rows:10})}),o==="structured"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rounded-md border p-3 space-y-3",children:[e.jsx("div",{className:"text-sm font-medium opacity-80",children:t("PublicNote.Billing")}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.StartDate")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700 ml-2",onClick:()=>C("billingDataMod.startDate",void 0),children:t("PublicNote.ClearDate")??"Clear"}),e.jsxs(zs,{children:[e.jsx(Hs,{asChild:!0,children:e.jsx(T,{variant:"outline",className:"w-full justify-start text-left font-normal",children:x.billingDataMod?.startDate?new Date(x.billingDataMod.startDate).toLocaleDateString():"YYYY-MM-DD"})}),e.jsx(vs,{className:"p-0 w-[300px] max-h-[60dvh] overflow-hidden",align:"start",children:e.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:e.jsx(Kt,{className:"w-full min-h-[320px]",mode:"single",captionLayout:"dropdown",startMonth:new Date(2e3,0),endMonth:new Date(2050,11),selected:x.billingDataMod?.startDate?new Date(x.billingDataMod.startDate):void 0,onSelect:p=>{p&&K("billingDataMod.startDate",p)},autoFocus:!0})})})]}),m["billing.startDate"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["billing.startDate"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.EndDate")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:G,children:x.billingDataMod?.endDate==="0000-00-00T23:59:59+08:00"?t("PublicNote.CancelNoExpiry"):t("PublicNote.SetNoExpiry")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>C("billingDataMod.endDate",void 0),children:t("PublicNote.ClearDate")??"Clear"})]}),e.jsxs(zs,{children:[e.jsx(Hs,{asChild:!0,children:e.jsx(T,{variant:"outline",className:"w-full justify-start text-left font-normal",children:x.billingDataMod?.endDate?x.billingDataMod?.endDate==="0000-00-00T23:59:59+08:00"?t("PublicNote.NoExpiry"):new Date(x.billingDataMod?.endDate).toLocaleDateString():"YYYY-MM-DD"})}),e.jsx(vs,{className:"p-0 w-[300px] max-h-[60dvh] overflow-hidden",align:"start",children:e.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:e.jsx(Kt,{className:"w-full min-h-[320px]",mode:"single",captionLayout:"dropdown",startMonth:new Date(2e3,0),endMonth:new Date(2050,11),selected:x.billingDataMod?.endDate&&x.billingDataMod?.endDate!=="0000-00-00T23:59:59+08:00"?new Date(x.billingDataMod?.endDate):void 0,onSelect:p=>{p&&K("billingDataMod.endDate",p)},autoFocus:!0})})})]}),m["billing.endDate"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["billing.endDate"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(U,{className:"text-xs",children:t("PublicNote.AutoRenewal")})}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("span",{className:"text-xs",children:t("PublicNote.Disabled")}),e.jsx(js,{checked:x.billingDataMod?.autoRenewal==="1",onCheckedChange:p=>C("billingDataMod.autoRenewal",p?"1":void 0)}),e.jsx("span",{className:"text-xs",children:t("PublicNote.Enabled")})]}),m["billing.autoRenewal"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["billing.autoRenewal"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.Cycle")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>C("billingDataMod.cycle",void 0),children:t("PublicNote.Clear")??"Clear"})]}),e.jsxs(te,{onValueChange:p=>C("billingDataMod.cycle",p),value:x.billingDataMod?.cycle,children:[e.jsx(X,{children:e.jsx(re,{placeholder:"Select cycle"})}),e.jsxs(ee,{children:[e.jsx(E,{value:"Day",children:t("PublicNote.Day")}),e.jsx(E,{value:"Week",children:t("PublicNote.Week")}),e.jsx(E,{value:"Month",children:t("PublicNote.Month")}),e.jsx(E,{value:"Year",children:t("PublicNote.Year")})]})]}),m["billing.cycle"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["billing.cycle"]})]}),e.jsxs("div",{className:"space-y-1 sm:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.Amount")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>C("billingDataMod.amount","0"),children:t("PublicNote.Free")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>C("billingDataMod.amount","-1"),children:t("PublicNote.PayAsYouGo")})]}),e.jsx(k,{placeholder:"200EUR",value:x.billingDataMod?.amount,onChange:p=>C("billingDataMod.amount",p.target.value)})]})]})]}),e.jsxs("div",{className:"rounded-md border p-3 space-y-3",children:[e.jsx("div",{className:"text-sm font-medium opacity-80",children:t("PublicNote.Plan")}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.Bandwidth")}),e.jsx(k,{placeholder:"30Mbps",value:x.planDataMod?.bandwidth,onChange:p=>C("planDataMod.bandwidth",p.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.TrafficVolume")}),e.jsx(k,{placeholder:"1TB/Month",value:x.planDataMod?.trafficVol,onChange:p=>C("planDataMod.trafficVol",p.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.TrafficType")}),e.jsx(T,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>C("planDataMod.trafficType",void 0),children:t("PublicNote.Clear")??"Clear"})]}),e.jsxs(te,{onValueChange:p=>C("planDataMod.trafficType",p),value:x.planDataMod?.trafficType??"",children:[e.jsx(X,{children:e.jsx(re,{placeholder:"Select type"})}),e.jsxs(ee,{children:[e.jsx(E,{value:"1",children:t("PublicNote.Inbound")}),e.jsx(E,{value:"2",children:t("PublicNote.Both")})]})]}),m["plan.trafficType"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["plan.trafficType"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.IPv4")}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs",children:t("PublicNote.None")}),e.jsx(js,{checked:x.planDataMod?.IPv4==="1",onCheckedChange:p=>C("planDataMod.IPv4",p?"1":"0")}),e.jsx("span",{className:"text-xs",children:t("PublicNote.Has")})]}),m["plan.IPv4"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["plan.IPv4"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.IPv6")}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs",children:t("PublicNote.None")}),e.jsx(js,{checked:x.planDataMod?.IPv6==="1",onCheckedChange:p=>C("planDataMod.IPv6",p?"1":"0")}),e.jsx("span",{className:"text-xs",children:t("PublicNote.Has")})]}),m["plan.IPv6"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["plan.IPv6"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.NetworkRoute")}),e.jsx(k,{placeholder:t("PublicNote.CommaSeparated"),value:x.planDataMod?.networkRoute??"",onChange:p=>C("planDataMod.networkRoute",p.target.value)})]}),e.jsxs("div",{className:"space-y-1 sm:col-span-2",children:[e.jsx(U,{className:"text-xs",children:t("PublicNote.Extra")}),e.jsx(k,{placeholder:t("PublicNote.CommaSeparated"),value:x.planDataMod?.extra??"",onChange:p=>C("planDataMod.extra",p.target.value)})]})]})]})]})]}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Submit")})]})]})})]})})})]})},R_=ne({debug:_(V()),disable_auto_update:_(V()),disable_command_execute:_(V()),disable_force_update:_(V()),disable_nat:_(V()),disable_send_query:_(V()),gpu:_(V()),hard_drive_partition_allowlist:_(De(w())),hard_drive_partition_allowlist_raw:_(w().refine(s=>{try{return JSON.parse(s),!0}catch{return!1}},{message:"Invalid JSON string"})),ip_report_period:_(Z().int().min(30)),nic_allowlist:_(Ns(w(),V())),nic_allowlist_raw:_(w().refine(s=>{try{return JSON.parse(s),!0}catch{return!1}},{message:"Invalid JSON string"})),report_delay:_(Z().int().min(1).max(4)),skip_connection_count:_(V()),skip_procs_count:_(V()),temperature:_(V())}),Qt=["disable_auto_update","disable_command_execute","disable_force_update","disable_nat","disable_send_query","gpu","temperature","skip_connection_count","skip_procs_count","debug"],Vn=[];for(let s=0;s<Qt.length;s+=2)Vn.push(Qt.slice(s,s+2));const A_=({sid:s,menuItem:r=!1,...t})=>{const{t:a}=M(),[c,l]=u.useState(void 0),[x,d]=u.useState(!0),[m,n]=u.useState(!1);u.useEffect(()=>{m&&(async()=>{try{const b=await gE(s);l(JSON.parse(b))}catch(b){console.error(b),$(a("Error"),{description:b.message}),n(!1);return}finally{d(!1)}})()},[m]);const o=Ne({resolver:ve(R_),defaultValues:{...c,hard_drive_partition_allowlist_raw:JSON.stringify(c?.hard_drive_partition_allowlist),nic_allowlist_raw:JSON.stringify(c?.nic_allowlist)},resetOptions:{keepDefaultValues:!1}});u.useEffect(()=>{c&&o.reset({...c,hard_drive_partition_allowlist_raw:JSON.stringify(c.hard_drive_partition_allowlist),nic_allowlist_raw:JSON.stringify(c.nic_allowlist)})},[c,o]);const i=async h=>{let b={};try{h.nic_allowlist=h.nic_allowlist_raw?JSON.parse(h.nic_allowlist_raw):void 0,h.hard_drive_partition_allowlist=h.hard_drive_partition_allowlist_raw?JSON.parse(h.hard_drive_partition_allowlist_raw):void 0,b=await Nn({config:JSON.stringify(h),servers:[s]})}catch(C){console.error(C),$(a("Error"),{description:a("Results.UnExpectedError")});return}$(a("Done"),{description:a("Results.ForceUpdate")+(b.success?.length?a("Success")+` [${b.success.join(",")}]`:"")+(b.failure?.length?a("Failure")+` [${b.failure.join(",")}]`:"")+(b.offline?.length?a("Offline")+` [${b.offline.join(",")}]`:"")}),n(!1),o.reset()};return e.jsxs(me,{open:m,onOpenChange:n,children:[e.jsx(xe,{asChild:!0,children:r?e.jsxs("button",{type:"button",className:"flex w-full items-center text-sm px-2 py-2 hover:bg-accent hover:text-accent-foreground",onClick:()=>n(!0),children:[e.jsx(fr,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:a("Config")})]}):e.jsx(F,{...t,icon:"cog"})}),e.jsx(le,{className:"sm:max-w-xl",children:x?e.jsx("div",{className:"items-center mx-1",children:e.jsxs(oe,{children:[e.jsx(ie,{children:"Loading..."}),e.jsx(ce,{})]})}):e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:a("EditServerConfig")}),e.jsx(ce,{})]}),e.jsx(Se,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(i),className:"space-y-2 my-2",children:[e.jsx(v,{control:o.control,name:"ip_report_period",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:"ip_report_period"}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"0",...h})}),e.jsx(S,{})]})}),e.jsx(v,{control:o.control,name:"report_delay",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:"report_delay"}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"0",...h})}),e.jsx(S,{})]})}),e.jsx(v,{control:o.control,name:"hard_drive_partition_allowlist_raw",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:"hard_drive_partition_allowlist"}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",...h})}),e.jsx(S,{})]})}),e.jsx(v,{control:o.control,name:"nic_allowlist_raw",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:"nic_allowlist"}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",...h})}),e.jsx(S,{})]})}),Vn.map((h,b)=>e.jsx("div",{className:"flex gap-8",children:h.map(C=>e.jsx(v,{control:o.control,name:C,render:({field:K})=>e.jsxs(N,{className:"flex items-center w-full",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:!!K.value,onCheckedChange:K.onChange}),e.jsx(U,{className:"text-sm",children:a(C)})]})}),e.jsx(S,{})]})},C))},b)),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:a("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:a("Submit")})]})]})})]})})})]})},E_=({property:s,setData:r})=>{const[t,a]=u.useState({}),{t:c}=M();return u.useEffect(()=>{r(t)},[t,r]),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx(F,{icon:"plus",onClick:()=>{const[l,x]=s;if(l&&x){const d={...t};d[l]=JSON.parse(x),a(d)}}}),e.jsx(F,{icon:"minus",variant:"destructive",onClick:()=>{const[l]=s;if(l){const x={...t};x[l]=void 0,a(x)}}})]}),e.jsx(U,{children:c("Preview")}),e.jsx(ae,{value:JSON.stringify(t,null,2),readOnly:!0})]})},__=({sid:s,...r})=>{const{t}=M(),[a,c]=u.useState({}),[l,x]=u.useState(!1),[d,m]=u.useState(""),[n,o]=u.useState(""),i=async()=>{let h={};try{h=await Nn({config:JSON.stringify(a),servers:s})}catch(b){console.error(b),$(t("Error"),{description:t("Results.UnExpectedError")});return}$(t("Done"),{description:t("Results.ForceUpdate")+(h.success?.length?t("Success")+` [${h.success.join(",")}]`:"")+(h.failure?.length?t("Failure")+` [${h.failure.join(",")}]`:"")+(h.offline?.length?t("Offline")+` [${h.offline.join(",")}]`:"")}),x(!1)};return s.length<1?e.jsx(F,{...r,icon:"cog",onClick:()=>{$(t("Error"),{description:t("Results.NoRowsAreSelected")})}}):e.jsxs(me,{open:l,onOpenChange:x,children:[e.jsx(xe,{asChild:!0,children:e.jsx(F,{...r,icon:"cog"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t("EditServerConfig")}),e.jsx(ce,{})]}),e.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[e.jsx(U,{children:t("Option")}),e.jsx(k,{type:"text",placeholder:"option",value:d,onChange:h=>{m(h.target.value)}}),e.jsx(U,{children:t("Value")}),e.jsx(ae,{className:"resize-y",value:n,onChange:h=>{o(h.target.value)}}),e.jsx(E_,{property:[d,n],setData:c}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",onClick:i,children:t("Submit")})]})]})]})})})]})},I_=async s=>A(R.POST,"/api/v1/terminal",{server_id:s});function L_(s){const[r,t]=u.useState(null);async function a(){try{const c=await I_(s);t(c)}catch(c){console.error("Failed to fetch terminal:",c)}}return u.useEffect(()=>{s&&a()},[s]),r}const F_=async s=>A(R.GET,`/api/v1/file?id=${s}`,null),qn=u.forwardRef(({...s},r)=>e.jsx("nav",{ref:r,"aria-label":"breadcrumb",...s}));qn.displayName="Breadcrumb";const Wn=u.forwardRef(({className:s,...r},t)=>e.jsx("ol",{ref:t,className:g("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",s),...r}));Wn.displayName="BreadcrumbList";const Ls=u.forwardRef(({className:s,...r},t)=>e.jsx("li",{ref:t,className:g("inline-flex items-center gap-1.5",s),...r}));Ls.displayName="BreadcrumbItem";const O_=u.forwardRef(({asChild:s,className:r,...t},a)=>{const c=s?xt:"a";return e.jsx(c,{ref:a,className:g("transition-colors hover:text-foreground",r),...t})});O_.displayName="BreadcrumbLink";const Kn=u.forwardRef(({className:s,...r},t)=>e.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:g("font-normal text-foreground",s),...r}));Kn.displayName="BreadcrumbPage";const Fs=({children:s,className:r,...t})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:g("[&>svg]:w-3.5 [&>svg]:h-3.5",r),...t,children:s??e.jsx(qs,{})});Fs.displayName="BreadcrumbSeparator";const Jn=({className:s,...r})=>e.jsxs("span",{role:"presentation","aria-hidden":"true",className:g("flex h-9 w-9 items-center justify-center",s),...r,children:[e.jsx(ht,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"More"})]});Jn.displayName="BreadcrumbElipssis";const at=3;function M_(s){const r=s.split("/").filter(Boolean),t=[];let a="";return r.forEach(c=>{a+=`/${c}`,t.push({href:a,label:c})}),t}const U_=({path:s,setPath:r})=>{const[t,a]=u.useState(!1),c=M_(wn(s));return e.jsx(qn,{children:e.jsxs(Wn,{children:[e.jsx(Ls,{children:e.jsx("p",{className:"cursor-pointer hover:text-white transition",onClick:()=>{r("/")},children:"/"})}),e.jsx(Fs,{}),c.length>at?e.jsxs(e.Fragment,{children:[e.jsx(Ls,{children:e.jsxs(Qe,{open:t,onOpenChange:a,children:[e.jsx(Xe,{className:"flex items-center gap-1","aria-label":"Toggle menu",children:e.jsx(Jn,{className:"h-4 w-4"})}),e.jsx(We,{align:"start",children:c.slice(0,-at).map((l,x)=>e.jsx(Q,{children:e.jsx("p",{onClick:()=>{r(l.href)},children:l.label})},x))})]})}),e.jsx(Fs,{})]}):null,c.slice(-at).map((l,x,d)=>e.jsxs(u.Fragment,{children:[e.jsx(Ls,{className:"overflow-auto",children:l.href?e.jsx(e.Fragment,{children:e.jsx("p",{className:"max-w-20 truncate md:max-w-none cursor-pointer hover:text-white transition",onClick:()=>{r(l.href)},children:l.label})}):e.jsx(Kn,{className:"max-w-20 truncate md:max-w-none",children:l.label})}),x!==d.length-1?e.jsx(Fs,{}):null]},x))]})})},B_=Yr,G_=Zr,z_=Wr,H_=ls("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Yn=u.forwardRef(({side:s="right",className:r,children:t,setOpen:a,...c},l)=>e.jsx(z_,{children:e.jsxs(Ws,{ref:l,className:g(H_({side:s}),r),...c,children:[t,e.jsxs(gt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(fs,{className:"h-4 w-4",onClick:()=>{a(!1)}}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})}));Yn.displayName=Ws.displayName;const Zn=({className:s,...r})=>e.jsx("div",{className:g("flex flex-col space-y-2 text-center sm:text-left",s),...r});Zn.displayName="SheetHeader";const Qn=u.forwardRef(({className:s,...r},t)=>e.jsx(Kr,{ref:t,className:g("text-lg font-semibold text-foreground",s),...r}));Qn.displayName="SheetTitle";const ct=u.forwardRef(({className:s,...r},t)=>e.jsx(Jr,{ref:t,className:g("text-sm text-muted-foreground",s),...r}));ct.displayName="SheetDescription";const Xn=u.forwardRef(({className:s,...r},t)=>e.jsx("table",{ref:t,className:g("w-full caption-bottom text-sm",s),...r}));Xn.displayName="TableComponent";const V_=s=>function(t){const a=t["data-index"],c=s[a];return c?e.jsx(P,{"data-state":c.getIsSelected()&&"selected",className:"translate-y-[50%]",...t,children:c.getVisibleCells().map(l=>e.jsx(I,{children:W(l.column.columnDef.cell,l.getContext())},l.id))},c.id):null};function q_({isSorted:s}){return s?e.jsx("div",{children:{asc:"↑",desc:"↓"}[s]}):null}function W_({columns:s,data:r,rowComponent:t}){const[a,c]=u.useState([{id:"type",desc:!0}]),l=Ae({data:r,columns:s,state:{sorting:a},onSortingChange:c,getCoreRowModel:Ee(),getSortedRowModel:La()}),{rows:x}=l.getRowModel(),[d,m]=u.useState(0),n=u.useRef(null),o=Js("(min-width: 640px)");return u.useEffect(()=>{const i=()=>{if(n.current){const h=n.current;let b=0,C=h;for(;C;)b+=C.offsetTop||0,C=C.offsetParent;const G=window.innerHeight-b;m(G)}};return i(),o&&window.addEventListener("resize",i),()=>{o&&window.removeEventListener("resize",i)}},[o]),e.jsx("div",{className:"rounded-md border",ref:n,style:{height:d},children:e.jsx(Fa,{totalCount:x.length,components:{Table:Xn,TableRow:t?t(x):V_(x),Scroller:de},fixedHeaderContent:()=>l.getHeaderGroups().map(i=>e.jsx(P,{className:"bg-card hover:bg-muted",children:i.headers.map(h=>e.jsx(J,{colSpan:h.colSpan,style:{width:h.getSize()},children:h.isPlaceholder?null:e.jsxs("div",{className:"flex items-center",style:h.column.getCanSort()?{cursor:"pointer",userSelect:"none"}:{},onClick:h.column.getToggleSortingHandler(),children:[W(h.column.columnDef.header,h.getContext()),e.jsx(q_,{isSorted:h.column.getIsSorted()})]})},h.id))},i.id))})})}const Rs=(s,r)=>{if(s.length!==r.length)return!1;for(let t=0;t<s.length;t++)if(s[t]!==r[t])return!1;return!0},Xt=({wsUrl:s,...r})=>{const{t}=M(),a=u.useRef(null),c=u.useRef(null);u.useEffect(()=>()=>{c.current?.close()},[]);const[l,x]=u.useState(!1),[d,m]=u.useState(!1),n=[{id:"type",header:()=>e.jsx("span",{children:t("Type")}),accessorFn:L=>L.type,cell:({row:L})=>L.original.type==0?e.jsx(Oa,{size:24}):e.jsx(Ma,{size:24})},{header:()=>e.jsx("span",{children:t("Name")}),id:"name",accessorFn:L=>L.name,cell:({row:L})=>e.jsx("div",{className:"max-w-48 text-sm whitespace-normal break-words",children:L.original.name}),size:5e3},{header:()=>e.jsx("span",{children:t("Actions")}),id:"download",cell:({row:L})=>L.original.type==0?e.jsx(F,{variant:"ghost",icon:"download",onClick:()=>{l||x(!0),fe(L.original.name)}}):e.jsx(T,{size:"icon",variant:"ghost",className:"pointer-events-none"})}],o=L=>function(H){const Y=H["data-index"],ue=L[Y];return ue?e.jsx(P,{"data-state":ue.getIsSelected()&&"selected",onClick:()=>{ue.original.type===1&&p(`${f}/${ue.original.name}`)},className:ue.original.type===1?"cursor-pointer":"cursor-default",...H,children:ue.getVisibleCells().map(Me=>e.jsx(I,{children:W(Me.column.columnDef.cell,Me.getContext())},Me.id))},ue.id):null},[i,h]=u.useState([]),b=u.useRef(!0),C=u.useRef(!1),K=u.useRef("temp"),G=async()=>{for(;!C.current;)await new Promise(L=>setTimeout(L,10))};u.useEffect(()=>{const L=new URL(s,window.location.origin);L.protocol=L.protocol.replace("http","ws");const D=new WebSocket(L);c.current=D,D.binaryType="arraybuffer",D.onopen=()=>{q()},D.onclose=H=>{console.log("WebSocket connection closed:",H)},D.onerror=H=>{console.error(H),$("Websocket "+t("Error"),{description:t("Results.UnExpectedError")})},D.onmessage=async H=>{try{const Y=new Uint8Array(H.data,0,4);if(Rs(Y,Ps.error)){const ue=H.data.slice(4),Me=new TextDecoder("utf-8").decode(ue);throw new Error(Me)}if(b.current)if(Rs(Y,Ps.file))gs.postMessage({operation:1,arrayBuffer:H.data,fileName:K.current}),b.current=!1;else if(Rs(Y,Ps.fileName)){const{path:ue,fmList:Me}=await rt.parseFMList(H.data);p(ue),h(Me)}else if(Rs(Y,Ps.complete))m(!1),q();else throw new Error(t("Results.UnknownIdentifier"));else await G(),gs.postMessage({operation:2,arrayBuffer:H.data,fileName:K.current})}catch(Y){console.error("Error processing received data:",Y),$("FM "+t("Error"),{description:t("Results.UnExpectedError")}),x(!1),m(!1)}}},[s]),u.useEffect(()=>{gs.onmessage=async D=>{switch(D.data.type){case As.Error:{console.error("Error from worker",D.data.error);break}case As.Progress:{C.current=!0;break}case As.Result:{if(C.current=!1,D.data.blob&&D.data.fileName){const H=URL.createObjectURL(D.data.blob),Y=document.createElement("a");Y.href=H,Y.download=D.data.fileName,Y.click(),URL.revokeObjectURL(H)}b.current=!0,l&&x(!1);break}}};const L=()=>{gs.postMessage({operation:3})};return window.addEventListener("beforeunload",L),()=>{window.removeEventListener("beforeunload",L)}},[gs,l]);const[f,p]=u.useState("");u.useEffect(()=>{c.current&&c.current.readyState===WebSocket.OPEN&&q()},[c.current,f]);const q=()=>{const L=new Int8Array([Os.List]),D=new TextEncoder().encode(f),H=new Int8Array(L.length+D.length);H.set(L),H.set(D,L.length),c.current?.send(H)},fe=L=>{K.current=L;const D=new Int8Array([Os.Download]),H=new TextEncoder().encode(`${f}/${L}`),Y=new Int8Array(D.length+H.length);Y.set(D),Y.set(H,D.length),c.current?.send(Y)},z=async L=>{let H=0;const Y=rt.buildUploadHeader({path:f,file:L});for(c.current?.send(Y);H<L.size;){const ue=L.slice(H,H+1048576),Me=await rt.readFileAsArrayBuffer(ue);Me&&c.current?.send(Me),H+=1048576}},Pe=u.useRef(null),[we,$e]=u.useState("");return e.jsxs("div",{ref:a,...r,children:[e.jsxs("div",{className:"flex justify-center items-center gap-4",children:[e.jsxs(Ze,{children:[e.jsxs(Qe,{children:[e.jsx(Xe,{asChild:!0,children:e.jsx(F,{variant:"ghost",icon:"menu"})}),e.jsxs(We,{children:[e.jsx(Q,{onClick:q,children:t("Refresh")}),e.jsx(Q,{onClick:async()=>{try{await Ks(wn(f))}catch(L){$("FM "+t("Error"),{description:L.message}),console.error("copy error: ",L)}},children:t("CopyPath")}),e.jsx(ws,{asChild:!0,children:e.jsx(Q,{children:t("Goto")})})]})]}),e.jsxs(ze,{children:[e.jsxs(He,{children:[e.jsx(Ve,{children:t("Goto")}),e.jsx(qe,{})]}),e.jsx(k,{className:"mb-1",placeholder:"Path",value:we,onChange:L=>{$e(L.target.value)}}),e.jsxs(ts,{children:[e.jsx(us,{children:t("Close")}),e.jsx(rs,{onClick:()=>{p(we)},children:t("Confirm")})]})]})]}),e.jsx("h1",{className:"text-base",children:t("FileManager")}),e.jsxs("div",{className:"ml-auto",children:[e.jsx("input",{ref:Pe,type:"file",className:"hidden",onChange:async L=>{const D=L.target.files;D&&D.length>0&&(d||m(!0),await z(D[0]))}}),e.jsx(F,{icon:"upload",variant:"ghost",onClick:()=>{Pe.current&&Pe.current.click()}})]})]}),e.jsx(U_,{path:f,setPath:p}),e.jsx(Ze,{open:l,children:e.jsx(ze,{children:e.jsxs(He,{children:[e.jsxs(Ve,{children:[t("Downloading"),"..."]}),e.jsx(qe,{})]})})}),e.jsx(Ze,{open:d,children:e.jsx(ze,{children:e.jsxs(He,{children:[e.jsxs(Ve,{children:[t("Uploading"),"..."]}),e.jsx(qe,{})]})})}),e.jsx(W_,{columns:n,data:i,rowComponent:o})]})},K_=({id:s})=>{const{t:r}=M(),[t,a]=u.useState(!1),[c,l]=u.useState(null),[x,d]=u.useState(!1),m=Js("(min-width: 640px)"),n=async()=>{if(s){try{d(!1);const o=await F_(s);l(o)}catch(o){$(r("Error"),{description:r("Results.UnExpectedError")}),console.error("fetch error",o);return}d(!0)}};return m?e.jsxs(B_,{modal:!1,open:t,onOpenChange:o=>{o&&a(!0)},children:[e.jsx(G_,{asChild:!0,children:e.jsx(F,{icon:"folder-closed",onClick:n})}),e.jsx(Yn,{setOpen:a,className:"min-w-[35%]",children:e.jsxs("div",{className:"overflow-auto",children:[e.jsx(Qn,{}),e.jsx(Zn,{className:"pb-2",children:e.jsx(ct,{})}),c?.session_id&&x?e.jsx(Xt,{className:"p-1 space-y-5",wsUrl:`/api/v1/ws/file/${c.session_id}`}):e.jsx("p",{children:r("Results.TheServerDoesNotOnline")})]})})]}):e.jsxs(pt,{children:[e.jsx(Tn,{asChild:!0,children:e.jsx(F,{icon:"folder-closed",onClick:n})}),e.jsx(ft,{className:"min-h-[60%] p-4",children:e.jsxs("div",{className:"overflow-auto",children:[e.jsx(Nt,{}),e.jsx(jt,{className:"pb-2",children:e.jsx(ct,{})}),c?.session_id&&x?e.jsx(Xt,{className:"p-1 space-y-5",wsUrl:`/api/v1/ws/file/${c.session_id}`}):e.jsx("p",{children:r("Results.TheServerDoesNotOnline")})]})})]})},J_=u.forwardRef(({wsUrl:s,setClose:r,...t},a)=>{const c=u.useRef(null),l=u.useRef(null),x=u.useRef(null);u.useImperativeHandle(a,()=>({...c.current,async requestFullscreen(){await c.current?.requestFullscreen()}}),[]),u.useEffect(()=>()=>{x.current?.close(),l.current?.dispose()},[]),u.useEffect(()=>{l.current=new Ua.Terminal({cursorBlink:!0,fontSize:16});const i=new URL(s,window.location.origin);i.protocol=i.protocol.replace("http","ws");const h=new WebSocket(i);x.current=h,h.binaryType="arraybuffer",h.onopen=()=>{o()},h.onclose=()=>{l.current?.dispose(),r(!0)},h.onerror=b=>{console.error(b),$("Websocket error",{description:"View console for details."})}},[s]);const d=u.useRef(new Ba.FitAddon).current,m=u.useRef(!1),n=()=>{if(!c.current)return;d.fit();const i=d.proposeDimensions();if(i){const h=new Int8Array([1]),b=new TextEncoder().encode(JSON.stringify({Rows:i.rows,Cols:i.cols})),C=new Int8Array(h.length+b.length);C.set(h),C.set(b,h.length),x.current?.send(C)}},o=async()=>{if(!m.current){m.current=!0;try{await _E(1500),n()}catch(i){console.error("resize error",i)}finally{m.current=!1}}};return u.useEffect(()=>{if(!x.current||!c.current||!l.current)return;const i=new Ga.AttachAddon(x.current);return l.current.loadAddon(i),l.current.loadAddon(d),l.current.open(c.current),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o),x.current&&x.current.close()}},[x.current,l.current,c.current]),e.jsx("div",{ref:c,...t})}),Y_=()=>{const{id:s}=aa(),[r,t]=u.useState(!1),a=L_(s?parseInt(s):void 0),c=u.useRef(null);return e.jsxs("div",{className:"px-8",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx("h1",{className:"flex-1 text-3xl font-bold tracking-tight",children:`Terminal (${s})`}),e.jsxs("div",{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",children:[e.jsx(F,{icon:"expand",onClick:async()=>{await c.current?.requestFullscreen()}}),e.jsx(K_,{id:s})]})]}),a?.session_id?e.jsx(J_,{ref:c,className:"max-h-[60%] mb-5 overflow-auto",wsUrl:`/api/v1/ws/terminal/${a?.session_id}`,setClose:t}):e.jsx("p",{children:"The server does not exist, or have not been connected yet."}),e.jsx(Ze,{open:r,onOpenChange:t,children:e.jsxs(ze,{className:"sm:max-w-lg",children:[e.jsxs(He,{children:[e.jsx(Ve,{children:"Session completed"}),e.jsx(qe,{children:"You may close this window now."})]}),e.jsx(ts,{children:e.jsx(rs,{asChild:!0,children:e.jsx(T,{onClick:window.close,children:"Close"})})})]})})]})},Z_=({id:s,menuItem:r=!1})=>{const{t}=M(),a=()=>{window.open(`/dashboard/terminal/${s}`,"_blank")};return r?e.jsxs("button",{type:"button",onClick:a,className:"flex w-full items-center text-sm px-2 py-2 hover:bg-accent hover:text-accent-foreground",children:[e.jsx(Nr,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:t("Terminal")})]}):e.jsx(F,{variant:"outline",icon:"terminal",onClick:a})};function Q_(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/server",_e,{revalidateOnFocus:!1,revalidateOnReconnect:!1}),{serverGroups:l}=ds();u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const x=[{id:"select",header:({table:o})=>e.jsx(B,{checked:o.getIsAllPageRowsSelected()||o.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:i=>o.toggleAllPageRowsSelected(!!i),"aria-label":"Select all"}),cell:({row:o})=>e.jsx(B,{checked:o.getIsSelected(),onCheckedChange:i=>o.toggleSelected(!!i),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:o=>`${o.id}(${o.display_index})`},{header:s("Name"),accessorKey:"name",accessorFn:o=>o.name,cell:({row:o})=>{const i=o.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:i.name})}},{header:s("Group"),accessorKey:"groups",accessorFn:o=>l?.filter(i=>i.servers?.includes(o.id)).map(i=>i.group.id)||[]},{id:"ip",header:"IP",cell:({row:o})=>{const i=o.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:IE(i.geoip?.ip)})}},{header:s("Version"),accessorKey:"host.version",accessorFn:o=>o.host.version||s("Unknown")},{header:s("EnableDDNS"),accessorKey:"enableDDNS",accessorFn:o=>o.enable_ddns??!1},{header:s("HideForGuest"),accessorKey:"hideForGuest",accessorFn:o=>o.hide_for_guest??!1},{id:"note",header:s("Note"),cell:({row:o})=>{const i=o.original;return e.jsx(y_,{note:{private:i.note,public:i.public_note}})}},{id:"uuid",header:"UUID",cell:({row:o})=>{const i=o.original;return e.jsx(Ys,{text:i.uuid})}},{id:"actions",header:s("Actions"),cell:({row:o})=>{const i=o.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:Ut,id:i.id,mutate:t},children:e.jsxs(e.Fragment,{children:[e.jsx(P_,{mutate:t,data:i}),e.jsxs(Qe,{children:[e.jsx(Xe,{asChild:!0,children:e.jsx(F,{icon:"more",variant:"outline","aria-label":"More actions"})}),e.jsxs(We,{align:"end",children:[e.jsx(Q,{asChild:!0,children:e.jsx(Z_,{id:i.id,menuItem:!0})}),e.jsx(Q,{asChild:!0,children:e.jsx(A_,{sid:i.id,variant:"ghost",menuItem:!0})}),e.jsx(Q,{asChild:!0,children:e.jsx(Wt,{uuid:i.uuid,menuItem:!0})})]})]})]})})}}],d=u.useMemo(()=>r??[],[r]),m=Ae({data:d,columns:x,getCoreRowModel:Ee()}),n=m.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full gap-3 mt-6 mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("Server")}),e.jsxs(Oe,{className:"flex gap-2 flex-wrap shrink-0",delete:{fn:Ut,id:n.map(o=>o.original.id),mutate:t},children:[e.jsx(F,{icon:"update",onClick:async()=>{const o=n.map(h=>h.original.id);if(o.length<1){$(s("Error"),{description:s("Results.SelectAtLeastOneServer")});return}let i={};try{i=await hE(o)}catch(h){console.error(h),$(s("Error"),{description:s("Results.UnExpectedError")});return}$(s("Done"),{description:s("Results.ForceUpdate")+(i.success?.length?s("Success")+` [${i.success.join(",")}]`:"")+(i.failure?.length?s("Failure")+` [${i.failure.join(",")}]`:"")+(i.offline?.length?s("Offline")+` [${i.offline.join(",")}]`:"")})}}),e.jsx(S_,{serverIds:n.map(o=>o.original.id)}),e.jsx(__,{sid:n.map(o=>o.original.id),className:"shadow-[inset_0_1px_0_rgba(255,255,255,0.2)] bg-yellow-600 text-white hover:bg-yellow-500 dark:hover:bg-yellow-700 rounded-lg"}),e.jsx(Wt,{className:"shadow-[inset_0_1px_0_rgba(255,255,255,0.2)] bg-blue-700 text-white hover:bg-blue-600 dark:hover:bg-blue-800 rounded-lg"})]})]}),e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs(be,{className:"min-w-[960px]",children:[e.jsx(ye,{className:"sticky top-0 bg-background z-10",children:m.getHeaderGroups().map(o=>e.jsx(P,{children:o.headers.map(i=>e.jsx(J,{className:"text-sm",children:i.isPlaceholder?null:W(i.column.columnDef.header,i.getContext())},i.id))},o.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:x.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):m.getRowModel().rows?.length?m.getRowModel().rows.map(o=>e.jsx(P,{"data-state":o.getIsSelected()&&"selected",children:o.getVisibleCells().map(i=>e.jsx(I,{className:"text-xsm",children:W(i.column.columnDef.cell,i.getContext())},i.id))},o.id)):e.jsx(P,{children:e.jsx(I,{colSpan:x.length,className:"h-24 text-center",children:s("NoResults")})})})]})})]})}const X_=async s=>A(R.POST,"/api/v1/service",s),e2=async(s,r)=>A(R.PATCH,`/api/v1/service/${s}`,r),er=async s=>A(R.POST,"/api/v1/batch-delete/service",s),s2=ne({cover:Z().int().min(0),duration:Z().int().min(30),enable_show_in_service:_(V()),enable_trigger_task:_(V()),fail_trigger_tasks:De(je()),fail_trigger_tasks_raw:w(),latency_notify:_(V()),max_latency:Z().int().min(0),min_latency:Z().int().min(0),name:w().min(1),notification_group_id:Z().int(),notify:_(V()),recover_trigger_tasks:De(je()),recover_trigger_tasks_raw:w(),skip_servers:Ns(w(),V()),skip_servers_raw:De(w()),target:w(),type:Z().int().min(0)}),sr=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(s2),defaultValues:s?{...s,fail_trigger_tasks_raw:Te.arrToStr(s.fail_trigger_tasks),recover_trigger_tasks_raw:Te.arrToStr(s.recover_trigger_tasks),skip_servers_raw:Te.recordToStrArr(s.skip_servers?s.skip_servers:{})}:{type:1,cover:0,name:"",target:"",max_latency:0,min_latency:0,duration:30,notification_group_id:0,fail_trigger_tasks:[],fail_trigger_tasks_raw:"",recover_trigger_tasks:[],recover_trigger_tasks_raw:"",skip_servers:{},skip_servers_raw:[]},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async i=>{i.skip_servers=Te.arrToRecord(i.skip_servers_raw),i.fail_trigger_tasks=Te.strToArr(i.fail_trigger_tasks_raw).map(Number),i.recover_trigger_tasks=Te.strToArr(i.recover_trigger_tasks_raw).map(Number);const{skip_servers_raw:h,...b}=i;try{s?.id?await e2(s.id,b):await X_(b)}catch(C){console.error(C),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()},{servers:d}=ds(),m=d?.map(i=>({value:`${i.id}`,label:i.name}))||[{value:"",label:""}],{notifierGroup:n}=ys(),o=n?.map(i=>({value:`${i.group.id}`,label:i.group.name}))||[{value:"",label:""}];return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditService":"CreateService")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"My Service Monitor",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"target",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Target")}),e.jsx(j,{children:e.jsx(k,{placeholder:"HTTP (https://t.tt)｜Ping (t.tt)｜TCP (t.tt:80)",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"type",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Type")}),e.jsxs(te,{onValueChange:i.onChange,defaultValue:`${i.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Select service type"})})}),e.jsx(ee,{children:Object.entries(bn).map(([h,b])=>e.jsx(E,{value:h,children:b},h))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"enable_show_in_service",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(U,{className:"text-sm",children:t("ShowInService")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"duration",render:({field:i})=>e.jsxs(N,{children:[e.jsxs(y,{children:[t("Interval")," (s)"]}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"30",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"cover",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Coverage")}),e.jsxs(te,{onValueChange:i.onChange,defaultValue:`${i.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{})})}),e.jsx(ee,{children:Object.entries(bE).map(([h,b])=>e.jsx(E,{value:h,children:b},h))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"skip_servers_raw",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("SpecificServers")}),e.jsx(j,{children:e.jsx(ms,{options:m,onValueChange:i.onChange,defaultValue:i.value})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"notification_group_id",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("NotifierGroupID")}),e.jsx(j,{children:e.jsx(Ct,{placeholder:"Search...",options:o,onValueChange:i.onChange,defaultValue:i.value.toString()})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"notify",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(U,{className:"text-sm",children:t("EnableFailureNotification")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"max_latency",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("MaximumLatency")}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"100.88",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"min_latency",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("MinimumLatency")}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"100.88",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"latency_notify",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(U,{className:"text-sm",children:t("EnableLatencyNotification")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"enable_trigger_task",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(U,{className:"text-sm",children:t("EnableTriggerTask")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"fail_trigger_tasks_raw",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TasksToTriggerOnAlert")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"1,2,3",...i})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"recover_trigger_tasks_raw",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TasksToTriggerAfterRecovery")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"1,2,3",...i})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Submit")})]})]})})]})})})]})};function t2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/service/list",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.id},{header:s("Name"),accessorFn:n=>n.name,accessorKey:"name",cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:o.name})}},{header:s("Target"),accessorFn:n=>n.target,accessorKey:"target",cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:o.target})}},{header:s("Coverage"),accessorKey:"cover",accessorFn:n=>n.cover,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:(()=>{switch(o.cover){case 0:return e.jsx("span",{children:s("CoverAll")});case 1:return e.jsx("span",{children:s("IgnoreAll")})}})()})}},{header:s("SpecificServers"),cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:Object.keys(o.skip_servers??{}).join(",")})}},{header:s("Type"),accessorKey:"type",accessorFn:n=>n.type,cell:({row:n})=>bn[n.original.type]||""},{header:s("Interval"),accessorKey:"duration",accessorFn:n=>n.duration},{header:s("NotifierGroupID"),accessorKey:"ngroup",accessorFn:n=>n.notification_group_id},{header:s("Trigger"),accessorKey:"triggerTask",accessorFn:n=>n.enable_trigger_task??!1},{header:s("TasksToTriggerOnAlert"),accessorKey:"failTriggerTasks",accessorFn:n=>n.fail_trigger_tasks},{header:s("TasksToTriggerAfterRecovery"),accessorKey:"recoverTriggerTasks",accessorFn:n=>n.recover_trigger_tasks},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:er,id:o.id,mutate:t},children:e.jsx(sr,{mutate:t,data:o})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full gap-3 mt-6 mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("Service")}),e.jsx(Oe,{className:"flex gap-2 flex-wrap shrink-0",delete:{fn:er,id:m.map(n=>n.original.id),mutate:t},children:e.jsx(sr,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const r2=async s=>A(R.POST,"/api/v1/ddns",s),n2=async(s,r)=>A(R.PATCH,`/api/v1/ddns/${s}`,r),tr=async s=>A(R.POST,"/api/v1/batch-delete/ddns",s),a2=async()=>A(R.GET,"/api/v1/ddns/providers",null),o2=ne({max_retries:Z().int().min(1),enable_ipv4:_(V()),enable_ipv6:_(V()),name:w().min(1),provider:w(),domains:De(w()),domains_raw:w(),access_id:_(w()),access_secret:_(w()),webhook_url:_(w().url()),webhook_method:_(Z().int().min(1).max(255)),webhook_request_type:_(Z().int().min(1).max(255)),webhook_request_body:_(w()),webhook_headers:_(w())}),rr=({data:s,providers:r,mutate:t})=>{const{t:a}=M(),c=Ne({resolver:ve(o2),defaultValues:s?{max_retries:s.max_retries??3,enable_ipv4:s.enable_ipv4??!1,enable_ipv6:s.enable_ipv6??!1,name:s.name??"",provider:s.provider??"dummy",domains:s.domains??[],domains_raw:Te.arrToStr(s.domains??[]),access_id:s.access_id??"",access_secret:s.access_secret??"",webhook_url:s.webhook_url??"",webhook_method:s.webhook_method,webhook_request_type:s.webhook_request_type,webhook_request_body:s.webhook_request_body??"",webhook_headers:s.webhook_headers??""}:{max_retries:3,enable_ipv4:!1,enable_ipv6:!1,name:"",provider:"dummy",domains:[],domains_raw:"",access_id:"",access_secret:"",webhook_url:"",webhook_method:void 0,webhook_request_type:void 0,webhook_request_body:"",webhook_headers:""},resetOptions:{keepDefaultValues:!1}}),[l,x]=u.useState(!1),d=async m=>{try{m.domains=Te.strToArr(m.domains_raw),s?.id?await n2(s.id,m):await r2(m)}catch(n){console.error(n),$(a("Error"),{description:a("Results.UnExpectedError")});return}x(!1),await t(),c.reset()};return e.jsxs(me,{open:l,onOpenChange:x,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:a(s?"EditDDNS":"CreateDDNS")}),e.jsx(ce,{})]}),e.jsx(Se,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-2 my-2",children:[e.jsx(v,{control:c.control,name:"name",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:a("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"My DDNS Profile",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"provider",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:a("Provider")}),e.jsxs(te,{onValueChange:m.onChange,defaultValue:`${m.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Select service type"})})}),e.jsx(ee,{children:r.map((n,o)=>e.jsx(E,{value:n,children:n},o))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"domains_raw",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:a("Domains")+a("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"www.example.com",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"access_id",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:[a("Credential")," 1"]}),e.jsx(j,{children:e.jsx(k,{placeholder:"Token ID",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"access_secret",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:[a("Credential")," 2"]}),e.jsx(j,{children:e.jsx(k,{placeholder:"Token Secret",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"max_retries",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:a("MaximumRetryAttempts")}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"3",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"webhook_url",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:"Webhook URL"}),e.jsx(j,{children:e.jsx(k,{placeholder:"https://ddns.example.com/?record=#record#",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"webhook_method",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:["Webhook ",a("RequestMethod")]}),e.jsxs(te,{onValueChange:m.onChange,defaultValue:`${m.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Webhook Request Method"})})}),e.jsx(ee,{children:Object.entries(yE).map(([n,o])=>e.jsx(E,{value:n,children:o},n))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"webhook_request_type",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:["Webhook ",a("RequestType")]}),e.jsxs(te,{onValueChange:m.onChange,defaultValue:`${m.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Webhook Request Type"})})}),e.jsx(ee,{children:Object.entries(CE).map(([n,o])=>e.jsx(E,{value:n,children:o},n))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"webhook_headers",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:["Webhook ",a("RequestHeader")]}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",placeholder:'{"User-Agent":"Nezha-Agent"}',...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"webhook_request_body",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:["Webhook ",a("RequestBody")]}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",placeholder:`{\r
 "ip": #ip#,\r
 "domain": "#domain#"\r
}`,...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"enable_ipv4",render:({field:m})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:m.value,onCheckedChange:m.onChange}),e.jsxs(U,{className:"text-sm",children:[a("Enable")," IPv4"]})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"enable_ipv6",render:({field:m})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:m.value,onCheckedChange:m.onChange}),e.jsxs(U,{className:"text-sm",children:[a("Enable")," IPv6"]})]})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:a("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:a("Confirm")})]})]})})]})})})]})};function i2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/ddns",_e),[l,x]=u.useState([]);u.useEffect(()=>{(async()=>{const h=await a2();x(h)})()},[]),u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const d=[{id:"select",header:({table:i})=>e.jsx(B,{checked:i.getIsAllPageRowsSelected()||i.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:h=>i.toggleAllPageRowsSelected(!!h),"aria-label":"Select all"}),cell:({row:i})=>e.jsx(B,{checked:i.getIsSelected(),onCheckedChange:h=>i.toggleSelected(!!h),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:i=>i.id},{header:s("Name"),accessorKey:"name",accessorFn:i=>i.name,cell:({row:i})=>{const h=i.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:h.name})}},{header:"IPv4",accessorKey:"enableIPv4",accessorFn:i=>i.enable_ipv4??!1},{header:"IPv6",accessorKey:"enableIPv6",accessorFn:i=>i.enable_ipv6??!1},{header:s("Provider"),accessorKey:"provider",accessorFn:i=>i.provider},{header:s("Domains"),accessorKey:"domains",accessorFn:i=>i.domains,cell:({row:i})=>{const h=i.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:h.domains})}},{header:s("MaximumRetryAttempts"),accessorKey:"maxRetries",accessorFn:i=>i.max_retries},{id:"actions",header:s("Actions"),cell:({row:i})=>{const h=i.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:tr,id:h.id,mutate:t},children:e.jsx(rr,{mutate:t,data:h,providers:l})})}}],m=u.useMemo(()=>r??[],[r]),n=Ae({data:m,columns:d,getCoreRowModel:Ee()}),o=n.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx("h1",{className:"flex-1 text-3xl font-bold tracking-tight",children:s("DDNS")}),e.jsx(Oe,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:tr,id:o.map(i=>i.original.id),mutate:t},children:e.jsx(rr,{mutate:t,providers:l})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:n.getHeaderGroups().map(i=>e.jsx(P,{children:i.headers.map(h=>e.jsx(J,{className:"text-sm",children:h.isPlaceholder?null:W(h.column.columnDef.header,h.getContext())},h.id))},i.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:d.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):n.getRowModel().rows?.length?n.getRowModel().rows.map(i=>e.jsx(P,{"data-state":i.getIsSelected()&&"selected",children:i.getVisibleCells().map(h=>e.jsx(I,{className:"text-xsm",children:W(h.column.columnDef.cell,h.getContext())},h.id))},i.id)):e.jsx(P,{children:e.jsx(I,{colSpan:d.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const c2=async s=>A(R.POST,"/api/v1/nat",s),l2=async(s,r)=>A(R.PATCH,`/api/v1/nat/${s}`,r),nr=async s=>A(R.POST,"/api/v1/batch-delete/nat",s),d2=ne({name:w().min(1),enabled:V(),server_id:Z().int(),host:w(),domain:w()}),ar=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(d2),defaultValues:s?{name:s.name??"",enabled:s.enabled??!1,server_id:s.server_id??0,host:s.host??"",domain:s.domain??""}:{name:"",enabled:!1,server_id:0,host:"",domain:""},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async d=>{try{s?.id?await l2(s.id,d):await c2(d)}catch(m){console.error(m),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()};return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditNAT":"CreateNAT")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"My NAT Profile",...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"server_id",render:({field:d})=>e.jsxs(N,{children:[e.jsxs(y,{children:[t("Server")," ID"]}),e.jsx(j,{children:e.jsx(k,{type:"number",placeholder:"1",...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"host",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("LocalService")}),e.jsx(j,{children:e.jsx(k,{placeholder:"192.168.1.1:80 (with port)",...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"domain",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("BindHostname")}),e.jsx(j,{children:e.jsx(k,{placeholder:"router.app.yourdomain.com",...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"enabled",render:({field:d})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:d.value,onCheckedChange:d.onChange}),e.jsx(U,{className:"text-sm",children:t("Enable")})]})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function u2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/nat",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.id},{header:s("Enabled"),accessorKey:"enabled",accessorFn:n=>n.enabled},{header:s("Name"),accessorKey:"name",accessorFn:n=>n.name,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.name})}},{header:s("Server")+" ID",accessorKey:"serverID",accessorFn:n=>n.server_id},{header:s("LocalService"),accessorKey:"host",accessorFn:n=>n.host,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.host})}},{header:s("BindHostname"),accessorKey:"domain",accessorFn:n=>n.domain,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.domain})}},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:nr,id:o.id,mutate:t},children:e.jsx(ar,{mutate:t,data:o})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsxs("h1",{className:"flex-1 text-3xl font-bold tracking-tight",children:[" ",s("NATT")]}),e.jsx(Oe,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:nr,id:m.map(n=>n.original.id),mutate:t},children:e.jsx(ar,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const Qs=jo,$s=u.forwardRef(({className:s,...r},t)=>e.jsx(mn,{ref:t,className:g("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r}));$s.displayName=mn.displayName;const Ie=u.forwardRef(({className:s,...r},t)=>e.jsx(hn,{ref:t,className:g("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r}));Ie.displayName=hn.displayName;const lt=u.forwardRef(({className:s,...r},t)=>e.jsx(xn,{ref:t,className:g("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r}));lt.displayName=xn.displayName;const ea=({className:s})=>{const{t:r}=M(),t=bs();return e.jsx(Qs,{defaultValue:t.pathname,className:s,children:e.jsxs($s,{className:"grid w-full grid-cols-2",children:[e.jsx(Ie,{value:"/dashboard/server-group",asChild:!0,children:e.jsx(se,{to:"/dashboard/server-group",children:r("Server")})}),e.jsx(Ie,{value:"/dashboard/notification-group",asChild:!0,children:e.jsx(se,{to:"/dashboard/notification-group",children:r("Notification")})})]})})},m2=ne({name:w().min(1),notifications:De(je())}),or=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(m2),defaultValues:s?{name:s.group.name,notifications:s.notifications}:{name:"",notifications:[]},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async n=>{try{s?.group.id?await lE(s.group.id,n):await cE(n)}catch(o){console.error(o),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()},{notifiers:d}=ys(),m=d?.map(n=>({value:`${n.id}`,label:n.name}))||[{value:"",label:""}];return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditNotifierGroup":"CreateNotifierGroup")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"Group Name",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"notifications",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Notification")}),e.jsx(ms,{options:m,onValueChange:o=>{const i=o.map(Number);n.onChange(i)},defaultValue:n.value?.map(String)}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function h2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/notification-group",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.group.id},{header:s("Name"),accessorKey:"name",accessorFn:n=>n.group.name,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:o.group.name})}},{header:s("Notifier")+"(ID)",accessorKey:"notifications",accessorFn:n=>n.notifications,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:e.jsx("span",{children:(o.notifications||[]).join(",")})})}},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:Mt,id:o.group.id,mutate:t},children:e.jsx(or,{mutate:t,data:o})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx(ea,{className:"flex-1 mr-4 sm:max-w-[40%]"}),e.jsx(Oe,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:Mt,id:m.map(n=>n.original.group.id),mutate:t},children:e.jsx(or,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const x2=ne({name:w().min(1),servers:De(je())}),ir=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(x2),defaultValues:s?{name:s.group.name,servers:s.servers}:{name:"",servers:[]},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async n=>{try{s?.group.id?await fE(s.group.id,n):await pE(n)}catch(o){console.error(o),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()},{servers:d}=ds(),m=d?.map(n=>({value:`${n.id}`,label:n.name}))||[{value:"",label:""}];return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditServerGroup":"CreateServerGroup")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"Group Name",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"servers",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Server")}),e.jsx(j,{children:e.jsx(ms,{options:m,onValueChange:o=>{const i=o.map(Number);n.onChange(i)},defaultValue:n.value?.map(String)})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function g2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/server-group",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.group.id},{header:s("Name"),accessorKey:"name",accessorFn:n=>n.group.name,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:o.group.name})}},{header:s("Server")+"(ID)",accessorKey:"servers",accessorFn:n=>n.servers,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:e.jsx("span",{children:(o.servers||[]).join(",")})})}},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:Bt,id:o.group.id,mutate:t},children:e.jsx(ir,{mutate:t,data:o})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx(ea,{className:"flex-1 mr-4 sm:max-w-[40%]"}),e.jsx(Oe,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:Bt,id:m.map(n=>n.original.group.id),mutate:t},children:e.jsx(ir,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const p2=async s=>A(R.POST,"/api/v1/alert-rule",s),f2=async(s,r)=>A(R.PATCH,`/api/v1/alert-rule/${s}`,r),cr=async s=>A(R.POST,"/api/v1/batch-delete/alert-rule",s),j2=ne({type:w(),min:je().optional(),max:je().optional(),cycle_start:w().optional(),cycle_interval:je().optional(),cycle_unit:pn(["hour","day","week","month","year"]).optional(),duration:je().optional(),cover:je().int().min(0),ignore:Ns(w(),V()).optional(),next_transfer_at:Ns(w(),w()).optional(),last_cycle_status:V().optional()}),N2=ne({name:w().min(1),rules_raw:w().refine(s=>{try{return JSON.parse(s),!0}catch{return!1}},{message:"Invalid JSON string"}),rules:De(j2),fail_trigger_tasks:De(je()),fail_trigger_tasks_raw:w(),recover_trigger_tasks:De(je()),recover_trigger_tasks_raw:w(),notification_group_id:Z().int(),trigger_mode:Z().int().min(0),enable:V().optional()}),lr=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(N2),defaultValues:s?{...s,rules_raw:JSON.stringify(s.rules),fail_trigger_tasks_raw:Te.arrToStr(s.fail_trigger_tasks),recover_trigger_tasks_raw:Te.arrToStr(s.recover_trigger_tasks)}:{name:"",rules_raw:"",rules:[],fail_trigger_tasks:[],fail_trigger_tasks_raw:"",recover_trigger_tasks:[],recover_trigger_tasks_raw:"",notification_group_id:0,trigger_mode:0},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=(()=>{try{if(s?.rules)return s.rules;const h=a.getValues("rules_raw");return h?JSON.parse(h):[]}catch{return[]}})(),[d,m]=u.useState(x);u.useEffect(()=>{try{a.setValue("rules_raw",JSON.stringify(d),{shouldDirty:!0})}catch{}},[d]);const n=async h=>{h.rules=JSON.parse(h.rules_raw),h.fail_trigger_tasks=Te.strToArr(h.fail_trigger_tasks_raw).map(Number),h.recover_trigger_tasks=Te.strToArr(h.recover_trigger_tasks_raw).map(Number);const{rules_raw:b,...C}=h;try{s?.id?await f2(s.id,C):await p2(C)}catch(K){console.error(K),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()},{notifierGroup:o}=ys(),i=o?.map(h=>({value:`${h.group.id}`,label:h.group.name}))||[{value:"",label:""}];return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditAlertRule":"CreateAlertRule")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(n),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{...h})}),e.jsx(S,{})]})}),e.jsxs(N,{children:[e.jsx(y,{children:t("Rules")}),e.jsxs("div",{className:"space-y-3",children:[d.map((h,b)=>{const C=typeof h.type=="string"&&h.type.endsWith("_cycle"),K=h.type==="offline";return e.jsxs("div",{className:"rounded-md border p-3 space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:t("Type")}),e.jsxs(te,{onValueChange:G=>{const f=[...d];f[b]={...f[b],type:G},G.endsWith("_cycle")||(delete f[b].cycle_start,delete f[b].cycle_interval,delete f[b].cycle_unit),m(f)},defaultValue:h.type||"",children:[e.jsx(X,{children:e.jsx(re,{placeholder:t("Select")})}),e.jsxs(ee,{children:[e.jsx(E,{value:"cpu",children:"cpu"}),e.jsx(E,{value:"gpu",children:"gpu"}),e.jsx(E,{value:"memory",children:"memory"}),e.jsx(E,{value:"swap",children:"swap"}),e.jsx(E,{value:"disk",children:"disk"}),e.jsx(E,{value:"net_in_speed",children:"net_in_speed"}),e.jsx(E,{value:"net_out_speed",children:"net_out_speed"}),e.jsx(E,{value:"net_all_speed",children:"net_all_speed"}),e.jsx(E,{value:"transfer_in",children:"transfer_in"}),e.jsx(E,{value:"transfer_out",children:"transfer_out"}),e.jsx(E,{value:"transfer_all",children:"transfer_all"}),e.jsx(E,{value:"offline",children:"offline"}),e.jsx(E,{value:"load1",children:"load1"}),e.jsx(E,{value:"load5",children:"load5"}),e.jsx(E,{value:"load15",children:"load15"}),e.jsx(E,{value:"process_count",children:"process_count"}),e.jsx(E,{value:"tcp_conn_count",children:"tcp_conn_count"}),e.jsx(E,{value:"udp_conn_count",children:"udp_conn_count"}),e.jsx(E,{value:"temperature_max",children:"temperature_max"}),e.jsx(E,{value:"transfer_in_cycle",children:"transfer_in_cycle"}),e.jsx(E,{value:"transfer_out_cycle",children:"transfer_out_cycle"}),e.jsx(E,{value:"transfer_all_cycle",children:"transfer_all_cycle"})]})]})]}),e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:"duration"}),e.jsx(k,{type:"number",value:h.duration??"",onChange:G=>{const f=[...d];f[b]={...f[b],duration:G.target.value?Number(G.target.value):void 0},m(f)},placeholder:"10"})]})]}),!K&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:"min"}),e.jsx(k,{type:"number",value:h.min??"",onChange:G=>{const f=[...d];f[b]={...f[b],min:G.target.value?Number(G.target.value):void 0},m(f)},placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:"max"}),e.jsx(k,{type:"number",value:h.max??"",onChange:G=>{const f=[...d];f[b]={...f[b],max:G.target.value?Number(G.target.value):void 0},m(f)},placeholder:"100"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:"cover"}),e.jsxs(te,{onValueChange:G=>{const f=[...d];f[b]={...f[b],cover:Number(G)},m(f)},defaultValue:(h.cover??0).toString(),children:[e.jsx(X,{children:e.jsx(re,{})}),e.jsxs(ee,{children:[e.jsxs(E,{value:"0",children:["0（",t("AlertRules.CoverAllServers"),"）"]}),e.jsxs(E,{value:"1",children:["1（",t("AlertRules.IgnoreAllSelectSpecific"),"）"]})]})]})]}),e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:t("AlertRules.IgnoreHint",{server:t("Server")})}),e.jsx(ae,{className:"resize-y",value:(()=>{try{return h.ignore?JSON.stringify(h.ignore):""}catch{return""}})(),onChange:G=>{const f=[...d];try{const p=G.target.value?JSON.parse(G.target.value):void 0;f[b]={...f[b],ignore:p}}catch{}m(f)},placeholder:t("AlertRules.IgnoreExample")})]})]}),C&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx(U,{className:"text-sm",children:"cycle_start (RFC3339)"}),e.jsx(k,{value:h.cycle_start??"",onChange:G=>{const f=[...d];f[b]={...f[b],cycle_start:G.target.value||void 0},m(f)},placeholder:"2022-01-01T00:00:00+08:00"})]}),e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:"cycle_interval"}),e.jsx(k,{type:"number",value:h.cycle_interval??"",onChange:G=>{const f=[...d];f[b]={...f[b],cycle_interval:G.target.value?Number(G.target.value):void 0},m(f)},placeholder:"1"})]}),e.jsxs("div",{children:[e.jsx(U,{className:"text-sm",children:"cycle_unit"}),e.jsxs(te,{onValueChange:G=>{const f=[...d];f[b]={...f[b],cycle_unit:G},m(f)},defaultValue:h.cycle_unit||"month",children:[e.jsx(X,{children:e.jsx(re,{})}),e.jsxs(ee,{children:[e.jsx(E,{value:"hour",children:"hour"}),e.jsx(E,{value:"day",children:"day"}),e.jsx(E,{value:"week",children:"week"}),e.jsx(E,{value:"month",children:"month"}),e.jsx(E,{value:"year",children:"year"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(T,{type:"button",variant:"secondary",onClick:()=>{const G=[...d];G.splice(b,1),m(G)},children:t("Delete")}),e.jsx("span",{})]})]},b)}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(T,{type:"button",variant:"outline",onClick:()=>{m([...d,{type:"",cover:0,duration:10}])},children:t("Add")})})]}),e.jsx(y,{className:"mt-3",children:t("AdvancedJSON")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",value:a.watch("rules_raw"),onChange:h=>{a.setValue("rules_raw",h.target.value,{shouldDirty:!0});try{const b=JSON.parse(h.target.value);Array.isArray(b)&&m(b)}catch{}}})})]}),e.jsx(v,{control:a.control,name:"notification_group_id",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("NotifierGroup")}),e.jsx(j,{children:e.jsx(Ct,{placeholder:t("Search"),options:i,onValueChange:h.onChange,defaultValue:h.value.toString()})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"trigger_mode",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TriggerMode")}),e.jsxs(te,{onValueChange:h.onChange,defaultValue:`${h.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{})})}),e.jsx(ee,{children:Object.entries(Cn).map(([b,C])=>e.jsx(E,{value:b,children:C},b))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"fail_trigger_tasks_raw",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TasksToTriggerOnAlert")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"1,2,3",...h})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"recover_trigger_tasks_raw",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TasksToTriggerAfterRecovery")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"1,2,3",...h})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"enable",render:({field:h})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:h.value,onCheckedChange:h.onChange}),e.jsx(U,{className:"text-sm",children:t("Enable")})]})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})},sa=({className:s})=>{const{t:r}=M(),t=bs();return e.jsx(Qs,{defaultValue:t.pathname,className:s,children:e.jsxs($s,{className:"grid w-full grid-cols-2",children:[e.jsx(Ie,{value:"/dashboard/notification",asChild:!0,children:e.jsx(se,{to:"/dashboard/notification",children:r("Notifier")})}),e.jsx(Ie,{value:"/dashboard/alert-rule",asChild:!0,children:e.jsx(se,{to:"/dashboard/alert-rule",children:r("AlertRule")})})]})})};function v2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/alert-rule",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.id},{header:s("Name"),accessorKey:"name",accessorFn:n=>n.name,cell:({row:n})=>{const o=n.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.name})}},{header:s("NotifierGroup"),accessorKey:"ngroup",accessorFn:n=>n.notification_group_id},{header:s("TriggerMode"),accessorKey:"trigger Mode",accessorFn:n=>Cn[n.trigger_mode]||""},{header:s("Rules"),cell:({row:n})=>{const o=n.original;return e.jsx(Ys,{text:JSON.stringify(o.rules)})}},{header:s("TasksToTriggerOnAlert"),accessorKey:"failTriggerTasks",accessorFn:n=>n.fail_trigger_tasks},{header:s("TasksToTriggerAfterRecovery"),accessorKey:"recoverTriggerTasks",accessorFn:n=>n.recover_trigger_tasks},{header:s("Enable"),accessorKey:"enable",accessorFn:n=>n.enable},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:cr,id:o.id,mutate:t},children:e.jsx(lr,{mutate:t,data:o})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx(sa,{className:"flex-1 mr-4 sm:max-w-[40%]"}),e.jsx(Oe,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:cr,id:m.map(n=>n.original.id),mutate:t},children:e.jsx(lr,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const S2=ne({name:w().min(1),url:w().url(),request_method:Z().int().min(1).max(255),request_type:Z().int().min(1).max(255),request_header:w(),request_body:w(),verify_tls:_(V()),skip_check:_(V())}),dr=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(S2),defaultValues:s?{name:s.name??"",url:s.url??"",request_method:s.request_method??1,request_type:s.request_type??1,request_header:s.request_header??"",request_body:s.request_body??"",verify_tls:s.verify_tls??!1,skip_check:s.skip_check??!1}:{name:"",url:"",request_method:1,request_type:1,request_header:"",request_body:"",verify_tls:!1,skip_check:!1},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async d=>{try{s?.id?await oE(s.id,d):await aE(d)}catch(m){console.error(m),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()};return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditNotifier":"CreateNotifier")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"name",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(k,{placeholder:"My Notifier",...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"url",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:"URL"}),e.jsx(j,{children:e.jsx(k,{...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"request_method",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("RequestMethod")}),e.jsxs(te,{onValueChange:d.onChange,defaultValue:`${d.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Request Method"})})}),e.jsx(ee,{children:Object.entries($E).map(([m,n])=>e.jsx(E,{value:m,children:n},m))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"request_type",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Type")}),e.jsxs(te,{onValueChange:d.onChange,defaultValue:`${d.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"Request Type"})})}),e.jsx(ee,{children:Object.entries(TE).map(([m,n])=>e.jsx(E,{value:m,children:n},m))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"request_header",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("RequestHeader")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y",placeholder:'{"User-Agent":"Nezha-Agent"}',...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"request_body",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("RequestBody")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y h-[240px]",placeholder:`{\r
  "content":"#NEZHA#",\r
  "ServerName":"#SERVER.NAME#",\r
  "ServerIP":"#SERVER.IP#",\r
  "ServerIPV4":"#SERVER.IPV4#",\r
  "ServerIPV6":"#SERVER.IPV6#",\r
  "CPU":"#SERVER.CPU#",\r
  "MEM":"#SERVER.MEM#",\r
  "SWAP":"#SERVER.SWAP#",\r
  "DISK":"#SERVER.DISK#",\r
  "NetInSpeed":"#SERVER.NETINSPEED#",\r
  "NetOutSpeed":"#SERVER.NETOUTSPEED#",\r
  "TransferIn":"#SERVER.TRANSFERIN#",\r
  "TranferOut":"#SERVER.TRANSFEROUT#",\r
  "Load1":"#SERVER.LOAD1#",\r
  "Load5":"#SERVER.LOAD5#",\r
  "Load15":"#SERVER.LOAD15#",\r
  "TCP_CONN_COUNT":"#SERVER.TCPCONNCOUNT",\r
  "UDP_CONN_COUNT":"#SERVER.UDPCONNCOUNT"\r
}`,...d})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"verify_tls",render:({field:d})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:d.value,onCheckedChange:d.onChange}),e.jsx(U,{className:"text-sm",children:t("VerifyTLS")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"skip_check",render:({field:d})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:d.value,onCheckedChange:d.onChange}),e.jsx(U,{className:"text-sm",children:t("DoNotSendTestMessage")})]})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function b2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/notification",_e),{notifierGroup:l}=ys();u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const x=[{id:"select",header:({table:o})=>e.jsx(B,{checked:o.getIsAllPageRowsSelected()||o.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:i=>o.toggleAllPageRowsSelected(!!i),"aria-label":"Select all"}),cell:({row:o})=>e.jsx(B,{checked:o.getIsSelected(),onCheckedChange:i=>o.toggleSelected(!!i),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:o=>o.id},{header:s("Name"),accessorKey:"name",accessorFn:o=>o.name,cell:({row:o})=>{const i=o.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:i.name})}},{header:s("Group"),accessorKey:"groups",accessorFn:o=>l?.filter(i=>i.notifications?.includes(o.id)).map(i=>i.group.id)||[]},{header:"URL",accessorKey:"url",accessorFn:o=>o.url,cell:({row:o})=>{const i=o.original;return e.jsx(Ys,{text:i.url})}},{header:s("VerifyTLS"),accessorKey:"verify_tls",accessorFn:o=>o.verify_tls},{id:"actions",header:s("Actions"),cell:({row:o})=>{const i=o.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:Ot,id:i.id,mutate:t},children:e.jsx(dr,{mutate:t,data:i})})}}],d=u.useMemo(()=>r??[],[r]),m=Ae({data:d,columns:x,getCoreRowModel:Ee()}),n=m.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx(sa,{className:"flex-1 mr-4 sm:max-w-[40%]"}),e.jsx(Oe,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:Ot,id:n.map(o=>o.original.id),mutate:t},children:e.jsx(dr,{mutate:t})})]}),e.jsxs(be,{children:[e.jsx(ye,{children:m.getHeaderGroups().map(o=>e.jsx(P,{children:o.headers.map(i=>e.jsx(J,{className:"text-sm",children:i.isPlaceholder?null:W(i.column.columnDef.header,i.getContext())},i.id))},o.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:x.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):m.getRowModel().rows?.length?m.getRowModel().rows.map(o=>e.jsx(P,{"data-state":o.getIsSelected()&&"selected",children:o.getVisibleCells().map(i=>e.jsx(I,{className:"text-xsm",children:W(i.column.columnDef.cell,i.getContext())},i.id))},o.id)):e.jsx(P,{children:e.jsx(I,{colSpan:x.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const ur=async s=>A(R.POST,"/api/v1/online-user/batch-block",s),Xs=({className:s})=>{const{t:r}=M(),{profile:t}=es(),a=t?.role===0;return e.jsx(Qs,{defaultValue:window.location.pathname,className:s,children:e.jsxs($s,{className:"grid w-full grid-cols-5",children:[a&&e.jsxs(e.Fragment,{children:[e.jsx(Ie,{value:"/dashboard/settings",asChild:!0,children:e.jsx(se,{to:"/dashboard/settings",children:r("Settings")})}),e.jsx(Ie,{value:"/dashboard/settings/user",asChild:!0,children:e.jsx(se,{to:"/dashboard/settings/user",children:r("User")})}),e.jsx(Ie,{value:"/dashboard/settings/terminal-audit",asChild:!0,children:e.jsx(se,{to:"/dashboard/settings/terminal-audit",children:"终端审计"})})]}),e.jsx(Ie,{value:"/dashboard/settings/online-user",asChild:!0,children:e.jsx(se,{to:"/dashboard/settings/online-user",children:r("OnlineUser")})}),e.jsx(Ie,{value:"/dashboard/settings/waf",asChild:!0,children:e.jsx(se,{to:"/dashboard/settings/waf",children:r("WAF")})})]})})},Tt=({className:s,...r})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:g("mx-auto flex w-full justify-center",s),...r});Tt.displayName="Pagination";const Dt=u.forwardRef(({className:s,...r},t)=>e.jsx("ul",{ref:t,className:g("flex flex-row items-center gap-1",s),...r}));Dt.displayName="PaginationContent";const Ge=u.forwardRef(({className:s,...r},t)=>e.jsx("li",{ref:t,className:g("",s),...r}));Ge.displayName="PaginationItem";const Ts=({className:s,isActive:r,size:t="icon",...a})=>e.jsx("a",{"aria-current":r?"page":void 0,className:g(Be({variant:r?"outline":"ghost",size:t}),s),...a});Ts.displayName="PaginationLink";const kt=({className:s,...r})=>e.jsxs(Ts,{"aria-label":"Go to previous page",size:"default",className:g("gap-1 pl-2.5",s),...r,children:[e.jsx(Sr,{className:"h-4 w-4"}),e.jsx("span",{children:"Previous"})]});kt.displayName="PaginationPrevious";const Pt=({className:s,...r})=>e.jsxs(Ts,{"aria-label":"Go to next page",size:"default",className:g("gap-1 pr-2.5",s),...r,children:[e.jsx("span",{children:"Next"}),e.jsx(qs,{className:"h-4 w-4"})]});Pt.displayName="PaginationNext";const Rt=({className:s,...r})=>e.jsxs("span",{"aria-hidden":!0,className:g("flex h-9 w-9 items-center justify-center",s),...r,children:[e.jsx(ht,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"More pages"})]});Rt.displayName="PaginationEllipsis";function y2(){const{t:s}=M(),{profile:r}=es(),[t,a]=pr(),c=Number(t.get("page"))||1,l=Number(t.get("pageSize"))||10,x=(c-1)*l,{data:d,mutate:m,error:n,isLoading:o}=pe(`/api/v1/online-user?offset=${x}&limit=${l}`,_e),i=r?.role===0;u.useEffect(()=>{n&&$(s("Error"),{description:s(`Error fetching resource: ${n.message}.`)})},[n]);let h=[{id:"select",header:({table:f})=>e.jsx(B,{checked:f.getIsAllPageRowsSelected()||f.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:p=>f.toggleAllPageRowsSelected(!!p),"aria-label":"Select all"}),cell:({row:f})=>e.jsx(B,{checked:f.getIsSelected(),onCheckedChange:p=>f.toggleSelected(!!p),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"IP",accessorKey:"ip",accessorFn:f=>f.ip??""},{header:s("UserId"),accessorKey:"user_id",accessorFn:f=>f.user_id||""},{header:s("ConnectedAt"),accessorKey:"connected_at",accessorFn:f=>f.connected_at,cell:({row:f})=>{const p=f.original,q=new Date(p.connected_at);return e.jsx("span",{children:q.toISOString()})}},{id:"actions",header:"Actions",cell:({row:f})=>{const p=f.original;return e.jsx(o_,{className:"flex gap-2",block:{fn:ur,id:p.ip??"",mutate:m},children:e.jsx(e.Fragment,{})})}}];i||(h=h.filter(f=>f.id!=="actions"));const b=u.useMemo(()=>d?.value??[],[d]),C=Ae({data:b,columns:h,getCoreRowModel:Ee()}),K=C.getSelectedRowModel().rows,G=()=>{if(!d?.pagination)return null;const{total:f}=d.pagination,p=Math.ceil(f/l),q=z=>{z<1||z>p||a({page:z.toString(),pageSize:l.toString()})},fe=()=>{const z=[];if(p<=5)return Array.from({length:p},(L,D)=>D+1);z.push(1);let we=Math.max(2,c-1),$e=Math.min(p-1,c+1);c<=3?$e=Math.min(4,p-1):c>=p-2&&(we=Math.max(2,p-3)),we>2&&z.push(-1);for(let L=we;L<=$e;L++)z.push(L);return $e<p-1&&z.push(-1),p>1&&z.push(p),z};return e.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s("Total"),": ",f]}),e.jsx(Tt,{children:e.jsxs(Dt,{children:[e.jsx(Ge,{children:e.jsx(kt,{onClick:()=>q(c-1),className:c<=1?"pointer-events-none opacity-50":"cursor-pointer"})}),fe().map((z,Pe)=>z===-1?e.jsx(Ge,{children:e.jsx(Rt,{})},`ellipsis-${Pe}`):e.jsx(Ge,{children:e.jsx(Ts,{onClick:()=>q(z),isActive:z===c,children:z})},z)),e.jsx(Ge,{children:e.jsx(Pt,{onClick:()=>q(c+1),className:c>=p?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})};return e.jsxs("div",{className:"px-3",children:[e.jsx(Xs,{className:"mt-6 w-full"}),e.jsx("div",{className:"flex mt-4 mb-4",children:i&&e.jsx(h_,{className:"flex-2 flex gap-2 ml-auto",block:{fn:ur,id:K.map(f=>f.original.ip??""),mutate:m},children:e.jsx(e.Fragment,{})})}),e.jsxs(be,{children:[e.jsx(ye,{children:C.getHeaderGroups().map(f=>e.jsx(P,{children:f.headers.map(p=>e.jsx(J,{className:"text-sm",children:p.isPlaceholder?null:W(p.column.columnDef.header,p.getContext())},p.id))},f.id))}),e.jsx(Ce,{children:o?e.jsx(P,{children:e.jsxs(I,{colSpan:h.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):C.getRowModel().rows?.length?C.getRowModel().rows.map(f=>e.jsx(P,{"data-state":f.getIsSelected()&&"selected",children:f.getVisibleCells().map(p=>e.jsx(I,{className:"text-xsm",children:W(p.column.columnDef.cell,p.getContext())},p.id))},f.id)):e.jsx(P,{children:e.jsx(I,{colSpan:h.length,className:"h-24 text-center",children:s("NoResults")})})})]}),G()]})}const C2=ne({original_password:w().min(5).max(72),new_password:w().min(8).max(72),new_username:w().min(1).max(32),reject_password:_(V())}),mr=({className:s})=>{const{t:r}=M(),{profile:t,setProfile:a}=cs(),c=Ne({resolver:ve(C2),defaultValues:{original_password:"",new_password:"",new_username:t?.username,reject_password:t?.reject_password},resetOptions:{keepDefaultValues:!1}}),[l,x]=u.useState(!1),d=async m=>{try{await tE(m)}catch(o){console.error(o),$(r("Error"),{description:r("Results.UnExpectedError")});return}const n=await as();a(n),x(!1),c.reset()};return e.jsxs(me,{open:l,onOpenChange:x,children:[e.jsx(xe,{asChild:!0,children:e.jsx(T,{variant:"outline",className:s,children:r("UpdateProfile")})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:r("UpdateProfile")}),e.jsx(ce,{})]}),e.jsx(Se,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-2 my-2",children:[e.jsx(v,{control:c.control,name:"new_username",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:r("NewUsername")}),e.jsx(j,{children:e.jsx(k,{autoComplete:"username",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"original_password",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:r("OriginalPassword")}),e.jsx(j,{children:e.jsx(k,{autoComplete:"current-password",...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"new_password",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:r("NewPassword")}),e.jsx(j,{children:e.jsx(k,{...m})}),e.jsx(S,{})]})}),e.jsx(v,{control:c.control,name:"reject_password",render:({field:m})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:m.value,onCheckedChange:m.onChange}),e.jsx(U,{className:"text-sm",children:r("RejectPassword")})]})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:r("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:r("Confirm")})]})]})})]})})})]})};function w2(){const{profile:s,setProfile:r}=cs(),{servers:t,serverGroups:a}=ds(),{data:c}=Cs(),l=Js("(min-width: 890px)");u.useEffect(()=>{new URLSearchParams(window.location.search).get("oauth2")&&(as().then(n=>{r(n)}),window.history.replaceState({},document.title,window.location.pathname))},[window.location.search]);const x=async m=>{try{const n=await zn(m,wt.BIND);window.location.href=n.redirect}catch(n){$.error(n.message)}},d=async m=>{try{await f_(m);const n=await as();r(n)}catch(n){$.error(n.message)}};return s&&e.jsxs("div",{className:`flex p-8 gap-4 ${l?"ml-6":"flex-col"}`,children:[e.jsxs("div",{className:`flex ${l?"flex-col mr-6":"gap-4 w-full items-center"}`,children:[e.jsxs(Ms,{className:`${l?"h-[300px] w-[300px]":"h-[150px] w-[150px]"} border-foreground border-[1px]`,children:[e.jsx(Us,{src:"https://api.dicebear.com/7.x/notionists/svg?seed="+s.username,alt:s.username}),e.jsx(Bs,{children:s.username})]}),e.jsxs("div",{children:[e.jsx("p",{className:"justify-center text-3xl font-semibold",children:s.username}),e.jsxs("p",{className:"text-gray-400",children:["IP: ",s.login_ip||"Unknown"]})]}),l&&e.jsx(mr,{className:"flex mt-4 justify-center items-center max-w-[300px] rounded-lg"})]}),!l&&e.jsx(mr,{className:"flex justify-center items-center max-w-full rounded-lg"}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs(os,{className:"w-full",children:[e.jsx(Es,{children:e.jsxs(_s,{className:"flex gap-2 text-xl items-center",children:[e.jsx(za,{})," Servers"]})}),e.jsx(is,{className:"text-lg font-semibold",children:t?.length||0})]}),e.jsxs(os,{className:"w-full",children:[e.jsx(Es,{children:e.jsxs(_s,{className:"flex gap-2 text-xl items-center",children:[e.jsx(Lt,{})," Server Groups"]})}),e.jsx(is,{className:"text-lg font-semibold",children:a?.length||0})]}),e.jsxs(os,{className:"w-full",children:[e.jsx(Es,{children:e.jsxs(_s,{className:"flex gap-2 text-xl items-center",children:[e.jsx(Lt,{})," Oauth2 bindings"]})}),e.jsx(is,{className:"text-lg font-semibold",children:c?.config?.oauth2_providers?.map(m=>e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[e.jsxs("section",{className:"flex gap-2 items-center",children:[e.jsxs("p",{children:[m,": "]}),s.oauth2_bind?.[m.toLowerCase()]&&e.jsx("p",{className:" bg-muted px-1.5 py-0.5 text-sm rounded-full",children:s.oauth2_bind?.[m.toLowerCase()]})]}),s.oauth2_bind?.[m.toLowerCase()]?e.jsx(T,{className:"w-fit bg-red-600 hover:bg-red-500 dark:text-white rounded-lg shadow-[inset_0_1px_0_rgba(255,255,255,0.2)] my-1",size:"sm",onClick:()=>d(m),children:"Unbind"}):e.jsx(T,{className:"my-1",size:"sm",onClick:()=>x(m),children:"Bind"})]}))})]})]})})]})}const $2=async s=>A(R.PATCH,"/api/v1/setting",s),T2=ne({dns_servers:_(w()),autossh_host:_(w()),ignored_ip_notification:_(w()),ip_change_notification_group_id:Z().int().min(0),cover:Z().int().min(1),site_name:w().min(1),language:w().min(2),user_template:w().min(1),install_host:_(w()),custom_code:_(w()),custom_code_dashboard:_(w()),web_real_ip_header:_(w()),agent_real_ip_header:_(w()),tls:_(V()),enable_ip_change_notification:_(V()),enable_plain_ip_in_notification:_(V())});function D2(){const{t:s,i18n:r}=M(),{data:t,mutate:a}=Cs(),{profile:c}=es(),l=Vs();c?.role===0||l("/dashboard/settings/online-user");const d=Ne({resolver:ve(T2),defaultValues:t?{...t.config,user_template:t.config?.user_template||Object.keys(t.frontend_templates?.filter(n=>!n.is_admin)||{})[0]||"user-dist"}:{ip_change_notification_group_id:0,cover:1,site_name:"",language:"",user_template:"user-dist"},resetOptions:{keepDefaultValues:!1}});u.useEffect(()=>{t?.config&&d.reset(t?.config)},[t?.config,d]);const m=async n=>{try{await $2(n),d.reset(),await a()}catch(o){$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:o?.toString()})});return}finally{n.language!=r.language&&r.changeLanguage(n.language),$(s("Success"))}};return e.jsxs("div",{className:"px-3",children:[e.jsx(Xs,{className:"mt-6 mb-4 w-full"}),e.jsx("div",{children:e.jsx(Se,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(m),className:"space-y-2 my-2",children:[e.jsx(v,{control:d.control,name:"site_name",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("SiteName")}),e.jsx(j,{children:e.jsx(k,{...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"language",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("Language")}),e.jsx(j,{children:e.jsxs(te,{onValueChange:n.onChange,value:n.value,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{})})}),e.jsx(ee,{children:Object.entries(kE).map(([o,i])=>e.jsx(E,{value:o,children:i},o))})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"user_template",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("Theme")}),e.jsx(j,{children:e.jsxs(te,{value:n.value,onValueChange:o=>{const i=t?.frontend_templates?.find(h=>h.path===o);i&&d.setValue("user_template",i.path)},children:[e.jsx(j,{children:e.jsx(X,{className:"py-8",children:e.jsx(re,{placeholder:s("SelectTheme")})})}),e.jsx(ee,{children:(t?.frontend_templates?.filter(o=>!o.is_admin)||[]).map(o=>e.jsxs("div",{children:[e.jsx(E,{value:o.path,children:e.jsxs("div",{className:"flex flex-col items-start gap-1",children:[e.jsx("div",{className:"font-medium",children:o.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[s("Author"),":"," ",o.author]}),o.is_official?e.jsx("span",{className:"px-1.5 py-0.5 rounded-md bg-blue-100 text-blue-800 text-xs",children:s("Official")}):e.jsx("span",{className:"px-1.5 py-0.5 rounded-md bg-red-100 text-red-800 text-xs",children:s("Community")})]})]})}),e.jsx("div",{className:"px-8 py-1",children:e.jsx("a",{href:o.repository,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:o.repository})})]},o.path))})]})}),e.jsx(S,{}),!t?.frontend_templates?.find(o=>o.path===n.value)?.is_official&&e.jsxs("div",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-200 bg-yellow-100 dark:bg-yellow-900 border border-yellow-200 dark:border-yellow-700 rounded-md p-2",children:[e.jsx("div",{className:"font-medium text-lg mb-1",children:s("CommunityThemeWarning")}),e.jsx("div",{className:"text-yellow-700 dark:text-yellow-200",children:s("CommunityThemeDescription")})]})]})}),e.jsx(v,{control:d.control,name:"custom_code",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("CustomCodes")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y min-h-48",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"custom_code_dashboard",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("CustomCodesDashboard")}),e.jsx(j,{children:e.jsx(ae,{className:"resize-y min-h-48",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"install_host",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("DashboardOriginalHost")}),e.jsx(j,{children:e.jsx(k,{...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"tls",render:({field:n})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:n.value,onCheckedChange:n.onChange}),e.jsx(U,{className:"text-sm",children:s("ConfigTLS")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"dns_servers",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("CustomPublicDNSNameserversforDDNS")+" "+s("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"autossh_host",render:({field:n})=>e.jsxs(N,{children:[e.jsxs(y,{children:[s("AutoSSHServerAddress")," (",s("AutoSSHServerAddressFormat"),")"]}),e.jsx(j,{children:e.jsx(k,{placeholder:"root@156.227.233.135:22",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"web_real_ip_header",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("WebRealIPHeader")}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{disabled:n.value=="NZ::Use-Peer-IP",className:"w-1/2",placeholder:"CF-Connecting-IP",...n}),e.jsx(B,{checked:n.value=="NZ::Use-Peer-IP",className:"ml-2",onCheckedChange:o=>{o?(n.disabled=!0,d.setValue("web_real_ip_header","NZ::Use-Peer-IP")):(n.disabled=!1,d.setValue("web_real_ip_header",""))}}),e.jsx(y,{className:"font-normal ml-2",children:s("UseDirectConnectingIP")})]})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"agent_real_ip_header",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("AgentRealIPHeader")}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{disabled:n.value=="NZ::Use-Peer-IP",className:"w-1/2",placeholder:"CF-Connecting-IP",...n}),e.jsx(B,{checked:n.value=="NZ::Use-Peer-IP",className:"ml-2",onCheckedChange:o=>{o?(n.disabled=!0,d.setValue("agent_real_ip_header","NZ::Use-Peer-IP")):(n.disabled=!1,d.setValue("agent_real_ip_header",""))}}),e.jsx(y,{className:"font-normal ml-2",children:s("UseDirectConnectingIP")})]})}),e.jsx(S,{})]})}),e.jsxs(N,{children:[e.jsx(y,{children:s("IPChangeNotification")}),e.jsx(os,{className:"w-full",children:e.jsx(is,{children:e.jsxs("div",{className:"flex flex-col space-y-4 mt-4",children:[e.jsx(v,{control:d.control,name:"cover",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("Coverage")}),e.jsxs(te,{onValueChange:n.onChange,value:`${n.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{})})}),e.jsx(ee,{children:Object.entries(DE).map(([o,i])=>e.jsx(E,{value:o,children:i},o))})]}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"ignored_ip_notification",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("SpecificServers")+" "+s("SeparateWithComma")}),e.jsx(j,{children:e.jsx(k,{placeholder:"1,2,3",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"ip_change_notification_group_id",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:s("NotifierGroupID")}),e.jsx(j,{children:e.jsx(k,{placeholder:"0",type:"number",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:d.control,name:"enable_ip_change_notification",render:({field:n})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:n.value,onCheckedChange:n.onChange}),e.jsx(U,{className:"text-sm",children:s("Enable")})]})}),e.jsx(S,{})]})})]})})})]}),e.jsx(v,{control:d.control,name:"enable_plain_ip_in_notification",render:({field:n})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{checked:n.value,onCheckedChange:n.onChange}),e.jsx(U,{className:"text-sm",children:s("FullIPNotification")})]})}),e.jsx(S,{})]})}),e.jsx(T,{type:"submit",children:s("Confirm")})]})})})]})}const k2=ne({username:w().min(1),role:je().int().min(0).max(1),password:w().min(8).max(72).optional().or(gn("")),server_ids:De(je()).optional()}),hr=({data:s,mutate:r})=>{const{t}=M(),a=Ne({resolver:ve(k2),defaultValues:s?{username:s.username,role:s.role,password:"",server_ids:s.server_ids||[]}:{username:"",role:1,password:"",server_ids:[]},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async n=>{try{if(s){const o={username:n.username,role:n.role};n.password&&n.password.length>0&&(o.password=n.password),n.server_ids&&(o.server_ids=n.server_ids),await rE(s.id,o)}else{if(!n.password||n.password.length===0){$(t("Error"),{description:t("PasswordRequired")});return}await sE(n)}}catch(o){console.error(o),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await r(),a.reset()},{servers:d}=ds(),m=d?.map(n=>({value:`${n.id}`,label:n.name}))||[];return e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:t(s?"EditUser":"NewUser")}),e.jsx(ce,{})]}),e.jsx(Se,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(v,{control:a.control,name:"username",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Username")}),e.jsx(j,{children:e.jsx(k,{...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"password",render:({field:n})=>e.jsxs(N,{children:[e.jsxs(y,{children:[t("Password"),s&&` (${t("LeaveBlankToKeepCurrent")})`]}),e.jsx(j,{children:e.jsx(k,{type:"password",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"role",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Role")}),e.jsxs(te,{onValueChange:o=>n.onChange(parseInt(o)),defaultValue:n.value.toString(),children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:t("SelectRole")})})}),e.jsxs(ee,{children:[e.jsx(E,{value:"0",children:t("Admin")}),e.jsx(E,{value:"1",children:t("User")})]})]}),e.jsx(S,{})]})}),e.jsx(v,{control:a.control,name:"server_ids",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:t("ServerPermissions")}),e.jsx(j,{children:e.jsx(ms,{options:m,onValueChange:o=>{const i=o.map(Number);n.onChange(i)},defaultValue:n.value?.map(String),placeholder:t("SelectServers")})}),e.jsx(S,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(T,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function P2(){const{t:s}=M(),{data:r,mutate:t,error:a,isLoading:c}=pe("/api/v1/user",_e);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.UnExpectedError",{error:a.message})})},[a]);const l=[{id:"select",header:({table:n})=>e.jsx(B,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>n.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:n})=>e.jsx(B,{checked:n.getIsSelected(),onCheckedChange:o=>n.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:n=>n.id},{header:s("Username"),accessorKey:"username",accessorFn:n=>n.username},{header:s("Role"),accessorKey:"role",accessorFn:n=>n.role===1?s("User"):s("Admin")},{header:s("LastLogin"),accessorKey:"updated_at",accessorFn:n=>n.updated_at?new Date(n.updated_at).toLocaleString():s("Never")},{id:"actions",header:s("Actions"),cell:({row:n})=>{const o=n.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:Ft,id:o.id,mutate:t},children:e.jsx(hr,{data:o,mutate:t})})}}],x=u.useMemo(()=>r??[],[r]),d=Ae({data:x,columns:l,getCoreRowModel:Ee()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsx(Xs,{className:"mt-6 w-full"}),e.jsx("div",{className:"flex mt-4 mb-4",children:e.jsx(Oe,{className:"flex-2 flex gap-2 ml-auto",delete:{fn:Ft,id:m.map(n=>n.original.id),mutate:t},children:e.jsx(hr,{mutate:t})})}),e.jsxs(be,{children:[e.jsx(ye,{children:d.getHeaderGroups().map(n=>e.jsx(P,{children:n.headers.map(o=>e.jsx(J,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(Ce,{children:c?e.jsx(P,{children:e.jsxs(I,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(n=>e.jsx(P,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(o=>e.jsx(I,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(P,{children:e.jsx(I,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const xr=async s=>A(R.POST,"/api/v1/batch-delete/waf",s);function R2(){const{t:s}=M(),{profile:r}=es(),[t,a]=pr(),c=Number(t.get("page"))||1,l=Number(t.get("pageSize"))||10,x=(c-1)*l,{data:d,mutate:m,error:n,isLoading:o}=pe(`/api/v1/waf?offset=${x}&limit=${l}`,_e),i=r?.role===0;u.useEffect(()=>{n&&$(s("Error"),{description:s(`Error fetching resource: ${n.message}.`)})},[n]);let h=[{id:"select",header:({table:f})=>e.jsx(B,{checked:f.getIsAllPageRowsSelected()||f.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:p=>f.toggleAllPageRowsSelected(!!p),"aria-label":"Select all"}),cell:({row:f})=>e.jsx(B,{checked:f.getIsSelected(),onCheckedChange:p=>f.toggleSelected(!!p),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"IP",accessorKey:"ip",accessorFn:f=>f.ip},{header:s("Count"),accessorKey:"count",accessorFn:f=>f.count},{header:s("LastBlockReason"),accessorKey:"lastBlockReason",accessorFn:f=>f.block_reason,cell:({row:f})=>e.jsx("span",{children:PE[f.original.block_reason]||""})},{header:s("BlockIdentifier"),accessorKey:"BlockIdentifier",accessorFn:f=>RE[f.block_identifier]||f.block_identifier},{header:s("LastBlockTime"),accessorKey:"lastBlockTime",accessorFn:f=>f.block_timestamp,cell:({row:f})=>{const p=f.original,q=new Date((p.block_timestamp||0)*1e3);return e.jsx("span",{children:q.toISOString()})}},{id:"actions",header:"Actions",cell:({row:f})=>{const p=f.original;return e.jsx(Fe,{className:"flex gap-2",delete:{fn:xr,id:p.ip||"",mutate:m},children:e.jsx(e.Fragment,{})})}}];i||(h=h.filter(f=>f.id!=="actions"));const b=u.useMemo(()=>d?.value??[],[d]),C=Ae({data:b,columns:h,getCoreRowModel:Ee()}),K=C.getSelectedRowModel().rows,G=()=>{if(!d?.pagination)return null;const{total:f}=d.pagination,p=Math.ceil(f/l),q=z=>{z<1||z>p||a({page:z.toString(),pageSize:l.toString()})},fe=()=>{const z=[];if(p<=5)return Array.from({length:p},(L,D)=>D+1);z.push(1);let we=Math.max(2,c-1),$e=Math.min(p-1,c+1);c<=3?$e=Math.min(4,p-1):c>=p-2&&(we=Math.max(2,p-3)),we>2&&z.push(-1);for(let L=we;L<=$e;L++)z.push(L);return $e<p-1&&z.push(-1),p>1&&z.push(p),z};return e.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s("Total"),": ",f]}),e.jsx(Tt,{children:e.jsxs(Dt,{children:[e.jsx(Ge,{children:e.jsx(kt,{onClick:()=>q(c-1),className:c<=1?"pointer-events-none opacity-50":"cursor-pointer"})}),fe().map((z,Pe)=>z===-1?e.jsx(Ge,{children:e.jsx(Rt,{})},`ellipsis-${Pe}`):e.jsx(Ge,{children:e.jsx(Ts,{onClick:()=>q(z),isActive:z===c,children:z})},z)),e.jsx(Ge,{children:e.jsx(Pt,{onClick:()=>q(c+1),className:c>=p?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})};return e.jsxs("div",{className:"px-3",children:[e.jsx(Xs,{className:"mt-6 w-full"}),e.jsx("div",{className:"flex mt-4 mb-4",children:i&&e.jsx(Oe,{className:"flex-2 flex gap-2 ml-auto",delete:{fn:xr,id:K.map(f=>f.original.ip||""),mutate:m},children:e.jsx(e.Fragment,{})})}),e.jsxs(be,{children:[e.jsx(ye,{children:C.getHeaderGroups().map(f=>e.jsx(P,{children:f.headers.map(p=>e.jsx(J,{className:"text-sm",children:p.isPlaceholder?null:W(p.column.columnDef.header,p.getContext())},p.id))},f.id))}),e.jsx(Ce,{children:o?e.jsx(P,{children:e.jsxs(I,{colSpan:h.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):C.getRowModel().rows?.length?C.getRowModel().rows.map(f=>e.jsx(P,{"data-state":f.getIsSelected()&&"selected",children:f.getVisibleCells().map(p=>e.jsx(I,{className:"text-xsm",children:W(p.column.columnDef.cell,p.getContext())},p.id))},f.id)):e.jsx(P,{children:e.jsx(I,{colSpan:h.length,className:"h-24 text-center",children:s("NoResults")})})})]}),G()]})}const A2=async(s=1,r=20,t,a)=>{const c=new URLSearchParams({page:s.toString(),page_size:r.toString()});return(await A(R.GET,`/api/v1/terminal/sessions?${c.toString()}`)).data},E2=async(s=1,r=50,t)=>{const a=new URLSearchParams({page:s.toString(),page_size:r.toString()});return t&&a.append("session_id",t.toString()),(await A(R.GET,`/api/v1/terminal/commands?${a.toString()}`)).data},_2=async()=>(await A(R.GET,"/api/v1/terminal/blacklist")).data||[],I2=async s=>(await A(R.POST,"/api/v1/terminal/blacklist",s)).data,L2=async(s,r)=>{await A(R.PATCH,`/api/v1/terminal/blacklist/${s}`,r)},F2=async s=>{await A(R.DELETE,`/api/v1/terminal/blacklist/${s}`)},O2=()=>{const[s,r]=u.useState(1),[t,a]=u.useState(null),[c,l]=u.useState(!1),{data:x,error:d,isLoading:m}=pe(["terminal-sessions",s],()=>A2(s,20),{refreshInterval:1e4}),n=C=>{if(C<60)return`${C}秒`;if(C<3600)return`${Math.floor(C/60)}分 ${C%60}秒`;const K=Math.floor(C/3600),G=Math.floor(C%3600/60);return`${K}小时 ${G}分`},o=C=>{a(C),l(!0)};if(m)return e.jsx("div",{className:"text-center py-8",children:"加载中..."});if(d)return e.jsx("div",{className:"text-center py-8 text-red-500",children:"加载数据失败"});const i=x?.sessions||[],h=x?.total||0,b=Math.ceil(h/20);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"rounded-md border",children:e.jsxs(be,{children:[e.jsx(ye,{children:e.jsxs(P,{children:[e.jsx(J,{children:"用户"}),e.jsx(J,{children:"服务器"}),e.jsx(J,{children:"开始时间"}),e.jsx(J,{children:"持续时长"}),e.jsx(J,{children:"命令数"}),e.jsx(J,{children:"状态"}),e.jsx(J,{children:"操作"})]})}),e.jsx(Ce,{children:i.length===0?e.jsx(P,{children:e.jsx(I,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"暂无会话记录"})}):i.map(C=>e.jsxs(P,{children:[e.jsx(I,{className:"font-medium",children:C.username}),e.jsx(I,{children:C.server_name}),e.jsx(I,{children:ot(new Date(C.started_at),"yyyy-MM-dd HH:mm:ss")}),e.jsx(I,{children:n(C.duration)}),e.jsx(I,{children:e.jsx(Re,{variant:"secondary",children:C.command_count})}),e.jsx(I,{children:e.jsxs("div",{className:"flex gap-2",children:[C.ended_at?e.jsx(Re,{variant:"outline",children:"已结束"}):e.jsx(Re,{variant:"default",children:"活跃中"}),C.recording_enabled&&e.jsx(Re,{variant:"secondary",children:"已录像"})]})}),e.jsx(I,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>o(C),children:"查看命令"}),C.recording_enabled&&C.recording_path&&e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>{window.open(`/api/v1/terminal/recording/${C.id}`,"_blank")},children:"下载录像"})]})})]},C.id))})]})}),b>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["第 ",s," 页，共 ",b," 页（总计 ",h," 条）"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"outline",size:"sm",onClick:()=>r(C=>Math.max(1,C-1)),disabled:s===1,children:"上一页"}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>r(C=>Math.min(b,C+1)),disabled:s===b,children:"下一页"})]})]}),e.jsx(M2,{session:t,open:c,onOpenChange:l})]})},M2=({session:s,open:r,onOpenChange:t})=>{const[a,c]=u.useState(1),{data:l,error:x,isLoading:d}=pe(s&&r?["terminal-commands",s.id,a]:null,()=>E2(a,50,s.id));if(!s)return null;const m=l?.commands||[],n=l?.total||0,o=Math.ceil(n/50);return e.jsx(me,{open:r,onOpenChange:t,children:e.jsxs(le,{className:"max-w-4xl",children:[e.jsxs(oe,{children:[e.jsxs(ie,{children:["终端命令 - ",s.username,"@",s.server_name]}),e.jsxs(ce,{children:["会话开始时间: ",ot(new Date(s.started_at),"yyyy-MM-dd HH:mm:ss")]})]}),e.jsx(de,{className:"max-h-[60vh]",children:d?e.jsx("div",{className:"text-center py-8",children:"加载中..."}):x?e.jsx("div",{className:"text-center py-8 text-red-500",children:"加载命令失败"}):m.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"暂无命令记录"}):e.jsx("div",{className:"space-y-2 p-2",children:m.map(i=>e.jsx("div",{className:`p-3 rounded-lg border ${i.blocked?"bg-red-50 border-red-200 dark:bg-red-950/20":"bg-muted/50"}`,children:e.jsx("div",{className:"flex items-start justify-between gap-2",children:e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-sm font-mono bg-background px-2 py-1 rounded",children:i.command}),i.blocked&&e.jsx(Re,{variant:"destructive",className:"text-xs",children:"已拦截"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[e.jsxs("div",{children:["工作目录: ",e.jsx("code",{children:i.working_dir})]}),e.jsxs("div",{children:["执行时间: ",ot(new Date(i.executed_at),"yyyy-MM-dd HH:mm:ss")]}),!i.blocked&&e.jsxs("div",{children:["退出码: ",e.jsx("code",{children:i.exit_code})]}),i.blocked&&i.block_reason&&e.jsxs("div",{className:"text-red-600 dark:text-red-400",children:["拦截原因: ",i.block_reason]})]})]})})},i.id))})}),o>1&&e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["第 ",a," 页，共 ",o," 页"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"outline",size:"sm",onClick:()=>c(i=>Math.max(1,i-1)),disabled:a===1,children:"上一页"}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>c(i=>Math.min(o,i+1)),disabled:a===o,children:"下一页"})]})]})]})})},U2=ne({pattern:w().min(1,"匹配模式不能为空"),description:w().min(1,"描述不能为空"),action:pn(["block","warn","log"]),enabled:V()}),gr=({data:s,mutate:r})=>{const[t,a]=u.useState(!1),[c,l]=u.useState(!1),x=Ne({resolver:ve(U2),defaultValues:s?{pattern:s.pattern,description:s.description,action:s.action,enabled:s.enabled}:{pattern:"",description:"",action:"block",enabled:!0}}),d=async n=>{try{s?.id?(await L2(s.id,n),$.success("成功",{description:"黑名单规则已更新"})):(await I2(n),$.success("成功",{description:"黑名单规则已创建"})),a(!1),r(),x.reset()}catch(o){console.error(o),$.error("错误",{description:"保存黑名单规则失败"})}},m=async()=>{if(s?.id)try{await F2(s.id),$.success("成功",{description:"黑名单规则已删除"}),l(!1),r()}catch(n){console.error(n),$.error("错误",{description:"删除黑名单规则失败"})}};return e.jsxs(e.Fragment,{children:[e.jsxs(me,{open:t,onOpenChange:a,children:[e.jsx(xe,{asChild:!0,children:s?e.jsx(F,{variant:"outline",icon:"edit"}):e.jsx(F,{icon:"plus"})}),e.jsx(le,{className:"sm:max-w-xl",children:e.jsx(de,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(oe,{children:[e.jsx(ie,{children:s?"编辑黑名单规则":"创建黑名单规则"}),e.jsx(ce,{children:"配置命令匹配模式以拦截、警告或记录"})]}),e.jsx(Se,{...x,children:e.jsxs("form",{onSubmit:x.handleSubmit(d),className:"space-y-4 my-4",children:[e.jsx(v,{control:x.control,name:"pattern",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:"匹配模式"}),e.jsx(j,{children:e.jsx(k,{placeholder:"^rm\\s+-rf.*",...n})}),e.jsx(Is,{children:"用于匹配命令的正则表达式"}),e.jsx(S,{})]})}),e.jsx(v,{control:x.control,name:"description",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:"描述"}),e.jsx(j,{children:e.jsx(ae,{placeholder:"描述此规则的作用",...n})}),e.jsx(S,{})]})}),e.jsx(v,{control:x.control,name:"action",render:({field:n})=>e.jsxs(N,{children:[e.jsx(y,{children:"动作"}),e.jsxs(te,{onValueChange:n.onChange,defaultValue:n.value,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(re,{placeholder:"选择动作"})})}),e.jsxs(ee,{children:[e.jsx(E,{value:"block",children:"拦截"}),e.jsx(E,{value:"warn",children:"警告"}),e.jsx(E,{value:"log",children:"仅记录"})]})]}),e.jsx(Is,{children:"拦截：阻止执行，警告：显示警告，仅记录：只记录不阻止"}),e.jsx(S,{})]})}),e.jsx(v,{control:x.control,name:"enabled",render:({field:n})=>e.jsxs(N,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(y,{children:"启用"}),e.jsx(Is,{children:"启用或禁用此规则"})]}),e.jsx(j,{children:e.jsx(js,{checked:n.value,onCheckedChange:n.onChange})})]})}),e.jsxs(he,{children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{variant:"outline",children:"取消"})}),e.jsx(T,{type:"submit",children:"保存"})]})]})})]})})})]}),s&&e.jsxs(me,{open:c,onOpenChange:l,children:[e.jsx(xe,{asChild:!0,children:e.jsx(F,{variant:"outline",icon:"trash"})}),e.jsxs(le,{children:[e.jsxs(oe,{children:[e.jsx(ie,{children:"删除黑名单规则"}),e.jsx(ce,{children:"确定要删除此规则吗？此操作无法撤销。"})]}),e.jsxs(he,{children:[e.jsx(ge,{asChild:!0,children:e.jsx(T,{variant:"outline",children:"取消"})}),e.jsx(T,{variant:"destructive",onClick:m,children:"删除"})]})]})]})]})},B2=()=>{const{data:s,error:r,isLoading:t,mutate:a}=pe("terminal-blacklist",_2),c=x=>{switch(x){case"block":return e.jsx(Re,{variant:"destructive",children:"拦截"});case"warn":return e.jsx(Re,{variant:"default",children:"警告"});case"log":return e.jsx(Re,{variant:"secondary",children:"记录"});default:return e.jsx(Re,{variant:"outline",children:x})}};if(t)return e.jsx("div",{className:"text-center py-8",children:"加载中..."});if(r)return e.jsxs("div",{className:"text-center py-8 text-red-500",children:[e.jsx("div",{children:"加载数据失败"}),e.jsx("div",{className:"text-sm mt-2",children:r.message||"未知错误"})]});const l=s||[];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"命令黑名单规则"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"管理命令匹配模式以拦截、警告或记录"})]}),e.jsx(gr,{mutate:a})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(be,{children:[e.jsx(ye,{children:e.jsxs(P,{children:[e.jsx(J,{children:"匹配模式"}),e.jsx(J,{children:"描述"}),e.jsx(J,{children:"动作"}),e.jsx(J,{children:"状态"}),e.jsx(J,{className:"text-right",children:"操作"})]})}),e.jsx(Ce,{children:l.length===0?e.jsx(P,{children:e.jsx(I,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"暂无黑名单规则"})}):l.map(x=>e.jsxs(P,{children:[e.jsx(I,{children:e.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:x.pattern})}),e.jsx(I,{className:"max-w-md",children:e.jsx("div",{className:"truncate",title:x.description,children:x.description})}),e.jsx(I,{children:c(x.action)}),e.jsx(I,{children:x.enabled?e.jsx(Re,{variant:"default",children:"已启用"}):e.jsx(Re,{variant:"outline",children:"已禁用"})}),e.jsx(I,{className:"text-right",children:e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx(gr,{data:x,mutate:a})})})]},x.id))})]})})]})};function G2(){const[s,r]=u.useState("sessions");return e.jsxs("div",{className:"px-3 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full gap-3 mt-6 mb-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"终端审计"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"监控终端会话并管理命令黑名单"})]})}),e.jsxs(Qs,{value:s,onValueChange:r,className:"w-full",children:[e.jsxs($s,{className:"grid w-full max-w-md grid-cols-2",children:[e.jsx(Ie,{value:"sessions",children:"终端会话"}),e.jsx(Ie,{value:"blacklist",children:"命令黑名单"})]}),e.jsx(lt,{value:"sessions",className:"mt-6",children:e.jsx(O2,{})}),e.jsx(lt,{value:"blacklist",className:"mt-6",children:e.jsx(B2,{})})]})]})}const z2=oa([{path:"/dashboard",element:e.jsx(nE,{children:e.jsx(s_,{children:e.jsx(QE,{})})}),errorElement:e.jsx(e_,{}),children:[{path:"/dashboard/login",element:e.jsx(v_,{})},{path:"/dashboard",element:e.jsx(xs,{withServerGroup:!0,children:e.jsx(Q_,{})})},{path:"/dashboard/service",element:e.jsx(xs,{withServer:!0,children:e.jsx(hs,{withNotifierGroup:!0,children:e.jsx(t2,{})})})},{path:"/dashboard/cron",element:e.jsx(xs,{withServer:!0,children:e.jsx(hs,{withNotifierGroup:!0,children:e.jsx(p_,{})})})},{path:"/dashboard/alert-rule",element:e.jsx(hs,{withNotifierGroup:!0,children:e.jsx(v2,{})})},{path:"/dashboard/ddns",element:e.jsx(i2,{})},{path:"/dashboard/nat",element:e.jsx(u2,{})},{path:"/dashboard/server-group",element:e.jsx(xs,{withServer:!0,children:e.jsx(g2,{})})},{path:"/dashboard/notification-group",element:e.jsx(hs,{withNotifier:!0,children:e.jsx(h2,{})})},{path:"/dashboard/terminal/:id",element:e.jsx(Y_,{})},{path:"/dashboard/notification",element:e.jsx(hs,{withNotifierGroup:!0,children:e.jsx(b2,{})})},{path:"/dashboard/profile",element:e.jsx(xs,{withServer:!0,withServerGroup:!0,children:e.jsx(w2,{})})},{path:"/dashboard/settings",element:e.jsx(D2,{})},{path:"/dashboard/settings/user",element:e.jsx(P2,{})},{path:"/dashboard/settings/waf",element:e.jsx(R2,{})},{path:"/dashboard/settings/online-user",element:e.jsx(y2,{})},{path:"/dashboard/settings/terminal-audit",element:e.jsx(G2,{})}]}]);ia.createRoot(document.getElementById("root")).render(e.jsx(ca,{router:z2}));
