import{r as u,u as Gs,j as e,d as vs,L as Q,O as Zn,e as Qn,N as Xn,f as eo,h as mr,i as so,k as to,l as ro}from"./react-DaKiOxKV.js";import{i as L,a as no,u as F}from"./i18n-CIjymz4X.js";import{i as ot,p as at,j as it,t as $,k as oo,C as zs,m as Me,n as ao,S as io,M as co,D as We,q as es,E as ct,U as lo,r as uo,v as hr,w as mo,B as ho,x as xo,y as go,z as xr,P as po,F as fo,A as jo,T as gr,G as No,H as vo,I as So,J as bo,K as yo,L as Dt,N as kt,O as Pt,Q as Zs,V as Co,W as wo,X as $o,Y as ps,Z as To,_ as je,$ as Do,a0 as ko,a1 as Te,a2 as W,a3 as De,a4 as Rt,a5 as pr,a6 as Po,a7 as fr,a8 as Ro,a9 as Ao,aa as Eo,ab as _o,ac as Io,ad as Lo,ae as Fo,af as Oo,ag as Mo,ah as At}from"./vendor-DQu9Rupt.js";import{m as Qs,u as ke}from"./data-Bp1b3RQS.js";import{t as Uo,e as Bo,S as lt,f as cs,g as jr,h as Nr,i as Go,j as vr,I as Sr,k as br,l as yr,m as Cr,L as wr,n as $r,o as zo,p as Ho,G as Vo,q as Tr,r as Dr,s as kr,v as Pr,V as Rr,w as Ar,x as qo,y as Wo,z as Er,A as _r,F as Ir,B as Lr,E as Ko,H as Fr,J as Jo,K as Or,M as Mr,N as Ur,Q as Yo,U as Zo,W as Br,X as Qo,O as Gr,P as zr,C as Hs,b as dt,T as Hr,D as Vr,R as qr,a as Wr,Y as Kr,Z as Jr,_ as Xo,$ as ea,a0 as Yr,a1 as sa,a2 as Zr,a3 as ta,a4 as Qr,a5 as Xr,a6 as ra,a7 as en,a8 as na,a9 as sn,aa as tn,ab as oa,ac as aa,ad as rn,ae as ia,af as ca,ag as la,ah as nn,ai as da,aj as ua,ak as on,al as an,am as ma,an as cn,ao as ln,ap as dn,aq as ha}from"./ui-C1rhP7Hn.js";import{l as un,u as xa,F as ga,C as pa,o as re,n as Y,b as V,a as fe,c as ue,s as C,d as Ne,e as ve,r as fs,_ as fa}from"./form-7BGPcR-l.js";import"./utils-DoDoqC8P.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const x of l.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function t(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(c){if(c.ep)return;c.ep=!0;const l=t(c);fetch(c.href,l)}})();const ja={dark:"Dunkel",system:"Folgen Sie dem System",light:"Hell"},Na="Benutzername",va="Bitte zuerst einloggen",Sa="Aktuelle Uhrzeit",ba={PasswordRequired:"Passwort kann nicht leer sein.",SelectAtLeastOneServer:"Bitte wählen Sie mindestens einen Server aus.",NoRowsAreSelected:"Keine Zeilen ausgewählt",ThisOperationIsUnrecoverable:"Diese Operation kann nicht rückgängig gemacht werden!",UnExpectedError:"Unerwarteter Fehler, mehr Details in der Konsole.",UsernameMin:"Benutzername muss mindestens {{number}} Zeichen beinhalten.",ErrorFetchingResource:"Fehler beim Abrufen der Ressource: {{error}}",InstallHostRequired:"Die Adresse des Agenten wurde in den Einstellungen nicht gesetzt.",ForceUpdate:"Erzwungenes Upgrade:",TheServerDoesNotOnline:"Der Server existiert nicht oder ist noch nicht verbunden",UnknownIdentifier:"Unbekannte Bezeichnung",TaskTriggeredSuccessfully:"Der wurde erfolgreich ausgelöst"},ya="Server",Ca="Service",wa="Aufgabe",$a="Benachrichtung",Ta="Dynamisches DNS",Da="NAT Traversen",ka="Gruppe",Pa="Ausloggen",Ra="Schließen",Aa="Name",Ea="Version",_a="Unbekannt",Ia="Aktivieren",La="Versteckt von Besuchern",Fa="Anmerkung",Oa="Erfolgreich",Ma="Fehlgeschlagen",Ua="(Getrennt mit Komma)",Ba="Privat",Ga="Senden",za="Ziel",Ha="Deckung",Va="Alles Ignorieren",qa="Typ",Wa="Kennung der Gruppe",Ka="An Trigger",Ja="Bestätigen",Ya={Excludes:"Bestimmte Server ausschließen",Alarmed:"Ausgeführt auf dem Server, der den Alarm ausgelöst hat",Only:"Nur bestimmte Server"},Za="Aktivierung Fehlermitteilung",Qa="Maximale Verzögerung (ms)",Xa="Mindestverzögerung (ms)",ei="Latenzbenachrichtigung einschalten",si="Trigger-Task aktivieren",ti="Cron Expression",ri="Erfolgsmeldung senden",ni="Letzte Ausführung",oi="Ergebnis",ai="Benachrichtigungen",ii="Benachrichtigungsregeln",ci="Auslösemodus",li="Regeln",di="Keine Testnachricht senden",ui="Immer",mi="Anbieter",hi="Domains",xi="Gehe zu",gi="DDNS bearbeiten",pi="DDNS erstellen",fi="Einverständnis",ji="Herunterladen",Ni="Hochladen",vi="NAT-Konfiguration erstellen",Si="Lokaler Service",bi="Server Gruppe bearbeiten",yi="Server Gruppe erstellen",Ci="Web Application Firewall",wi="Seiten Name",$i="Verwenden Sie TLS, um Agenten zu verbinden",Ti="Brute Force Angriffs Token",Di="Brute Force Angriff Agent Geheimnis",ki="Benutzerdefinierter Coder für das Dashboard",Pi="Echter IP-Anfrage-Header des Frontend",Ri="Echter IP-Anfrage-Header des Agent",Ai="Direkte IP-Verbindung verwenden",Ei="IP Änderung Benachrichtigung",_i="Task bearbeiten",Ii="Task erstellen",Li="Notifier erstellen",Fi="Notifier bearbeiten",Oi="Notifier Gruppe erstellen",Mi="Neuer Benutzer",Ui="Letzte Ban Zeit",Bi="Design",Gi="Autor",zi="Offiziell",Hi="Sie verwenden ein Community-Design",Vi="DDNS aktivieren",qi="Push, wenn erfolgreich",Wi="Einmalig",Ki="Alarmregeln erstellen",Ji="Letzter Block Grund",Yi="Aufgaben, die nach der Wiederherstellung ausgelöst werden",Zi="Benutzerdefinierter Code (Style und Skript)",Qi="Löschung bestätigen?",Xi="Passwort",ec="Systemeinstellungen",sc="Alle abdecken",tc="Fertig",rc="Öffentlich",nc="Wählen Sie eine Seite zum Springen",oc="DDNS Profil-IDs",ac="Pfad kopieren",ic="Neuer Benutzername",cc="Notifier Gruppe bearbeiten",lc="Request-Body",dc="Anfrage-Typ",uc="Anmeldung gescheitert",mc="Repository",hc="Community",xc="Abbrechen",gc="Benutzerdefinierte Public DNS Nameserver für DDNS",pc="Alarmregeln bearbeiten",fc="Geplante Aufgaben",jc="TLS verifizieren",Nc="Request Methode",vc="Benutzer",Sc="Nezha Monitoring",bc="Server bearbeiten",yc="Request Header",Cc="Befehl",wc="Installationsbefehl",$c="Aktionen",Tc="Gewicht (je größer die Zahl, desto höher wird es angezeigt)",Dc="Aufgaben, die bei Alarm ausgelöst werden sollen",kc="Benachrichtigungsgruppe",Pc="NAT-Konfiguration bearbeiten",Rc="Bind Domain Name",Ac="Service bearbeiten",Ec="Anzahl",_c="Laden",Ic="Services",Lc="Agent Verbindungsadresse [Domainname/IP:port]",Fc="Navigieren",Oc="Offline",Mc="Intervall",Uc="Profil",Bc="Keine Ergebnisse",Gc="Spezifischer Server",zc="Maximale Zeit für Wiederversuche",Hc="Aktualisieren",Vc="Update Profil",qc="Original-Passwort",Wc="Anmelden",Kc="Neues Passwort",Jc="Pseudo File Manager",Yc="Zeige in Service",Zc="Dieses Design wird von der Community bereitgestellt, Benutzung auf eigene Gefahr",Qc="Sprache",Xc="Vollständige IP-Adresse in Benachrichtigung anzeigen",el="Service erstellen",sl="gRPC-Authentifizierung fehlgeschlagen",tl="API-Token ist ungültig",rl="Blockierungskennung",nl="Verbunden um",ol="Benutzer-ID",al="Gesamt",il="Blockierung bestätigen",cl="Vom Administrator blockiert",ll="Benutzer ist ungültig",dl="Online-Benutzer",ul="Passwort Login verbieten",ml="Du hast noch keine Notizen.",hl="Zurück zur Startseite",xl="Server mit Warnung",gl="Text ist leer",pl={theme:ja,Username:Na,LoginFirst:va,CurrentTime:Sa,Results:ba,Server:ya,Service:Ca,Task:wa,Notification:$a,DDNS:Ta,NATT:Da,Group:ka,Logout:Pa,Close:Ra,Error:"Fehler",Name:Aa,Version:Ea,Unknown:_a,Enable:Ia,HideForGuest:La,Note:Fa,Success:Oa,Failure:Ma,SeparateWithComma:Ua,Private:Ba,Submit:Ga,Target:za,Coverage:Ha,IgnoreAll:Va,Type:qa,NotifierGroupID:Wa,Trigger:Ka,Confirm:Ja,Coverages:Ya,EnableFailureNotification:Za,MaximumLatency:Qa,MinimumLatency:Xa,EnableLatencyNotification:ei,EnableTriggerTask:si,CronExpression:ti,SendSuccessNotification:ri,LastExecution:ni,Result:oi,Notifier:ai,AlertRule:ii,TriggerMode:ci,Rules:li,DoNotSendTestMessage:di,Always:ui,Provider:mi,Domains:hi,Goto:xi,EditDDNS:gi,CreateDDNS:pi,Credential:fi,Downloading:ji,Uploading:Ni,CreateNAT:vi,LocalService:Si,EditServerGroup:bi,CreateServerGroup:yi,WAF:Ci,SiteName:wi,ConfigTLS:$i,BruteForceAttackingToken:Ti,BruteForceAttackingAgentSecret:Di,CustomCodesDashboard:ki,WebRealIPHeader:Pi,AgentRealIPHeader:Ri,UseDirectConnectingIP:Ai,IPChangeNotification:Ei,EditTask:_i,CreateTask:Ii,CreateNotifier:Li,EditNotifier:Fi,CreateNotifierGroup:Oi,NewUser:Mi,LastBlockTime:Ui,Theme:Bi,Author:Gi,Official:zi,CommunityThemeWarning:Hi,EnableDDNS:Vi,PushSuccessful:qi,Once:Wi,CreateAlertRule:Ki,LastBlockReason:Ji,TasksToTriggerAfterRecovery:Yi,CustomCodes:Zi,ConfirmDeletion:Qi,Password:Xi,Settings:ec,CoverAll:sc,Done:tc,Public:rc,SelectAPageToNavigateTo:nc,DDNSProfiles:oc,CopyPath:ac,NewUsername:ic,EditNotifierGroup:cc,RequestBody:lc,RequestType:dc,LoginFailed:uc,Repository:mc,Community:hc,Cancel:xc,CustomPublicDNSNameserversforDDNS:gc,EditAlertRule:pc,Scheduled:fc,VerifyTLS:jc,RequestMethod:Nc,User:vc,nezha:Sc,EditServer:bc,RequestHeader:yc,Command:Cc,InstallCommands:wc,Actions:$c,Weight:Tc,TasksToTriggerOnAlert:Dc,NotifierGroup:kc,EditNAT:Pc,BindHostname:Rc,EditService:Ac,Count:Ec,Loading:_c,Services:Ic,DashboardOriginalHost:Lc,NavigateTo:Fc,Offline:Oc,Interval:Mc,Profile:Uc,NoResults:Bc,SpecificServers:Gc,MaximumRetryAttempts:zc,Refresh:Hc,UpdateProfile:Vc,OriginalPassword:qc,Login:Wc,NewPassword:Kc,FileManager:Jc,ShowInService:Yc,CommunityThemeDescription:Zc,Language:Qc,FullIPNotification:Xc,CreateService:el,GrpcAuthFailed:sl,APITokenInvalid:tl,BlockIdentifier:rl,ConnectedAt:nl,UserId:ol,Total:al,ConfirmBlock:il,BlockByUser:cl,UserInvalid:ll,OnlineUser:dl,RejectPassword:ul,EmptyNote:ml,BackToHome:hl,OnAlert:xl,EmptyText:gl},fl="Nezha Monitoring",jl={light:"Light",dark:"Dark",system:"Follow System"},Nl="Username",vl="Password",Sl="Invalid Username Or Password",bl="Network Error",yl="Please Log in first",Cl="Current Time",wl={UsernameMin:"Username must be at least {{number}} characters.",PasswordRequired:"Password cannot be empty.",ErrorFetchingResource:"Error Fetching Resource : {{error}}",SelectAtLeastOneServer:"Please select at least one server.",UnExpectedError:"Unexpected error, Please see the console for details.",ForceUpdate:"Forced upgrade:",NoRowsAreSelected:"No rows are selected",ThisOperationIsUnrecoverable:"This operation cannot be undone!",TaskTriggeredSuccessfully:"The task triggered successfully",TheServerDoesNotOnline:"The server does not exist or has not been connected yet",InstallHostRequired:"The Agent docking address has not been filled in in the settings.",UnknownIdentifier:"Unknown identifier"},$l="Log in",Tl="Server",Dl="Service",kl="Task",Pl="Notification",Rl="Dynamic DNS",Al="NAT Traversal",El="Group",_l="Profile",Il="System settings",Ll="Back to Home",Fl="Log out",Ol="Navigate to",Ml="Choose a page to jump to",Ul="Close",Bl="Name",Gl="Version",zl="unknown",Hl="Enable",Vl="Hidden from Visitors",ql="Installation command",Wl="Terminal",Kl="Config",Jl="Note",Yl="Success",Zl="Finish",Ql="Offline",Xl="Fail",ed="Loading",sd="No results",td="Actions",rd="Edit Server",nd="Weight (the larger the number, the higher it is displayed)",od="DDNS Profile IDs",ad="(Separate with comma)",id="Public",cd="Private",ld="Submit",dd="Target",ud="Coverage",md="Cover All",hd="Ignore All",xd="Alarmed Servers",gd="Specific server",pd="Type",fd="Interval",jd="Notifier Group ID",Nd="On Trigger",vd="Tasks to be triggered on alert",Sd="Tasks to be triggered after recovery",bd="Add",yd="Delete",Cd="Advanced JSON",wd="Save",$d="Confirm",Td="Confirm Deletion?",Dd="Services",kd="Show in Service",Pd={Excludes:"Excludes Specific Servers",Only:"Only Specific Servers",Alarmed:"Executed on the server that triggered the alarm"},Rd="Enable Failure Notification",Ad="Maximum Delay (ms)",Ed="Minimum Delay (milliseconds)",_d="Enable Latency Notification",Id="Enable Trigger Task",Ld="Cron Expression",Fd="Command",Od="Notifier Group",Md="Send Success Notification",Ud="Last Execution",Bd="Result",Gd="Scheduled Tasks",zd="Notifier",Hd="Alert rules",Vd="Verify TLS",qd="Trigger Mode",Wd="Rules",Kd="Request Method",Jd="Request Header",Yd="Do Not Send Test Message",Zd="Always",Qd="Once",Xd="Provider",eu="Domains",su="Maximum time for retry attempts",tu="Refresh",ru="Copy path",nu="Go to",ou="Update Profile",au="New Username",iu="Original Password",cu="New Password",lu="Edit DDNS",du="Create DDNS",uu="Credential",mu="Request Type",hu="Request Body",xu="Pseudo File Manager",gu="Downloading",pu="Uploading",fu="Edit NAT Configuration",ju="Create NAT Configuration",Nu="Local Service",vu="Bind Domain Name",Su="AutoSSH",bu="Edit AutoSSH Configuration",yu="Add AutoSSH Configuration",Cu="Configure AutoSSH Port Mapping",wu="Mapping Type",$u="Remote Forward (-R)",Tu="Local Forward (-L)",Du="Source Port",ku="Target Host",Pu="Target Port",Ru="Select Server",Au="Running",Eu="Stopped",_u="Error",Iu="Yes",Lu="No",Fu="Edit",Ou="Cancel",Mu="No Data",Uu="Edit Server Group",Bu="Create Server Group",Gu="User",zu="Web Application Firewall",Hu="Site Name",Vu="Agent connecting address [domain name/IP:port]",qu="Use TLS to connect Agent",Wu="Login Failed",Ku="Brute Force Attacking Token",Ju="Brute Force Attacking Agent Secret",Yu="Language",Zu="Custom Codes (Style and Script)",Qu="Custom Codes for Dashboard",Xu="Custom Public DNS Nameservers for DDNS",em="Frontend real IP request header",sm="Agent real IP request header",tm="Use direct connection IP",rm="IP Change Notification",nm="Show Full IP Address in Notification Messages",om="Edit Service",am="Create Service",im="Edit Task",cm="Create Task",lm="Create Notifier",dm="Edit Notifier",um="Edit Alert Rules",mm="Create Alert Rules",hm="Edit Notifier Group",xm="Create Notifier Group",gm="New User",pm="Edit User",fm="Server Permissions",jm="Select Servers",Nm="Leave blank to keep current",vm="Password is required",Sm="AutoSSH Server Address",bm="Format: username@IP:port",ym="Count",Cm="Last Block Reason",wm="Last ban time",$m="Theme",Tm="Author",Dm="Repository",km="Community",Pm="Official",Rm="You are using a community theme",Am="This theme is provided by the community, use at your own risk",Em="Enable DDNS",_m="Push if Successful",Im="gRPC authentication failed",Lm="API token is invalid",Fm="User is invalid",Om="Blocked by admin",Mm="Block identifier",Um="User ID",Bm="Connected at",Gm="Online User",zm="Total",Hm="Confirm Block",Vm="Reject Password Login",qm="Text is empty",Wm="You didn't have any note.",Km="Override DDNS Domains (per configuration)",Jm="Edit Server Config",Ym="Option",Zm="Value",Qm="Preview",Xm={Label:"Public Note",Billing:"Billing",Plan:"Plan",StartDate:"Start Date",EndDate:"End Date",AutoRenewal:"Auto Renewal",Cycle:"Cycle",Amount:"Amount",Bandwidth:"Bandwidth",TrafficVolume:"Traffic Volume",TrafficType:"Traffic Type",IPv4:"IPv4",IPv6:"IPv6",NetworkRoute:"Network Route",Extra:"Extra",Enabled:"Enabled",Disabled:"Disabled",Inbound:"Inbound",Both:"Both",Day:"Day",Week:"Week",Month:"Month",Year:"Year",NoExpiry:"No Expiry",SetNoExpiry:"Set No Expiry",CancelNoExpiry:"Cancel No Expiry",Free:"Free",PayAsYouGo:"Pay as you go",CommaSeparated:"Separate multiple items with commas",Has:"Has",None:"None",CustomFields:"Custom Fields",ClearDate:"Clear Date",Clear:"Clear",RawText:"Raw Text"},eh={InvalidDate:"Invalid date",MustBe0Or1:"Must be 0 or 1",MustBeDayWeekMonthYear:"Must be Day/Week/Month/Year",MustBe1Or2:"Must be 1 or 2",DigitsOnly:"Digits only",InvalidForm:"Invalid form",InvalidJSON:"Invalid JSON"},sh={CoverAllServers:"Monitor all servers",IgnoreAllSelectSpecific:"Ignore all, select specific servers",IgnoreHint:"{{server}} ID: true/false",IgnoreExample:'e.g., {"1": true, "2": false}'},th="Search...",rh="Format",nh="Formatted",oh="Copy",ah="Paste",ih="Copied to clipboard",ch="Clipboard write failed",lh="Pasted from clipboard",dh="Clipboard read failed",uh={nezha:fl,theme:jl,Username:Nl,Password:vl,InvalidUsernameOrPassword:Sl,NetworkError:bl,LoginFirst:yl,CurrentTime:Cl,Results:wl,Login:$l,Server:Tl,Service:Dl,Task:kl,Notification:Pl,DDNS:Rl,NATT:Al,Group:El,Profile:_l,Settings:Il,BackToHome:Ll,Logout:Fl,NavigateTo:Ol,SelectAPageToNavigateTo:Ml,Close:Ul,Error:"Error",Name:Bl,Version:Gl,Unknown:zl,Enable:Hl,HideForGuest:Vl,InstallCommands:ql,Terminal:Wl,Config:Kl,Note:Jl,Success:Yl,Done:Zl,Offline:Ql,Failure:Xl,Loading:ed,NoResults:sd,Actions:td,EditServer:rd,Weight:nd,DDNSProfiles:od,SeparateWithComma:ad,Public:id,Private:cd,Submit:ld,Target:dd,Coverage:ud,CoverAll:md,IgnoreAll:hd,OnAlert:xd,SpecificServers:gd,Type:pd,Interval:fd,NotifierGroupID:jd,Trigger:Nd,TasksToTriggerOnAlert:vd,TasksToTriggerAfterRecovery:Sd,Add:bd,Delete:yd,AdvancedJSON:Cd,Save:wd,Confirm:$d,ConfirmDeletion:Td,Services:Dd,ShowInService:kd,Coverages:Pd,EnableFailureNotification:Rd,MaximumLatency:Ad,MinimumLatency:Ed,EnableLatencyNotification:_d,EnableTriggerTask:Id,CronExpression:Ld,Command:Fd,NotifierGroup:Od,SendSuccessNotification:Md,LastExecution:Ud,Result:Bd,Scheduled:Gd,Notifier:zd,AlertRule:Hd,VerifyTLS:Vd,TriggerMode:qd,Rules:Wd,RequestMethod:Kd,RequestHeader:Jd,DoNotSendTestMessage:Yd,Always:Zd,Once:Qd,Provider:Xd,Domains:eu,MaximumRetryAttempts:su,Refresh:tu,CopyPath:ru,Goto:nu,UpdateProfile:ou,NewUsername:au,OriginalPassword:iu,NewPassword:cu,EditDDNS:lu,CreateDDNS:du,Credential:uu,RequestType:mu,RequestBody:hu,FileManager:xu,Downloading:gu,Uploading:pu,EditNAT:fu,CreateNAT:ju,LocalService:Nu,BindHostname:vu,AutoSSH:Su,EditAutoSSH:bu,AddAutoSSH:yu,ConfigureAutoSSHPortMapping:Cu,MappingType:wu,RemoteForward:$u,LocalForward:Tu,SourcePort:Du,TargetHost:ku,TargetPort:Pu,SelectServer:Ru,running:Au,stopped:Eu,error:_u,Yes:Iu,No:Lu,Edit:Fu,Cancel:Ou,NoData:Mu,EditServerGroup:Uu,CreateServerGroup:Bu,User:Gu,WAF:zu,SiteName:Hu,DashboardOriginalHost:Vu,ConfigTLS:qu,LoginFailed:Wu,BruteForceAttackingToken:Ku,BruteForceAttackingAgentSecret:Ju,Language:Yu,CustomCodes:Zu,CustomCodesDashboard:Qu,CustomPublicDNSNameserversforDDNS:Xu,WebRealIPHeader:em,AgentRealIPHeader:sm,UseDirectConnectingIP:tm,IPChangeNotification:rm,FullIPNotification:nm,EditService:om,CreateService:am,EditTask:im,CreateTask:cm,CreateNotifier:lm,EditNotifier:dm,EditAlertRule:um,CreateAlertRule:mm,EditNotifierGroup:hm,CreateNotifierGroup:xm,NewUser:gm,EditUser:pm,ServerPermissions:fm,SelectServers:jm,LeaveBlankToKeepCurrent:Nm,PasswordRequired:vm,AutoSSHServerAddress:Sm,AutoSSHServerAddressFormat:bm,Count:ym,LastBlockReason:Cm,LastBlockTime:wm,Theme:$m,Author:Tm,Repository:Dm,Community:km,Official:Pm,CommunityThemeWarning:Rm,CommunityThemeDescription:Am,EnableDDNS:Em,PushSuccessful:_m,GrpcAuthFailed:Im,APITokenInvalid:Lm,UserInvalid:Fm,BlockByUser:Om,BlockIdentifier:Mm,UserId:Um,ConnectedAt:Bm,OnlineUser:Gm,Total:zm,ConfirmBlock:Hm,RejectPassword:Vm,EmptyText:qm,EmptyNote:Wm,OverrideDDNSDomains:Km,EditServerConfig:Jm,Option:Ym,Value:Zm,Preview:Qm,PublicNote:Xm,Validation:eh,AlertRules:sh,Search:th,Format:rh,Formatted:nh,Copy:oh,Paste:ah,CopiedToClipboard:ih,ClipboardWriteFailed:ch,PastedFromClipboard:lh,ClipboardReadFailed:dh},mh="Ir a",hh="Actualizar perfil",xh="Nuevo nombre de usuario",gh="Nueva contraseña",ph="Editar DDNS",fh="Pseudo File Manager",jh="Editar configuración NAT",Nh="Editar grupo de servidores",vh={light:"Claro",dark:"Oscuro",system:"Seguir el sistema"},Sh="Hora actual",bh={UsernameMin:"El nombre de usuario debe tener al menos {{number}} caracteres.",PasswordRequired:"La contraseña no puede estar vacía.",ForceUpdate:"Actualización forzada:",TaskTriggeredSuccessfully:"La tarea se activó con éxito",ErrorFetchingResource:"Error al obtener el recurso: {{error}}",UnExpectedError:"Error inesperado. Consulte la consola para más detalles.",NoRowsAreSelected:"No se han seleccionado filas",ThisOperationIsUnrecoverable:"¡Esta operación no se puede deshacer!",TheServerDoesNotOnline:"El servidor no existe o aún no se ha conectado",InstallHostRequired:"La dirección de conexión del Agent no se ha configurado en los ajustes.",SelectAtLeastOneServer:"Por favor, seleccione al menos un servidor.",UnknownIdentifier:"Identificador desconocido"},yh="desconocido",Ch="Peso (cuanto mayor sea el número, más alto se mostrará)",wh="IDs de perfil de DDNS",$h="Objetivo",Th="Tareas que se activarán en caso de alerta",Dh="Servicios",kh="Retraso máximo (ms)",Ph="Servidor",Rh="Confirmar",Ah="Enviar",Eh="Resultado",_h="DNS dinámico",Ih="Fallar",Lh="Contraseña original",Fh="Elija una página para navegar",Oh="Privado",Mh="Reglas de alerta",Uh="Proveedor",Bh="Ajustes del sistema",Gh="Nombre de usuario",zh="Grupo de notificaciones",Hh="Cobertura",Vh="Servicio local",qh="Comando de instalación",Wh="Mostrar en servicio",Kh={Alarmed:"Ejecutado en el servidor que activó la alarma",Excludes:"Excluir servidores específicos",Only:"Solo servidores específicos"},Jh="Finalizar",Yh="Expresión Cron",Zh="Descargando",Qh="Cortafuegos de aplicaciones web",Xh="Nezha Monitoring",ex="Notificación",sx="Tipo",tx="¿Confirmar eliminación?",rx="Por favor, inicie sesión primero",nx="Cerrar",ox="Desconectado",ax="Servidor específico",ix="Última ejecución",cx="Sin resultados",lx="Iniciar sesión",dx="Servicio",ux="Travesía NAT",mx="Siempre",hx="Grupo",xx="Retraso mínimo (milisegundos)",gx="Versión",px="Nota",fx="Perfil",jx="Cerrar sesión",Nx="Acciones",vx="ID del grupo de notificación",Sx="Usuario",bx="Ir a",yx="Habilitar tarea desencadenante",Cx="Nombre",wx="Oculto para visitantes",$x="Éxito",Tx="Cargando",Dx="(Separar con comas)",kx="Cubrir todo",Px="Ignorar todo",Rx="Nombre del sitio",Ax="Intervalo",Ex="Tareas a activar tras la recuperación",_x="Comando",Ix="Enviar notificación de éxito",Lx="Modo de activación",Fx="No enviar mensaje de prueba",Ox="Notificador",Mx="Habilitar notificación de latencia",Ux="Tareas programadas",Bx="Reglas",Gx="Crear grupo de servidores",zx="Vincular nombre de dominio",Hx="Tarea",Vx="Habilitar",qx="Público",Wx="Habilitar notificación de fallos",Kx="Editar servidor",Jx="Contraseña",Yx="Dominios",Zx="Actualizar",Qx="Crear DDNS",Xx="Verificar TLS",eg="Tiempo máximo para intentos de reintento",sg="Copiar ruta",tg="Credencial",rg="Subiendo",ng="Crear configuración NAT",og="Notificación de cambio de IP",ag="Mostrar la dirección IP completa en los mensajes de notificación",ig="Editar servicio",cg="Crear servicio",lg="Editar tarea",dg="Crear tarea",ug="Conectado en",mg="Método de solicitud",hg="Solo una vez",xg="Editar notificador",gg="Editar reglas de alerta",pg="Crear reglas de alerta",fg="Cancelar",jg="Habilitar DDNS",Ng="Enviar si tiene éxito",vg="El usuario no es válido",Sg="Encabezado de solicitud",bg="Inicio de sesión fallido",yg="Token de ataque de fuerza bruta",Cg="Clave secreta del Agent bajo ataque de fuerza bruta",wg="Idioma",$g="Editar grupo de notificaciones",Tg="Crear grupo de notificaciones",Dg="Nuevo usuario",kg="Contar",Pg="Comunidad",Rg="Oficial",Ag="Está utilizando un tema de la comunidad",Eg="Este tema es proporcionado por la comunidad, úselo bajo su propio riesgo",_g="Autenticación gRPC fallida",Ig="El token de la API no es válido",Lg="Bloqueado por el usuario",Fg="Al Activarse",Og="Tipo de solicitud",Mg="Cuerpo de la solicitud",Ug="Dirección de conexión del Agent [nombre de dominio/IP:puerto]",Bg="Usar TLS para conectar el Agent",Gg="Códigos personalizados (Style y Script)",zg="Códigos personalizados para el Dashboard",Hg="Servidores de nombres DNS públicos personalizados para DDNS",Vg="Encabezado de solicitud de IP real del frontend",qg="Encabezado de solicitud de IP real del Agent",Wg="Usar IP de conexión directa",Kg="Crear notificador",Jg="Última razón de bloqueo",Yg="Último tiempo de bloqueo",Zg="Tema",Qg="Autor",Xg="Repositorio",ep="Identificador de bloqueo",sp="ID de usuario",tp="Usuario en línea",rp="Total",np="Confirmar bloqueo",op="Volver al Inicio",ap="Servidores Alarmados",ip="Rechazar contraseña de inicio de sesión",cp="Opción",lp="Valor",dp="Vista previa",up="Sobrescribir dominios DDNS (por configuración)",mp="El texto está vacío",hp="No tenías ninguna nota.",xp="Editar configuración del servidor",gp={Goto:mh,UpdateProfile:hh,NewUsername:xh,NewPassword:gh,EditDDNS:ph,FileManager:fh,EditNAT:jh,EditServerGroup:Nh,theme:vh,CurrentTime:Sh,Results:bh,Unknown:yh,Weight:Ch,DDNSProfiles:wh,Target:$h,TasksToTriggerOnAlert:Th,Services:Dh,MaximumLatency:kh,Server:Ph,Confirm:Rh,Submit:Ah,Result:Eh,DDNS:_h,Failure:Ih,OriginalPassword:Lh,SelectAPageToNavigateTo:Fh,Private:Oh,AlertRule:Mh,Provider:Uh,Settings:Bh,Username:Gh,NotifierGroup:zh,Coverage:Hh,LocalService:Vh,InstallCommands:qh,ShowInService:Wh,Coverages:Kh,Done:Jh,CronExpression:Yh,Downloading:Zh,WAF:Qh,nezha:Xh,Notification:ex,Type:sx,ConfirmDeletion:tx,LoginFirst:rx,Close:nx,Offline:ox,SpecificServers:ax,LastExecution:ix,NoResults:cx,Login:lx,Service:dx,NATT:ux,Always:mx,Group:hx,MinimumLatency:xx,Version:gx,Note:px,Profile:fx,Logout:jx,Actions:Nx,NotifierGroupID:vx,User:Sx,NavigateTo:bx,Error:"Error",EnableTriggerTask:yx,Name:Cx,HideForGuest:wx,Success:$x,Loading:Tx,SeparateWithComma:Dx,CoverAll:kx,IgnoreAll:Px,SiteName:Rx,Interval:Ax,TasksToTriggerAfterRecovery:Ex,Command:_x,SendSuccessNotification:Ix,TriggerMode:Lx,DoNotSendTestMessage:Fx,Notifier:Ox,EnableLatencyNotification:Mx,Scheduled:Ux,Rules:Bx,CreateServerGroup:Gx,BindHostname:zx,Task:Hx,Enable:Vx,Public:qx,EnableFailureNotification:Wx,EditServer:Kx,Password:Jx,Domains:Yx,Refresh:Zx,CreateDDNS:Qx,VerifyTLS:Xx,MaximumRetryAttempts:eg,CopyPath:sg,Credential:tg,Uploading:rg,CreateNAT:ng,IPChangeNotification:og,FullIPNotification:ag,EditService:ig,CreateService:cg,EditTask:lg,CreateTask:dg,ConnectedAt:ug,RequestMethod:mg,Once:hg,EditNotifier:xg,EditAlertRule:gg,CreateAlertRule:pg,Cancel:fg,EnableDDNS:jg,PushSuccessful:Ng,UserInvalid:vg,RequestHeader:Sg,LoginFailed:bg,BruteForceAttackingToken:yg,BruteForceAttackingAgentSecret:Cg,Language:wg,EditNotifierGroup:$g,CreateNotifierGroup:Tg,NewUser:Dg,Count:kg,Community:Pg,Official:Rg,CommunityThemeWarning:Ag,CommunityThemeDescription:Eg,GrpcAuthFailed:_g,APITokenInvalid:Ig,BlockByUser:Lg,Trigger:Fg,RequestType:Og,RequestBody:Mg,DashboardOriginalHost:Ug,ConfigTLS:Bg,CustomCodes:Gg,CustomCodesDashboard:zg,CustomPublicDNSNameserversforDDNS:Hg,WebRealIPHeader:Vg,AgentRealIPHeader:qg,UseDirectConnectingIP:Wg,CreateNotifier:Kg,LastBlockReason:Jg,LastBlockTime:Yg,Theme:Zg,Author:Qg,Repository:Xg,BlockIdentifier:ep,UserId:sp,OnlineUser:tp,Total:rp,ConfirmBlock:np,BackToHome:op,OnAlert:ap,RejectPassword:ip,Option:cp,Value:lp,Preview:dp,OverrideDDNSDomains:up,EmptyText:mp,EmptyNote:hp,EditServerConfig:xp},pp={light:"Clair",dark:"Sombre",system:"Suivre le système"},fp="Nom d’utilisateur",jp="Mot de passe",Np="Heure actuelle",vp={UsernameMin:"Le nom d’utilisateur doit comporter au moins {{number}} caractères.",PasswordRequired:"Le mot de passe ne peut pas être vide.",SelectAtLeastOneServer:"Veuillez sélectionner au moins un serveur.",UnExpectedError:"Erreur inattendue, veuillez consulter la console pour avoir plus de détails.",ForceUpdate:"Mise à jour forcée :",NoRowsAreSelected:"Aucune ligne n’a été sélectionnée",ThisOperationIsUnrecoverable:"Cette opération ne peut pas être annulée !",TheServerDoesNotOnline:"Le serveur n’existe pas ou n’a pas encore été connecté",UnknownIdentifier:"Identifiant inconnu"},Sp="Se connecter",bp="Serveur",yp="Service",Cp="Tâche",wp="Notification",$p="DNS dynamique",Tp="NAT traversal",Dp="Groupe",kp="Profil",Pp="Paramètres système",Rp="Retourner à l’accueil",Ap="Se déconnecter",Ep="Naviguer vers",_p="Fermer",Ip="Nom",Lp="Version",Fp="inconnu",Op="Activer",Mp="Caché des visiteurs",Up="Commande d’installation",Bp="Note",Gp="Succès",zp="Terminé",Hp="Hors-ligne",Vp="Échoué",qp="Chargement",Wp="Pas de résultats",Kp="Actions",Jp="Modifier le serveur",Yp="(Séparé par des virgules)",Zp="Publique",Qp="Privée",Xp="Envoyer",ef="Tout ignorer",sf="Veuillez d’abord vous connecter",tf="ID de profil DDNS",rf="Cible",nf="Serveur spécifique",of="Type",af="Intervalle",cf="Tâches à déclencher en cas d’alerte",lf="Tâches à déclencher après la récupération",df="Confirmer",uf="Confirmer la suppression ?",mf="Services",hf="Montrer en service",xf="Délai maximum (ms)",gf="Délai minimum (millisecondes)",pf="Commande",ff="Dernière exécution",jf="Résultat",Nf="Tâches planifiées",vf="Règles d’alerte",Sf="Règles",bf="Ne pas envoyer de message de test",yf="Toujours",Cf="Domaines",wf="Rafraîchir",$f="Copier le chemin",Tf="Nouveau nom d’utilisateur",Df="Mot de passe d’origine",kf="Nouveau mot de passe",Pf="Éditer le DNS dynamique",Rf="Utilisateur",Af="Nom du site",Ef="Langage",_f="Thème",If="Auteur",Lf="Communauté",Ff="Annuler",Of="L’utilisateur est invalide",Mf="Bloqué par un administrateur",Uf="Utilisateur en ligne",Bf="ID utilisateur",Gf={theme:pp,Username:fp,Password:jp,CurrentTime:Np,Results:vp,Login:Sp,Server:bp,Service:yp,Task:Cp,Notification:wp,DDNS:$p,NATT:Tp,Group:Dp,Profile:kp,Settings:Pp,BackToHome:Rp,Logout:Ap,NavigateTo:Ep,Close:_p,Error:"Erreur",Name:Ip,Version:Lp,Unknown:Fp,Enable:Op,HideForGuest:Mp,InstallCommands:Up,Note:Bp,Success:Gp,Done:zp,Offline:Hp,Failure:Vp,Loading:qp,NoResults:Wp,Actions:Kp,EditServer:Jp,SeparateWithComma:Yp,Public:Zp,Private:Qp,Submit:Xp,IgnoreAll:ef,LoginFirst:sf,DDNSProfiles:tf,Target:rf,SpecificServers:nf,Type:of,Interval:af,TasksToTriggerOnAlert:cf,TasksToTriggerAfterRecovery:lf,Confirm:df,ConfirmDeletion:uf,Services:mf,ShowInService:hf,MaximumLatency:xf,MinimumLatency:gf,Command:pf,LastExecution:ff,Result:jf,Scheduled:Nf,AlertRule:vf,Rules:Sf,DoNotSendTestMessage:bf,Always:yf,Domains:Cf,Refresh:wf,CopyPath:$f,NewUsername:Tf,OriginalPassword:Df,NewPassword:kf,EditDDNS:Pf,User:Rf,SiteName:Af,Language:Ef,Theme:_f,Author:If,Community:Lf,Cancel:Ff,UserInvalid:Of,BlockByUser:Mf,OnlineUser:Uf,UserId:Bf},zf="Monitor Nezha",Hf={light:"Terang",dark:"Gelap",system:"Mengikuti sistem"},Vf="Nama Pengguna",qf="Kata Sandi",Wf="Mohon masuk terlebih dahulu",Kf="Waktu saat ini",Jf={UsernameMin:"Nama Pengguna setidak nya harus {{number}} karakter.",PasswordRequired:"Kata Sandi tidak boleh kosong.",ErrorFetchingResource:"Kesalahan mengambil sumber daya: {{error}}",SelectAtLeastOneServer:"Silahkan pilih setidaknya satu server.",UnExpectedError:"Kesalahan tidak terduga, Silahhkan lihat konsol untuk detailnya.",ForceUpdate:"Peningkatan Paksa:",NoRowsAreSelected:"Tidak ada baris yang dipilih",ThisOperationIsUnrecoverable:"Operasi tidak dapat dibatalkan!",TaskTriggeredSuccessfully:"Tugas berhasil dipicu",TheServerDoesNotOnline:"Server tidak ada atau masih belum terhubung"},Yf={nezha:zf,theme:Hf,Username:Vf,Password:qf,LoginFirst:Wf,CurrentTime:Kf,Results:Jf},Zf="Monitoraggio Nezha",Qf={light:"Chiaro",dark:"Scuro",system:"Segui il sistema"},Xf="Nome utente",ej="Password",sj="Effettua prima il login",tj="Ora attuale",rj={UsernameMin:"Il nome utente deve contenere almeno {{number}} caratteri.",PasswordRequired:"La password non può essere vuota.",ErrorFetchingResource:"Errore nel recupero della risorsa: {{error}}",SelectAtLeastOneServer:"Seleziona almeno un server.",UnExpectedError:"Errore imprevisto. Controlla la console per i dettagli.",ForceUpdate:"Aggiornamento forzato:",NoRowsAreSelected:"Nessuna riga selezionata",ThisOperationIsUnrecoverable:"Questa operazione non può essere annullata!",TaskTriggeredSuccessfully:"Attività avviata correttamente",TheServerDoesNotOnline:"Il server non esiste o non è stato ancora connesso",InstallHostRequired:"L'indirizzo di aggancio dell'Agent non è stato inserito nelle impostazioni.",UnknownIdentifier:"identificatore sconosciuto"},nj="Accedi",oj="Server",aj="Servizio",ij="Compito",cj="Notifica",lj="DNS Dinamico",dj="Traversata NAT",uj="Gruppo",mj="Informazioni personali",hj="Impostazioni di sistema",xj="Esci",gj="Vai a",pj="Scegli una pagina da visitare",fj="Chiudi",jj="Nome",Nj="Versione",vj="Sconosciuto",Sj="Abilita",bj="Nascosto ai visitatori",yj="Comando di installazione",Cj="Osservazione",wj="Successo",$j="Fine",Tj="Non in linea",Dj="Fallire",kj="Caricamento",Pj="Nessun contenuto",Rj="Azione",Aj="Modifica server",Ej="Peso (più grande è il numero, più alto sarà visualizzato)",_j="ID profilo DDNS",Ij="(separati da virgole)",Lj="Pubblico",Fj="Privato",Oj="Invia",Mj="Bersaglio",Uj="Copertura",Bj="Copri tutto",Gj="Ignorare tutto",zj="Server specifico",Hj="Tipo",Vj="Intervallo",qj="ID del gruppo di notifiche",Wj="Grilletto",Kj="Attività da attivare in caso di allarme",Jj="Attività da attivare dopo il ripristino",Yj="Confermo",Zj="Confermi l'eliminazione?",Qj="Servizi",Xj="Mostra in servizio",eN={Only:"Solo server specifici",Excludes:"Escludi server specifici",Alarmed:"Eseguito sul server che ha attivato l'allarme"},sN="Abilita la notifica di errore",tN="Tempo di ritardo massimo (millisecondi)",rN="Tempo di ritardo minimo (millisecondi)",nN="Abilita le notifiche ritardate",oN="Abilita attività di attivazione",aN="Espressione cron",iN="Ordine",cN="Gruppo di notifica",lN="Invia notifica di successo",dN="Ultimo giustiziato",uN="Risultato",mN="Attività pianificate",hN="Notifica",xN="Regole di allerta",gN="Verifica TLS",pN="Modalità di attivazione",fN="Regola",jN="Metodo di richiesta",NN="Intestazione della richiesta",vN="Non inviare messaggi di prova",SN="Sempre",bN="Solo una volta",yN="Fornitore",CN="Nome di dominio",wN="Numero massimo di tentativi",$N="aggiornare",TN="Percorso di copia",DN="Vai a",kN="Aggiorna il profilo",PN="Nuovo nome utente",RN="Password originale",AN="Nuova parola d'ordine",EN="Modifica DDNS",_N="Crea DDNS",IN="Credenziale",LN="Tipo di richiesta",FN="Richiedi corpo",ON="Pseudo File Manager",MN="Download in corso",UN="Caricamento",BN="Modifica configurazione NAT",GN="Crea configurazione NAT",zN="servizio locale",HN="Associa il nome di dominio",VN="Modifica gruppo di server",qN="Crea gruppo di server",WN="Servizi di editing",KN="Crea servizio",JN="Modifica attività",YN="Crea attività",ZN="Crea notifica",QN="Modifica notifica",XN="Modifica le regole degli allarmi",ev="Crea regole di avviso",sv="Modifica gruppo di notifiche",tv="Crea gruppo di notifica",rv="Utente",nv="Firewall dell'applicazione Web",ov="Nome del sito",av="Lingua",iv="Codice personalizzato (stili e script)",cv="Codice personalizzato per dashboard",lv="Indirizzo di ancoraggio dell'agente [nome dominio/IP:porta]",dv="Usa TLS per connettere Agent",uv="Server dei nomi DNS pubblici personalizzati per DDNS",mv="Intestazione della richiesta IP reale del frontend",hv="Intestazione della richiesta IP reale dell’agente",xv="Utilizzare l'IP di connessione diretta",gv="Notifica di modifica IP",pv="Mostra l'indirizzo IP completo nei messaggi di notifica",fv="Accesso non riuscito",jv="Segnalino di attacco di forza bruta",Nv="Segreti proxy dell'attacco di forza bruta",vv="Nuovo utente",Sv="Contare",bv="Motivo dell'ultimo divieto",yv="L'ultima volta che è stato vietato",Cv="Tema",wv="Autore",$v="Repository",Tv="Comunità",Dv="Ufficiale",kv="Questo tema appartiene alla comunità",Pv="Questo tema viene fornito dalla comunità, utilizzalo a tuo rischio e pericolo",Rv="Annulla",Av="Abilita DDNS",Ev="Esegui il push se ha successo",_v="Autenticazione gRPC fallita",Iv="Il token API non è valido",Lv="L'utente non è valido",Fv="Bloccato dall'amministratore",Ov="Totale",Mv="Conferma blocco",Uv="Utente online",Bv="Identificatore del blocco",Gv="ID utente",zv="Connesso alle",Hv={nezha:Zf,theme:Qf,Username:Xf,Password:ej,LoginFirst:sj,CurrentTime:tj,Results:rj,Login:nj,Server:oj,Service:aj,Task:ij,Notification:cj,DDNS:lj,NATT:dj,Group:uj,Profile:mj,Settings:hj,Logout:xj,NavigateTo:gj,SelectAPageToNavigateTo:pj,Close:fj,Error:"Errore",Name:jj,Version:Nj,Unknown:vj,Enable:Sj,HideForGuest:bj,InstallCommands:yj,Note:Cj,Success:wj,Done:$j,Offline:Tj,Failure:Dj,Loading:kj,NoResults:Pj,Actions:Rj,EditServer:Aj,Weight:Ej,DDNSProfiles:_j,SeparateWithComma:Ij,Public:Lj,Private:Fj,Submit:Oj,Target:Mj,Coverage:Uj,CoverAll:Bj,IgnoreAll:Gj,SpecificServers:zj,Type:Hj,Interval:Vj,NotifierGroupID:qj,Trigger:Wj,TasksToTriggerOnAlert:Kj,TasksToTriggerAfterRecovery:Jj,Confirm:Yj,ConfirmDeletion:Zj,Services:Qj,ShowInService:Xj,Coverages:eN,EnableFailureNotification:sN,MaximumLatency:tN,MinimumLatency:rN,EnableLatencyNotification:nN,EnableTriggerTask:oN,CronExpression:aN,Command:iN,NotifierGroup:cN,SendSuccessNotification:lN,LastExecution:dN,Result:uN,Scheduled:mN,Notifier:hN,AlertRule:xN,VerifyTLS:gN,TriggerMode:pN,Rules:fN,RequestMethod:jN,RequestHeader:NN,DoNotSendTestMessage:vN,Always:SN,Once:bN,Provider:yN,Domains:CN,MaximumRetryAttempts:wN,Refresh:$N,CopyPath:TN,Goto:DN,UpdateProfile:kN,NewUsername:PN,OriginalPassword:RN,NewPassword:AN,EditDDNS:EN,CreateDDNS:_N,Credential:IN,RequestType:LN,RequestBody:FN,FileManager:ON,Downloading:MN,Uploading:UN,EditNAT:BN,CreateNAT:GN,LocalService:zN,BindHostname:HN,EditServerGroup:VN,CreateServerGroup:qN,EditService:WN,CreateService:KN,EditTask:JN,CreateTask:YN,CreateNotifier:ZN,EditNotifier:QN,EditAlertRule:XN,CreateAlertRule:ev,EditNotifierGroup:sv,CreateNotifierGroup:tv,User:rv,WAF:nv,SiteName:ov,Language:av,CustomCodes:iv,CustomCodesDashboard:cv,DashboardOriginalHost:lv,ConfigTLS:dv,CustomPublicDNSNameserversforDDNS:uv,WebRealIPHeader:mv,AgentRealIPHeader:hv,UseDirectConnectingIP:xv,IPChangeNotification:gv,FullIPNotification:pv,LoginFailed:fv,BruteForceAttackingToken:jv,BruteForceAttackingAgentSecret:Nv,NewUser:vv,Count:Sv,LastBlockReason:bv,LastBlockTime:yv,Theme:Cv,Author:wv,Repository:$v,Community:Tv,Official:Dv,CommunityThemeWarning:kv,CommunityThemeDescription:Pv,Cancel:Rv,EnableDDNS:Av,PushSuccessful:Ev,GrpcAuthFailed:_v,APITokenInvalid:Iv,UserInvalid:Lv,BlockByUser:Fv,Total:Ov,ConfirmBlock:Mv,OnlineUser:Uv,BlockIdentifier:Bv,UserId:Gv,ConnectedAt:zv},Vv="Закрыть",qv="Максимальная задержка (мс)",Wv={dark:"Темная тема",light:"Светлая тема",system:"Как в Системе"},Kv={Alarmed:"Выполняется на сервере, вызвавшем тревогу",Excludes:"Исключить определённые серверы",Only:"Только определённые серверы"},Jv="Недействительный API-токен",Yv="Неизвестно",Zv="Токен для защиты от брутфорса",Qv="Новое имя пользователя",Xv={ForceUpdate:"Принудительное обновление:",UsernameMin:"Имя пользователя должно содержать не менее {{number}} символов.",TheServerDoesNotOnline:"Сервер не существует или еще не подключен",PasswordRequired:"Пароль не может быть пустым.",ErrorFetchingResource:"Ошибка при получении ресурса: {{error}}",SelectAtLeastOneServer:"Выберите хотя бы один сервер.",UnExpectedError:"Непредвиденная ошибка. Подробности в консоли.",ThisOperationIsUnrecoverable:"Эту операцию нельзя отменить!",TaskTriggeredSuccessfully:"Задача успешно запущена",UnknownIdentifier:"Неизвестный идентификатор",NoRowsAreSelected:"Не выбраны строки",InstallHostRequired:"В настройках не указан адрес подключения агента."},eS="Провайдер",sS="Системные настройки",tS="Готово",rS="(Разделяйте запятой)",nS="Перейти к",oS="Время последнего бана",aS="Группа уведомлений",iS="Использовать IP для прямого подключения",cS="Обновить",lS="Группа",dS="Учетные данные",uS="Эта тема предоставлена сообществом, используйте на свой страх и риск",mS="Адрес подключения агента [домен/IP:порт]",hS="Режим срабатывания",xS="Один раз",gS="Включить уведомления о задержке",pS="Домены",fS="Редактировать задачу",jS="Создать задачу",NS="Обход NAT",vS="Пожалуйста, сначала войдите в систему",SS="Заголовок запроса",bS="Ничего не найдено",yS="Сервисы",CS="Выйти",wS="При срабатывании",$S="Редактировать правила оповещений",TS="Недействительный пользователь",DS="Количество",kS="Привязать доменное имя",PS="Вы используете тему от сообщества",RS="Имя пользователя",AS="Пароль",ES="Текущее время",_S="Сервер",IS="Динамический DNS",LS="Профиль",FS="Вернуться на главную",OS="Название",MS="Включить",US="Скрыто для гостей",BS="Заметка",GS="Успешно",zS="Оффлайн",HS="Неудача",VS="Действия",qS="Вес (чем больше число, тем выше в списке)",WS="ID профилей DDNS",KS="Цель",JS="Охват",YS="Охватить всё",ZS="Игнорировать всё",QS="Серверы с тревогами",XS="Конкретный сервер",eb="Тип",sb="Интервал",tb="ID группы уведомлений",rb="Задачи, запускаемые при тревоге",nb="Минимальная задержка (мс)",ob="Cron-выражение",ab="Команда",ib="Последний запуск",cb="Отправлять уведомление при успехе",lb="Результат",db="Уведомитель",ub="Правила тревог",mb="Правила",hb="Метод запроса",xb="Не отправлять тестовое сообщение",gb="Всегда",pb="Максимальное время для повторных попыток",fb="Копировать путь",jb="Перейти",Nb="Обновить профиль",vb="Новый пароль",Sb="Редактировать DDNS",bb="Создать DDNS",yb="Тип запроса",Cb="Тело запроса",wb="Псевдофайловый менеджер",$b="Скачивание",Tb="Загрузка",Db="Редактировать NAT-конфигурацию",kb="Редактировать группу серверов",Pb="Создать группу серверов",Rb="Пользователь",Ab="Имя Сайта",Eb="Использовать TLS для подключения агента",_b="Ошибка входа",Ib="Секрет агента для защиты от брутфорса",Lb="Пользовательский код для панели управления",Fb="Пользовательские публичные DNS-серверы для DDNS",Ob="Заголовок запроса с реальным IP от frontend",Mb="Заголовок запроса с реальным IP от агента",Ub="Показывать полный IP-адрес в уведомлениях",Bb="Редактировать сервис",Gb="Создать сервис",zb="Создать уведомитель",Hb="Редактировать уведомитель",Vb="Редактировать группу уведомителей",qb="Создать группу уведомителей",Wb="Тема",Kb="Автор",Jb="Репозиторий",Yb="Сообщество",Zb="Официальный",Qb="Отмена",Xb="Включить DDNS",ey="Отправлять при успешном выполнении",sy="Ошибка аутентификации gRPC",ty="Заблокирован администратором",ry="Идентификатор блокировки",ny="Подключен в",oy="Пользователь в сети",ay="Всего",iy="Подтвердить блокировку",cy="Отклонить вход по паролю",ly="Текст отсутствует",dy="Переопределение доменов DDNS (по настройкам)",uy="Редактировать конфигурацию сервера",my="Опция",hy="Значение",xy="Предпросмотр",gy="Nezha Monitoring",py="Пользовательский код (стили и скрипты)",fy="Локальный сервис",jy="Войти",Ny="Сервис",vy="Задача",Sy="Причина последней блокировки",by="У вас нет заметок.",yy="Уведомление",Cy="Выберите страницу для перехода",wy="Версия",$y="Команда установки",Ty="Загрузка",Dy="Редактировать сервер",ky="Публичный",Py="Приватный",Ry="Отправить",Ay="Задачи, запускаемые после восстановления",Ey="Подтвердить",_y="Включить задачу-триггер",Iy="Язык",Ly="Подтвердить удаление?",Fy="Старый пароль",Oy="Показывать в Сервисе",My="Включить уведомления об ошибках",Uy="Создать NAT-конфигурацию",By="Запланированные задачи",Gy="Файрвол (WAF)",zy="Проверка TLS",Hy="Уведомление об изменении IP",Vy="Создать правила оповещений",qy="ID пользователя",Wy="Новый пользователь",Ky={Close:Vv,MaximumLatency:qv,theme:Wv,Coverages:Kv,APITokenInvalid:Jv,Unknown:Yv,BruteForceAttackingToken:Zv,NewUsername:Qv,Results:Xv,Provider:eS,Settings:sS,Done:tS,SeparateWithComma:rS,NavigateTo:nS,LastBlockTime:oS,NotifierGroup:aS,UseDirectConnectingIP:iS,Refresh:cS,Group:lS,Credential:dS,CommunityThemeDescription:uS,DashboardOriginalHost:mS,Error:"Ошибка",TriggerMode:hS,Once:xS,EnableLatencyNotification:gS,Domains:pS,EditTask:fS,CreateTask:jS,NATT:NS,LoginFirst:vS,RequestHeader:SS,NoResults:bS,Services:yS,Logout:CS,Trigger:wS,EditAlertRule:$S,UserInvalid:TS,Count:DS,BindHostname:kS,CommunityThemeWarning:PS,Username:RS,Password:AS,CurrentTime:ES,Server:_S,DDNS:IS,Profile:LS,BackToHome:FS,Name:OS,Enable:MS,HideForGuest:US,Note:BS,Success:GS,Offline:zS,Failure:HS,Actions:VS,Weight:qS,DDNSProfiles:WS,Target:KS,Coverage:JS,CoverAll:YS,IgnoreAll:ZS,OnAlert:QS,SpecificServers:XS,Type:eb,Interval:sb,NotifierGroupID:tb,TasksToTriggerOnAlert:rb,MinimumLatency:nb,CronExpression:ob,Command:ab,LastExecution:ib,SendSuccessNotification:cb,Result:lb,Notifier:db,AlertRule:ub,Rules:mb,RequestMethod:hb,DoNotSendTestMessage:xb,Always:gb,MaximumRetryAttempts:pb,CopyPath:fb,Goto:jb,UpdateProfile:Nb,NewPassword:vb,EditDDNS:Sb,CreateDDNS:bb,RequestType:yb,RequestBody:Cb,FileManager:wb,Downloading:$b,Uploading:Tb,EditNAT:Db,EditServerGroup:kb,CreateServerGroup:Pb,User:Rb,SiteName:Ab,ConfigTLS:Eb,LoginFailed:_b,BruteForceAttackingAgentSecret:Ib,CustomCodesDashboard:Lb,CustomPublicDNSNameserversforDDNS:Fb,WebRealIPHeader:Ob,AgentRealIPHeader:Mb,FullIPNotification:Ub,EditService:Bb,CreateService:Gb,CreateNotifier:zb,EditNotifier:Hb,EditNotifierGroup:Vb,CreateNotifierGroup:qb,Theme:Wb,Author:Kb,Repository:Jb,Community:Yb,Official:Zb,Cancel:Qb,EnableDDNS:Xb,PushSuccessful:ey,GrpcAuthFailed:sy,BlockByUser:ty,BlockIdentifier:ry,ConnectedAt:ny,OnlineUser:oy,Total:ay,ConfirmBlock:iy,RejectPassword:cy,EmptyText:ly,OverrideDDNSDomains:dy,EditServerConfig:uy,Option:my,Value:hy,Preview:xy,nezha:gy,CustomCodes:py,LocalService:fy,Login:jy,Service:Ny,Task:vy,LastBlockReason:Sy,EmptyNote:by,Notification:yy,SelectAPageToNavigateTo:Cy,Version:wy,InstallCommands:$y,Loading:Ty,EditServer:Dy,Public:ky,Private:Py,Submit:Ry,TasksToTriggerAfterRecovery:Ay,Confirm:Ey,EnableTriggerTask:_y,Language:Iy,ConfirmDeletion:Ly,OriginalPassword:Fy,ShowInService:Oy,EnableFailureNotification:My,CreateNAT:Uy,Scheduled:By,WAF:Gy,VerifyTLS:zy,IPChangeNotification:Hy,CreateAlertRule:Vy,UserId:qy,NewUser:Wy},Jy="கண்காணிப்பு",Yy={light:"ஒளி",dark:"இருண்ட",system:"அமைப்பைப் பின்தொடரவும்"},Zy="பயனர்பெயர்",Qy="கடவுச்சொல்",Xy="முதலில் உள்நுழைக",eC="தற்போதைய நேரம்",sC={UsernameMin:"பயனர்பெயர் குறைந்தபட்சம் {{number}} எழுத்துக்களாக இருக்க வேண்டும்.",PasswordRequired:"கடவுச்சொல் காலியாக இருக்க முடியாது.",ErrorFetchingResource:"வளத்தைப் பெறுவதில் பிழை: {{error}}",SelectAtLeastOneServer:"குறைந்தது ஒரு சேவையகத்தைத் தேர்ந்தெடுக்கவும்.",UnExpectedError:"எதிர்பாராத பிழை, விவரங்களுக்கு கன்சோலைப் பார்க்கவும்.",ForceUpdate:"கட்டாய மேம்படுத்தல்:",NoRowsAreSelected:"வரிசைகள் எதுவும் தேர்ந்தெடுக்கப்படவில்லை",ThisOperationIsUnrecoverable:"இந்த செயல்பாட்டை செயல்தவிர்க்க முடியாது!",TaskTriggeredSuccessfully:"பணி வெற்றிகரமாக தூண்டப்பட்டது",TheServerDoesNotOnline:"சேவையகம் இல்லை அல்லது இன்னும் இணைக்கப்படவில்லை",InstallHostRequired:"அமைப்புகளில் முகவர் நறுக்குதல் முகவரி நிரப்பப்படவில்லை.",UnknownIdentifier:"தெரியாத அடையாளங்காட்டி"},tC="நீக்குதலை உறுதிப்படுத்தவா?",rC="சேவைகள்",nC="சேவையில் காட்டு",oC={Excludes:"குறிப்பிட்ட சேவையகங்களை விலக்குகிறது",Only:"குறிப்பிட்ட சேவையகங்கள் மட்டுமே",Alarmed:"அலாரத்தைத் தூண்டிய சேவையகத்தில் செயல்படுத்தப்பட்டது"},aC="தோல்வி அறிவிப்பை இயக்கவும்",iC="அதிகபட்ச நேரந்தவறுகை (எம்.எச்)",cC="குறைந்தபட்ச நேரந்தவறுகை (மில்லி விநாடிகள்)",lC="தாமத அறிவிப்பை இயக்கவும்",dC="முடிவு",uC="திட்டமிடப்பட்ட பணிகள்",mC="அறிவிக்கவும்",hC="விதிகள்",xC="எச்சரிக்கை விதிகளை உருவாக்கவும்",gC="குழுவைத் திருத்து",pC="அறிவிப்பு குழுவை உருவாக்கவும்",fC="புதிய பயனர்",jC="புகுபதிகை",NC="சேவையகம்",vC="சேவை",SC="பணி",bC="அறிவிப்பு",yC="மாறும் டி.என்.எச்",CC="நாட் டிராவர்சல்",wC="குழு",$C="சுயவிவரம்",TC="கணினி அமைப்புகள்",DC="வீட்டிற்கு திரும்பவும்",kC="விடுபதிகை",PC="செல்லவும்",RC="செல்ல ஒரு பக்கத்தைத் தேர்வுசெய்க",AC="மூடு",EC="பெயர்",_C="பதிப்பு",IC="தெரியவில்லை",LC="இயக்கு",FC="பார்வையாளர்களிடமிருந்து மறைக்கப்பட்டுள்ளது",OC="நிறுவல் கட்டளை",MC="குறிப்பு",UC="செய்",BC="முடிக்க",GC="இணையமில்லாமல்",zC="தோல்வி",HC="ஏற்றுகிறது",VC="முடிவுகள் இல்லை",qC="செயல்கள்",WC="சேவையகத்தைத் திருத்து",KC="எடை (பெரிய எண், அதிக அளவில் காட்டப்படும்)",JC="டி.டி.என்.எச் சுயவிவர ஐடிகள்",YC="(கமாவுடன் பிரிக்கவும்)",ZC="பொது",QC="தனிப்பட்ட",XC="சமர்ப்பிக்கவும்",ew="இலக்கு",sw="பாதுகாப்பு",tw="அனைத்தையும் மறைக்கவும்",rw="அனைத்தையும் புறக்கணிக்கவும்",nw="எச்சரிக்கை சேவையகங்கள்",ow="குறிப்பிட்ட சேவையகம்",aw="வகை",iw="இடைவேளை",cw="குழு ஐடியை அறிவிக்கவும்",lw="தூண்டுதலில்",dw="எச்சரிக்கையில் தூண்டப்பட வேண்டிய பணிகள்",uw="மீட்கப்பட்ட பிறகு தூண்டப்பட வேண்டிய பணிகள்",mw="உறுதிப்படுத்தவும்",hw="தூண்டுதல் பணியை இயக்கவும்",xw="க்ரோன் வெளிப்பாடு",gw="கட்டளை",pw="குழுவிற்கு அறிவிக்கவும்",fw="செய் அறிவிப்பை அனுப்புங்கள்",jw="கடைசி சாவுஒறுப்பு",Nw="எச்சரிக்கை விதிகள்",vw="TLS ஐ சரிபார்க்கவும்",Sw="தூண்டுதல் பயன்முறை",bw="கோரிக்கை முறை",yw="கோரிக்கை தலைப்பு",Cw="சோதனை செய்தியை அனுப்ப வேண்டாம்",ww="எப்போதும்",$w="ஒருமுறை",Tw="வழங்குநர்",Dw="களங்கள்",kw="மீண்டும் முயற்சிக்கும் முயற்சிகளுக்கு அதிகபட்ச நேரம்",Pw="புதுப்பிப்பு",Rw="நகல் பாதை",Aw="செல்",Ew="சுயவிவரத்தைப் புதுப்பிக்கவும்",_w="புதிய பயனர்பெயர்",Iw="அசல் கடவுச்சொல்",Lw="புதிய கடவுச்சொல்",Fw="DDNS ஐத் திருத்து",Ow="DDNS ஐ உருவாக்கவும்",Mw="நற்சான்றிதழ்",Uw="கோரிக்கை வகை",Bw="கோரிக்கை அமைப்பு",Gw="போலி கோப்பு மேலாளர்",zw="பதிவிறக்குகிறது",Hw="பதிவேற்றம்",Vw="NAT உள்ளமைவைத் திருத்து",qw="NAT உள்ளமைவை உருவாக்கவும்",Ww="உள்ளக பணி",Kw="டொமைன் பெயரை பிணைக்கவும்",Jw="சேவையக குழுவைத் திருத்து",Yw="சேவையக குழுவை உருவாக்கவும்",Zw="பயனர்",Qw="வலை பயன்பாடு ஃபயர்வால்",Xw="தளத்தின் பெயர்",e$="முகவரியை இணைக்கும் முகவரி [டொமைன் பெயர்/ஐபி: போர்ட்]",s$="முகவரை இணைக்க TLS ஐப் பயன்படுத்தவும்",t$="உள்நுழைவு தோல்வியடைந்தது",r$="மிருகத்தனமான ஆற்றல் டோக்கனைத் தாக்குகிறது",n$="மிருகத்தனமான படை தாக்குதல் முகவர் மறைபொருள்",o$="மொழி",a$="தனிப்பயன் குறியீடுகள் (நடை மற்றும் ச்கிரிப்ட்)",i$="டாச்போர்டுக்கான தனிப்பயன் குறியீடுகள்",c$="டி.டி.என்.எச்சிற்கான தனிப்பயன் பொது டி.என்.எச் பெயர்செர்வர்ச்",l$="முன்நிலை உண்மையான ஐபி கோரிக்கை தலைப்பு",d$="ஏஜெண்ட் உண்மையான ஐபி கோரிக்கை தலைப்பு",u$="நேரடி இணைப்பு ஐபி பயன்படுத்தவும்",m$="ஐபி மாற்ற அறிவிப்பு",h$="அறிவிப்பு செய்திகளில் முழு ஐபி முகவரியைக் காட்டுங்கள்",x$="சேவையைத் திருத்து",g$="சேவையை உருவாக்கவும்",p$="பணியைத் திருத்து",f$="பணியை உருவாக்கவும்",j$="அறிவிப்பை உருவாக்கவும்",N$="அறிவிப்பு திருத்து",v$="எச்சரிக்கை விதிகளைத் திருத்தவும்",S$="எண்ணுங்கள்",b$="கடைசி தொகுதி காரணம்",y$="கடைசி தடை நேரம்",C$="கருப்பொருள்",w$="நூலாசிரியர்",$$="களஞ்சியம்",T$="சமூகம்",D$="அதிகாரி",k$="நீங்கள் ஒரு சமூக கருப்பொருளைப் பயன்படுத்துகிறீர்கள்",P$="இந்த கருப்பொருள் சமூகத்தால் வழங்கப்படுகிறது, உங்கள் சொந்த ஆபத்தில் பயன்படுத்தவும்",R$="ரத்துசெய்",A$="DDNS ஐ இயக்கவும்",E$="வெற்றிகரமாக இருந்தால் தள்ளுங்கள்",_$="சிஆர்பிசி ஏற்பு தோல்வியடைந்தது",I$="பநிஇ கிள்ளாக்கு தவறானது",L$="பயனர் தவறானது",F$="நிர்வாகியால் தடுக்கப்பட்டது",O$="தொகுதி அடையாளங்காட்டி",M$="பயனர் ஐடி",U$="இணைக்கப்பட்டுள்ளது",B$="நிகழ்நிலை பயனர்",G$="மொத்தம்",z$="தொகுதி உறுதிப்படுத்தவும்",H$="கடவுச்சொல் உள்நுழைவை நிராகரிக்கவும்",V$="உரை காலியாக உள்ளது",q$="உங்களிடம் எந்த குறிப்பும் இல்லை.",W$={nezha:Jy,theme:Yy,Username:Zy,Password:Qy,LoginFirst:Xy,CurrentTime:eC,Results:sC,ConfirmDeletion:tC,Services:rC,ShowInService:nC,Coverages:oC,EnableFailureNotification:aC,MaximumLatency:iC,MinimumLatency:cC,EnableLatencyNotification:lC,Result:dC,Scheduled:uC,Notifier:mC,Rules:hC,CreateAlertRule:xC,EditNotifierGroup:gC,CreateNotifierGroup:pC,NewUser:fC,Login:jC,Server:NC,Service:vC,Task:SC,Notification:bC,DDNS:yC,NATT:CC,Group:wC,Profile:$C,Settings:TC,BackToHome:DC,Logout:kC,NavigateTo:PC,SelectAPageToNavigateTo:RC,Close:AC,Error:"பிழை",Name:EC,Version:_C,Unknown:IC,Enable:LC,HideForGuest:FC,InstallCommands:OC,Note:MC,Success:UC,Done:BC,Offline:GC,Failure:zC,Loading:HC,NoResults:VC,Actions:qC,EditServer:WC,Weight:KC,DDNSProfiles:JC,SeparateWithComma:YC,Public:ZC,Private:QC,Submit:XC,Target:ew,Coverage:sw,CoverAll:tw,IgnoreAll:rw,OnAlert:nw,SpecificServers:ow,Type:aw,Interval:iw,NotifierGroupID:cw,Trigger:lw,TasksToTriggerOnAlert:dw,TasksToTriggerAfterRecovery:uw,Confirm:mw,EnableTriggerTask:hw,CronExpression:xw,Command:gw,NotifierGroup:pw,SendSuccessNotification:fw,LastExecution:jw,AlertRule:Nw,VerifyTLS:vw,TriggerMode:Sw,RequestMethod:bw,RequestHeader:yw,DoNotSendTestMessage:Cw,Always:ww,Once:$w,Provider:Tw,Domains:Dw,MaximumRetryAttempts:kw,Refresh:Pw,CopyPath:Rw,Goto:Aw,UpdateProfile:Ew,NewUsername:_w,OriginalPassword:Iw,NewPassword:Lw,EditDDNS:Fw,CreateDDNS:Ow,Credential:Mw,RequestType:Uw,RequestBody:Bw,FileManager:Gw,Downloading:zw,Uploading:Hw,EditNAT:Vw,CreateNAT:qw,LocalService:Ww,BindHostname:Kw,EditServerGroup:Jw,CreateServerGroup:Yw,User:Zw,WAF:Qw,SiteName:Xw,DashboardOriginalHost:e$,ConfigTLS:s$,LoginFailed:t$,BruteForceAttackingToken:r$,BruteForceAttackingAgentSecret:n$,Language:o$,CustomCodes:a$,CustomCodesDashboard:i$,CustomPublicDNSNameserversforDDNS:c$,WebRealIPHeader:l$,AgentRealIPHeader:d$,UseDirectConnectingIP:u$,IPChangeNotification:m$,FullIPNotification:h$,EditService:x$,CreateService:g$,EditTask:p$,CreateTask:f$,CreateNotifier:j$,EditNotifier:N$,EditAlertRule:v$,Count:S$,LastBlockReason:b$,LastBlockTime:y$,Theme:C$,Author:w$,Repository:$$,Community:T$,Official:D$,CommunityThemeWarning:k$,CommunityThemeDescription:P$,Cancel:R$,EnableDDNS:A$,PushSuccessful:E$,GrpcAuthFailed:_$,APITokenInvalid:I$,UserInvalid:L$,BlockByUser:F$,BlockIdentifier:O$,UserId:M$,ConnectedAt:U$,OnlineUser:B$,Total:G$,ConfirmBlock:z$,RejectPassword:H$,EmptyText:V$,EmptyNote:q$},K$="哪吒监控",J$={light:"亮色",dark:"暗色",system:"跟随系统"},Y$="用户名",Z$="密码",Q$="用户名或密码错误",X$="网络错误",eT="请先登录",sT="当前时间",tT={UsernameMin:"用户名必须至少有 {{number}} 个字符。",PasswordRequired:"密码不能为空。",ErrorFetchingResource:"获取资源时出错：{{error}}",SelectAtLeastOneServer:"请至少选择一台服务器。",UnExpectedError:"意外错误，请查看控制台了解详细信息。",ForceUpdate:"强制升级：",NoRowsAreSelected:"未选择任何行",ThisOperationIsUnrecoverable:"这个操作将无法恢复！",TaskTriggeredSuccessfully:"任务触发成功",TheServerDoesNotOnline:"服务器不存在或者还未连接",InstallHostRequired:"设置中尚未填写Agent对接地址。",UnknownIdentifier:"未知标识符"},rT="登录",nT="服务器",oT="服务",aT="任务",iT="通知",cT="动态域名解析",lT="内网穿透",dT="分组",uT="个人信息",mT="系统设置",hT="返回前台",xT="登出",gT="导航至",pT="选择一个页面跳转",fT="关闭",jT="名称",NT="版本",vT="未知",ST="启用",bT="对游客隐藏",yT="安装命令",CT="终端",wT="配置",$T="备注",TT="成功",DT="完成",kT="离线",PT="失败",RT="加载中",AT="没有内容",ET="操作",_T="编辑服务器",IT="权重（数字越大，显示越靠前）",LT="DDNS 配置文件 ID",FT="（以英文逗号分隔）",OT="公开",MT="私有",UT="提交",BT="目标",GT="覆盖范围",zT="覆盖全部",HT="忽略全部",VT="告警服务器",qT="特定服务器",WT="类型",KT="间隔",JT="通知组ID",YT="触发",ZT="告警时要触发的任务",QT="恢复后要触发的任务",XT="添加",eD="删除",sD="高级 JSON",tD="保存",rD="确认",nD="确认删除？",oD="服务",aD="服务中显示",iD={Excludes:"排除特定服务器",Only:"仅特定服务器",Alarmed:"在触发报警的服务器上执行"},cD="启用失败通知",lD="最大延迟时间（毫秒）",dD="最小延迟时间（毫秒）",uD="启用延迟通知",mD="启用触发任务",hD="Cron表达式",xD="命令",gD="通知组",pD="发送成功通知",fD="最后执行",jD="结果",ND="计划任务",vD="警报规则",SD="通知",bD="验证 TLS",yD="触发模式",CD="规则",wD="请求方式",$D="请求头",TD="不发送测试消息",DD="总是",kD="仅一次",PD="提供商",RD="域名",AD="最大重试次数",ED="刷新",_D="复制路径",ID="前往",LD="更新个人资料",FD="新用户名",OD="原始密码",MD="新密码",UD="编辑DDNS",BD="创建DDNS",GD="凭据",zD="请求类型",HD="请求体",VD="文件列表",qD="下载中",WD="上传中",KD="编辑内网穿透配置",JD="创建内网穿透配置",YD="本地服务",ZD="绑定域名",QD="AutoSSH",XD="编辑AutoSSH配置",ek="添加AutoSSH配置",sk="配置AutoSSH端口映射",tk="映射类型",rk="远程转发 (-R)",nk="本地转发 (-L)",ok="源端口",ak="目标主机",ik="目标端口",ck="选择服务器",lk="运行中",dk="已停止",uk="错误",mk="是",hk="否",xk="编辑",gk="取消",pk="暂无数据",fk="编辑服务器分组",jk="创建服务器分组",Nk="编辑服务",vk="创建服务",Sk="编辑任务",bk="创建任务",yk="编辑通知",Ck="创建通知",wk="编辑报警规则",$k="创建报警规则",Tk="编辑通知分组",Dk="创建通知分组",kk="用户",Pk="Web应用防火墙",Rk="站点名称",Ak="语言",Ek="自定义代码（样式和脚本）",_k="仪表板的自定义代码",Ik="Agent对接地址【域名/IP:端口】",Lk="Agent 使用 TLS 连接",Fk="DDNS 的自定义公共 DNS 名称服务器",Ok="前端真实IP请求头",Mk="Agent真实IP请求头",Uk="使用直连 IP",Bk="IP变更通知",Gk="在通知消息中显示完整的 IP 地址",zk="登录失败",Hk="暴力攻击令牌",Vk="暴力攻击代理秘密",qk="新用户",Wk="编辑用户",Kk="服务器权限",Jk="选择服务器",Yk="留空保持当前值",Zk="密码不能为空",Qk="AutoSSH服务器地址",Xk="格式: 用户名@IP:端口",eP="计数",sP="最后封禁原因",tP="最后封禁时间",rP="主题",nP="作者",oP="仓库",aP="社区",iP="官方",cP="正在使用社区主题",lP="社区主题未经官方审计，需自行甄别风险",dP="启用 DDNS",uP="推送成功的通知",mP="gRPC 认证失败",hP="API 令牌无效",xP="用户无效",gP="被管理员封禁",pP="封禁标识",fP="用户 ID",jP="连接时间",NP="在线用户",vP="总数",SP="确认封禁",bP="禁止密码登录",yP="空文本",CP="您没有任何备注。",wP="编辑服务器配置",$P="强制指定 DDNS 域名（每个配置）",TP="值",DP="预览",kP="选项",PP={Label:"公开备注",Billing:"账单信息",Plan:"套餐配置",StartDate:"开始时间",EndDate:"结束时间",AutoRenewal:"自动续费",Cycle:"周期",Amount:"金额",Bandwidth:"带宽",TrafficVolume:"流量配额",TrafficType:"流量类型",IPv4:"IPv4",IPv6:"IPv6",NetworkRoute:"网络路由",Extra:"额外备注",Enabled:"启用",Disabled:"禁用",Inbound:"入站",Both:"双向",Day:"天",Week:"周",Month:"月",Year:"年",NoExpiry:"不过期",SetNoExpiry:"设置为不过期",CancelNoExpiry:"取消不过期",Free:"免费",PayAsYouGo:"按量付费",CommaSeparated:"以英文逗号分隔多个",Has:"有",None:"无",CustomFields:"自定义字段",ClearDate:"清除日期",Clear:"清除",RawText:"原始文本"},RP={InvalidDate:"无效的日期格式",MustBe0Or1:"只能为 0 或 1",MustBeDayWeekMonthYear:"必须为 Day/Week/Month/Year",MustBe1Or2:"只能为 1 或 2",DigitsOnly:"仅允许数字",InvalidForm:"表单校验失败",InvalidJSON:"无效的 JSON"},AP={CoverAllServers:"监控所有服务器",IgnoreAllSelectSpecific:"忽略所有，选择特定服务器",IgnoreHint:"{{server}}ID: true/false",IgnoreExample:'例如：{"1": true, "2": false}'},EP="搜索...",_P="格式化",IP="已格式化",LP="复制",FP="粘贴",OP="已复制到剪贴板",MP="无法写入剪贴板",UP="已从剪贴板粘贴",BP="无法读取剪贴板",GP={nezha:K$,theme:J$,Username:Y$,Password:Z$,InvalidUsernameOrPassword:Q$,NetworkError:X$,LoginFirst:eT,CurrentTime:sT,Results:tT,Login:rT,Server:nT,Service:oT,Task:aT,Notification:iT,DDNS:cT,NATT:lT,Group:dT,Profile:uT,Settings:mT,BackToHome:hT,Logout:xT,NavigateTo:gT,SelectAPageToNavigateTo:pT,Close:fT,Error:"错误",Name:jT,Version:NT,Unknown:vT,Enable:ST,HideForGuest:bT,InstallCommands:yT,Terminal:CT,Config:wT,Note:$T,Success:TT,Done:DT,Offline:kT,Failure:PT,Loading:RT,NoResults:AT,Actions:ET,EditServer:_T,Weight:IT,DDNSProfiles:LT,SeparateWithComma:FT,Public:OT,Private:MT,Submit:UT,Target:BT,Coverage:GT,CoverAll:zT,IgnoreAll:HT,OnAlert:VT,SpecificServers:qT,Type:WT,Interval:KT,NotifierGroupID:JT,Trigger:YT,TasksToTriggerOnAlert:ZT,TasksToTriggerAfterRecovery:QT,Add:XT,Delete:eD,AdvancedJSON:sD,Save:tD,Confirm:rD,ConfirmDeletion:nD,Services:oD,ShowInService:aD,Coverages:iD,EnableFailureNotification:cD,MaximumLatency:lD,MinimumLatency:dD,EnableLatencyNotification:uD,EnableTriggerTask:mD,CronExpression:hD,Command:xD,NotifierGroup:gD,SendSuccessNotification:pD,LastExecution:fD,Result:jD,Scheduled:ND,AlertRule:vD,Notifier:SD,VerifyTLS:bD,TriggerMode:yD,Rules:CD,RequestMethod:wD,RequestHeader:$D,DoNotSendTestMessage:TD,Always:DD,Once:kD,Provider:PD,Domains:RD,MaximumRetryAttempts:AD,Refresh:ED,CopyPath:_D,Goto:ID,UpdateProfile:LD,NewUsername:FD,OriginalPassword:OD,NewPassword:MD,EditDDNS:UD,CreateDDNS:BD,Credential:GD,RequestType:zD,RequestBody:HD,FileManager:VD,Downloading:qD,Uploading:WD,EditNAT:KD,CreateNAT:JD,LocalService:YD,BindHostname:ZD,AutoSSH:QD,EditAutoSSH:XD,AddAutoSSH:ek,ConfigureAutoSSHPortMapping:sk,MappingType:tk,RemoteForward:rk,LocalForward:nk,SourcePort:ok,TargetHost:ak,TargetPort:ik,SelectServer:ck,running:lk,stopped:dk,error:uk,Yes:mk,No:hk,Edit:xk,Cancel:gk,NoData:pk,EditServerGroup:fk,CreateServerGroup:jk,EditService:Nk,CreateService:vk,EditTask:Sk,CreateTask:bk,EditNotifier:yk,CreateNotifier:Ck,EditAlertRule:wk,CreateAlertRule:$k,EditNotifierGroup:Tk,CreateNotifierGroup:Dk,User:kk,WAF:Pk,SiteName:Rk,Language:Ak,CustomCodes:Ek,CustomCodesDashboard:_k,DashboardOriginalHost:Ik,ConfigTLS:Lk,CustomPublicDNSNameserversforDDNS:Fk,WebRealIPHeader:Ok,AgentRealIPHeader:Mk,UseDirectConnectingIP:Uk,IPChangeNotification:Bk,FullIPNotification:Gk,LoginFailed:zk,BruteForceAttackingToken:Hk,BruteForceAttackingAgentSecret:Vk,NewUser:qk,EditUser:Wk,ServerPermissions:Kk,SelectServers:Jk,LeaveBlankToKeepCurrent:Yk,PasswordRequired:Zk,AutoSSHServerAddress:Qk,AutoSSHServerAddressFormat:Xk,Count:eP,LastBlockReason:sP,LastBlockTime:tP,Theme:rP,Author:nP,Repository:oP,Community:aP,Official:iP,CommunityThemeWarning:cP,CommunityThemeDescription:lP,EnableDDNS:dP,PushSuccessful:uP,GrpcAuthFailed:mP,APITokenInvalid:hP,UserInvalid:xP,BlockByUser:gP,BlockIdentifier:pP,UserId:fP,ConnectedAt:jP,OnlineUser:NP,Total:vP,ConfirmBlock:SP,RejectPassword:bP,EmptyText:yP,EmptyNote:CP,EditServerConfig:wP,OverrideDDNSDomains:$P,Value:TP,Preview:DP,Option:kP,PublicNote:PP,Validation:RP,AlertRules:AP,Search:EP,Format:_P,Formatted:IP,Copy:LP,Paste:FP,CopiedToClipboard:OP,ClipboardWriteFailed:MP,PastedFromClipboard:UP,ClipboardReadFailed:BP},zP="哪吒監控",HP={light:"亮色",dark:"暗色",system:"跟隨系統"},VP="用戶名",qP="密碼",WP="請先登錄",KP="當前時間",JP={UsernameMin:"使用者名稱必須至少有 {{number}} 個字元。",PasswordRequired:"密碼不能為空。",ErrorFetchingResource:"取得資源時發生錯誤：{{error}}",SelectAtLeastOneServer:"請至少選擇一台伺服器。",UnExpectedError:"意外錯誤，請查看控制台以了解詳細資訊。",ForceUpdate:"強制升級：",NoRowsAreSelected:"未選擇任何行",ThisOperationIsUnrecoverable:"這個操作將無法恢復！",TaskTriggeredSuccessfully:"任務觸發成功",TheServerDoesNotOnline:"伺服器不存在或尚未連接",InstallHostRequired:"設定中尚未填寫Agent對接位址。",UnknownIdentifier:"未知標識符"},YP="登入",ZP="伺服器",QP="服務",XP="任務",eR="通知",sR="動態網域解析",tR="內網穿透",rR="分組",nR="個人資訊",oR="系統設定",aR="返回前台",iR="登出",cR="導航至",lR="選擇一個頁面跳轉",dR="關閉",uR="名稱",mR="版本",hR="未知",xR="啟用",gR="對遊客隱藏",pR="安裝命令",fR="備註",jR="成功",NR="完成",vR="離線",SR="失敗",bR="沒有內容",yR="載入中",CR="操作",wR="編輯伺服器",$R="權重（數字越大，顯示越前）",TR="DDNS 設定檔 ID",DR="（以英文逗號分隔）",kR="公開",PR="私人",RR="提交",AR="目標",ER="覆蓋範圍",_R="覆蓋全部",IR="忽略全部",LR="告警伺服器",FR="特定伺服器",OR="類型",MR="間隔",UR="通知群組ID",BR="觸發",GR="告警時要觸發的任務",zR="恢復後要觸發的任務",HR="確認",VR="確認刪除？",qR="服務",WR="服務中顯示",KR={Only:"僅特定伺服器",Excludes:"排除特定伺服器",Alarmed:"在觸發警報的伺服器上執行"},JR="啟用失敗通知",YR="最大延遲時間（毫秒）",ZR="最小延遲時間（毫秒）",QR="啟用延遲通知",XR="啟用觸發任務",eA="Cron表達式",sA="命令",tA="通知群組",rA="發送成功通知",nA="最後執行",oA="結果",aA="計劃任務",iA="警報規則",cA="通知",lA="驗證 TLS",dA="觸發模式",uA="規則",mA="請求方式",hA="請求頭",xA="不發送測試訊息",gA="總是",pA="僅一次",fA="提供者",jA="網域",NA="最大重試次數",vA="刷新",SA="複製路徑",bA="前往",yA="更新個人資料",CA="新用戶名",wA="原始密碼",$A="新密碼",TA="編輯DDNS",DA="建立DDNS",kA="憑證",PA="請求類型",RA="請求體",AA="檔案列表",EA="下載中",_A="上傳中",IA="編輯內網穿透配置",LA="創建內網穿透配置",FA="本地服務",OA="綁定域名",MA="編輯伺服器分組",UA="建立伺服器分組",BA="編輯服務",GA="創建服務",zA="編輯任務",HA="創建任務",VA="建立通知",qA="編輯通知",WA="編輯警報規則",KA="建立警報規則",JA="編輯通知分組",YA="建立通知分組",ZA="使用者",QA="Web應用防火牆",XA="網站名稱",e1="語言",s1="自訂程式碼（樣式和腳本）",t1="儀表板的自訂程式碼",r1="Agent對接位址【網域名稱/IP:連接埠】",n1="Agent 使用 TLS 連線",o1="DDNS 的自訂公共 DNS 名稱伺服器",a1="前端真實IP請求頭",i1="Agent真實IP請求頭",c1="使用直連 IP",l1="IP變更通知",d1="在通知訊息中顯示完整的 IP 位址",u1="登入失敗",m1="暴力攻擊令牌",h1="暴力攻擊代理秘密",x1="新用戶",g1="計數",p1="最後封鎖原因",f1="最後封鎖時間",j1="主題",N1="作者",v1="仓库",S1="社群",b1="官方",y1="正在使用社區主題",C1="社群主題未經官方審計，需自行甄別風險",w1="取消",$1="啟用 DDNS",T1="推送成功的通知",D1="gRPC 認證失敗",k1="API 令牌無效",P1="使用者無效",R1="被管理员封鎖",A1="封鎖標識符",E1="使用者 ID",_1="連線時間",I1="線上使用者",L1="總數",F1="確認封鎖",O1="禁止密碼登入",M1="空文字",U1="您沒有任何備註。",B1="強制指定 DDNS 域名（每個配置）",G1="編輯伺服器配置",z1="選項",H1="值",V1="預覽",q1={nezha:zP,theme:HP,Username:VP,Password:qP,LoginFirst:WP,CurrentTime:KP,Results:JP,Login:YP,Server:ZP,Service:QP,Task:XP,Notification:eR,DDNS:sR,NATT:tR,Group:rR,Profile:nR,Settings:oR,BackToHome:aR,Logout:iR,NavigateTo:cR,SelectAPageToNavigateTo:lR,Close:dR,Error:"錯誤",Name:uR,Version:mR,Unknown:hR,Enable:xR,HideForGuest:gR,InstallCommands:pR,Note:fR,Success:jR,Done:NR,Offline:vR,Failure:SR,NoResults:bR,Loading:yR,Actions:CR,EditServer:wR,Weight:$R,DDNSProfiles:TR,SeparateWithComma:DR,Public:kR,Private:PR,Submit:RR,Target:AR,Coverage:ER,CoverAll:_R,IgnoreAll:IR,OnAlert:LR,SpecificServers:FR,Type:OR,Interval:MR,NotifierGroupID:UR,Trigger:BR,TasksToTriggerOnAlert:GR,TasksToTriggerAfterRecovery:zR,Confirm:HR,ConfirmDeletion:VR,Services:qR,ShowInService:WR,Coverages:KR,EnableFailureNotification:JR,MaximumLatency:YR,MinimumLatency:ZR,EnableLatencyNotification:QR,EnableTriggerTask:XR,CronExpression:eA,Command:sA,NotifierGroup:tA,SendSuccessNotification:rA,LastExecution:nA,Result:oA,Scheduled:aA,AlertRule:iA,Notifier:cA,VerifyTLS:lA,TriggerMode:dA,Rules:uA,RequestMethod:mA,RequestHeader:hA,DoNotSendTestMessage:xA,Always:gA,Once:pA,Provider:fA,Domains:jA,MaximumRetryAttempts:NA,Refresh:vA,CopyPath:SA,Goto:bA,UpdateProfile:yA,NewUsername:CA,OriginalPassword:wA,NewPassword:$A,EditDDNS:TA,CreateDDNS:DA,Credential:kA,RequestType:PA,RequestBody:RA,FileManager:AA,Downloading:EA,Uploading:_A,EditNAT:IA,CreateNAT:LA,LocalService:FA,BindHostname:OA,EditServerGroup:MA,CreateServerGroup:UA,EditService:BA,CreateService:GA,EditTask:zA,CreateTask:HA,CreateNotifier:VA,EditNotifier:qA,EditAlertRule:WA,CreateAlertRule:KA,EditNotifierGroup:JA,CreateNotifierGroup:YA,User:ZA,WAF:QA,SiteName:XA,Language:e1,CustomCodes:s1,CustomCodesDashboard:t1,DashboardOriginalHost:r1,ConfigTLS:n1,CustomPublicDNSNameserversforDDNS:o1,WebRealIPHeader:a1,AgentRealIPHeader:i1,UseDirectConnectingIP:c1,IPChangeNotification:l1,FullIPNotification:d1,LoginFailed:u1,BruteForceAttackingToken:m1,BruteForceAttackingAgentSecret:h1,NewUser:x1,Count:g1,LastBlockReason:p1,LastBlockTime:f1,Theme:j1,Author:N1,Repository:v1,Community:S1,Official:b1,CommunityThemeWarning:y1,CommunityThemeDescription:C1,Cancel:w1,EnableDDNS:$1,PushSuccessful:T1,GrpcAuthFailed:D1,APITokenInvalid:k1,UserInvalid:P1,BlockByUser:R1,BlockIdentifier:A1,UserId:E1,ConnectedAt:_1,OnlineUser:I1,Total:L1,ConfirmBlock:F1,RejectPassword:O1,EmptyText:M1,EmptyNote:U1,OverrideDDNSDomains:B1,EditServerConfig:G1,Option:z1,Value:H1,Preview:V1},W1={"zh-CN":{translation:GP},"zh-TW":{translation:q1},"en-US":{translation:uh},"ru-RU":{translation:Ky},"es-ES":{translation:gp},"de-DE":{translation:pl},"ta-IN":{translation:W$},"it-IT":{translation:Hv},"fr-FR":{translation:Gf},"id-ID":{translation:Yf}},K1=()=>localStorage.getItem("language")||"en-US";L.use(no).init({resources:W1,lng:K1(),fallbackLng:"en-US",interpolation:{escapeValue:!1}});L.on("languageChanged",s=>{localStorage.setItem("language",s)});function J1(s,n){if(!n)return s;const t=new URL(window.location.origin+s);for(const a in n)t.searchParams.append(a,n[a]);return t.toString()}var _=(s=>(s.GET="GET",s.POST="POST",s.PUT="PUT",s.PATCH="PATCH",s.DELETE="DELETE",s))(_||{});let Xs=0;async function I(s,n,t){let a;if(s==="GET"||s==="DELETE"?a=await fetch(J1(n,t),{method:"GET"}):a=await fetch(n,{method:s,headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):null}),!a.ok)throw new Error(a.statusText);const c=await a.json();if(!c.success)throw new Error(c.error);return document.cookie&&(!Xs||Date.now()-Xs>1e3*60*60)&&(Xs=Date.now(),fetch("/api/v1/refresh-token")),c.data}async function Pe(s,n){return I(n?.method,s.toString(),n?.body)}const ns=async()=>I(_.GET,"/api/v1/profile",null),Y1=async(s,n)=>I(_.POST,"/api/v1/login",{username:s,password:n}),Z1=async s=>I(_.POST,"/api/v1/user",s),Et=async s=>I(_.POST,"/api/v1/batch-delete/user",s),Q1=async s=>I(_.POST,"/api/v1/profile",s),X1=async(s,n)=>I(_.PATCH,`/api/v1/user/${s}`,n),is=ot(at((s,n)=>({profile:n()?.profile,setProfile:t=>s({profile:t})}),{name:"mainStore",storage:it(()=>localStorage)})),mn=u.createContext({profile:void 0,login:()=>{},loginOauth2:()=>{},logout:()=>{}}),eE=({children:s})=>{const n=is(r=>r.profile),t=is(r=>r.setProfile),{t:a}=F();u.useEffect(()=>{(async()=>{try{const r=await ns();r.role=r.role||0,t(r)}catch{t(void 0)}})()},[]);const c=Gs(),l=async(r,o)=>{try{localStorage.removeItem("serverStore"),Qs(()=>!0,void 0,{revalidate:!1}),await Y1(r,o);const i=await ns();i.role=i.role||0,t(i),c("/dashboard")}catch(i){const h=i?.message;h==="ApiErrorUnauthorized"||h==="Unauthorized"?$(a("InvalidUsernameOrPassword")):$(h||a("NetworkError"))}},x=async()=>{try{localStorage.removeItem("serverStore"),Qs(()=>!0,void 0,{revalidate:!1});const r=await ns();r.role=r.role||0,t(r),c("/dashboard")}catch(r){$(r.message)}finally{window.history.replaceState({},document.title,window.location.pathname)}},d=()=>{document.cookie.split(";").forEach(function(r){document.cookie=r.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),t(void 0),localStorage.removeItem("serverStore"),Qs(()=>!0,void 0,{revalidate:!1}),c("/dashboard/login",{replace:!0})},m=u.useMemo(()=>({profile:n,login:l,loginOauth2:x,logout:d}),[n]);return e.jsx(mn.Provider,{value:m,children:s})},Xe=()=>u.useContext(mn),sE=async s=>I(_.POST,"/api/v1/notification",s),tE=async(s,n)=>I(_.PATCH,`/api/v1/notification/${s}`,n),_t=async s=>I(_.POST,"/api/v1/batch-delete/notification",s),rE=async()=>I(_.GET,"/api/v1/notification",null),nE=async s=>I(_.POST,"/api/v1/notification-group",s),oE=async(s,n)=>I(_.PATCH,`/api/v1/notification-group/${s}`,n),It=async s=>I(_.POST,"/api/v1/batch-delete/notification-group",s),aE=async()=>I(_.GET,"/api/v1/notification-group",null),ws=ot(at((s,n)=>({notifiers:n()?.notifiers,notifierGroup:n()?.notifierGroup,setNotifier:t=>s({notifiers:t}),setNotifierGroup:t=>s({notifierGroup:t})}),{name:"notificationStore",storage:it(()=>localStorage)})),hn=u.createContext({}),ms=({children:s,withNotifier:n,withNotifierGroup:t})=>{const a=ws(r=>r.notifierGroup),c=ws(r=>r.setNotifierGroup),l=ws(r=>r.notifiers),x=ws(r=>r.setNotifier),d=vs();u.useEffect(()=>{t&&(async()=>{try{const r=await aE();c(r)}catch(r){$("NotificationProvider Error",{description:r.message}),c(void 0)}})(),n&&(async()=>{try{const o=(await rE()||[]).map(({id:i,name:h})=>({id:i,name:h}));x(o)}catch(r){$("NotificationProvider Error",{description:r.message}),x(void 0)}})()},[d.pathname]);const m=u.useMemo(()=>({notifiers:l,notifierGroup:a}),[l,a]);return e.jsx(hn.Provider,{value:m,children:s})},Ss=()=>u.useContext(hn),iE=async(s,n)=>I(_.PATCH,`/api/v1/server/${s}`,n),Lt=async s=>I(_.POST,"/api/v1/batch-delete/server",s),cE=async s=>I(_.POST,"/api/v1/batch-move/server",s),lE=async s=>I(_.POST,"/api/v1/force-update/server",s),dE=async()=>I(_.GET,"/api/v1/server",null),uE=async s=>I(_.GET,`/api/v1/server/config/${s}`,null),xn=async s=>I(_.POST,"/api/v1/server/config",s),mE=async s=>I(_.POST,"/api/v1/server-group",s),hE=async(s,n)=>I(_.PATCH,`/api/v1/server-group/${s}`,n),Ft=async s=>I(_.POST,"/api/v1/batch-delete/server-group",s),xE=async()=>I(_.GET,"/api/v1/server-group",null),$s=ot(at((s,n)=>({server:n()?.server,serverGroup:n()?.serverGroup,setServer:t=>s({server:t}),setServerGroup:t=>s({serverGroup:t})}),{name:"serverStore",storage:it(()=>localStorage)})),gn=u.createContext({}),hs=({children:s,withServer:n,withServerGroup:t})=>{const a=$s(r=>r.serverGroup),c=$s(r=>r.setServerGroup),l=$s(r=>r.server),x=$s(r=>r.setServer),d=vs();u.useEffect(()=>{t&&(async()=>{try{const r=await xE();c(r)}catch(r){$("ServerProvider Error",{description:r.message}),c(void 0)}})(),n&&(async()=>{try{const o=(await dE()||[]).map(({id:i,name:h})=>({id:i,name:h}));x(o)}catch(r){$("ServerProvider Error",{description:r.message}),x(void 0)}})()},[d.pathname]);const m=u.useMemo(()=>({servers:l,serverGroups:a}),[l,a]);return e.jsx(gn.Provider,{value:m,children:s})},ls=()=>u.useContext(gn),gE={theme:"system",setTheme:()=>null},pn=u.createContext(gE);function pE({children:s,defaultTheme:n="system",storageKey:t="vite-ui-theme",...a}){const[c,l]=u.useState(()=>localStorage.getItem(t)||n);u.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),c==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(m);return}d.classList.add(c)},[c]);const x={theme:c,setTheme:d=>{localStorage.setItem(t,d),l(d)}};return e.jsx(pn.Provider,{...a,value:x,children:s})}const fE=()=>{const s=u.useContext(pn);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s},fn={1:"HTTP GET",2:"ICMP Ping",3:"TCPing"},jE={0:L.t("Coverages.Excludes"),1:L.t("Coverages.Only")},NE={1:"GET",2:"POST",3:"PATCH",4:"DELETE",5:"PUT"},vE={1:"JSON",2:"Form"},jn={0:L.t("Scheduled"),1:L.t("Trigger")},SE={0:L.t("Coverages.Only"),1:L.t("Coverages.Excludes"),2:L.t("Coverages.Alarmed")},bE={1:"GET",2:"POST"},yE={1:"JSON",2:"Form"},Nn={0:L.t("Always"),1:L.t("Once")};var Is=(s=>(s[s.List=0]="List",s[s.Download=1]="Download",s[s.Upload=2]="Upload",s))(Is||{});const Ts={file:new Uint8Array([78,90,84,68]),fileName:new Uint8Array([78,90,70,78]),error:new Uint8Array([78,69,82,82]),complete:new Uint8Array([78,90,85,80])};var ks=(s=>(s[s.Error=0]="Error",s[s.Progress=1]="Progress",s[s.Result=2]="Result",s))(ks||{});const CE={1:L.t("Coverages.Excludes"),2:L.t("Coverages.Only")},wE={"zh-CN":"简体中文（中国大陆）","zh-TW":"正體中文（台灣）","en-US":"English","ru-RU":"Русский","es-ES":"Español","de-DE":"Deutsch","ta-IN":"தமிழ்","it-IT":"Italiano","fr-FR":"Français","id-ID":"Bahasa Indonesia"},$E={1:L.t("LoginFailed"),2:L.t("BruteForceAttackingToken"),3:L.t("BruteForceAttackingAgentSecret"),4:L.t("BlockByUser"),5:L.t("WAFBlockReasonTypeBruteForceOauth2")},TE={"-127":L.t("GrpcAuthFailed"),"-126":L.t("APITokenInvalid"),"-125":L.t("UserInvalid"),"-124":L.t("BlockByUser")};function DE(s){return new Worker("/dashboard/assets/fm-DNeVr5Tr.js",{name:s?.name})}function g(...s){return Uo(Bo(s))}const kE=un("").transform(()=>{});function P(s){return s.optional().or(kE)}const pe={recordToStr:s=>{const n=[];for(const t in s)n.push(t);return n.join(",")},strToRecord:s=>s.split(",").reduce((t,a)=>(t[a]=!0,t),{}),arrToStr:s=>s.join(","),strToArr:s=>s.split(",").filter(Boolean)||[],recordToArr:s=>{const n=[];for(const t of Object.values(s))n.push(t);return n},recordToStrArr:s=>{const n=[];for(const t of Object.keys(s))n.push(t);return n},arrToRecord:s=>{const n={};for(const t of s)n[t]=!0;return n}},PE=s=>new Promise(n=>setTimeout(n,s)),et={parseFMList:async s=>{const n=new DataView(s);let t=4;const a=n.getUint32(t);t+=4;const c=new Uint8Array(s,t,a),l=new TextDecoder("utf-8").decode(c);t+=a;const x=[];for(;t<n.byteLength;){const d=n.getUint8(t);t+=1;const m=n.getUint8(t);t+=1;const r=new Uint8Array(s,t,m),o=new TextDecoder("utf-8").decode(r);t+=m,x.push({type:d,name:o})}return{path:l,fmList:x}},buildUploadHeader:({path:s,file:n})=>{const t=`${s}/${n.name}`,a=new TextEncoder().encode(t),c=new ArrayBuffer(9+a.length),l=new DataView(c);return l.setUint8(0,Is.Upload),l.setBigUint64(1,BigInt(n.size),!1),new Uint8Array(c,9).set(a),c},readFileAsArrayBuffer:async s=>{const n=new FileReader;return new Promise((t,a)=>{n.onload=()=>t(n.result),n.onerror=()=>a(n.error),n.readAsArrayBuffer(s)})}},xs=new DE;function vn(s){return s.replace(/\/{2,}/g,"/")}function RE(s){return s?s.ipv4_addr&&s.ipv6_addr?`${s.ipv4_addr}/${s.ipv6_addr}`:s.ipv4_addr?s.ipv4_addr:s.ipv6_addr:""}async function Vs(s){try{return await navigator.clipboard.writeText(s)}catch(n){console.error("navigator",n)}try{return oo(s)}catch(n){console.error("copy",n)}throw new Error("Failed to copy text to clipboard")}const Ue=cs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),D=u.forwardRef(({className:s,variant:n,size:t,asChild:a=!1,...c},l)=>{const x=a?lt:"button";return e.jsx(x,{className:g(Ue({variant:n,size:t,className:s})),ref:l,...c})});D.displayName="Button";const Ze=zo,Qe=Ho,Ot=Vo,AE=u.forwardRef(({className:s,inset:n,children:t,...a},c)=>e.jsxs(jr,{ref:c,className:g("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",s),...a,children:[t,e.jsx(zs,{className:"ml-auto"})]}));AE.displayName=jr.displayName;const EE=u.forwardRef(({className:s,...n},t)=>e.jsx(Nr,{ref:t,className:g("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n}));EE.displayName=Nr.displayName;const qe=u.forwardRef(({className:s,sideOffset:n=4,...t},a)=>e.jsx(Go,{children:e.jsx(vr,{ref:a,sideOffset:n,className:g("z-50 min-w-[8rem] overflow-hidden rounded-lg border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t})}));qe.displayName=vr.displayName;const Z=u.forwardRef(({className:s,inset:n,...t},a)=>e.jsx(Sr,{ref:a,className:g("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",s),...t}));Z.displayName=Sr.displayName;const _E=u.forwardRef(({className:s,children:n,checked:t,...a},c)=>e.jsxs(br,{ref:c,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:t,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(yr,{children:e.jsx(Me,{className:"h-4 w-4"})})}),n]}));_E.displayName=br.displayName;const IE=u.forwardRef(({className:s,children:n,...t},a)=>e.jsxs(Cr,{ref:a,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(yr,{children:e.jsx(ao,{className:"h-2 w-2 fill-current"})})}),n]}));IE.displayName=Cr.displayName;const rt=u.forwardRef(({className:s,inset:n,...t},a)=>e.jsx(wr,{ref:a,className:g("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",s),...t}));rt.displayName=wr.displayName;const gs=u.forwardRef(({className:s,...n},t)=>e.jsx($r,{ref:t,className:g("-mx-1 my-1 h-px bg-muted",s),...n}));gs.displayName=$r.displayName;const Sn=({className:s,...n})=>e.jsx("span",{className:g("ml-auto text-xs tracking-widest opacity-60",s),...n});Sn.displayName="DropdownMenuShortcut";function Mt(){const{t:s}=F(),{setTheme:n}=fE(),t=a=>{n(a)};return e.jsxs(Ze,{children:[e.jsx(Qe,{asChild:!0,children:e.jsxs(D,{variant:"ghost",className:"focus-visible:ring-0",size:"icon",children:[e.jsx(io,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(co,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(qe,{align:"end",children:[e.jsx(Z,{onClick:()=>t("light"),children:s("theme.light")}),e.jsx(Z,{onClick:()=>t("dark"),children:s("theme.dark")}),e.jsx(Z,{onClick:()=>t("system"),children:s("theme.system")})]})]})}const ut=({shouldScaleBackground:s=!0,...n})=>e.jsx(We.Root,{shouldScaleBackground:s,...n});ut.displayName="Drawer";const bn=We.Trigger,LE=We.Portal,FE=We.Close,yn=u.forwardRef(({className:s,...n},t)=>e.jsx(We.Overlay,{ref:t,className:g("fixed inset-0 z-50 bg-black/80",s),...n}));yn.displayName=We.Overlay.displayName;const mt=u.forwardRef(({className:s,children:n,...t},a)=>e.jsxs(LE,{children:[e.jsx(yn,{}),e.jsxs(We.Content,{ref:a,className:g("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s),...t,children:[e.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),n]})]}));mt.displayName="DrawerContent";const ht=({className:s,...n})=>e.jsx("div",{className:g("grid gap-1.5 p-4 text-center sm:text-left",s),...n});ht.displayName="DrawerHeader";const Cn=({className:s,...n})=>e.jsx("div",{className:g("mt-auto flex flex-col gap-2 p-4",s),...n});Cn.displayName="DrawerFooter";const xt=u.forwardRef(({className:s,...n},t)=>e.jsx(We.Title,{ref:t,className:g("text-lg font-semibold leading-none tracking-tight",s),...n}));xt.displayName="DrawerTitle";const wn=u.forwardRef(({className:s,...n},t)=>e.jsx(We.Description,{ref:t,className:g("text-sm text-muted-foreground",s),...n}));wn.displayName="DrawerDescription";const $n=u.forwardRef(({className:s,children:n,...t},a)=>e.jsxs(Tr,{ref:a,className:g("relative z-10 flex max-w-max flex-1 items-center justify-center",s),...t,children:[n,e.jsx(Dn,{})]}));$n.displayName=Tr.displayName;const OE=u.forwardRef(({className:s,...n},t)=>e.jsx(Dr,{ref:t,className:g("group flex flex-1 list-none items-center justify-center space-x-1",s),...n}));OE.displayName=Dr.displayName;const Ke=Wo,_e=cs("group inline-flex h-10 w-max items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors hover:text-accent-foreground focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),ME=u.forwardRef(({className:s,children:n,...t},a)=>e.jsxs(kr,{ref:a,className:g(_e(),"group",s),...t,children:[n," ",e.jsx(es,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));ME.displayName=kr.displayName;const UE=u.forwardRef(({className:s,...n},t)=>e.jsx(Pr,{ref:t,className:g("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",s),...n}));UE.displayName=Pr.displayName;const Tn=qo,Dn=u.forwardRef(({className:s,...n},t)=>e.jsx("div",{className:g("absolute left-0 top-full flex justify-center"),children:e.jsx(Rr,{className:g("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",s),ref:t,...n})}));Dn.displayName=Rr.displayName;const BE=u.forwardRef(({className:s,...n},t)=>e.jsx(Ar,{ref:t,className:g("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",s),...n,children:e.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));BE.displayName=Ar.displayName;function qs(s){const[n,t]=u.useState(!1);return u.useEffect(()=>{function a(l){t(l.matches)}const c=matchMedia(s);return c.addEventListener("change",a),t(c.matches),()=>c.removeEventListener("change",a)},[s]),n}const Ls=u.forwardRef(({className:s,...n},t)=>e.jsx(Er,{ref:t,className:g("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...n}));Ls.displayName=Er.displayName;const Fs=u.forwardRef(({className:s,...n},t)=>e.jsx(_r,{ref:t,className:g("aspect-square h-full w-full",s),...n}));Fs.displayName=_r.displayName;const Os=u.forwardRef(({className:s,...n},t)=>e.jsx(Ir,{ref:t,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...n}));Os.displayName=Ir.displayName;const U=u.forwardRef((s,n)=>e.jsx(D,{className:"rounded-lg shadow-[inset_0_1px_0_rgba(255,255,255,0.2)]",...s,ref:n,size:"icon",children:(()=>{switch(s.icon){case"clipboard":return e.jsx(bo,{});case"check":return e.jsx(Me,{});case"edit":return e.jsx(So,{});case"trash":return e.jsx(vo,{});case"plus":return e.jsx(No,{});case"terminal":return e.jsx(gr,{});case"update":return e.jsx(jo,{});case"folder-closed":return e.jsx(fo,{});case"play":return e.jsx(po,{});case"download":return e.jsx(xr,{});case"upload":return e.jsx(go,{});case"menu":return e.jsx(xo,{});case"ban":return e.jsx(ho,{});case"expand":return e.jsx(mo,{});case"cog":return e.jsx(hr,{});case"minus":return e.jsx(uo,{});case"user-pen":return e.jsx(lo,{});case"more":return e.jsx(ct,{})}})()})),Je=s=>e.jsxs("div",{className:"relative",children:[e.jsx(Tn,{...s,className:_e()+" hover:bg-inherit data-[active]:bg-inherit transition-colors text-foreground/60 data-[active]:text-foreground hover:text-foreground/90"}),s.active&&e.jsx(yo.div,{layoutId:"tab-underline",className:"absolute bottom-0 left-0 right-0 h-[2px] bg-black dark:bg-white"})]}),GE=[{href:"/dashboard",label:L.t("Server")},{href:"/dashboard/service",label:L.t("Service")},{href:"/dashboard/cron",label:L.t("Task")},{href:"/dashboard/notification",label:L.t("Notification")},{href:"/dashboard/ddns",label:L.t("DDNS")},{href:"/dashboard/nat",label:L.t("NATT")},{href:"/dashboard/autossh",label:L.t("AutoSSH")},{href:"/dashboard/server-group",label:L.t("Group")}];function zE(){const{t:s}=F(),{logout:n}=Xe(),t=is(i=>i.profile),a=vs(),c=qs("(min-width: 890px)"),[l,x]=u.useState(!1),[d,m]=u.useState(!1),r=Gs(),o=window.DisableAnimatedMan;return c?e.jsx("header",{className:"flex pt-8 px-4 dark:bg-black/40 bg-muted border-b-[1px] overflow-visible",children:e.jsxs($n,{className:"flex flex-col items-start relative max-w-5xl mx-auto",children:[!o&&e.jsx("img",{className:g("absolute right-0 z-[9999] top-11 w-20 scale-100 pointer-events-none",{hidden:a.pathname==="/dashboard/login"}),alt:"animated-man",src:"/dashboard/animated-man.webp"}),e.jsx("section",{className:"w-full flex items-center  justify-between",children:e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx(Tn,{asChild:!0,className:_e()+" !text-foreground hover:opacity-60 transition-opacity",children:e.jsxs(Q,{to:t?"/dashboard":"#",children:[e.jsx("img",{className:"h-7 mr-1",src:"/dashboard/logo.svg"}),s("nezha")]})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("a",{href:"/",rel:"noopener noreferrer",className:"flex items-center text-nowrap gap-1 text-sm font-medium opacity-50 transition-opacity hover:opacity-100",children:s("BackToHome")}),e.jsx(Mt,{}),t&&e.jsx(e.Fragment,{children:e.jsxs(Ze,{open:d,onOpenChange:m,children:[e.jsx(Qe,{asChild:!0,children:e.jsxs(Ls,{className:"ml-1 h-8 w-8 cursor-pointer border-foreground border-[1px]",children:[e.jsx(Fs,{src:"https://api.dicebear.com/7.x/notionists/svg?seed="+t.username,alt:t.username}),e.jsx(Os,{children:t.username})]})}),e.jsxs(qe,{className:"w-32",children:[e.jsx(rt,{className:"break-all",children:t.username}),e.jsx(gs,{}),e.jsxs(Ot,{children:[e.jsx(Z,{onClick:()=>{m(!1),r("/dashboard/profile")},className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(Dt,{}),s("Profile")]})}),e.jsx(Z,{onClick:()=>{m(!1),r("/dashboard/settings")},className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(kt,{}),s("Settings")]})})]}),e.jsx(gs,{}),e.jsxs(Z,{onClick:n,className:"cursor-pointer",children:[e.jsx(Pt,{}),s("Logout")]})]})]})})]})]})}),e.jsx("div",{className:"flex mt-4 ml-4",children:e.jsx(VE,{})}),e.jsx("div",{className:"flex mt-4 list-none",children:t&&e.jsxs(e.Fragment,{children:[e.jsx(Ke,{children:e.jsx(Je,{asChild:!0,active:a.pathname==="/dashboard",className:_e(),children:e.jsx(Q,{to:"/dashboard",children:s("Server")})})}),e.jsx(Ke,{children:e.jsx(Je,{asChild:!0,active:a.pathname==="/dashboard/service",className:_e(),children:e.jsx(Q,{to:"/dashboard/service",children:s("Service")})})}),e.jsx(Ke,{children:e.jsx(Je,{asChild:!0,active:a.pathname==="/dashboard/cron",className:_e(),children:e.jsx(Q,{to:"/dashboard/cron",children:s("Task")})})}),e.jsx(Ke,{children:e.jsx(Je,{asChild:!0,active:a.pathname==="/dashboard/notification"||a.pathname==="/dashboard/alert-rule",className:_e(),children:e.jsx(Q,{to:"/dashboard/notification",children:s("Notification")})})}),e.jsx(Ke,{children:e.jsx(Je,{asChild:!0,active:a.pathname==="/dashboard/ddns",className:_e(),children:e.jsx(Q,{to:"/dashboard/ddns",children:s("DDNS")})})}),e.jsx(Ke,{children:e.jsx(Je,{asChild:!0,active:a.pathname==="/dashboard/nat",className:_e(),children:e.jsx(Q,{to:"/dashboard/nat",children:s("NATT")})})}),e.jsx(Ke,{children:e.jsx(Je,{asChild:!0,active:a.pathname==="/dashboard/autossh",className:_e(),children:e.jsx(Q,{to:"/dashboard/autossh",children:s("AutoSSH")})})}),e.jsx(Ke,{children:e.jsx(Je,{asChild:!0,active:a.pathname==="/dashboard/server-group"||a.pathname==="/dashboard/notification-group",className:_e(),children:e.jsx(Q,{to:"/dashboard/server-group",children:s("Group")})})})]})})]})}):e.jsxs("header",{className:"flex dark:bg-black/40 bg-muted border-b-[1px] px-4 h-16",children:[e.jsx("div",{className:"flex max-w-max flex-1 items-center justify-center gap-2",children:t&&e.jsxs(ut,{open:l,onOpenChange:x,children:[e.jsx(bn,{"aria-label":"Toggle Menu",asChild:!0,children:e.jsx(U,{icon:"menu",variant:"ghost"})}),e.jsxs(mt,{children:[e.jsxs(ht,{className:"text-left",children:[e.jsx(xt,{children:s("NavigateTo")}),e.jsx(wn,{children:s("SelectAPageToNavigateTo")})]}),e.jsx("div",{className:"grid gap-1 px-4",children:GE.slice(0).map((i,h)=>e.jsx(Q,{to:i.href?i.href:"#",className:"py-1 text-sm",onClick:()=>{x(!1)},children:i.label},h))}),e.jsx(Cn,{children:e.jsx(FE,{asChild:!0,children:e.jsx(D,{variant:"outline",children:s("Close")})})})]})]})}),e.jsxs(Q,{className:"mx-2 my-2 inline-flex w-full items-center",to:t?"/dashboard":"#",children:[e.jsx("img",{className:"h-7 mr-1",src:"/dashboard/logo.svg"})," ",s("nezha")]}),e.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[e.jsx("a",{href:"/",rel:"noopener noreferrer",className:"flex items-center text-nowrap gap-1 text-sm font-medium opacity-50 transition-opacity hover:opacity-100",children:s("BackToHome")}),e.jsx(Mt,{}),t&&e.jsx(e.Fragment,{children:e.jsxs(Ze,{open:d,onOpenChange:m,children:[e.jsx(Qe,{asChild:!0,children:e.jsxs(Ls,{className:"ml-1 h-8 w-8 cursor-pointer border-foreground border-[1px]",children:[e.jsx(Fs,{src:"https://api.dicebear.com/7.x/notionists/svg?seed="+t.username,alt:t.username}),e.jsx(Os,{children:t.username})]})}),e.jsxs(qe,{className:"w-56",children:[e.jsx(rt,{children:t.username}),e.jsx(gs,{}),e.jsxs(Ot,{children:[e.jsx(Z,{onClick:()=>{m(!1),r("/dashboard/profile")},className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(Dt,{}),s("Profile")]})}),e.jsx(Z,{onClick:()=>{m(!1),r("/dashboard/settings")},className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(kt,{}),s("Settings")]})})]}),e.jsx(gs,{}),e.jsxs(Z,{onClick:n,className:"cursor-pointer",children:[e.jsx(Pt,{}),s("Logout"),e.jsx(Sn,{children:"⇧⌘Q"})]})]})]})})]})]})}const HE=(s,n)=>{const t=u.useRef(()=>{});u.useEffect(()=>{t.current=s}),u.useEffect(()=>{{const a=setInterval(()=>t.current(),n);return()=>clearInterval(a)}},[n])};function VE(){const{t:s}=F(),n=is(l=>l.profile),t=Zs.TIME_SIMPLE;t.hour12=!0;const[a,c]=u.useState(Zs.now().setLocale("en-US").toLocaleString(t));return HE(()=>{c(Zs.now().setLocale("en-US").toLocaleString(t))},1e3),e.jsxs("section",{className:"flex flex-col",children:[n&&e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsxs("div",{className:"flex gap-1.5 text-sm font-semibold",children:["👋 Hi, ",n?.username,n?.login_ip&&e.jsxs("p",{className:"font-medium opacity-45",children:["from ",n?.login_ip]})]})}),!n&&e.jsx("p",{className:"text-sm font-semibold",children:s("LoginFirst")}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("p",{className:"text-[13px] font-medium opacity-50",children:s("CurrentTime")}),e.jsx("p",{className:"opacity-100 text-[13px] font-medium",children:a})]})]})}const qE=({...s})=>{const{theme:n="system"}=Co();return e.jsx(wo,{theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})};function bs(){return ke("/api/v1/setting",Pe)}const WE=s=>{const n=document.createElement("div");n.innerHTML=s;const t="data-injected",a=()=>{document.querySelectorAll(`[${t}]`).forEach(r=>r.remove())},c=r=>new Promise((o,i)=>{const h=document.createElement("script");h.src=r.src,h.async=!1,h.setAttribute(t,"true"),h.onload=()=>o(),h.onerror=()=>i(new Error(`Failed to load script: ${r.src}`)),document.head.appendChild(h)}),l=r=>{const o=document.createElement("script");o.textContent=r.textContent,o.setAttribute(t,"true"),document.body.appendChild(o)},x=r=>new Promise((o,i)=>{if(r.href){const h=document.createElement("link");h.rel="stylesheet",h.href=r.href,h.setAttribute(t,"true"),h.onload=()=>o(),h.onerror=()=>i(new Error(`Failed to load stylesheet: ${h.href}`)),document.head.appendChild(h)}else{const h=document.createElement("style");h.textContent=r.textContent,h.setAttribute(t,"true"),document.head.appendChild(h),o()}}),d={SCRIPT:r=>{const o=r;return o.src?c(o):Promise.resolve()},STYLE:r=>x(r),META:r=>{const o=r.cloneNode(!0);return o.setAttribute(t,"true"),document.head.appendChild(o),Promise.resolve()},DEFAULT:r=>(r.setAttribute(t,"true"),document.body.appendChild(r),Promise.resolve())};a();const m=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===Node.ELEMENT_NODE){const o=r;if(o.tagName==="SCRIPT"&&!o.src)l(o);else{const i=d[o.tagName]||d.DEFAULT;m.push(i(o))}}else r.nodeType===Node.TEXT_NODE&&document.body.appendChild(document.createTextNode(r.textContent||""))}),Promise.all(m).then(()=>{console.log("All resources have been injected successfully.")}).catch(r=>{console.error("Error during resource injection:",r)})};function KE(){const{t:s}=F(),{data:n,error:t}=bs();if(u.useEffect(()=>{document.title=n?.config?.site_name||"哪吒监控 Nezha Monitoring"},[n?.config?.site_name]),u.useEffect(()=>{n?.config?.custom_code_dashboard&&WE(n?.config?.custom_code_dashboard)},[n?.config?.custom_code_dashboard]),t)throw t;return n?(n?.config?.language&&!localStorage.getItem("language")&&L.changeLanguage(n?.config?.language),e.jsxs(pE,{defaultTheme:"system",storageKey:"vite-ui-theme",children:[e.jsxs("section",{className:"text-sm mx-auto h-full flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx(zE,{}),e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsx(Zn,{})})]}),e.jsxs("footer",{className:"mx-5 py-5 text-foreground/50 font-light text-xs text-center",children:["© 2019-",new Date().getFullYear()," ",s("nezha")," ",n?.version]})]}),e.jsx(qE,{})]})):null}const os=u.forwardRef(({className:s,...n},t)=>e.jsx("div",{ref:t,className:g("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n}));os.displayName="Card";const Ps=u.forwardRef(({className:s,...n},t)=>e.jsx("div",{ref:t,className:g("flex flex-col space-y-1.5 p-6",s),...n}));Ps.displayName="CardHeader";const Rs=u.forwardRef(({className:s,...n},t)=>e.jsx("h3",{ref:t,className:g("text-2xl font-semibold leading-none tracking-tight",s),...n}));Rs.displayName="CardTitle";const JE=u.forwardRef(({className:s,...n},t)=>e.jsx("p",{ref:t,className:g("text-sm text-muted-foreground",s),...n}));JE.displayName="CardDescription";const as=u.forwardRef(({className:s,...n},t)=>e.jsx("div",{ref:t,className:g("p-6 pt-0",s),...n}));as.displayName="CardContent";const kn=u.forwardRef(({className:s,...n},t)=>e.jsx("div",{ref:t,className:g("flex items-center p-6 pt-0",s),...n}));kn.displayName="CardFooter";function YE(){const s=Qn(),n=Gs();return console.error(s),e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background p-4",children:e.jsxs(os,{className:"w-full max-w-md shadow-2xl rounded-2xl",children:[e.jsxs(as,{className:"pt-6 text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx($o,{className:"h-12 w-12 text-destructive"})}),e.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Oops!"}),e.jsx("p",{className:"text-lg text-muted-foreground/80",children:"Sorry, an unexpected error has occurred."}),e.jsx("div",{className:"p-4 bg-muted/70 rounded-lg",children:e.jsx("p",{className:"text-sm text-destructive font-semibold italic",children:s.statusText||s.message})})]}),e.jsx(kn,{className:"flex justify-center pb-6",children:e.jsx(D,{variant:"default",size:"lg",onClick:()=>n("/dashboard"),children:"Back to Dashboard"})})]})})}const ZE=({children:s})=>{const{profile:n}=Xe();return!n&&window.location.pathname!=="/dashboard/login"?e.jsxs(e.Fragment,{children:[e.jsx(Xn,{to:"/dashboard/login"}),s]}):s},QE=async s=>I(_.POST,"/api/v1/cron",s),XE=async(s,n)=>I(_.PATCH,`/api/v1/cron/${s}`,n),Ut=async s=>I(_.POST,"/api/v1/batch-delete/cron",s),e_=async s=>I(_.GET,`/api/v1/cron/${s}/manual`,null),Ye=Yo,ys=Zo,s_=Ko,Pn=u.forwardRef(({className:s,...n},t)=>e.jsx(Lr,{className:g("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n,ref:t}));Pn.displayName=Lr.displayName;const Ge=u.forwardRef(({className:s,...n},t)=>e.jsxs(s_,{children:[e.jsx(Pn,{}),e.jsx(Fr,{ref:t,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n})]}));Ge.displayName=Fr.displayName;const ze=({className:s,...n})=>e.jsx("div",{className:g("flex flex-col space-y-2 text-center sm:text-left",s),...n});ze.displayName="AlertDialogHeader";const ss=({className:s,...n})=>e.jsx("div",{className:g("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...n});ss.displayName="AlertDialogFooter";const He=u.forwardRef(({className:s,...n},t)=>e.jsx(Jo,{ref:t,className:g("text-lg font-semibold",s),...n}));He.displayName="AlertDialogTitle";const Ve=u.forwardRef(({className:s,...n},t)=>e.jsx(Or,{ref:t,className:g("text-sm text-muted-foreground",s),...n}));Ve.displayName=Or.displayName;const ts=u.forwardRef(({className:s,...n},t)=>e.jsx(Mr,{ref:t,className:g(Ue(),s),...n}));ts.displayName=Mr.displayName;const ds=u.forwardRef(({className:s,...n},t)=>e.jsx(Ur,{ref:t,className:g(Ue({variant:"outline"}),"mt-2 sm:mt-0",s),...n}));ds.displayName=Ur.displayName;function Ie({className:s,children:n,delete:{fn:t,id:a,mutate:c}}){const{t:l}=F(),x=async()=>{try{await t([a])}catch(d){$(l("Error"),{description:d.message})}await c()};return e.jsxs("div",{className:s,children:[n,e.jsxs(Ye,{children:[e.jsx(ys,{asChild:!0,children:e.jsx(U,{variant:"destructive",icon:"trash",className:"text-white"})}),e.jsxs(Ge,{className:"sm:max-w-lg",children:[e.jsxs(ze,{children:[e.jsx(He,{children:l("ConfirmDeletion")}),e.jsx(Ve,{children:l("Results.ThisOperationIsUnrecoverable")})]}),e.jsxs(ss,{children:[e.jsx(ds,{children:l("Close")}),e.jsx(ts,{className:Ue({variant:"destructive",className:"text-white"}),onClick:x,children:l("Confirm")})]})]})]})]})}function t_({className:s,children:n,block:{fn:t,id:a,mutate:c}}){const{t:l}=F(),x=async()=>{try{await t([a])}catch(d){$(l("Error"),{description:d.message})}await c()};return e.jsxs("div",{className:s,children:[n,e.jsxs(Ye,{children:[e.jsx(ys,{asChild:!0,children:e.jsx(U,{variant:"destructive",icon:"ban",className:"text-white"})}),e.jsxs(Ge,{className:"sm:max-w-lg",children:[e.jsxs(ze,{children:[e.jsx(He,{children:l("ConfirmBlock")}),e.jsx(Ve,{children:l("Results.ThisOperationIsUnrecoverable")})]}),e.jsxs(ss,{children:[e.jsx(ds,{children:l("Close")}),e.jsx(ts,{className:Ue({variant:"destructive",className:"text-white"}),onClick:x,children:l("Confirm")})]})]})]})]})}const Ws=u.forwardRef((s,n)=>{const{t}=F(),[a,c]=u.useState(!1),l=async x=>{if(!x){$("Warning",{description:t("EmptyText")});return}a||(c(!0),await Vs(x),setTimeout(()=>{c(!1)},2*1e3))};return e.jsx(U,{...s,ref:n,variant:"outline",size:"icon",icon:a?"check":"clipboard",onClick:()=>l(s.text)})}),M=u.forwardRef(({className:s,...n},t)=>e.jsx(Br,{ref:t,className:g("flex peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...n,children:e.jsx(Qo,{className:g("flex items-center justify-center text-current"),children:e.jsx(Me,{className:"h-4 w-4"})})}));M.displayName=Br.displayName;const Se=qr,be=Wr,r_=zr,ye=dt,Rn=u.forwardRef(({className:s,...n},t)=>e.jsx(Gr,{ref:t,className:g("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n}));Rn.displayName=Gr.displayName;const me=u.forwardRef(({className:s,children:n,...t},a)=>e.jsxs(r_,{children:[e.jsx(Rn,{}),e.jsxs(Hs,{ref:a,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t,children:[n,e.jsxs(dt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ps,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));me.displayName=Hs.displayName;const ae=({className:s,...n})=>e.jsx("div",{className:g("flex flex-col space-y-1.5 text-center sm:text-left",s),...n});ae.displayName="DialogHeader";const he=({className:s,...n})=>e.jsx("div",{className:g("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...n});he.displayName="DialogFooter";const ie=u.forwardRef(({className:s,...n},t)=>e.jsx(Hr,{ref:t,className:g("text-lg font-semibold leading-none tracking-tight",s),...n}));ie.displayName="DialogTitle";const ce=u.forwardRef(({className:s,...n},t)=>e.jsx(Vr,{ref:t,className:g("text-sm text-muted-foreground",s),...n}));ce.displayName="DialogDescription";const n_=cs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),O=u.forwardRef(({className:s,...n},t)=>e.jsx(Kr,{ref:t,className:g(n_(),s),...n}));O.displayName=Kr.displayName;const Ce=ga,An=u.createContext({}),S=({...s})=>e.jsx(An.Provider,{value:{name:s.name},children:e.jsx(pa,{...s})}),Ks=()=>{const s=u.useContext(An),n=u.useContext(En),{getFieldState:t,formState:a}=xa(),c=t(s.name,a);if(!s)throw new Error("useFormField should be used within <FormField>");const{id:l}=n;return{id:l,name:s.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...c}},En=u.createContext({}),N=u.forwardRef(({className:s,...n},t)=>{const a=u.useId();return e.jsx(En.Provider,{value:{id:a},children:e.jsx("div",{ref:t,className:g("space-y-2",s),...n})})});N.displayName="FormItem";const y=u.forwardRef(({className:s,...n},t)=>{const{error:a,formItemId:c}=Ks();return e.jsx(O,{ref:t,className:g(a&&"text-destructive",s),htmlFor:c,...n})});y.displayName="FormLabel";const j=u.forwardRef(({...s},n)=>{const{error:t,formItemId:a,formDescriptionId:c,formMessageId:l}=Ks();return e.jsx(lt,{ref:n,id:a,"aria-describedby":t?`${c} ${l}`:`${c}`,"aria-invalid":!!t,...s})});j.displayName="FormControl";const o_=u.forwardRef(({className:s,...n},t)=>{const{formDescriptionId:a}=Ks();return e.jsx("p",{ref:t,id:a,className:g("text-sm text-muted-foreground",s),...n})});o_.displayName="FormDescription";const v=u.forwardRef(({className:s,children:n,...t},a)=>{const{error:c,formMessageId:l}=Ks(),x=c?String(c?.message):n;return x?e.jsx("p",{ref:a,id:l,className:g("text-sm font-medium text-destructive",s),...t,children:x}):null});v.displayName="FormMessage";const T=u.forwardRef(({className:s,type:n,...t},a)=>e.jsx("input",{type:n,className:g("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...t}));T.displayName="Input";const le=u.forwardRef(({className:s,children:n,...t},a)=>e.jsxs(Jr,{ref:a,className:g("relative overflow-hidden",s),...t,children:[e.jsx(Xo,{className:"h-full w-full rounded-[inherit]",children:n}),e.jsx(_n,{}),e.jsx(ea,{})]}));le.displayName=Jr.displayName;const _n=u.forwardRef(({className:s,orientation:n="vertical",...t},a)=>e.jsx(Yr,{ref:a,orientation:n,className:g("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...t,children:e.jsx(sa,{className:"relative flex-1 rounded-full bg-border"})}));_n.displayName=Yr.displayName;const se=ia,te=ca,X=u.forwardRef(({className:s,children:n,...t},a)=>e.jsxs(Zr,{ref:a,className:g("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[n,e.jsx(ta,{asChild:!0,children:e.jsx(es,{className:"h-4 w-4 opacity-50"})})]}));X.displayName=Zr.displayName;const In=u.forwardRef(({className:s,...n},t)=>e.jsx(Qr,{ref:t,className:g("flex cursor-default items-center justify-center py-1",s),...n,children:e.jsx(To,{className:"h-4 w-4"})}));In.displayName=Qr.displayName;const Ln=u.forwardRef(({className:s,...n},t)=>e.jsx(Xr,{ref:t,className:g("flex cursor-default items-center justify-center py-1",s),...n,children:e.jsx(es,{className:"h-4 w-4"})}));Ln.displayName=Xr.displayName;const ee=u.forwardRef(({className:s,children:n,position:t="popper",...a},c)=>e.jsx(ra,{children:e.jsxs(en,{ref:c,className:g("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...a,children:[e.jsx(In,{}),e.jsx(na,{className:g("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(Ln,{})]})}));ee.displayName=en.displayName;const a_=u.forwardRef(({className:s,...n},t)=>e.jsx(sn,{ref:t,className:g("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...n}));a_.displayName=sn.displayName;const E=u.forwardRef(({className:s,children:n,...t},a)=>e.jsxs(tn,{ref:a,className:g("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(oa,{children:e.jsx(Me,{className:"h-4 w-4"})})}),e.jsx(aa,{children:n})]}));E.displayName=tn.displayName;const i_=u.forwardRef(({className:s,...n},t)=>e.jsx(rn,{ref:t,className:g("-mx-1 my-1 h-px bg-muted",s),...n}));i_.displayName=rn.displayName;const gt=u.forwardRef(({className:s,...n},t)=>e.jsx(je,{ref:t,className:g("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...n}));gt.displayName=je.displayName;const pt=u.forwardRef(({className:s,...n},t)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(Do,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(je.Input,{ref:t,className:g("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...n})]}));pt.displayName=je.Input.displayName;const ft=u.forwardRef(({className:s,...n},t)=>e.jsx(je.List,{ref:t,className:g("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...n}));ft.displayName=je.List.displayName;const jt=u.forwardRef((s,n)=>e.jsx(je.Empty,{ref:n,className:"py-6 text-center text-sm",...s}));jt.displayName=je.Empty.displayName;const Ms=u.forwardRef(({className:s,...n},t)=>e.jsx(je.Group,{ref:t,className:g("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...n}));Ms.displayName=je.Group.displayName;const Fn=u.forwardRef(({className:s,...n},t)=>e.jsx(je.Separator,{ref:t,className:g("-mx-1 h-px bg-border",s),...n}));Fn.displayName=je.Separator.displayName;const rs=u.forwardRef(({className:s,...n},t)=>e.jsx(je.Item,{ref:t,className:g("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s),...n}));rs.displayName=je.Item.displayName;const Us=da,Bs=ua,js=u.forwardRef(({className:s,align:n="center",sideOffset:t=4,...a},c)=>e.jsx(la,{children:e.jsx(nn,{ref:c,align:n,sideOffset:t,className:g("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a})}));js.displayName=nn.displayName;const Nt=u.forwardRef(({options:s,placeholder:n,defaultValue:t,className:a,onValueChange:c,...l},x)=>{const[d,m]=u.useState(!1),[r,o]=u.useState(t);return e.jsxs(Us,{open:d,onOpenChange:m,children:[e.jsx(Bs,{asChild:!0,children:e.jsxs(D,{ref:x,...l,role:"combobox",variant:"outline","aria-expanded":d,className:g("flex w-full justify-between hover:bg-inherit",a),children:[r?(()=>{const i=s.find(h=>h.value===r)?.label;return i?e.jsx("div",{children:i}):e.jsx("div",{className:"text-muted-foreground",children:n})})():e.jsx("div",{className:"text-muted-foreground",children:n}),e.jsx(es,{className:"ml-auto opacity-50"})]})}),e.jsx(js,{className:"w-auto p-0",align:"start",children:e.jsxs(gt,{filter:(i,h,b=[])=>(i+" "+b.join(" ")).toLowerCase().includes(h.toLowerCase())?1:0,children:[e.jsx(pt,{placeholder:n,className:"h-9"}),e.jsxs(ft,{children:[e.jsx(jt,{children:"No result found."}),e.jsx(Ms,{children:s.map(i=>e.jsxs(rs,{value:i.value,keywords:[i.label],onSelect:h=>{o(h===r?"":h),c(h===r?"":h),m(!1)},children:[e.jsx(Me,{className:g("justify-start",r===i.value?"opacity-100":"opacity-0")}),e.jsx("span",{children:i.label})]},i.value))})]})]})})]})}),ne=u.forwardRef(({className:s,...n},t)=>e.jsx("textarea",{className:g("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n}));ne.displayName="Textarea";const c_=cs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Bt({className:s,variant:n,...t}){return e.jsx("div",{className:g(c_({variant:n}),s),...t})}const Ns=u.forwardRef(({className:s,orientation:n="horizontal",decorative:t=!0,...a},c)=>e.jsx(on,{ref:c,decorative:t,orientation:n,className:g("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...a}));Ns.displayName=on.displayName;const Gt=cs("m-1 transition ease-in-out delay-150 hover:-translate-y-1 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),us=u.forwardRef(({options:s,onValueChange:n,variant:t,defaultValue:a=[],placeholder:c="Select options",animation:l=0,maxCount:x=3,modalPopover:d=!1,asChild:m=!1,className:r,...o},i)=>{const[h,b]=u.useState(a),[k,K]=u.useState(!1),[G,f]=u.useState(!1),p=w=>{if(w.key==="Enter")K(!0);else if(w.key==="Backspace"&&!w.currentTarget.value){const z=[...h];z.pop(),b(z),n(z)}},q=w=>{const z=h.includes(w)?h.filter(J=>J!==w):[...h,w];b(z),n(z)},de=()=>{b([]),n([])},B=()=>{K(w=>!w)},$e=()=>{const w=h.slice(0,x);b(w),n(w)},xe=()=>{if(h.length===s.length)de();else{const w=s.map(z=>z.value);b(w),n(w)}},ge=w=>{w.stopPropagation()},A=w=>{w.stopPropagation()};return e.jsxs(Us,{open:k,onOpenChange:K,modal:d,children:[e.jsx(Bs,{asChild:!0,children:e.jsx(D,{ref:i,...o,onClick:B,className:g("flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit [&_svg]:pointer-events-auto",r),children:h.length>0?e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("div",{className:"flex flex-wrap items-center",children:[h.slice(0,x).map(w=>{const z=s.find(oe=>oe.value===w),J=z?.icon;return e.jsxs(Bt,{className:g(G?"animate-bounce":"",Gt({variant:t})),style:{animationDuration:`${l}s`},children:[J&&e.jsx(J,{className:"h-4 w-4 mr-2"}),z?.label,e.jsx(ps,{className:"ml-2 h-2 w-2 cursor-pointer",onClick:oe=>{oe.stopPropagation(),q(w)}})]},w)}),h.length>x&&e.jsxs(Bt,{className:g("bg-transparent text-foreground border-foreground/1 hover:bg-transparent",G?"animate-bounce":"",Gt({variant:t})),style:{animationDuration:`${l}s`},children:[`+ ${h.length-x} more`,e.jsx(ps,{className:"ml-2 h-2 w-2 cursor-pointer",onClick:w=>{w.stopPropagation(),$e()}})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ps,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:w=>{w.stopPropagation(),de()}}),e.jsx(Ns,{orientation:"vertical",className:"flex min-h-6 h-full"}),e.jsx(es,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})]}):e.jsxs("div",{className:"flex items-center justify-between w-full mx-auto",children:[e.jsx("span",{className:"text-sm text-muted-foreground mx-3",children:c}),e.jsx(es,{className:"h-4 cursor-pointer text-muted-foreground mx-2"})]})})}),e.jsx(js,{className:"w-auto p-0",align:"start",onEscapeKeyDown:()=>K(!1),onWheel:ge,onTouchMove:A,children:e.jsxs(gt,{children:[e.jsx(pt,{placeholder:"Search...",onKeyDown:p}),e.jsxs(ft,{children:[e.jsx(jt,{children:"No results found."}),e.jsxs(Ms,{children:[e.jsxs(rs,{onSelect:xe,className:"cursor-pointer",children:[e.jsx("div",{className:g("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",h.length===s.length?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(Me,{className:"h-4 w-4"})}),e.jsx("span",{children:"(Select All)"})]},"all"),s.map(w=>{const z=h.includes(w.value);return e.jsxs(rs,{onSelect:()=>q(w.value),className:"cursor-pointer",children:[e.jsx("div",{className:g("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",z?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(Me,{className:"h-4 w-4"})}),w.icon&&e.jsx(w.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:w.label})]},w.value)})]}),e.jsx(Fn,{}),e.jsx(Ms,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[h.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(rs,{onSelect:de,className:"flex-1 justify-center cursor-pointer",children:"Clear"}),e.jsx(Ns,{orientation:"vertical",className:"flex min-h-6 h-full"})]}),e.jsx(rs,{onSelect:()=>K(!1),className:"flex-1 justify-center cursor-pointer max-w-full",children:"Close"})]})})]})]})}),l>0&&h.length>0&&e.jsx(ko,{className:g("cursor-pointer my-2 text-foreground bg-background w-3 h-3",G?"":"text-muted-foreground"),onClick:()=>f(!G)})]})});us.displayName="MultiSelect";const l_=re({task_type:Y(),name:C().min(1),scheduler:C(),command:P(C()),servers:fe(ue()),cover:Y().int(),push_successful:P(V()),notification_group_id:Y().int()}),zt=({data:s,mutate:n})=>{const{t}=F(),a=Ne({resolver:ve(l_),defaultValues:s?{task_type:s.task_type??0,name:s.name??"",scheduler:s.scheduler??"",command:s.command??"",servers:s.servers??[],cover:s.cover??0,push_successful:s.push_successful??!1,notification_group_id:s.notification_group_id??0}:{task_type:0,name:"",scheduler:"",command:"",servers:[],cover:0,push_successful:!1,notification_group_id:0},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async i=>{try{s?.id?await XE(s.id,i):await QE(i)}catch(h){console.error(h),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await n(),a.reset()},{servers:d}=ls(),m=d?.map(i=>({value:`${i.id}`,label:i.name}))||[{value:"",label:""}],{notifierGroup:r}=Ss(),o=r?.map(i=>({value:`${i.group.id}`,label:i.group.name}))||[{value:"",label:""}];return e.jsxs(Se,{open:c,onOpenChange:l,children:[e.jsx(be,{asChild:!0,children:s?e.jsx(U,{variant:"outline",icon:"edit"}):e.jsx(U,{icon:"plus"})}),e.jsx(me,{className:"sm:max-w-xl",children:e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:t(s?"EditTask":"CreateTask")}),e.jsx(ce,{})]}),e.jsx(Ce,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(S,{control:a.control,name:"name",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(T,{placeholder:"My Task",...i})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"task_type",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Type")}),e.jsxs(se,{onValueChange:i.onChange,defaultValue:`${i.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(te,{placeholder:"Select task type"})})}),e.jsx(ee,{children:Object.entries(jn).map(([h,b])=>e.jsx(E,{value:h,children:b},h))})]}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"scheduler",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("CronExpression")}),e.jsx(j,{children:e.jsx(T,{placeholder:"0 0 3 * * * (At 3 AM)",...i})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"command",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Command")}),e.jsx(j,{children:e.jsx(ne,{className:"resize-y",...i})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"cover",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Coverage")}),e.jsxs(se,{onValueChange:i.onChange,defaultValue:`${i.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(te,{})})}),e.jsx(ee,{children:Object.entries(SE).map(([h,b])=>e.jsx(E,{value:h,children:b},h))})]}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"servers",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("SpecificServers")}),e.jsx(j,{children:e.jsx(us,{options:m,onValueChange:h=>{const b=h.map(Number);i.onChange(b)},defaultValue:i.value?.map(String)})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"notification_group_id",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("NotifierGroup")}),e.jsx(j,{children:e.jsx(Nt,{placeholder:"Search...",options:o,onValueChange:i.onChange,defaultValue:i.value.toString()})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"push_successful",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(O,{className:"text-sm",children:t("PushSuccessful")})]})}),e.jsx(v,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(D,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function Le({className:s,children:n,delete:{fn:t,id:a,mutate:c}}){const{t:l}=F(),x=async()=>{try{await t(a)}catch(d){$(l("Error"),{description:d.message})}await c()};return e.jsx("div",{className:s,children:a.length<1?e.jsxs(e.Fragment,{children:[e.jsx(U,{variant:"destructive",icon:"trash",className:"text-white",onClick:()=>{$(l("Error"),{description:l("Results.NoRowsAreSelected")})}}),n]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ye,{children:[e.jsx(ys,{asChild:!0,children:e.jsx(U,{variant:"destructive",icon:"trash",className:"text-white"})}),e.jsxs(Ge,{className:"sm:max-w-lg",children:[e.jsxs(ze,{children:[e.jsx(He,{children:l("ConfirmDeletion")}),e.jsx(Ve,{children:l("Results.ThisOperationIsUnrecoverable")})]}),e.jsxs(ss,{children:[e.jsx(ds,{children:l("Close")}),e.jsx(ts,{className:Ue({variant:"destructive",className:"text-white"}),onClick:x,children:l("Confirm")})]})]})]}),n]})})}function d_({className:s,children:n,block:{fn:t,id:a,mutate:c}}){const{t:l}=F(),x=async()=>{try{await t(a)}catch(d){$(l("Error"),{description:d.message})}await c()};return e.jsx("div",{className:s,children:a.length<1?e.jsxs(e.Fragment,{children:[e.jsx(U,{variant:"destructive",icon:"ban",className:"text-white",onClick:()=>{$(l("Error"),{description:l("Results.NoRowsAreSelected")})}}),n]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ye,{children:[e.jsx(ys,{asChild:!0,children:e.jsx(U,{variant:"destructive",icon:"ban",className:"text-white"})}),e.jsxs(Ge,{className:"sm:max-w-lg",children:[e.jsxs(ze,{children:[e.jsx(He,{children:l("ConfirmBlock")}),e.jsx(Ve,{children:l("Results.ThisOperationIsUnrecoverable")})]}),e.jsxs(ss,{children:[e.jsx(ds,{children:l("Close")}),e.jsx(ts,{className:Ue({variant:"destructive",className:"text-white"}),onClick:x,children:l("Confirm")})]})]})]}),n]})})}const Re=u.forwardRef(({className:s,...n},t)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:t,className:g("w-full caption-bottom text-sm",s),...n})}));Re.displayName="Table";const Ae=u.forwardRef(({className:s,...n},t)=>e.jsx("thead",{ref:t,className:g("[&_tr]:border-b",s),...n}));Ae.displayName="TableHeader";const Ee=u.forwardRef(({className:s,...n},t)=>e.jsx("tbody",{ref:t,className:g("[&_tr:last-child]:border-0",s),...n}));Ee.displayName="TableBody";const u_=u.forwardRef(({className:s,...n},t)=>e.jsx("tfoot",{ref:t,className:g("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...n}));u_.displayName="TableFooter";const R=u.forwardRef(({className:s,...n},t)=>e.jsx("tr",{ref:t,className:g("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...n}));R.displayName="TableRow";const we=u.forwardRef(({className:s,...n},t)=>e.jsx("th",{ref:t,className:g("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...n}));we.displayName="TableHead";const H=u.forwardRef(({className:s,...n},t)=>e.jsx("td",{ref:t,className:g("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...n}));H.displayName="TableCell";const m_=u.forwardRef(({className:s,...n},t)=>e.jsx("caption",{ref:t,className:g("mt-4 text-sm text-muted-foreground",s),...n}));m_.displayName="TableCaption";function h_(){const{t:s}=F(),{data:n,mutate:t,error:a,isLoading:c}=ke("/api/v1/cron",Pe);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:r})=>e.jsx(M,{checked:r.getIsAllPageRowsSelected()||r.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>r.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:r})=>e.jsx(M,{checked:r.getIsSelected(),onCheckedChange:o=>r.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:r=>r.id},{header:s("Name"),accessorKey:"name",cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.name})}},{header:s("Type"),accessorKey:"taskType",accessorFn:r=>jn[r.task_type]||""},{header:s("CronExpression"),accessorKey:"scheduler",accessorFn:r=>r.scheduler},{header:s("Command"),accessorKey:"command",cell:({row:r})=>{const o=r.original;return e.jsx(Ws,{text:o.command})}},{header:s("NotifierGroup"),accessorKey:"ngroup",accessorFn:r=>r.notification_group_id},{header:s("SendSuccessNotification"),accessorKey:"pushSuccessful",accessorFn:r=>r.push_successful??!1},{header:s("Coverage"),accessorKey:"cover",accessorFn:r=>r.cover,cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:(()=>{switch(o.cover){case 0:return e.jsx("span",{children:s("IgnoreAll")});case 1:return e.jsx("span",{children:s("CoverAll")});case 2:return e.jsx("span",{children:s("OnAlert")})}})()})}},{header:s("SpecificServers"),accessorKey:"servers",accessorFn:r=>r.servers,cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-16 whitespace-normal break-words",children:e.jsx("span",{children:(o.servers||[]).join(",")})})}},{header:s("LastExecution"),accessorKey:"lastExecution",accessorFn:r=>r.last_executed_at,cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:o.last_executed_at})}},{header:s("Result"),accessorKey:"lastResult",accessorFn:r=>r.last_result??!1},{id:"actions",header:s("Actions"),cell:({row:r})=>{const o=r.original;return e.jsx(Ie,{className:"flex gap-2",delete:{fn:Ut,id:o.id,mutate:t},children:e.jsxs(e.Fragment,{children:[e.jsx(U,{variant:"outline",icon:"play",onClick:async()=>{try{await e_(o.id)}catch(i){console.error(i),$(s("Error"),{description:s("Results.UnExpectedError")}),await t();return}$(s("Success"),{description:s("Results.TaskTriggeredSuccessfully")}),await t()}}),e.jsx(zt,{mutate:t,data:o})]})})}}],x=u.useMemo(()=>n??[],[n]),d=Te({data:x,columns:l,getCoreRowModel:De()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full gap-3 mt-6 mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("Task")}),e.jsx(Le,{className:"flex gap-2 flex-wrap shrink-0",delete:{fn:Ut,id:m.map(r=>r.original.id),mutate:t},children:e.jsx(zt,{mutate:t})})]}),e.jsxs(Re,{children:[e.jsx(Ae,{children:d.getHeaderGroups().map(r=>e.jsx(R,{children:r.headers.map(o=>e.jsx(we,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},r.id))}),e.jsx(Ee,{children:c?e.jsx(R,{children:e.jsxs(H,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(r=>e.jsx(R,{"data-state":r.getIsSelected()&&"selected",children:r.getVisibleCells().map(o=>e.jsx(H,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},r.id)):e.jsx(R,{children:e.jsx(H,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}var vt=(s=>(s[s.LOGIN=1]="LOGIN",s[s.BIND=2]="BIND",s))(vt||{});const On=async(s,n)=>I(_.GET,`/api/v1/oauth2/${s}`,{type:n}),x_=async s=>I(_.POST,`/api/v1/oauth2/${s}/unbind`);function g_(s){return e.jsx("svg",{viewBox:"0 0 496 512",fill:"currentColor",...s,children:e.jsx("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})})}const p_=re({username:C().min(2,{message:L.t("Results.UsernameMin",{number:2})}),password:C().min(1,{message:L.t("Results.PasswordRequired")})});function f_(){const{login:s,loginOauth2:n}=Xe(),{data:t}=bs();u.useEffect(()=>{new URLSearchParams(window.location.search).get("oauth2")&&n()},[window.location.search]);const a=Ne({resolver:ve(p_),defaultValues:{username:"",password:""}});function c(d){s(d.username,d.password)}async function l(d){try{const m=await On(d,vt.LOGIN);window.location.href=m.redirect}catch(m){$.error(m.message)}}const{t:x}=F();return e.jsxs("div",{className:"mt-28 sm:max-w-sm m-auto max-w-xs",children:[e.jsxs(Ce,{...a,children:[e.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-8",children:[e.jsx(S,{control:a.control,name:"username",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:x("Username")}),e.jsx(j,{children:e.jsx(T,{placeholder:"admin",autoComplete:"username",...d})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"password",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:x("Password")}),e.jsx(j,{children:e.jsx(T,{type:"password",placeholder:"admin",autoComplete:"current-password",...d})}),e.jsx(v,{})]})}),e.jsx(D,{type:"submit",className:"w-full rounded-lg shadow-[inset_0_1px_0_rgba(255,255,255,0.2)]",children:x("Login")})]}),t?.config?.oauth2_providers&&t?.config?.oauth2_providers.length>0&&e.jsxs("section",{className:"flex items-center my-3 w-full",children:[e.jsx(Ns,{className:"flex-1"}),e.jsx("div",{className:"flex justify-center text-xs text-muted-foreground w-full max-w-[100px]",children:"OAuth2"}),e.jsx(Ns,{className:"flex-1"})]})]}),e.jsx("div",{className:"mt-3 flex flex-col gap-3",children:t?.config?.oauth2_providers?.map(d=>e.jsxs(D,{className:"w-full rounded-lg shadow-[inset_0_1px_0_rgba(255,255,255,0.2)] bg-muted text-primary hover:bg-muted/80 hover:text-primary/80",onClick:()=>l(d),children:[d==="GitHub"&&e.jsx(g_,{className:"size-4"}),d]}))})]})}const j_=({serverIds:s,...n})=>{const{t}=F(),[a,c]=u.useState(!1),[l,x]=u.useState(void 0),d=async()=>{try{await cE({ids:s,to_user:l})}catch(m){console.error(m),$(t("Error"),{description:t("Results.UnExpectedError")});return}$(t("Done")),c(!1)};return s.length<1?e.jsx(U,{...n,icon:"user-pen",onClick:()=>{$(t("Error"),{description:t("Results.NoRowsAreSelected")})}}):e.jsxs(Se,{open:a,onOpenChange:c,children:[e.jsx(be,{asChild:!0,children:e.jsx(U,{...n,icon:"user-pen"})}),e.jsx(me,{className:"sm:max-w-xl",children:e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:t("BatchMoveServer")}),e.jsx(ce,{})]}),e.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[e.jsx(O,{children:t("Servers")}),e.jsx(ne,{disabled:!0,children:s.join(", ")}),e.jsx(O,{children:t("ToUser")}),e.jsx(T,{type:"number",placeholder:"User ID",value:l,onChange:m=>{x(parseInt(m.target.value,10))}}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:t("Cancel")})}),e.jsx(D,{disabled:!l||l==0,type:"submit",className:"my-2",onClick:d,children:t("Move")})]})]})]})})})]})},Ht=u.forwardRef(({uuid:s,iconOnly:n=!1,menuItem:t=!1,...a},c)=>{const[l,x]=u.useState(!1),{data:d}=bs(),{profile:m}=Xe(),{t:r}=F(),o=async i=>{if(!l)try{if(x(!0),!m)throw new Error("Profile is not found.");if(!d?.config)throw new Error("Settings is not found.");await Vs(N_(i,d.config,m,s)||"")}catch(h){console.error(h),$(r("Error"),{description:h.message})}finally{setTimeout(()=>{x(!1)},2*1e3)}};return e.jsxs(Ze,{children:[e.jsx(Qe,{asChild:!0,children:t?e.jsxs("button",{type:"button",className:"flex w-full items-center text-sm px-2 py-2 hover:bg-accent hover:text-accent-foreground",title:L.t("InstallCommands"),children:[l?e.jsx(Me,{className:"h-4 w-4 mr-2"}):e.jsx(Rt,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:L.t("InstallCommands")})]}):n?e.jsx(D,{ref:c,title:L.t("InstallCommands"),size:"icon",...a,children:l?e.jsx(Me,{className:"h-4 w-4"}):e.jsx(xr,{className:"h-4 w-4"})}):e.jsxs(D,{ref:c,title:L.t("InstallCommands"),...a,children:[l?e.jsx(Me,{className:"h-4 w-4"}):e.jsx(Rt,{className:"h-4 w-4"}),e.jsx("span",{className:"ml-2",children:L.t("InstallCommands")})]})}),e.jsxs(qe,{side:t?"right":void 0,align:t?"start":void 0,children:[e.jsx(Z,{className:"nezha-copy",onClick:async()=>{o(1)},children:"Linux"}),e.jsx(Z,{className:"nezha-copy",onClick:async()=>{o(2)},children:"macOS"}),e.jsx(Z,{className:"nezha-copy",onClick:async()=>{o(3)},children:"Windows"})]})]})}),N_=(s,{install_host:n,tls:t},{agent_secret:a},c)=>{if(!n)throw new Error(L.t("Results.InstallHostRequired"));if(!a)throw new Error(L.t("Results.AgentSecretRequired"));const l=[`NZ_SERVER=${n}`,`NZ_TLS=${t||!1}`,`NZ_CLIENT_SECRET=${a}`];c&&l.push(`NZ_UUID=${c}`);const x=l.join(" "),d=[`$env:NZ_SERVER="${n}";`,`$env:NZ_TLS="${t||!1}";`,`$env:NZ_CLIENT_SECRET="${a}";`];c&&d.push(`$env:NZ_UUID="${c}";`);const m=d.join("");switch(s){case 1:case 2:return`curl -L https://raw.githubusercontent.com/nezhahq/scripts/main/agent/install.sh -o agent.sh && chmod +x agent.sh && env ${x} ./agent.sh`;case 3:return`${m} [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Ssl3 -bor [Net.SecurityProtocolType]::Tls -bor [Net.SecurityProtocolType]::Tls11 -bor [Net.SecurityProtocolType]::Tls12;set-ExecutionPolicy RemoteSigned;Invoke-WebRequest https://raw.githubusercontent.com/nezhahq/scripts/main/agent/install.ps1 -OutFile C:install.ps1;powershell.exe C:install.ps1`;default:throw new Error(`Unknown OS: ${s}`)}},v_=u.forwardRef((s,n)=>{const{t}=F(),[a,c]=u.useState(!1),l=async x=>{if(!x){$("Warning",{description:t("EmptyNote")});return}a||(c(!0),await Vs(x),setTimeout(()=>{c(!1)},2*1e3))};return e.jsxs(Ze,{children:[e.jsx(Qe,{asChild:!0,children:e.jsx(U,{...s,ref:n,variant:"outline",size:"icon",icon:a?"check":"clipboard"})}),e.jsxs(qe,{children:[e.jsx(Z,{onClick:()=>{l(s.note.private)},children:t("Private")}),e.jsx(Z,{onClick:()=>{l(s.note.public)},children:t("Public")})]})]})});function Vt({className:s,classNames:n,showOutsideDays:t=!0,captionLayout:a="label",buttonVariant:c="ghost",formatters:l,components:x,...d}){const m=pr();return e.jsx(Po,{showOutsideDays:t,className:g("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,s),captionLayout:a,formatters:{formatMonthDropdown:r=>r.toLocaleString("default",{month:"short"}),...l},classNames:{root:g("w-fit",m.root),months:g("relative flex flex-col gap-4 md:flex-row",m.months),month:g("flex w-full flex-col gap-4",m.month),nav:g("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",m.nav),button_previous:g(Ue({variant:c}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",m.button_previous),button_next:g(Ue({variant:c}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",m.button_next),month_caption:g("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",m.month_caption),dropdowns:g("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",m.dropdowns),dropdown_root:g("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",m.dropdown_root),dropdown:g("bg-popover absolute inset-0 opacity-0",m.dropdown),caption_label:g("select-none font-medium",a==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",m.caption_label),table:"w-full border-collapse",weekdays:g("flex",m.weekdays),weekday:g("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",m.weekday),week:g("mt-2 flex w-full",m.week),week_number_header:g("w-[--cell-size] select-none",m.week_number_header),week_number:g("text-muted-foreground select-none text-[0.8rem]",m.week_number),day:g("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",m.day),range_start:g("bg-accent rounded-l-md",m.range_start),range_middle:g("rounded-none",m.range_middle),range_end:g("bg-accent rounded-r-md",m.range_end),today:g("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",m.today),outside:g("text-muted-foreground aria-selected:text-muted-foreground",m.outside),disabled:g("text-muted-foreground opacity-50",m.disabled),hidden:g("invisible",m.hidden),...n},components:{Root:({className:r,rootRef:o,...i})=>e.jsx("div",{"data-slot":"calendar",ref:o,className:g(r),...i}),Chevron:({className:r,orientation:o,...i})=>o==="left"?e.jsx(fr,{className:g("size-4",r),...i}):o==="right"?e.jsx(zs,{className:g("size-4",r),...i}):e.jsx(es,{className:g("size-4",r),...i}),DayButton:S_,WeekNumber:({children:r,...o})=>e.jsx("td",{...o,children:e.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:r})}),...x},...d})}function S_({className:s,day:n,modifiers:t,...a}){const c=pr(),l=u.useRef(null);return u.useEffect(()=>{t.focused&&l.current?.focus()},[t.focused]),e.jsx(D,{ref:l,variant:"ghost",size:"icon","data-day":n.date.toLocaleDateString(),"data-selected-single":t.selected&&!t.range_start&&!t.range_end&&!t.range_middle,"data-range-start":t.range_start,"data-range-end":t.range_end,"data-range-middle":t.range_middle,className:g("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",c.day,s),...a})}const As=u.forwardRef(({className:s,...n},t)=>e.jsx(an,{className:g("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...n,ref:t,children:e.jsx(ma,{className:g("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));As.displayName=an.displayName;const St=re({billingDataMod:re({startDate:C().optional(),endDate:C().optional(),autoRenewal:C().optional(),cycle:C().optional(),amount:C().optional()}).optional(),planDataMod:re({bandwidth:C().optional(),trafficVol:C().optional(),trafficType:C().optional(),IPv4:C().optional(),IPv6:C().optional(),networkRoute:C().optional(),extra:C().optional()}).optional()}),st={},qt=s=>{if(!s||s==="0000-00-00T23:59:59+08:00")return!0;const n=new Date(s);return!isNaN(n.getTime())},Wt=s=>{if(!s)return;if(s==="0000-00-00T23:59:59+08:00")return s;const n=new Date(s);return isNaN(n.getTime())?s:n.toISOString()},Kt=s=>{if(!s)return st;try{const n=JSON.parse(s),t=St.safeParse(n);return t.success?t.data:st}catch{return st}},b_=s=>{const n={};return s.billingDataMod?.autoRenewal&&!/^(0|1)$/.test(s.billingDataMod.autoRenewal)&&(n["billing.autoRenewal"]=L.t("Validation.MustBe0Or1")),s.billingDataMod?.cycle&&!/^(Day|Week|Month|Year)$/i.test(s.billingDataMod.cycle)&&(n["billing.cycle"]=L.t("Validation.MustBeDayWeekMonthYear")),s.planDataMod?.trafficType&&!/^(1|2)$/.test(s.planDataMod.trafficType)&&(n["plan.trafficType"]=L.t("Validation.MustBe1Or2")),s.planDataMod?.IPv4!==void 0&&!/^(0|1)$/.test(s.planDataMod.IPv4)&&(n["plan.IPv4"]=L.t("Validation.MustBe0Or1")),s.planDataMod?.IPv6!==void 0&&!/^(0|1)$/.test(s.planDataMod.IPv6)&&(n["plan.IPv6"]=L.t("Validation.MustBe0Or1")),s.billingDataMod?.startDate&&!qt(s.billingDataMod.startDate)&&(n["billing.startDate"]=L.t("Validation.InvalidDate")),s.billingDataMod?.endDate&&!qt(s.billingDataMod.endDate)&&(n["billing.endDate"]=L.t("Validation.InvalidDate")),{errors:n,valid:Object.keys(n).length===0}},y_=s=>{if(!s)return"raw";try{const n=JSON.parse(s);return St.strict().safeParse(n).success?"structured":"raw"}catch{return"raw"}},Mn=(s,n,t)=>{const a=n.split("."),c=structuredClone?structuredClone(s):JSON.parse(JSON.stringify(s));let l=c;for(let x=0;x<a.length-1;x++){const d=a[x];l[d]={...l[d]??{}},l=l[d]}return l[a[a.length-1]]=t,c},C_=(s,n,t)=>{const a=n.split("."),c=structuredClone?structuredClone(s):JSON.parse(JSON.stringify(s));let l=c;for(let o=0;o<a.length-1;o++){const i=a[o];if(l=l[i],!l)break}const x=a[a.length-1],d=l?l[x]:void 0,m=new Date(t);if(d){const o=new Date(d);isNaN(o.getTime())||m.setHours(o.getHours(),o.getMinutes(),o.getSeconds(),0)}let r=c;for(let o=0;o<a.length-1;o++){const i=a[o];r[i]={...r[i]??{}},r=r[i]}return r[x]=m.toISOString(),c},w_=s=>{const n="0000-00-00T23:59:59+08:00",a=s.billingDataMod?.endDate===n?"":n;return Mn(s,"billingDataMod.endDate",a)},$_=re({name:C().min(1),note:P(C()),public_note:P(C().refine(s=>{const n=(s??"").trim();if(n.length===0)return!0;try{const t=JSON.parse(n);return St.safeParse(t).success}catch{return!0}},{message:"Invalid Public Note JSON"})),display_index:Y().int(),hide_for_guest:P(V()),enable_ddns:P(V()),ddns_profiles:P(fe(ue())),ddns_profiles_raw:P(C()),override_ddns_domains:P(fs(C(),fe(C()))),override_ddns_domains_raw:P(C().refine(s=>{try{return JSON.parse(s),!0}catch{return!1}},{message:"Invalid JSON string"}))}),T_=({data:s,mutate:n})=>{const{t}=F(),a=Ne({resolver:ve($_),defaultValues:{...s,ddns_profiles_raw:s.ddns_profiles?pe.arrToStr(s.ddns_profiles):void 0,override_ddns_domains_raw:s.override_ddns_domains?JSON.stringify(s.override_ddns_domains):void 0},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),[x,d]=u.useState(Kt(s?.public_note)),[m,r]=u.useState({}),[o,i]=u.useState(y_(s?.public_note)),[h,b]=u.useState(s?.public_note??""),k=(p,q)=>{d(de=>Mn(de,p,q))},K=(p,q)=>{d(de=>C_(de,p,q))},G=()=>{d(p=>w_(p))},f=async p=>{try{if(p.ddns_profiles=p.ddns_profiles_raw?pe.strToArr(p.ddns_profiles_raw).map(Number):void 0,p.override_ddns_domains=p.override_ddns_domains_raw?JSON.parse(p.override_ddns_domains_raw):void 0,o==="raw"){const q=(h??"").trim();q.length===0?p.public_note=void 0:p.public_note=q}else{const{errors:q,valid:de}=b_(x);if(!de){r(q),$(t("Error"),{description:t("Validation.InvalidForm")});return}r({});const B=x.billingDataMod,$e=x.planDataMod,xe={billingDataMod:B&&{...B,startDate:Wt(B.startDate),endDate:Wt(B.endDate)},planDataMod:$e},ge=JSON.stringify(xe);p.public_note=ge.length>2?ge:void 0}await iE(s.id,p)}catch(q){console.error(q),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await n(),a.reset()};return e.jsxs(Se,{open:c,onOpenChange:l,children:[e.jsx(be,{asChild:!0,children:e.jsx(U,{variant:"outline",icon:"edit"})}),e.jsx(me,{className:"sm:max-w-xl",onInteractOutside:p=>p.preventDefault(),onEscapeKeyDown:p=>p.preventDefault(),children:e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:t("EditServer")}),e.jsx(ce,{})]}),e.jsx(Ce,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(f),className:"space-y-2 my-2",children:[e.jsx(S,{control:a.control,name:"name",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(T,{placeholder:"My Server",...p})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"display_index",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Weight")}),e.jsx(j,{children:e.jsx(T,{type:"number",placeholder:"0",...p})}),e.jsx(v,{})]})}),a.watch("enable_ddns")?e.jsxs(e.Fragment,{children:[e.jsx(S,{control:a.control,name:"ddns_profiles_raw",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("DDNSProfiles")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(T,{placeholder:"1,2,3",...p})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"override_ddns_domains_raw",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("OverrideDDNSDomains")}),e.jsx(j,{children:e.jsx(ne,{className:"resize-y",...p})}),e.jsx(v,{})]})})]}):e.jsx(e.Fragment,{}),e.jsx(S,{control:a.control,name:"enable_ddns",render:({field:p})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:p.value,onCheckedChange:p.onChange}),e.jsx(O,{className:"text-sm",children:t("EnableDDNS")})]})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"hide_for_guest",render:({field:p})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:p.value,onCheckedChange:p.onChange}),e.jsx(O,{className:"text-sm",children:t("HideForGuest")})]})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"note",render:({field:p})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Private")+t("Note")}),e.jsx(j,{children:e.jsx(ne,{className:"resize-none",...p})}),e.jsx(v,{})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"space-y-1",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{children:t("PublicNote.Label")}),e.jsx("a",{href:"https://nezha.wiki/guide/servers.html#%E5%85%AC%E5%BC%80%E5%A4%87%E6%B3%A8%E8%AE%BE%E7%BD%AE",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-muted-foreground hover:text-foreground",children:e.jsx(Ro,{className:"h-4 w-4"})})]})})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{type:"button",variant:o==="structured"?"default":"outline",className:"text-xs h-7",onClick:()=>{i("structured"),d(Kt(h))},children:t("PublicNote.CustomFields")}),e.jsx(D,{type:"button",variant:o==="raw"?"default":"outline",className:"text-xs h-7",onClick:()=>i("raw"),children:t("PublicNote.RawText")})]})}),o==="raw"&&e.jsx("div",{children:e.jsx(ne,{className:"resize-y",value:h,onChange:p=>b(p.target.value),rows:10})}),o==="structured"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rounded-md border p-3 space-y-3",children:[e.jsx("div",{className:"text-sm font-medium opacity-80",children:t("PublicNote.Billing")}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(O,{className:"text-xs",children:t("PublicNote.StartDate")}),e.jsx(D,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700 ml-2",onClick:()=>k("billingDataMod.startDate",void 0),children:t("PublicNote.ClearDate")??"Clear"}),e.jsxs(Us,{children:[e.jsx(Bs,{asChild:!0,children:e.jsx(D,{variant:"outline",className:"w-full justify-start text-left font-normal",children:x.billingDataMod?.startDate?new Date(x.billingDataMod.startDate).toLocaleDateString():"YYYY-MM-DD"})}),e.jsx(js,{className:"p-0 w-[300px] max-h-[60dvh] overflow-hidden",align:"start",children:e.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:e.jsx(Vt,{className:"w-full min-h-[320px]",mode:"single",captionLayout:"dropdown",startMonth:new Date(2e3,0),endMonth:new Date(2050,11),selected:x.billingDataMod?.startDate?new Date(x.billingDataMod.startDate):void 0,onSelect:p=>{p&&K("billingDataMod.startDate",p)},autoFocus:!0})})})]}),m["billing.startDate"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["billing.startDate"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"text-xs",children:t("PublicNote.EndDate")}),e.jsx(D,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:G,children:x.billingDataMod?.endDate==="0000-00-00T23:59:59+08:00"?t("PublicNote.CancelNoExpiry"):t("PublicNote.SetNoExpiry")}),e.jsx(D,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>k("billingDataMod.endDate",void 0),children:t("PublicNote.ClearDate")??"Clear"})]}),e.jsxs(Us,{children:[e.jsx(Bs,{asChild:!0,children:e.jsx(D,{variant:"outline",className:"w-full justify-start text-left font-normal",children:x.billingDataMod?.endDate?x.billingDataMod?.endDate==="0000-00-00T23:59:59+08:00"?t("PublicNote.NoExpiry"):new Date(x.billingDataMod?.endDate).toLocaleDateString():"YYYY-MM-DD"})}),e.jsx(js,{className:"p-0 w-[300px] max-h-[60dvh] overflow-hidden",align:"start",children:e.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:e.jsx(Vt,{className:"w-full min-h-[320px]",mode:"single",captionLayout:"dropdown",startMonth:new Date(2e3,0),endMonth:new Date(2050,11),selected:x.billingDataMod?.endDate&&x.billingDataMod?.endDate!=="0000-00-00T23:59:59+08:00"?new Date(x.billingDataMod?.endDate):void 0,onSelect:p=>{p&&K("billingDataMod.endDate",p)},autoFocus:!0})})})]}),m["billing.endDate"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["billing.endDate"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(O,{className:"text-xs",children:t("PublicNote.AutoRenewal")})}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("span",{className:"text-xs",children:t("PublicNote.Disabled")}),e.jsx(As,{checked:x.billingDataMod?.autoRenewal==="1",onCheckedChange:p=>k("billingDataMod.autoRenewal",p?"1":void 0)}),e.jsx("span",{className:"text-xs",children:t("PublicNote.Enabled")})]}),m["billing.autoRenewal"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["billing.autoRenewal"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"text-xs",children:t("PublicNote.Cycle")}),e.jsx(D,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>k("billingDataMod.cycle",void 0),children:t("PublicNote.Clear")??"Clear"})]}),e.jsxs(se,{onValueChange:p=>k("billingDataMod.cycle",p),value:x.billingDataMod?.cycle,children:[e.jsx(X,{children:e.jsx(te,{placeholder:"Select cycle"})}),e.jsxs(ee,{children:[e.jsx(E,{value:"Day",children:t("PublicNote.Day")}),e.jsx(E,{value:"Week",children:t("PublicNote.Week")}),e.jsx(E,{value:"Month",children:t("PublicNote.Month")}),e.jsx(E,{value:"Year",children:t("PublicNote.Year")})]})]}),m["billing.cycle"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["billing.cycle"]})]}),e.jsxs("div",{className:"space-y-1 sm:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"text-xs",children:t("PublicNote.Amount")}),e.jsx(D,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>k("billingDataMod.amount","0"),children:t("PublicNote.Free")}),e.jsx(D,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>k("billingDataMod.amount","-1"),children:t("PublicNote.PayAsYouGo")})]}),e.jsx(T,{placeholder:"200EUR",value:x.billingDataMod?.amount,onChange:p=>k("billingDataMod.amount",p.target.value)})]})]})]}),e.jsxs("div",{className:"rounded-md border p-3 space-y-3",children:[e.jsx("div",{className:"text-sm font-medium opacity-80",children:t("PublicNote.Plan")}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(O,{className:"text-xs",children:t("PublicNote.Bandwidth")}),e.jsx(T,{placeholder:"30Mbps",value:x.planDataMod?.bandwidth,onChange:p=>k("planDataMod.bandwidth",p.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(O,{className:"text-xs",children:t("PublicNote.TrafficVolume")}),e.jsx(T,{placeholder:"1TB/Month",value:x.planDataMod?.trafficVol,onChange:p=>k("planDataMod.trafficVol",p.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"text-xs",children:t("PublicNote.TrafficType")}),e.jsx(D,{type:"button",variant:"outline",className:"text-xs px-2 py-0 h-auto bg-gray-200 dark:bg-gray-700",onClick:()=>k("planDataMod.trafficType",void 0),children:t("PublicNote.Clear")??"Clear"})]}),e.jsxs(se,{onValueChange:p=>k("planDataMod.trafficType",p),value:x.planDataMod?.trafficType??"",children:[e.jsx(X,{children:e.jsx(te,{placeholder:"Select type"})}),e.jsxs(ee,{children:[e.jsx(E,{value:"1",children:t("PublicNote.Inbound")}),e.jsx(E,{value:"2",children:t("PublicNote.Both")})]})]}),m["plan.trafficType"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["plan.trafficType"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(O,{className:"text-xs",children:t("PublicNote.IPv4")}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs",children:t("PublicNote.None")}),e.jsx(As,{checked:x.planDataMod?.IPv4==="1",onCheckedChange:p=>k("planDataMod.IPv4",p?"1":"0")}),e.jsx("span",{className:"text-xs",children:t("PublicNote.Has")})]}),m["plan.IPv4"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["plan.IPv4"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(O,{className:"text-xs",children:t("PublicNote.IPv6")}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs",children:t("PublicNote.None")}),e.jsx(As,{checked:x.planDataMod?.IPv6==="1",onCheckedChange:p=>k("planDataMod.IPv6",p?"1":"0")}),e.jsx("span",{className:"text-xs",children:t("PublicNote.Has")})]}),m["plan.IPv6"]&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:m["plan.IPv6"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(O,{className:"text-xs",children:t("PublicNote.NetworkRoute")}),e.jsx(T,{placeholder:t("PublicNote.CommaSeparated"),value:x.planDataMod?.networkRoute??"",onChange:p=>k("planDataMod.networkRoute",p.target.value)})]}),e.jsxs("div",{className:"space-y-1 sm:col-span-2",children:[e.jsx(O,{className:"text-xs",children:t("PublicNote.Extra")}),e.jsx(T,{placeholder:t("PublicNote.CommaSeparated"),value:x.planDataMod?.extra??"",onChange:p=>k("planDataMod.extra",p.target.value)})]})]})]})]})]}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(D,{type:"submit",className:"my-2",children:t("Submit")})]})]})})]})})})]})},D_=re({debug:P(V()),disable_auto_update:P(V()),disable_command_execute:P(V()),disable_force_update:P(V()),disable_nat:P(V()),disable_send_query:P(V()),gpu:P(V()),hard_drive_partition_allowlist:P(fe(C())),hard_drive_partition_allowlist_raw:P(C().refine(s=>{try{return JSON.parse(s),!0}catch{return!1}},{message:"Invalid JSON string"})),ip_report_period:P(Y().int().min(30)),nic_allowlist:P(fs(C(),V())),nic_allowlist_raw:P(C().refine(s=>{try{return JSON.parse(s),!0}catch{return!1}},{message:"Invalid JSON string"})),report_delay:P(Y().int().min(1).max(4)),skip_connection_count:P(V()),skip_procs_count:P(V()),temperature:P(V())}),Jt=["disable_auto_update","disable_command_execute","disable_force_update","disable_nat","disable_send_query","gpu","temperature","skip_connection_count","skip_procs_count","debug"],Un=[];for(let s=0;s<Jt.length;s+=2)Un.push(Jt.slice(s,s+2));const k_=({sid:s,menuItem:n=!1,...t})=>{const{t:a}=F(),[c,l]=u.useState(void 0),[x,d]=u.useState(!0),[m,r]=u.useState(!1);u.useEffect(()=>{m&&(async()=>{try{const b=await uE(s);l(JSON.parse(b))}catch(b){console.error(b),$(a("Error"),{description:b.message}),r(!1);return}finally{d(!1)}})()},[m]);const o=Ne({resolver:ve(D_),defaultValues:{...c,hard_drive_partition_allowlist_raw:JSON.stringify(c?.hard_drive_partition_allowlist),nic_allowlist_raw:JSON.stringify(c?.nic_allowlist)},resetOptions:{keepDefaultValues:!1}});u.useEffect(()=>{c&&o.reset({...c,hard_drive_partition_allowlist_raw:JSON.stringify(c.hard_drive_partition_allowlist),nic_allowlist_raw:JSON.stringify(c.nic_allowlist)})},[c,o]);const i=async h=>{let b={};try{h.nic_allowlist=h.nic_allowlist_raw?JSON.parse(h.nic_allowlist_raw):void 0,h.hard_drive_partition_allowlist=h.hard_drive_partition_allowlist_raw?JSON.parse(h.hard_drive_partition_allowlist_raw):void 0,b=await xn({config:JSON.stringify(h),servers:[s]})}catch(k){console.error(k),$(a("Error"),{description:a("Results.UnExpectedError")});return}$(a("Done"),{description:a("Results.ForceUpdate")+(b.success?.length?a("Success")+` [${b.success.join(",")}]`:"")+(b.failure?.length?a("Failure")+` [${b.failure.join(",")}]`:"")+(b.offline?.length?a("Offline")+` [${b.offline.join(",")}]`:"")}),r(!1),o.reset()};return e.jsxs(Se,{open:m,onOpenChange:r,children:[e.jsx(be,{asChild:!0,children:n?e.jsxs("button",{type:"button",className:"flex w-full items-center text-sm px-2 py-2 hover:bg-accent hover:text-accent-foreground",onClick:()=>r(!0),children:[e.jsx(hr,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:a("Config")})]}):e.jsx(U,{...t,icon:"cog"})}),e.jsx(me,{className:"sm:max-w-xl",children:x?e.jsx("div",{className:"items-center mx-1",children:e.jsxs(ae,{children:[e.jsx(ie,{children:"Loading..."}),e.jsx(ce,{})]})}):e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:a("EditServerConfig")}),e.jsx(ce,{})]}),e.jsx(Ce,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(i),className:"space-y-2 my-2",children:[e.jsx(S,{control:o.control,name:"ip_report_period",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:"ip_report_period"}),e.jsx(j,{children:e.jsx(T,{type:"number",placeholder:"0",...h})}),e.jsx(v,{})]})}),e.jsx(S,{control:o.control,name:"report_delay",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:"report_delay"}),e.jsx(j,{children:e.jsx(T,{type:"number",placeholder:"0",...h})}),e.jsx(v,{})]})}),e.jsx(S,{control:o.control,name:"hard_drive_partition_allowlist_raw",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:"hard_drive_partition_allowlist"}),e.jsx(j,{children:e.jsx(ne,{className:"resize-y",...h})}),e.jsx(v,{})]})}),e.jsx(S,{control:o.control,name:"nic_allowlist_raw",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:"nic_allowlist"}),e.jsx(j,{children:e.jsx(ne,{className:"resize-y",...h})}),e.jsx(v,{})]})}),Un.map((h,b)=>e.jsx("div",{className:"flex gap-8",children:h.map(k=>e.jsx(S,{control:o.control,name:k,render:({field:K})=>e.jsxs(N,{className:"flex items-center w-full",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:!!K.value,onCheckedChange:K.onChange}),e.jsx(O,{className:"text-sm",children:a(k)})]})}),e.jsx(v,{})]})},k))},b)),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:a("Close")})}),e.jsx(D,{type:"submit",className:"my-2",children:a("Submit")})]})]})})]})})})]})},P_=({property:s,setData:n})=>{const[t,a]=u.useState({}),{t:c}=F();return u.useEffect(()=>{n(t)},[t,n]),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx(U,{icon:"plus",onClick:()=>{const[l,x]=s;if(l&&x){const d={...t};d[l]=JSON.parse(x),a(d)}}}),e.jsx(U,{icon:"minus",variant:"destructive",onClick:()=>{const[l]=s;if(l){const x={...t};x[l]=void 0,a(x)}}})]}),e.jsx(O,{children:c("Preview")}),e.jsx(ne,{value:JSON.stringify(t,null,2),readOnly:!0})]})},R_=({sid:s,...n})=>{const{t}=F(),[a,c]=u.useState({}),[l,x]=u.useState(!1),[d,m]=u.useState(""),[r,o]=u.useState(""),i=async()=>{let h={};try{h=await xn({config:JSON.stringify(a),servers:s})}catch(b){console.error(b),$(t("Error"),{description:t("Results.UnExpectedError")});return}$(t("Done"),{description:t("Results.ForceUpdate")+(h.success?.length?t("Success")+` [${h.success.join(",")}]`:"")+(h.failure?.length?t("Failure")+` [${h.failure.join(",")}]`:"")+(h.offline?.length?t("Offline")+` [${h.offline.join(",")}]`:"")}),x(!1)};return s.length<1?e.jsx(U,{...n,icon:"cog",onClick:()=>{$(t("Error"),{description:t("Results.NoRowsAreSelected")})}}):e.jsxs(Se,{open:l,onOpenChange:x,children:[e.jsx(be,{asChild:!0,children:e.jsx(U,{...n,icon:"cog"})}),e.jsx(me,{className:"sm:max-w-xl",children:e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:t("EditServerConfig")}),e.jsx(ce,{})]}),e.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[e.jsx(O,{children:t("Option")}),e.jsx(T,{type:"text",placeholder:"option",value:d,onChange:h=>{m(h.target.value)}}),e.jsx(O,{children:t("Value")}),e.jsx(ne,{className:"resize-y",value:r,onChange:h=>{o(h.target.value)}}),e.jsx(P_,{property:[d,r],setData:c}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(D,{type:"submit",className:"my-2",onClick:i,children:t("Submit")})]})]})]})})})]})},A_=async s=>I(_.POST,"/api/v1/terminal",{server_id:s});function E_(s){const[n,t]=u.useState(null);async function a(){try{const c=await A_(s);t(c)}catch(c){console.error("Failed to fetch terminal:",c)}}return u.useEffect(()=>{s&&a()},[s]),n}const __=async s=>I(_.GET,`/api/v1/file?id=${s}`,null),Bn=u.forwardRef(({...s},n)=>e.jsx("nav",{ref:n,"aria-label":"breadcrumb",...s}));Bn.displayName="Breadcrumb";const Gn=u.forwardRef(({className:s,...n},t)=>e.jsx("ol",{ref:t,className:g("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",s),...n}));Gn.displayName="BreadcrumbList";const Es=u.forwardRef(({className:s,...n},t)=>e.jsx("li",{ref:t,className:g("inline-flex items-center gap-1.5",s),...n}));Es.displayName="BreadcrumbItem";const I_=u.forwardRef(({asChild:s,className:n,...t},a)=>{const c=s?lt:"a";return e.jsx(c,{ref:a,className:g("transition-colors hover:text-foreground",n),...t})});I_.displayName="BreadcrumbLink";const zn=u.forwardRef(({className:s,...n},t)=>e.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:g("font-normal text-foreground",s),...n}));zn.displayName="BreadcrumbPage";const _s=({children:s,className:n,...t})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:g("[&>svg]:w-3.5 [&>svg]:h-3.5",n),...t,children:s??e.jsx(zs,{})});_s.displayName="BreadcrumbSeparator";const Hn=({className:s,...n})=>e.jsxs("span",{role:"presentation","aria-hidden":"true",className:g("flex h-9 w-9 items-center justify-center",s),...n,children:[e.jsx(ct,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"More"})]});Hn.displayName="BreadcrumbElipssis";const tt=3;function L_(s){const n=s.split("/").filter(Boolean),t=[];let a="";return n.forEach(c=>{a+=`/${c}`,t.push({href:a,label:c})}),t}const F_=({path:s,setPath:n})=>{const[t,a]=u.useState(!1),c=L_(vn(s));return e.jsx(Bn,{children:e.jsxs(Gn,{children:[e.jsx(Es,{children:e.jsx("p",{className:"cursor-pointer hover:text-white transition",onClick:()=>{n("/")},children:"/"})}),e.jsx(_s,{}),c.length>tt?e.jsxs(e.Fragment,{children:[e.jsx(Es,{children:e.jsxs(Ze,{open:t,onOpenChange:a,children:[e.jsx(Qe,{className:"flex items-center gap-1","aria-label":"Toggle menu",children:e.jsx(Hn,{className:"h-4 w-4"})}),e.jsx(qe,{align:"start",children:c.slice(0,-tt).map((l,x)=>e.jsx(Z,{children:e.jsx("p",{onClick:()=>{n(l.href)},children:l.label})},x))})]})}),e.jsx(_s,{})]}):null,c.slice(-tt).map((l,x,d)=>e.jsxs(u.Fragment,{children:[e.jsx(Es,{className:"overflow-auto",children:l.href?e.jsx(e.Fragment,{children:e.jsx("p",{className:"max-w-20 truncate md:max-w-none cursor-pointer hover:text-white transition",onClick:()=>{n(l.href)},children:l.label})}):e.jsx(zn,{className:"max-w-20 truncate md:max-w-none",children:l.label})}),x!==d.length-1?e.jsx(_s,{}):null]},x))]})})},O_=qr,M_=Wr,U_=zr,B_=cs("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Vn=u.forwardRef(({side:s="right",className:n,children:t,setOpen:a,...c},l)=>e.jsx(U_,{children:e.jsxs(Hs,{ref:l,className:g(B_({side:s}),n),...c,children:[t,e.jsxs(dt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(ps,{className:"h-4 w-4",onClick:()=>{a(!1)}}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})}));Vn.displayName=Hs.displayName;const qn=({className:s,...n})=>e.jsx("div",{className:g("flex flex-col space-y-2 text-center sm:text-left",s),...n});qn.displayName="SheetHeader";const Wn=u.forwardRef(({className:s,...n},t)=>e.jsx(Hr,{ref:t,className:g("text-lg font-semibold text-foreground",s),...n}));Wn.displayName="SheetTitle";const nt=u.forwardRef(({className:s,...n},t)=>e.jsx(Vr,{ref:t,className:g("text-sm text-muted-foreground",s),...n}));nt.displayName="SheetDescription";const Kn=u.forwardRef(({className:s,...n},t)=>e.jsx("table",{ref:t,className:g("w-full caption-bottom text-sm",s),...n}));Kn.displayName="TableComponent";const G_=s=>function(t){const a=t["data-index"],c=s[a];return c?e.jsx(R,{"data-state":c.getIsSelected()&&"selected",className:"translate-y-[50%]",...t,children:c.getVisibleCells().map(l=>e.jsx(H,{children:W(l.column.columnDef.cell,l.getContext())},l.id))},c.id):null};function z_({isSorted:s}){return s?e.jsx("div",{children:{asc:"↑",desc:"↓"}[s]}):null}function H_({columns:s,data:n,rowComponent:t}){const[a,c]=u.useState([{id:"type",desc:!0}]),l=Te({data:n,columns:s,state:{sorting:a},onSortingChange:c,getCoreRowModel:De(),getSortedRowModel:Ao()}),{rows:x}=l.getRowModel(),[d,m]=u.useState(0),r=u.useRef(null),o=qs("(min-width: 640px)");return u.useEffect(()=>{const i=()=>{if(r.current){const h=r.current;let b=0,k=h;for(;k;)b+=k.offsetTop||0,k=k.offsetParent;const G=window.innerHeight-b;m(G)}};return i(),o&&window.addEventListener("resize",i),()=>{o&&window.removeEventListener("resize",i)}},[o]),e.jsx("div",{className:"rounded-md border",ref:r,style:{height:d},children:e.jsx(Eo,{totalCount:x.length,components:{Table:Kn,TableRow:t?t(x):G_(x),Scroller:le},fixedHeaderContent:()=>l.getHeaderGroups().map(i=>e.jsx(R,{className:"bg-card hover:bg-muted",children:i.headers.map(h=>e.jsx(we,{colSpan:h.colSpan,style:{width:h.getSize()},children:h.isPlaceholder?null:e.jsxs("div",{className:"flex items-center",style:h.column.getCanSort()?{cursor:"pointer",userSelect:"none"}:{},onClick:h.column.getToggleSortingHandler(),children:[W(h.column.columnDef.header,h.getContext()),e.jsx(z_,{isSorted:h.column.getIsSorted()})]})},h.id))},i.id))})})}const Ds=(s,n)=>{if(s.length!==n.length)return!1;for(let t=0;t<s.length;t++)if(s[t]!==n[t])return!1;return!0},Yt=({wsUrl:s,...n})=>{const{t}=F(),a=u.useRef(null),c=u.useRef(null);u.useEffect(()=>()=>{c.current?.close()},[]);const[l,x]=u.useState(!1),[d,m]=u.useState(!1),r=[{id:"type",header:()=>e.jsx("span",{children:t("Type")}),accessorFn:A=>A.type,cell:({row:A})=>A.original.type==0?e.jsx(_o,{size:24}):e.jsx(Io,{size:24})},{header:()=>e.jsx("span",{children:t("Name")}),id:"name",accessorFn:A=>A.name,cell:({row:A})=>e.jsx("div",{className:"max-w-48 text-sm whitespace-normal break-words",children:A.original.name}),size:5e3},{header:()=>e.jsx("span",{children:t("Actions")}),id:"download",cell:({row:A})=>A.original.type==0?e.jsx(U,{variant:"ghost",icon:"download",onClick:()=>{l||x(!0),de(A.original.name)}}):e.jsx(D,{size:"icon",variant:"ghost",className:"pointer-events-none"})}],o=A=>function(z){const J=z["data-index"],oe=A[J];return oe?e.jsx(R,{"data-state":oe.getIsSelected()&&"selected",onClick:()=>{oe.original.type===1&&p(`${f}/${oe.original.name}`)},className:oe.original.type===1?"cursor-pointer":"cursor-default",...z,children:oe.getVisibleCells().map(Fe=>e.jsx(H,{children:W(Fe.column.columnDef.cell,Fe.getContext())},Fe.id))},oe.id):null},[i,h]=u.useState([]),b=u.useRef(!0),k=u.useRef(!1),K=u.useRef("temp"),G=async()=>{for(;!k.current;)await new Promise(A=>setTimeout(A,10))};u.useEffect(()=>{const A=new URL(s,window.location.origin);A.protocol=A.protocol.replace("http","ws");const w=new WebSocket(A);c.current=w,w.binaryType="arraybuffer",w.onopen=()=>{q()},w.onclose=z=>{console.log("WebSocket connection closed:",z)},w.onerror=z=>{console.error(z),$("Websocket "+t("Error"),{description:t("Results.UnExpectedError")})},w.onmessage=async z=>{try{const J=new Uint8Array(z.data,0,4);if(Ds(J,Ts.error)){const oe=z.data.slice(4),Fe=new TextDecoder("utf-8").decode(oe);throw new Error(Fe)}if(b.current)if(Ds(J,Ts.file))xs.postMessage({operation:1,arrayBuffer:z.data,fileName:K.current}),b.current=!1;else if(Ds(J,Ts.fileName)){const{path:oe,fmList:Fe}=await et.parseFMList(z.data);p(oe),h(Fe)}else if(Ds(J,Ts.complete))m(!1),q();else throw new Error(t("Results.UnknownIdentifier"));else await G(),xs.postMessage({operation:2,arrayBuffer:z.data,fileName:K.current})}catch(J){console.error("Error processing received data:",J),$("FM "+t("Error"),{description:t("Results.UnExpectedError")}),x(!1),m(!1)}}},[s]),u.useEffect(()=>{xs.onmessage=async w=>{switch(w.data.type){case ks.Error:{console.error("Error from worker",w.data.error);break}case ks.Progress:{k.current=!0;break}case ks.Result:{if(k.current=!1,w.data.blob&&w.data.fileName){const z=URL.createObjectURL(w.data.blob),J=document.createElement("a");J.href=z,J.download=w.data.fileName,J.click(),URL.revokeObjectURL(z)}b.current=!0,l&&x(!1);break}}};const A=()=>{xs.postMessage({operation:3})};return window.addEventListener("beforeunload",A),()=>{window.removeEventListener("beforeunload",A)}},[xs,l]);const[f,p]=u.useState("");u.useEffect(()=>{c.current&&c.current.readyState===WebSocket.OPEN&&q()},[c.current,f]);const q=()=>{const A=new Int8Array([Is.List]),w=new TextEncoder().encode(f),z=new Int8Array(A.length+w.length);z.set(A),z.set(w,A.length),c.current?.send(z)},de=A=>{K.current=A;const w=new Int8Array([Is.Download]),z=new TextEncoder().encode(`${f}/${A}`),J=new Int8Array(w.length+z.length);J.set(w),J.set(z,w.length),c.current?.send(J)},B=async A=>{let z=0;const J=et.buildUploadHeader({path:f,file:A});for(c.current?.send(J);z<A.size;){const oe=A.slice(z,z+1048576),Fe=await et.readFileAsArrayBuffer(oe);Fe&&c.current?.send(Fe),z+=1048576}},$e=u.useRef(null),[xe,ge]=u.useState("");return e.jsxs("div",{ref:a,...n,children:[e.jsxs("div",{className:"flex justify-center items-center gap-4",children:[e.jsxs(Ye,{children:[e.jsxs(Ze,{children:[e.jsx(Qe,{asChild:!0,children:e.jsx(U,{variant:"ghost",icon:"menu"})}),e.jsxs(qe,{children:[e.jsx(Z,{onClick:q,children:t("Refresh")}),e.jsx(Z,{onClick:async()=>{try{await Vs(vn(f))}catch(A){$("FM "+t("Error"),{description:A.message}),console.error("copy error: ",A)}},children:t("CopyPath")}),e.jsx(ys,{asChild:!0,children:e.jsx(Z,{children:t("Goto")})})]})]}),e.jsxs(Ge,{children:[e.jsxs(ze,{children:[e.jsx(He,{children:t("Goto")}),e.jsx(Ve,{})]}),e.jsx(T,{className:"mb-1",placeholder:"Path",value:xe,onChange:A=>{ge(A.target.value)}}),e.jsxs(ss,{children:[e.jsx(ds,{children:t("Close")}),e.jsx(ts,{onClick:()=>{p(xe)},children:t("Confirm")})]})]})]}),e.jsx("h1",{className:"text-base",children:t("FileManager")}),e.jsxs("div",{className:"ml-auto",children:[e.jsx("input",{ref:$e,type:"file",className:"hidden",onChange:async A=>{const w=A.target.files;w&&w.length>0&&(d||m(!0),await B(w[0]))}}),e.jsx(U,{icon:"upload",variant:"ghost",onClick:()=>{$e.current&&$e.current.click()}})]})]}),e.jsx(F_,{path:f,setPath:p}),e.jsx(Ye,{open:l,children:e.jsx(Ge,{children:e.jsxs(ze,{children:[e.jsxs(He,{children:[t("Downloading"),"..."]}),e.jsx(Ve,{})]})})}),e.jsx(Ye,{open:d,children:e.jsx(Ge,{children:e.jsxs(ze,{children:[e.jsxs(He,{children:[t("Uploading"),"..."]}),e.jsx(Ve,{})]})})}),e.jsx(H_,{columns:r,data:i,rowComponent:o})]})},V_=({id:s})=>{const{t:n}=F(),[t,a]=u.useState(!1),[c,l]=u.useState(null),[x,d]=u.useState(!1),m=qs("(min-width: 640px)"),r=async()=>{if(s){try{d(!1);const o=await __(s);l(o)}catch(o){$(n("Error"),{description:n("Results.UnExpectedError")}),console.error("fetch error",o);return}d(!0)}};return m?e.jsxs(O_,{modal:!1,open:t,onOpenChange:o=>{o&&a(!0)},children:[e.jsx(M_,{asChild:!0,children:e.jsx(U,{icon:"folder-closed",onClick:r})}),e.jsx(Vn,{setOpen:a,className:"min-w-[35%]",children:e.jsxs("div",{className:"overflow-auto",children:[e.jsx(Wn,{}),e.jsx(qn,{className:"pb-2",children:e.jsx(nt,{})}),c?.session_id&&x?e.jsx(Yt,{className:"p-1 space-y-5",wsUrl:`/api/v1/ws/file/${c.session_id}`}):e.jsx("p",{children:n("Results.TheServerDoesNotOnline")})]})})]}):e.jsxs(ut,{children:[e.jsx(bn,{asChild:!0,children:e.jsx(U,{icon:"folder-closed",onClick:r})}),e.jsx(mt,{className:"min-h-[60%] p-4",children:e.jsxs("div",{className:"overflow-auto",children:[e.jsx(xt,{}),e.jsx(ht,{className:"pb-2",children:e.jsx(nt,{})}),c?.session_id&&x?e.jsx(Yt,{className:"p-1 space-y-5",wsUrl:`/api/v1/ws/file/${c.session_id}`}):e.jsx("p",{children:n("Results.TheServerDoesNotOnline")})]})})]})},q_=u.forwardRef(({wsUrl:s,setClose:n,...t},a)=>{const c=u.useRef(null),l=u.useRef(null),x=u.useRef(null);u.useImperativeHandle(a,()=>({...c.current,async requestFullscreen(){await c.current?.requestFullscreen()}}),[]),u.useEffect(()=>()=>{x.current?.close(),l.current?.dispose()},[]),u.useEffect(()=>{l.current=new Lo.Terminal({cursorBlink:!0,fontSize:16});const i=new URL(s,window.location.origin);i.protocol=i.protocol.replace("http","ws");const h=new WebSocket(i);x.current=h,h.binaryType="arraybuffer",h.onopen=()=>{o()},h.onclose=()=>{l.current?.dispose(),n(!0)},h.onerror=b=>{console.error(b),$("Websocket error",{description:"View console for details."})}},[s]);const d=u.useRef(new Fo.FitAddon).current,m=u.useRef(!1),r=()=>{if(!c.current)return;d.fit();const i=d.proposeDimensions();if(i){const h=new Int8Array([1]),b=new TextEncoder().encode(JSON.stringify({Rows:i.rows,Cols:i.cols})),k=new Int8Array(h.length+b.length);k.set(h),k.set(b,h.length),x.current?.send(k)}},o=async()=>{if(!m.current){m.current=!0;try{await PE(1500),r()}catch(i){console.error("resize error",i)}finally{m.current=!1}}};return u.useEffect(()=>{if(!x.current||!c.current||!l.current)return;const i=new Oo.AttachAddon(x.current);return l.current.loadAddon(i),l.current.loadAddon(d),l.current.open(c.current),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o),x.current&&x.current.close()}},[x.current,l.current,c.current]),e.jsx("div",{ref:c,...t})}),W_=()=>{const{id:s}=eo(),[n,t]=u.useState(!1),a=E_(s?parseInt(s):void 0),c=u.useRef(null);return e.jsxs("div",{className:"px-8",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx("h1",{className:"flex-1 text-3xl font-bold tracking-tight",children:`Terminal (${s})`}),e.jsxs("div",{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",children:[e.jsx(U,{icon:"expand",onClick:async()=>{await c.current?.requestFullscreen()}}),e.jsx(V_,{id:s})]})]}),a?.session_id?e.jsx(q_,{ref:c,className:"max-h-[60%] mb-5 overflow-auto",wsUrl:`/api/v1/ws/terminal/${a?.session_id}`,setClose:t}):e.jsx("p",{children:"The server does not exist, or have not been connected yet."}),e.jsx(Ye,{open:n,onOpenChange:t,children:e.jsxs(Ge,{className:"sm:max-w-lg",children:[e.jsxs(ze,{children:[e.jsx(He,{children:"Session completed"}),e.jsx(Ve,{children:"You may close this window now."})]}),e.jsx(ss,{children:e.jsx(ts,{asChild:!0,children:e.jsx(D,{onClick:window.close,children:"Close"})})})]})})]})},K_=({id:s,menuItem:n=!1})=>{const{t}=F(),a=()=>{window.open(`/dashboard/terminal/${s}`,"_blank")};return n?e.jsxs("button",{type:"button",onClick:a,className:"flex w-full items-center text-sm px-2 py-2 hover:bg-accent hover:text-accent-foreground",children:[e.jsx(gr,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:t("Terminal")})]}):e.jsx(U,{variant:"outline",icon:"terminal",onClick:a})};function J_(){const{t:s}=F(),{data:n,mutate:t,error:a,isLoading:c}=ke("/api/v1/server",Pe,{revalidateOnFocus:!1,revalidateOnReconnect:!1}),{serverGroups:l}=ls();u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const x=[{id:"select",header:({table:o})=>e.jsx(M,{checked:o.getIsAllPageRowsSelected()||o.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:i=>o.toggleAllPageRowsSelected(!!i),"aria-label":"Select all"}),cell:({row:o})=>e.jsx(M,{checked:o.getIsSelected(),onCheckedChange:i=>o.toggleSelected(!!i),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:o=>`${o.id}(${o.display_index})`},{header:s("Name"),accessorKey:"name",accessorFn:o=>o.name,cell:({row:o})=>{const i=o.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:i.name})}},{header:s("Group"),accessorKey:"groups",accessorFn:o=>l?.filter(i=>i.servers?.includes(o.id)).map(i=>i.group.id)||[]},{id:"ip",header:"IP",cell:({row:o})=>{const i=o.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:RE(i.geoip?.ip)})}},{header:s("Version"),accessorKey:"host.version",accessorFn:o=>o.host.version||s("Unknown")},{header:s("EnableDDNS"),accessorKey:"enableDDNS",accessorFn:o=>o.enable_ddns??!1},{header:s("HideForGuest"),accessorKey:"hideForGuest",accessorFn:o=>o.hide_for_guest??!1},{id:"note",header:s("Note"),cell:({row:o})=>{const i=o.original;return e.jsx(v_,{note:{private:i.note,public:i.public_note}})}},{id:"uuid",header:"UUID",cell:({row:o})=>{const i=o.original;return e.jsx(Ws,{text:i.uuid})}},{id:"actions",header:s("Actions"),cell:({row:o})=>{const i=o.original;return e.jsx(Ie,{className:"flex gap-2",delete:{fn:Lt,id:i.id,mutate:t},children:e.jsxs(e.Fragment,{children:[e.jsx(T_,{mutate:t,data:i}),e.jsxs(Ze,{children:[e.jsx(Qe,{asChild:!0,children:e.jsx(U,{icon:"more",variant:"outline","aria-label":"More actions"})}),e.jsxs(qe,{align:"end",children:[e.jsx(Z,{asChild:!0,children:e.jsx(K_,{id:i.id,menuItem:!0})}),e.jsx(Z,{asChild:!0,children:e.jsx(k_,{sid:i.id,variant:"ghost",menuItem:!0})}),e.jsx(Z,{asChild:!0,children:e.jsx(Ht,{uuid:i.uuid,menuItem:!0})})]})]})]})})}}],d=u.useMemo(()=>n??[],[n]),m=Te({data:d,columns:x,getCoreRowModel:De()}),r=m.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full gap-3 mt-6 mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("Server")}),e.jsxs(Le,{className:"flex gap-2 flex-wrap shrink-0",delete:{fn:Lt,id:r.map(o=>o.original.id),mutate:t},children:[e.jsx(U,{icon:"update",onClick:async()=>{const o=r.map(h=>h.original.id);if(o.length<1){$(s("Error"),{description:s("Results.SelectAtLeastOneServer")});return}let i={};try{i=await lE(o)}catch(h){console.error(h),$(s("Error"),{description:s("Results.UnExpectedError")});return}$(s("Done"),{description:s("Results.ForceUpdate")+(i.success?.length?s("Success")+` [${i.success.join(",")}]`:"")+(i.failure?.length?s("Failure")+` [${i.failure.join(",")}]`:"")+(i.offline?.length?s("Offline")+` [${i.offline.join(",")}]`:"")})}}),e.jsx(j_,{serverIds:r.map(o=>o.original.id)}),e.jsx(R_,{sid:r.map(o=>o.original.id),className:"shadow-[inset_0_1px_0_rgba(255,255,255,0.2)] bg-yellow-600 text-white hover:bg-yellow-500 dark:hover:bg-yellow-700 rounded-lg"}),e.jsx(Ht,{className:"shadow-[inset_0_1px_0_rgba(255,255,255,0.2)] bg-blue-700 text-white hover:bg-blue-600 dark:hover:bg-blue-800 rounded-lg"})]})]}),e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs(Re,{className:"min-w-[960px]",children:[e.jsx(Ae,{className:"sticky top-0 bg-background z-10",children:m.getHeaderGroups().map(o=>e.jsx(R,{children:o.headers.map(i=>e.jsx(we,{className:"text-sm",children:i.isPlaceholder?null:W(i.column.columnDef.header,i.getContext())},i.id))},o.id))}),e.jsx(Ee,{children:c?e.jsx(R,{children:e.jsxs(H,{colSpan:x.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):m.getRowModel().rows?.length?m.getRowModel().rows.map(o=>e.jsx(R,{"data-state":o.getIsSelected()&&"selected",children:o.getVisibleCells().map(i=>e.jsx(H,{className:"text-xsm",children:W(i.column.columnDef.cell,i.getContext())},i.id))},o.id)):e.jsx(R,{children:e.jsx(H,{colSpan:x.length,className:"h-24 text-center",children:s("NoResults")})})})]})})]})}const Y_=async s=>I(_.POST,"/api/v1/service",s),Z_=async(s,n)=>I(_.PATCH,`/api/v1/service/${s}`,n),Zt=async s=>I(_.POST,"/api/v1/batch-delete/service",s),Q_=re({cover:Y().int().min(0),duration:Y().int().min(30),enable_show_in_service:P(V()),enable_trigger_task:P(V()),fail_trigger_tasks:fe(ue()),fail_trigger_tasks_raw:C(),latency_notify:P(V()),max_latency:Y().int().min(0),min_latency:Y().int().min(0),name:C().min(1),notification_group_id:Y().int(),notify:P(V()),recover_trigger_tasks:fe(ue()),recover_trigger_tasks_raw:C(),skip_servers:fs(C(),V()),skip_servers_raw:fe(C()),target:C(),type:Y().int().min(0)}),Qt=({data:s,mutate:n})=>{const{t}=F(),a=Ne({resolver:ve(Q_),defaultValues:s?{...s,fail_trigger_tasks_raw:pe.arrToStr(s.fail_trigger_tasks),recover_trigger_tasks_raw:pe.arrToStr(s.recover_trigger_tasks),skip_servers_raw:pe.recordToStrArr(s.skip_servers?s.skip_servers:{})}:{type:1,cover:0,name:"",target:"",max_latency:0,min_latency:0,duration:30,notification_group_id:0,fail_trigger_tasks:[],fail_trigger_tasks_raw:"",recover_trigger_tasks:[],recover_trigger_tasks_raw:"",skip_servers:{},skip_servers_raw:[]},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async i=>{i.skip_servers=pe.arrToRecord(i.skip_servers_raw),i.fail_trigger_tasks=pe.strToArr(i.fail_trigger_tasks_raw).map(Number),i.recover_trigger_tasks=pe.strToArr(i.recover_trigger_tasks_raw).map(Number);const{skip_servers_raw:h,...b}=i;try{s?.id?await Z_(s.id,b):await Y_(b)}catch(k){console.error(k),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await n(),a.reset()},{servers:d}=ls(),m=d?.map(i=>({value:`${i.id}`,label:i.name}))||[{value:"",label:""}],{notifierGroup:r}=Ss(),o=r?.map(i=>({value:`${i.group.id}`,label:i.group.name}))||[{value:"",label:""}];return e.jsxs(Se,{open:c,onOpenChange:l,children:[e.jsx(be,{asChild:!0,children:s?e.jsx(U,{variant:"outline",icon:"edit"}):e.jsx(U,{icon:"plus"})}),e.jsx(me,{className:"sm:max-w-xl",children:e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:t(s?"EditService":"CreateService")}),e.jsx(ce,{})]}),e.jsx(Ce,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(S,{control:a.control,name:"name",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(T,{placeholder:"My Service Monitor",...i})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"target",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Target")}),e.jsx(j,{children:e.jsx(T,{placeholder:"HTTP (https://t.tt)｜Ping (t.tt)｜TCP (t.tt:80)",...i})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"type",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Type")}),e.jsxs(se,{onValueChange:i.onChange,defaultValue:`${i.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(te,{placeholder:"Select service type"})})}),e.jsx(ee,{children:Object.entries(fn).map(([h,b])=>e.jsx(E,{value:h,children:b},h))})]}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"enable_show_in_service",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(O,{className:"text-sm",children:t("ShowInService")})]})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"duration",render:({field:i})=>e.jsxs(N,{children:[e.jsxs(y,{children:[t("Interval")," (s)"]}),e.jsx(j,{children:e.jsx(T,{type:"number",placeholder:"30",...i})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"cover",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Coverage")}),e.jsxs(se,{onValueChange:i.onChange,defaultValue:`${i.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(te,{})})}),e.jsx(ee,{children:Object.entries(jE).map(([h,b])=>e.jsx(E,{value:h,children:b},h))})]}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"skip_servers_raw",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("SpecificServers")}),e.jsx(j,{children:e.jsx(us,{options:m,onValueChange:i.onChange,defaultValue:i.value})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"notification_group_id",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("NotifierGroupID")}),e.jsx(j,{children:e.jsx(Nt,{placeholder:"Search...",options:o,onValueChange:i.onChange,defaultValue:i.value.toString()})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"notify",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(O,{className:"text-sm",children:t("EnableFailureNotification")})]})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"max_latency",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("MaximumLatency")}),e.jsx(j,{children:e.jsx(T,{type:"number",placeholder:"100.88",...i})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"min_latency",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("MinimumLatency")}),e.jsx(j,{children:e.jsx(T,{type:"number",placeholder:"100.88",...i})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"latency_notify",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(O,{className:"text-sm",children:t("EnableLatencyNotification")})]})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"enable_trigger_task",render:({field:i})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:i.value,onCheckedChange:i.onChange}),e.jsx(O,{className:"text-sm",children:t("EnableTriggerTask")})]})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"fail_trigger_tasks_raw",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TasksToTriggerOnAlert")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(T,{placeholder:"1,2,3",...i})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"recover_trigger_tasks_raw",render:({field:i})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TasksToTriggerAfterRecovery")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(T,{placeholder:"1,2,3",...i})}),e.jsx(v,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(D,{type:"submit",className:"my-2",children:t("Submit")})]})]})})]})})})]})};function X_(){const{t:s}=F(),{data:n,mutate:t,error:a,isLoading:c}=ke("/api/v1/service/list",Pe);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:r})=>e.jsx(M,{checked:r.getIsAllPageRowsSelected()||r.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>r.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:r})=>e.jsx(M,{checked:r.getIsSelected(),onCheckedChange:o=>r.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:r=>r.id},{header:s("Name"),accessorFn:r=>r.name,accessorKey:"name",cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:o.name})}},{header:s("Target"),accessorFn:r=>r.target,accessorKey:"target",cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:o.target})}},{header:s("Coverage"),accessorKey:"cover",accessorFn:r=>r.cover,cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:(()=>{switch(o.cover){case 0:return e.jsx("span",{children:s("CoverAll")});case 1:return e.jsx("span",{children:s("IgnoreAll")})}})()})}},{header:s("SpecificServers"),cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:Object.keys(o.skip_servers??{}).join(",")})}},{header:s("Type"),accessorKey:"type",accessorFn:r=>r.type,cell:({row:r})=>fn[r.original.type]||""},{header:s("Interval"),accessorKey:"duration",accessorFn:r=>r.duration},{header:s("NotifierGroupID"),accessorKey:"ngroup",accessorFn:r=>r.notification_group_id},{header:s("Trigger"),accessorKey:"triggerTask",accessorFn:r=>r.enable_trigger_task??!1},{header:s("TasksToTriggerOnAlert"),accessorKey:"failTriggerTasks",accessorFn:r=>r.fail_trigger_tasks},{header:s("TasksToTriggerAfterRecovery"),accessorKey:"recoverTriggerTasks",accessorFn:r=>r.recover_trigger_tasks},{id:"actions",header:s("Actions"),cell:({row:r})=>{const o=r.original;return e.jsx(Ie,{className:"flex gap-2",delete:{fn:Zt,id:o.id,mutate:t},children:e.jsx(Qt,{mutate:t,data:o})})}}],x=u.useMemo(()=>n??[],[n]),d=Te({data:x,columns:l,getCoreRowModel:De()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full gap-3 mt-6 mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("Service")}),e.jsx(Le,{className:"flex gap-2 flex-wrap shrink-0",delete:{fn:Zt,id:m.map(r=>r.original.id),mutate:t},children:e.jsx(Qt,{mutate:t})})]}),e.jsxs(Re,{children:[e.jsx(Ae,{children:d.getHeaderGroups().map(r=>e.jsx(R,{children:r.headers.map(o=>e.jsx(we,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},r.id))}),e.jsx(Ee,{children:c?e.jsx(R,{children:e.jsxs(H,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(r=>e.jsx(R,{"data-state":r.getIsSelected()&&"selected",children:r.getVisibleCells().map(o=>e.jsx(H,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},r.id)):e.jsx(R,{children:e.jsx(H,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const e2=async s=>I(_.POST,"/api/v1/ddns",s),s2=async(s,n)=>I(_.PATCH,`/api/v1/ddns/${s}`,n),Xt=async s=>I(_.POST,"/api/v1/batch-delete/ddns",s),t2=async()=>I(_.GET,"/api/v1/ddns/providers",null),r2=re({max_retries:Y().int().min(1),enable_ipv4:P(V()),enable_ipv6:P(V()),name:C().min(1),provider:C(),domains:fe(C()),domains_raw:C(),access_id:P(C()),access_secret:P(C()),webhook_url:P(C().url()),webhook_method:P(Y().int().min(1).max(255)),webhook_request_type:P(Y().int().min(1).max(255)),webhook_request_body:P(C()),webhook_headers:P(C())}),er=({data:s,providers:n,mutate:t})=>{const{t:a}=F(),c=Ne({resolver:ve(r2),defaultValues:s?{max_retries:s.max_retries??3,enable_ipv4:s.enable_ipv4??!1,enable_ipv6:s.enable_ipv6??!1,name:s.name??"",provider:s.provider??"dummy",domains:s.domains??[],domains_raw:pe.arrToStr(s.domains??[]),access_id:s.access_id??"",access_secret:s.access_secret??"",webhook_url:s.webhook_url??"",webhook_method:s.webhook_method,webhook_request_type:s.webhook_request_type,webhook_request_body:s.webhook_request_body??"",webhook_headers:s.webhook_headers??""}:{max_retries:3,enable_ipv4:!1,enable_ipv6:!1,name:"",provider:"dummy",domains:[],domains_raw:"",access_id:"",access_secret:"",webhook_url:"",webhook_method:void 0,webhook_request_type:void 0,webhook_request_body:"",webhook_headers:""},resetOptions:{keepDefaultValues:!1}}),[l,x]=u.useState(!1),d=async m=>{try{m.domains=pe.strToArr(m.domains_raw),s?.id?await s2(s.id,m):await e2(m)}catch(r){console.error(r),$(a("Error"),{description:a("Results.UnExpectedError")});return}x(!1),await t(),c.reset()};return e.jsxs(Se,{open:l,onOpenChange:x,children:[e.jsx(be,{asChild:!0,children:s?e.jsx(U,{variant:"outline",icon:"edit"}):e.jsx(U,{icon:"plus"})}),e.jsx(me,{className:"sm:max-w-xl",children:e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:a(s?"EditDDNS":"CreateDDNS")}),e.jsx(ce,{})]}),e.jsx(Ce,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-2 my-2",children:[e.jsx(S,{control:c.control,name:"name",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:a("Name")}),e.jsx(j,{children:e.jsx(T,{placeholder:"My DDNS Profile",...m})}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"provider",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:a("Provider")}),e.jsxs(se,{onValueChange:m.onChange,defaultValue:`${m.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(te,{placeholder:"Select service type"})})}),e.jsx(ee,{children:n.map((r,o)=>e.jsx(E,{value:r,children:r},o))})]}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"domains_raw",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:a("Domains")+a("SeparateWithComma")}),e.jsx(j,{children:e.jsx(T,{placeholder:"www.example.com",...m})}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"access_id",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:[a("Credential")," 1"]}),e.jsx(j,{children:e.jsx(T,{placeholder:"Token ID",...m})}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"access_secret",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:[a("Credential")," 2"]}),e.jsx(j,{children:e.jsx(T,{placeholder:"Token Secret",...m})}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"max_retries",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:a("MaximumRetryAttempts")}),e.jsx(j,{children:e.jsx(T,{type:"number",placeholder:"3",...m})}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"webhook_url",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:"Webhook URL"}),e.jsx(j,{children:e.jsx(T,{placeholder:"https://ddns.example.com/?record=#record#",...m})}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"webhook_method",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:["Webhook ",a("RequestMethod")]}),e.jsxs(se,{onValueChange:m.onChange,defaultValue:`${m.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(te,{placeholder:"Webhook Request Method"})})}),e.jsx(ee,{children:Object.entries(NE).map(([r,o])=>e.jsx(E,{value:r,children:o},r))})]}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"webhook_request_type",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:["Webhook ",a("RequestType")]}),e.jsxs(se,{onValueChange:m.onChange,defaultValue:`${m.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(te,{placeholder:"Webhook Request Type"})})}),e.jsx(ee,{children:Object.entries(vE).map(([r,o])=>e.jsx(E,{value:r,children:o},r))})]}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"webhook_headers",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:["Webhook ",a("RequestHeader")]}),e.jsx(j,{children:e.jsx(ne,{className:"resize-y",placeholder:'{"User-Agent":"Nezha-Agent"}',...m})}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"webhook_request_body",render:({field:m})=>e.jsxs(N,{children:[e.jsxs(y,{children:["Webhook ",a("RequestBody")]}),e.jsx(j,{children:e.jsx(ne,{className:"resize-y",placeholder:`{\r
 "ip": #ip#,\r
 "domain": "#domain#"\r
}`,...m})}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"enable_ipv4",render:({field:m})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:m.value,onCheckedChange:m.onChange}),e.jsxs(O,{className:"text-sm",children:[a("Enable")," IPv4"]})]})}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"enable_ipv6",render:({field:m})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:m.value,onCheckedChange:m.onChange}),e.jsxs(O,{className:"text-sm",children:[a("Enable")," IPv6"]})]})}),e.jsx(v,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:a("Close")})}),e.jsx(D,{type:"submit",className:"my-2",children:a("Confirm")})]})]})})]})})})]})};function n2(){const{t:s}=F(),{data:n,mutate:t,error:a,isLoading:c}=ke("/api/v1/ddns",Pe),[l,x]=u.useState([]);u.useEffect(()=>{(async()=>{const h=await t2();x(h)})()},[]),u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const d=[{id:"select",header:({table:i})=>e.jsx(M,{checked:i.getIsAllPageRowsSelected()||i.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:h=>i.toggleAllPageRowsSelected(!!h),"aria-label":"Select all"}),cell:({row:i})=>e.jsx(M,{checked:i.getIsSelected(),onCheckedChange:h=>i.toggleSelected(!!h),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:i=>i.id},{header:s("Name"),accessorKey:"name",accessorFn:i=>i.name,cell:({row:i})=>{const h=i.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:h.name})}},{header:"IPv4",accessorKey:"enableIPv4",accessorFn:i=>i.enable_ipv4??!1},{header:"IPv6",accessorKey:"enableIPv6",accessorFn:i=>i.enable_ipv6??!1},{header:s("Provider"),accessorKey:"provider",accessorFn:i=>i.provider},{header:s("Domains"),accessorKey:"domains",accessorFn:i=>i.domains,cell:({row:i})=>{const h=i.original;return e.jsx("div",{className:"max-w-24 whitespace-normal break-words",children:h.domains})}},{header:s("MaximumRetryAttempts"),accessorKey:"maxRetries",accessorFn:i=>i.max_retries},{id:"actions",header:s("Actions"),cell:({row:i})=>{const h=i.original;return e.jsx(Ie,{className:"flex gap-2",delete:{fn:Xt,id:h.id,mutate:t},children:e.jsx(er,{mutate:t,data:h,providers:l})})}}],m=u.useMemo(()=>n??[],[n]),r=Te({data:m,columns:d,getCoreRowModel:De()}),o=r.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx("h1",{className:"flex-1 text-3xl font-bold tracking-tight",children:s("DDNS")}),e.jsx(Le,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:Xt,id:o.map(i=>i.original.id),mutate:t},children:e.jsx(er,{mutate:t,providers:l})})]}),e.jsxs(Re,{children:[e.jsx(Ae,{children:r.getHeaderGroups().map(i=>e.jsx(R,{children:i.headers.map(h=>e.jsx(we,{className:"text-sm",children:h.isPlaceholder?null:W(h.column.columnDef.header,h.getContext())},h.id))},i.id))}),e.jsx(Ee,{children:c?e.jsx(R,{children:e.jsxs(H,{colSpan:d.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):r.getRowModel().rows?.length?r.getRowModel().rows.map(i=>e.jsx(R,{"data-state":i.getIsSelected()&&"selected",children:i.getVisibleCells().map(h=>e.jsx(H,{className:"text-xsm",children:W(h.column.columnDef.cell,h.getContext())},h.id))},i.id)):e.jsx(R,{children:e.jsx(H,{colSpan:d.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const o2=async s=>I(_.POST,"/api/v1/nat",s),a2=async(s,n)=>I(_.PATCH,`/api/v1/nat/${s}`,n),sr=async s=>I(_.POST,"/api/v1/batch-delete/nat",s),i2=re({name:C().min(1),enabled:V(),server_id:Y().int(),host:C(),domain:C()}),tr=({data:s,mutate:n})=>{const{t}=F(),a=Ne({resolver:ve(i2),defaultValues:s?{name:s.name??"",enabled:s.enabled??!1,server_id:s.server_id??0,host:s.host??"",domain:s.domain??""}:{name:"",enabled:!1,server_id:0,host:"",domain:""},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async d=>{try{s?.id?await a2(s.id,d):await o2(d)}catch(m){console.error(m),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await n(),a.reset()};return e.jsxs(Se,{open:c,onOpenChange:l,children:[e.jsx(be,{asChild:!0,children:s?e.jsx(U,{variant:"outline",icon:"edit"}):e.jsx(U,{icon:"plus"})}),e.jsx(me,{className:"sm:max-w-xl",children:e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:t(s?"EditNAT":"CreateNAT")}),e.jsx(ce,{})]}),e.jsx(Ce,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(S,{control:a.control,name:"name",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(T,{placeholder:"My NAT Profile",...d})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"server_id",render:({field:d})=>e.jsxs(N,{children:[e.jsxs(y,{children:[t("Server")," ID"]}),e.jsx(j,{children:e.jsx(T,{type:"number",placeholder:"1",...d})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"host",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("LocalService")}),e.jsx(j,{children:e.jsx(T,{placeholder:"192.168.1.1:80 (with port)",...d})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"domain",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("BindHostname")}),e.jsx(j,{children:e.jsx(T,{placeholder:"router.app.yourdomain.com",...d})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"enabled",render:({field:d})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:d.value,onCheckedChange:d.onChange}),e.jsx(O,{className:"text-sm",children:t("Enable")})]})}),e.jsx(v,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(D,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function c2(){const{t:s}=F(),{data:n,mutate:t,error:a,isLoading:c}=ke("/api/v1/nat",Pe);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:r})=>e.jsx(M,{checked:r.getIsAllPageRowsSelected()||r.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>r.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:r})=>e.jsx(M,{checked:r.getIsSelected(),onCheckedChange:o=>r.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:r=>r.id},{header:s("Enabled"),accessorKey:"enabled",accessorFn:r=>r.enabled},{header:s("Name"),accessorKey:"name",accessorFn:r=>r.name,cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.name})}},{header:s("Server")+" ID",accessorKey:"serverID",accessorFn:r=>r.server_id},{header:s("LocalService"),accessorKey:"host",accessorFn:r=>r.host,cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.host})}},{header:s("BindHostname"),accessorKey:"domain",accessorFn:r=>r.domain,cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.domain})}},{id:"actions",header:s("Actions"),cell:({row:r})=>{const o=r.original;return e.jsx(Ie,{className:"flex gap-2",delete:{fn:sr,id:o.id,mutate:t},children:e.jsx(tr,{mutate:t,data:o})})}}],x=u.useMemo(()=>n??[],[n]),d=Te({data:x,columns:l,getCoreRowModel:De()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsxs("h1",{className:"flex-1 text-3xl font-bold tracking-tight",children:[" ",s("NATT")]}),e.jsx(Le,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:sr,id:m.map(r=>r.original.id),mutate:t},children:e.jsx(tr,{mutate:t})})]}),e.jsxs(Re,{children:[e.jsx(Ae,{children:d.getHeaderGroups().map(r=>e.jsx(R,{children:r.headers.map(o=>e.jsx(we,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},r.id))}),e.jsx(Ee,{children:c?e.jsx(R,{children:e.jsxs(H,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(r=>e.jsx(R,{"data-state":r.getIsSelected()&&"selected",children:r.getVisibleCells().map(o=>e.jsx(H,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},r.id)):e.jsx(R,{children:e.jsx(H,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const bt=ha,Js=u.forwardRef(({className:s,...n},t)=>e.jsx(cn,{ref:t,className:g("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...n}));Js.displayName=cn.displayName;const Oe=u.forwardRef(({className:s,...n},t)=>e.jsx(ln,{ref:t,className:g("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...n}));Oe.displayName=ln.displayName;const l2=u.forwardRef(({className:s,...n},t)=>e.jsx(dn,{ref:t,className:g("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...n}));l2.displayName=dn.displayName;const Jn=({className:s})=>{const{t:n}=F(),t=vs();return e.jsx(bt,{defaultValue:t.pathname,className:s,children:e.jsxs(Js,{className:"grid w-full grid-cols-2",children:[e.jsx(Oe,{value:"/dashboard/server-group",asChild:!0,children:e.jsx(Q,{to:"/dashboard/server-group",children:n("Server")})}),e.jsx(Oe,{value:"/dashboard/notification-group",asChild:!0,children:e.jsx(Q,{to:"/dashboard/notification-group",children:n("Notification")})})]})})},d2=re({name:C().min(1),notifications:fe(ue())}),rr=({data:s,mutate:n})=>{const{t}=F(),a=Ne({resolver:ve(d2),defaultValues:s?{name:s.group.name,notifications:s.notifications}:{name:"",notifications:[]},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async r=>{try{s?.group.id?await oE(s.group.id,r):await nE(r)}catch(o){console.error(o),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await n(),a.reset()},{notifiers:d}=Ss(),m=d?.map(r=>({value:`${r.id}`,label:r.name}))||[{value:"",label:""}];return e.jsxs(Se,{open:c,onOpenChange:l,children:[e.jsx(be,{asChild:!0,children:s?e.jsx(U,{variant:"outline",icon:"edit"}):e.jsx(U,{icon:"plus"})}),e.jsx(me,{className:"sm:max-w-xl",children:e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:t(s?"EditNotifierGroup":"CreateNotifierGroup")}),e.jsx(ce,{})]}),e.jsx(Ce,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(S,{control:a.control,name:"name",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(T,{placeholder:"Group Name",...r})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"notifications",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Notification")}),e.jsx(us,{options:m,onValueChange:o=>{const i=o.map(Number);r.onChange(i)},defaultValue:r.value?.map(String)}),e.jsx(v,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(D,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function u2(){const{t:s}=F(),{data:n,mutate:t,error:a,isLoading:c}=ke("/api/v1/notification-group",Pe);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:r})=>e.jsx(M,{checked:r.getIsAllPageRowsSelected()||r.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>r.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:r})=>e.jsx(M,{checked:r.getIsSelected(),onCheckedChange:o=>r.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:r=>r.group.id},{header:s("Name"),accessorKey:"name",accessorFn:r=>r.group.name,cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:o.group.name})}},{header:s("Notifier")+"(ID)",accessorKey:"notifications",accessorFn:r=>r.notifications,cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:e.jsx("span",{children:(o.notifications||[]).join(",")})})}},{id:"actions",header:s("Actions"),cell:({row:r})=>{const o=r.original;return e.jsx(Ie,{className:"flex gap-2",delete:{fn:It,id:o.group.id,mutate:t},children:e.jsx(rr,{mutate:t,data:o})})}}],x=u.useMemo(()=>n??[],[n]),d=Te({data:x,columns:l,getCoreRowModel:De()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx(Jn,{className:"flex-1 mr-4 sm:max-w-[40%]"}),e.jsx(Le,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:It,id:m.map(r=>r.original.group.id),mutate:t},children:e.jsx(rr,{mutate:t})})]}),e.jsxs(Re,{children:[e.jsx(Ae,{children:d.getHeaderGroups().map(r=>e.jsx(R,{children:r.headers.map(o=>e.jsx(we,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},r.id))}),e.jsx(Ee,{children:c?e.jsx(R,{children:e.jsxs(H,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(r=>e.jsx(R,{"data-state":r.getIsSelected()&&"selected",children:r.getVisibleCells().map(o=>e.jsx(H,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},r.id)):e.jsx(R,{children:e.jsx(H,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const m2=re({name:C().min(1),servers:fe(ue())}),nr=({data:s,mutate:n})=>{const{t}=F(),a=Ne({resolver:ve(m2),defaultValues:s?{name:s.group.name,servers:s.servers}:{name:"",servers:[]},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async r=>{try{s?.group.id?await hE(s.group.id,r):await mE(r)}catch(o){console.error(o),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await n(),a.reset()},{servers:d}=ls(),m=d?.map(r=>({value:`${r.id}`,label:r.name}))||[{value:"",label:""}];return e.jsxs(Se,{open:c,onOpenChange:l,children:[e.jsx(be,{asChild:!0,children:s?e.jsx(U,{variant:"outline",icon:"edit"}):e.jsx(U,{icon:"plus"})}),e.jsx(me,{className:"sm:max-w-xl",children:e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:t(s?"EditServerGroup":"CreateServerGroup")}),e.jsx(ce,{})]}),e.jsx(Ce,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(S,{control:a.control,name:"name",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(T,{placeholder:"Group Name",...r})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"servers",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Server")}),e.jsx(j,{children:e.jsx(us,{options:m,onValueChange:o=>{const i=o.map(Number);r.onChange(i)},defaultValue:r.value?.map(String)})}),e.jsx(v,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(D,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function h2(){const{t:s}=F(),{data:n,mutate:t,error:a,isLoading:c}=ke("/api/v1/server-group",Pe);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:r})=>e.jsx(M,{checked:r.getIsAllPageRowsSelected()||r.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>r.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:r})=>e.jsx(M,{checked:r.getIsSelected(),onCheckedChange:o=>r.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:r=>r.group.id},{header:s("Name"),accessorKey:"name",accessorFn:r=>r.group.name,cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:o.group.name})}},{header:s("Server")+"(ID)",accessorKey:"servers",accessorFn:r=>r.servers,cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-48 whitespace-normal break-words",children:e.jsx("span",{children:(o.servers||[]).join(",")})})}},{id:"actions",header:s("Actions"),cell:({row:r})=>{const o=r.original;return e.jsx(Ie,{className:"flex gap-2",delete:{fn:Ft,id:o.group.id,mutate:t},children:e.jsx(nr,{mutate:t,data:o})})}}],x=u.useMemo(()=>n??[],[n]),d=Te({data:x,columns:l,getCoreRowModel:De()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx(Jn,{className:"flex-1 mr-4 sm:max-w-[40%]"}),e.jsx(Le,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:Ft,id:m.map(r=>r.original.group.id),mutate:t},children:e.jsx(nr,{mutate:t})})]}),e.jsxs(Re,{children:[e.jsx(Ae,{children:d.getHeaderGroups().map(r=>e.jsx(R,{children:r.headers.map(o=>e.jsx(we,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},r.id))}),e.jsx(Ee,{children:c?e.jsx(R,{children:e.jsxs(H,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(r=>e.jsx(R,{"data-state":r.getIsSelected()&&"selected",children:r.getVisibleCells().map(o=>e.jsx(H,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},r.id)):e.jsx(R,{children:e.jsx(H,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const x2=async s=>I(_.POST,"/api/v1/alert-rule",s),g2=async(s,n)=>I(_.PATCH,`/api/v1/alert-rule/${s}`,n),or=async s=>I(_.POST,"/api/v1/batch-delete/alert-rule",s),p2=re({type:C(),min:ue().optional(),max:ue().optional(),cycle_start:C().optional(),cycle_interval:ue().optional(),cycle_unit:fa(["hour","day","week","month","year"]).optional(),duration:ue().optional(),cover:ue().int().min(0),ignore:fs(C(),V()).optional(),next_transfer_at:fs(C(),C()).optional(),last_cycle_status:V().optional()}),f2=re({name:C().min(1),rules_raw:C().refine(s=>{try{return JSON.parse(s),!0}catch{return!1}},{message:"Invalid JSON string"}),rules:fe(p2),fail_trigger_tasks:fe(ue()),fail_trigger_tasks_raw:C(),recover_trigger_tasks:fe(ue()),recover_trigger_tasks_raw:C(),notification_group_id:Y().int(),trigger_mode:Y().int().min(0),enable:V().optional()}),ar=({data:s,mutate:n})=>{const{t}=F(),a=Ne({resolver:ve(f2),defaultValues:s?{...s,rules_raw:JSON.stringify(s.rules),fail_trigger_tasks_raw:pe.arrToStr(s.fail_trigger_tasks),recover_trigger_tasks_raw:pe.arrToStr(s.recover_trigger_tasks)}:{name:"",rules_raw:"",rules:[],fail_trigger_tasks:[],fail_trigger_tasks_raw:"",recover_trigger_tasks:[],recover_trigger_tasks_raw:"",notification_group_id:0,trigger_mode:0},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=(()=>{try{if(s?.rules)return s.rules;const h=a.getValues("rules_raw");return h?JSON.parse(h):[]}catch{return[]}})(),[d,m]=u.useState(x);u.useEffect(()=>{try{a.setValue("rules_raw",JSON.stringify(d),{shouldDirty:!0})}catch{}},[d]);const r=async h=>{h.rules=JSON.parse(h.rules_raw),h.fail_trigger_tasks=pe.strToArr(h.fail_trigger_tasks_raw).map(Number),h.recover_trigger_tasks=pe.strToArr(h.recover_trigger_tasks_raw).map(Number);const{rules_raw:b,...k}=h;try{s?.id?await g2(s.id,k):await x2(k)}catch(K){console.error(K),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await n(),a.reset()},{notifierGroup:o}=Ss(),i=o?.map(h=>({value:`${h.group.id}`,label:h.group.name}))||[{value:"",label:""}];return e.jsxs(Se,{open:c,onOpenChange:l,children:[e.jsx(be,{asChild:!0,children:s?e.jsx(U,{variant:"outline",icon:"edit"}):e.jsx(U,{icon:"plus"})}),e.jsx(me,{className:"sm:max-w-xl",children:e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:t(s?"EditAlertRule":"CreateAlertRule")}),e.jsx(ce,{})]}),e.jsx(Ce,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(r),className:"space-y-2 my-2",children:[e.jsx(S,{control:a.control,name:"name",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(T,{...h})}),e.jsx(v,{})]})}),e.jsxs(N,{children:[e.jsx(y,{children:t("Rules")}),e.jsxs("div",{className:"space-y-3",children:[d.map((h,b)=>{const k=typeof h.type=="string"&&h.type.endsWith("_cycle"),K=h.type==="offline";return e.jsxs("div",{className:"rounded-md border p-3 space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(O,{className:"text-sm",children:t("Type")}),e.jsxs(se,{onValueChange:G=>{const f=[...d];f[b]={...f[b],type:G},G.endsWith("_cycle")||(delete f[b].cycle_start,delete f[b].cycle_interval,delete f[b].cycle_unit),m(f)},defaultValue:h.type||"",children:[e.jsx(X,{children:e.jsx(te,{placeholder:t("Select")})}),e.jsxs(ee,{children:[e.jsx(E,{value:"cpu",children:"cpu"}),e.jsx(E,{value:"gpu",children:"gpu"}),e.jsx(E,{value:"memory",children:"memory"}),e.jsx(E,{value:"swap",children:"swap"}),e.jsx(E,{value:"disk",children:"disk"}),e.jsx(E,{value:"net_in_speed",children:"net_in_speed"}),e.jsx(E,{value:"net_out_speed",children:"net_out_speed"}),e.jsx(E,{value:"net_all_speed",children:"net_all_speed"}),e.jsx(E,{value:"transfer_in",children:"transfer_in"}),e.jsx(E,{value:"transfer_out",children:"transfer_out"}),e.jsx(E,{value:"transfer_all",children:"transfer_all"}),e.jsx(E,{value:"offline",children:"offline"}),e.jsx(E,{value:"load1",children:"load1"}),e.jsx(E,{value:"load5",children:"load5"}),e.jsx(E,{value:"load15",children:"load15"}),e.jsx(E,{value:"process_count",children:"process_count"}),e.jsx(E,{value:"tcp_conn_count",children:"tcp_conn_count"}),e.jsx(E,{value:"udp_conn_count",children:"udp_conn_count"}),e.jsx(E,{value:"temperature_max",children:"temperature_max"}),e.jsx(E,{value:"transfer_in_cycle",children:"transfer_in_cycle"}),e.jsx(E,{value:"transfer_out_cycle",children:"transfer_out_cycle"}),e.jsx(E,{value:"transfer_all_cycle",children:"transfer_all_cycle"})]})]})]}),e.jsxs("div",{children:[e.jsx(O,{className:"text-sm",children:"duration"}),e.jsx(T,{type:"number",value:h.duration??"",onChange:G=>{const f=[...d];f[b]={...f[b],duration:G.target.value?Number(G.target.value):void 0},m(f)},placeholder:"10"})]})]}),!K&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(O,{className:"text-sm",children:"min"}),e.jsx(T,{type:"number",value:h.min??"",onChange:G=>{const f=[...d];f[b]={...f[b],min:G.target.value?Number(G.target.value):void 0},m(f)},placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx(O,{className:"text-sm",children:"max"}),e.jsx(T,{type:"number",value:h.max??"",onChange:G=>{const f=[...d];f[b]={...f[b],max:G.target.value?Number(G.target.value):void 0},m(f)},placeholder:"100"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(O,{className:"text-sm",children:"cover"}),e.jsxs(se,{onValueChange:G=>{const f=[...d];f[b]={...f[b],cover:Number(G)},m(f)},defaultValue:(h.cover??0).toString(),children:[e.jsx(X,{children:e.jsx(te,{})}),e.jsxs(ee,{children:[e.jsxs(E,{value:"0",children:["0（",t("AlertRules.CoverAllServers"),"）"]}),e.jsxs(E,{value:"1",children:["1（",t("AlertRules.IgnoreAllSelectSpecific"),"）"]})]})]})]}),e.jsxs("div",{children:[e.jsx(O,{className:"text-sm",children:t("AlertRules.IgnoreHint",{server:t("Server")})}),e.jsx(ne,{className:"resize-y",value:(()=>{try{return h.ignore?JSON.stringify(h.ignore):""}catch{return""}})(),onChange:G=>{const f=[...d];try{const p=G.target.value?JSON.parse(G.target.value):void 0;f[b]={...f[b],ignore:p}}catch{}m(f)},placeholder:t("AlertRules.IgnoreExample")})]})]}),k&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx(O,{className:"text-sm",children:"cycle_start (RFC3339)"}),e.jsx(T,{value:h.cycle_start??"",onChange:G=>{const f=[...d];f[b]={...f[b],cycle_start:G.target.value||void 0},m(f)},placeholder:"2022-01-01T00:00:00+08:00"})]}),e.jsxs("div",{children:[e.jsx(O,{className:"text-sm",children:"cycle_interval"}),e.jsx(T,{type:"number",value:h.cycle_interval??"",onChange:G=>{const f=[...d];f[b]={...f[b],cycle_interval:G.target.value?Number(G.target.value):void 0},m(f)},placeholder:"1"})]}),e.jsxs("div",{children:[e.jsx(O,{className:"text-sm",children:"cycle_unit"}),e.jsxs(se,{onValueChange:G=>{const f=[...d];f[b]={...f[b],cycle_unit:G},m(f)},defaultValue:h.cycle_unit||"month",children:[e.jsx(X,{children:e.jsx(te,{})}),e.jsxs(ee,{children:[e.jsx(E,{value:"hour",children:"hour"}),e.jsx(E,{value:"day",children:"day"}),e.jsx(E,{value:"week",children:"week"}),e.jsx(E,{value:"month",children:"month"}),e.jsx(E,{value:"year",children:"year"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(D,{type:"button",variant:"secondary",onClick:()=>{const G=[...d];G.splice(b,1),m(G)},children:t("Delete")}),e.jsx("span",{})]})]},b)}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(D,{type:"button",variant:"outline",onClick:()=>{m([...d,{type:"",cover:0,duration:10}])},children:t("Add")})})]}),e.jsx(y,{className:"mt-3",children:t("AdvancedJSON")}),e.jsx(j,{children:e.jsx(ne,{className:"resize-y",value:a.watch("rules_raw"),onChange:h=>{a.setValue("rules_raw",h.target.value,{shouldDirty:!0});try{const b=JSON.parse(h.target.value);Array.isArray(b)&&m(b)}catch{}}})})]}),e.jsx(S,{control:a.control,name:"notification_group_id",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("NotifierGroup")}),e.jsx(j,{children:e.jsx(Nt,{placeholder:t("Search"),options:i,onValueChange:h.onChange,defaultValue:h.value.toString()})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"trigger_mode",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TriggerMode")}),e.jsxs(se,{onValueChange:h.onChange,defaultValue:`${h.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(te,{})})}),e.jsx(ee,{children:Object.entries(Nn).map(([b,k])=>e.jsx(E,{value:b,children:k},b))})]}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"fail_trigger_tasks_raw",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TasksToTriggerOnAlert")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(T,{placeholder:"1,2,3",...h})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"recover_trigger_tasks_raw",render:({field:h})=>e.jsxs(N,{children:[e.jsx(y,{children:t("TasksToTriggerAfterRecovery")+t("SeparateWithComma")}),e.jsx(j,{children:e.jsx(T,{placeholder:"1,2,3",...h})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"enable",render:({field:h})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:h.value,onCheckedChange:h.onChange}),e.jsx(O,{className:"text-sm",children:t("Enable")})]})}),e.jsx(v,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(D,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})},Yn=({className:s})=>{const{t:n}=F(),t=vs();return e.jsx(bt,{defaultValue:t.pathname,className:s,children:e.jsxs(Js,{className:"grid w-full grid-cols-2",children:[e.jsx(Oe,{value:"/dashboard/notification",asChild:!0,children:e.jsx(Q,{to:"/dashboard/notification",children:n("Notifier")})}),e.jsx(Oe,{value:"/dashboard/alert-rule",asChild:!0,children:e.jsx(Q,{to:"/dashboard/alert-rule",children:n("AlertRule")})})]})})};function j2(){const{t:s}=F(),{data:n,mutate:t,error:a,isLoading:c}=ke("/api/v1/alert-rule",Pe);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const l=[{id:"select",header:({table:r})=>e.jsx(M,{checked:r.getIsAllPageRowsSelected()||r.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>r.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:r})=>e.jsx(M,{checked:r.getIsSelected(),onCheckedChange:o=>r.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:r=>r.id},{header:s("Name"),accessorKey:"name",accessorFn:r=>r.name,cell:({row:r})=>{const o=r.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:o.name})}},{header:s("NotifierGroup"),accessorKey:"ngroup",accessorFn:r=>r.notification_group_id},{header:s("TriggerMode"),accessorKey:"trigger Mode",accessorFn:r=>Nn[r.trigger_mode]||""},{header:s("Rules"),cell:({row:r})=>{const o=r.original;return e.jsx(Ws,{text:JSON.stringify(o.rules)})}},{header:s("TasksToTriggerOnAlert"),accessorKey:"failTriggerTasks",accessorFn:r=>r.fail_trigger_tasks},{header:s("TasksToTriggerAfterRecovery"),accessorKey:"recoverTriggerTasks",accessorFn:r=>r.recover_trigger_tasks},{header:s("Enable"),accessorKey:"enable",accessorFn:r=>r.enable},{id:"actions",header:s("Actions"),cell:({row:r})=>{const o=r.original;return e.jsx(Ie,{className:"flex gap-2",delete:{fn:or,id:o.id,mutate:t},children:e.jsx(ar,{mutate:t,data:o})})}}],x=u.useMemo(()=>n??[],[n]),d=Te({data:x,columns:l,getCoreRowModel:De()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx(Yn,{className:"flex-1 mr-4 sm:max-w-[40%]"}),e.jsx(Le,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:or,id:m.map(r=>r.original.id),mutate:t},children:e.jsx(ar,{mutate:t})})]}),e.jsxs(Re,{children:[e.jsx(Ae,{children:d.getHeaderGroups().map(r=>e.jsx(R,{children:r.headers.map(o=>e.jsx(we,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},r.id))}),e.jsx(Ee,{children:c?e.jsx(R,{children:e.jsxs(H,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(r=>e.jsx(R,{"data-state":r.getIsSelected()&&"selected",children:r.getVisibleCells().map(o=>e.jsx(H,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},r.id)):e.jsx(R,{children:e.jsx(H,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const N2=re({name:C().min(1),url:C().url(),request_method:Y().int().min(1).max(255),request_type:Y().int().min(1).max(255),request_header:C(),request_body:C(),verify_tls:P(V()),skip_check:P(V())}),ir=({data:s,mutate:n})=>{const{t}=F(),a=Ne({resolver:ve(N2),defaultValues:s?{name:s.name??"",url:s.url??"",request_method:s.request_method??1,request_type:s.request_type??1,request_header:s.request_header??"",request_body:s.request_body??"",verify_tls:s.verify_tls??!1,skip_check:s.skip_check??!1}:{name:"",url:"",request_method:1,request_type:1,request_header:"",request_body:"",verify_tls:!1,skip_check:!1},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async d=>{try{s?.id?await tE(s.id,d):await sE(d)}catch(m){console.error(m),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await n(),a.reset()};return e.jsxs(Se,{open:c,onOpenChange:l,children:[e.jsx(be,{asChild:!0,children:s?e.jsx(U,{variant:"outline",icon:"edit"}):e.jsx(U,{icon:"plus"})}),e.jsx(me,{className:"sm:max-w-xl",children:e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:t(s?"EditNotifier":"CreateNotifier")}),e.jsx(ce,{})]}),e.jsx(Ce,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(S,{control:a.control,name:"name",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Name")}),e.jsx(j,{children:e.jsx(T,{placeholder:"My Notifier",...d})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"url",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:"URL"}),e.jsx(j,{children:e.jsx(T,{...d})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"request_method",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("RequestMethod")}),e.jsxs(se,{onValueChange:d.onChange,defaultValue:`${d.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(te,{placeholder:"Request Method"})})}),e.jsx(ee,{children:Object.entries(bE).map(([m,r])=>e.jsx(E,{value:m,children:r},m))})]}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"request_type",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Type")}),e.jsxs(se,{onValueChange:d.onChange,defaultValue:`${d.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(te,{placeholder:"Request Type"})})}),e.jsx(ee,{children:Object.entries(yE).map(([m,r])=>e.jsx(E,{value:m,children:r},m))})]}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"request_header",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("RequestHeader")}),e.jsx(j,{children:e.jsx(ne,{className:"resize-y",placeholder:'{"User-Agent":"Nezha-Agent"}',...d})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"request_body",render:({field:d})=>e.jsxs(N,{children:[e.jsx(y,{children:t("RequestBody")}),e.jsx(j,{children:e.jsx(ne,{className:"resize-y h-[240px]",placeholder:`{\r
  "content":"#NEZHA#",\r
  "ServerName":"#SERVER.NAME#",\r
  "ServerIP":"#SERVER.IP#",\r
  "ServerIPV4":"#SERVER.IPV4#",\r
  "ServerIPV6":"#SERVER.IPV6#",\r
  "CPU":"#SERVER.CPU#",\r
  "MEM":"#SERVER.MEM#",\r
  "SWAP":"#SERVER.SWAP#",\r
  "DISK":"#SERVER.DISK#",\r
  "NetInSpeed":"#SERVER.NETINSPEED#",\r
  "NetOutSpeed":"#SERVER.NETOUTSPEED#",\r
  "TransferIn":"#SERVER.TRANSFERIN#",\r
  "TranferOut":"#SERVER.TRANSFEROUT#",\r
  "Load1":"#SERVER.LOAD1#",\r
  "Load5":"#SERVER.LOAD5#",\r
  "Load15":"#SERVER.LOAD15#",\r
  "TCP_CONN_COUNT":"#SERVER.TCPCONNCOUNT",\r
  "UDP_CONN_COUNT":"#SERVER.UDPCONNCOUNT"\r
}`,...d})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"verify_tls",render:({field:d})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:d.value,onCheckedChange:d.onChange}),e.jsx(O,{className:"text-sm",children:t("VerifyTLS")})]})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"skip_check",render:({field:d})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:d.value,onCheckedChange:d.onChange}),e.jsx(O,{className:"text-sm",children:t("DoNotSendTestMessage")})]})}),e.jsx(v,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(D,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function v2(){const{t:s}=F(),{data:n,mutate:t,error:a,isLoading:c}=ke("/api/v1/notification",Pe),{notifierGroup:l}=Ss();u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:a.message})})},[a]);const x=[{id:"select",header:({table:o})=>e.jsx(M,{checked:o.getIsAllPageRowsSelected()||o.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:i=>o.toggleAllPageRowsSelected(!!i),"aria-label":"Select all"}),cell:({row:o})=>e.jsx(M,{checked:o.getIsSelected(),onCheckedChange:i=>o.toggleSelected(!!i),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:o=>o.id},{header:s("Name"),accessorKey:"name",accessorFn:o=>o.name,cell:({row:o})=>{const i=o.original;return e.jsx("div",{className:"max-w-32 whitespace-normal break-words",children:i.name})}},{header:s("Group"),accessorKey:"groups",accessorFn:o=>l?.filter(i=>i.notifications?.includes(o.id)).map(i=>i.group.id)||[]},{header:"URL",accessorKey:"url",accessorFn:o=>o.url,cell:({row:o})=>{const i=o.original;return e.jsx(Ws,{text:i.url})}},{header:s("VerifyTLS"),accessorKey:"verify_tls",accessorFn:o=>o.verify_tls},{id:"actions",header:s("Actions"),cell:({row:o})=>{const i=o.original;return e.jsx(Ie,{className:"flex gap-2",delete:{fn:_t,id:i.id,mutate:t},children:e.jsx(ir,{mutate:t,data:i})})}}],d=u.useMemo(()=>n??[],[n]),m=Te({data:d,columns:x,getCoreRowModel:De()}),r=m.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsxs("div",{className:"flex mt-6 mb-4",children:[e.jsx(Yn,{className:"flex-1 mr-4 sm:max-w-[40%]"}),e.jsx(Le,{className:"flex ml-auto self-end sm:self-auto gap-2 flex-wrap shrink-0",delete:{fn:_t,id:r.map(o=>o.original.id),mutate:t},children:e.jsx(ir,{mutate:t})})]}),e.jsxs(Re,{children:[e.jsx(Ae,{children:m.getHeaderGroups().map(o=>e.jsx(R,{children:o.headers.map(i=>e.jsx(we,{className:"text-sm",children:i.isPlaceholder?null:W(i.column.columnDef.header,i.getContext())},i.id))},o.id))}),e.jsx(Ee,{children:c?e.jsx(R,{children:e.jsxs(H,{colSpan:x.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):m.getRowModel().rows?.length?m.getRowModel().rows.map(o=>e.jsx(R,{"data-state":o.getIsSelected()&&"selected",children:o.getVisibleCells().map(i=>e.jsx(H,{className:"text-xsm",children:W(i.column.columnDef.cell,i.getContext())},i.id))},o.id)):e.jsx(R,{children:e.jsx(H,{colSpan:x.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const cr=async s=>I(_.POST,"/api/v1/online-user/batch-block",s),Ys=({className:s})=>{const{t:n}=F(),{profile:t}=Xe(),a=t?.role===0;return e.jsx(bt,{defaultValue:window.location.pathname,className:s,children:e.jsxs(Js,{className:"grid w-full grid-cols-5",children:[a&&e.jsxs(e.Fragment,{children:[e.jsx(Oe,{value:"/dashboard/settings",asChild:!0,children:e.jsx(Q,{to:"/dashboard/settings",children:n("Settings")})}),e.jsx(Oe,{value:"/dashboard/settings/user",asChild:!0,children:e.jsx(Q,{to:"/dashboard/settings/user",children:n("User")})}),e.jsx(Oe,{value:"/dashboard/settings/terminal-audit",asChild:!0,children:e.jsx(Q,{to:"/dashboard/settings/terminal-audit",children:"终端审计"})})]}),e.jsx(Oe,{value:"/dashboard/settings/online-user",asChild:!0,children:e.jsx(Q,{to:"/dashboard/settings/online-user",children:n("OnlineUser")})}),e.jsx(Oe,{value:"/dashboard/settings/waf",asChild:!0,children:e.jsx(Q,{to:"/dashboard/settings/waf",children:n("WAF")})})]})})},yt=({className:s,...n})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:g("mx-auto flex w-full justify-center",s),...n});yt.displayName="Pagination";const Ct=u.forwardRef(({className:s,...n},t)=>e.jsx("ul",{ref:t,className:g("flex flex-row items-center gap-1",s),...n}));Ct.displayName="PaginationContent";const Be=u.forwardRef(({className:s,...n},t)=>e.jsx("li",{ref:t,className:g("",s),...n}));Be.displayName="PaginationItem";const Cs=({className:s,isActive:n,size:t="icon",...a})=>e.jsx("a",{"aria-current":n?"page":void 0,className:g(Ue({variant:n?"outline":"ghost",size:t}),s),...a});Cs.displayName="PaginationLink";const wt=({className:s,...n})=>e.jsxs(Cs,{"aria-label":"Go to previous page",size:"default",className:g("gap-1 pl-2.5",s),...n,children:[e.jsx(fr,{className:"h-4 w-4"}),e.jsx("span",{children:"Previous"})]});wt.displayName="PaginationPrevious";const $t=({className:s,...n})=>e.jsxs(Cs,{"aria-label":"Go to next page",size:"default",className:g("gap-1 pr-2.5",s),...n,children:[e.jsx("span",{children:"Next"}),e.jsx(zs,{className:"h-4 w-4"})]});$t.displayName="PaginationNext";const Tt=({className:s,...n})=>e.jsxs("span",{"aria-hidden":!0,className:g("flex h-9 w-9 items-center justify-center",s),...n,children:[e.jsx(ct,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"More pages"})]});Tt.displayName="PaginationEllipsis";function S2(){const{t:s}=F(),{profile:n}=Xe(),[t,a]=mr(),c=Number(t.get("page"))||1,l=Number(t.get("pageSize"))||10,x=(c-1)*l,{data:d,mutate:m,error:r,isLoading:o}=ke(`/api/v1/online-user?offset=${x}&limit=${l}`,Pe),i=n?.role===0;u.useEffect(()=>{r&&$(s("Error"),{description:s(`Error fetching resource: ${r.message}.`)})},[r]);let h=[{id:"select",header:({table:f})=>e.jsx(M,{checked:f.getIsAllPageRowsSelected()||f.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:p=>f.toggleAllPageRowsSelected(!!p),"aria-label":"Select all"}),cell:({row:f})=>e.jsx(M,{checked:f.getIsSelected(),onCheckedChange:p=>f.toggleSelected(!!p),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"IP",accessorKey:"ip",accessorFn:f=>f.ip??""},{header:s("UserId"),accessorKey:"user_id",accessorFn:f=>f.user_id||""},{header:s("ConnectedAt"),accessorKey:"connected_at",accessorFn:f=>f.connected_at,cell:({row:f})=>{const p=f.original,q=new Date(p.connected_at);return e.jsx("span",{children:q.toISOString()})}},{id:"actions",header:"Actions",cell:({row:f})=>{const p=f.original;return e.jsx(t_,{className:"flex gap-2",block:{fn:cr,id:p.ip??"",mutate:m},children:e.jsx(e.Fragment,{})})}}];i||(h=h.filter(f=>f.id!=="actions"));const b=u.useMemo(()=>d?.value??[],[d]),k=Te({data:b,columns:h,getCoreRowModel:De()}),K=k.getSelectedRowModel().rows,G=()=>{if(!d?.pagination)return null;const{total:f}=d.pagination,p=Math.ceil(f/l),q=B=>{B<1||B>p||a({page:B.toString(),pageSize:l.toString()})},de=()=>{const B=[];if(p<=5)return Array.from({length:p},(A,w)=>w+1);B.push(1);let xe=Math.max(2,c-1),ge=Math.min(p-1,c+1);c<=3?ge=Math.min(4,p-1):c>=p-2&&(xe=Math.max(2,p-3)),xe>2&&B.push(-1);for(let A=xe;A<=ge;A++)B.push(A);return ge<p-1&&B.push(-1),p>1&&B.push(p),B};return e.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s("Total"),": ",f]}),e.jsx(yt,{children:e.jsxs(Ct,{children:[e.jsx(Be,{children:e.jsx(wt,{onClick:()=>q(c-1),className:c<=1?"pointer-events-none opacity-50":"cursor-pointer"})}),de().map((B,$e)=>B===-1?e.jsx(Be,{children:e.jsx(Tt,{})},`ellipsis-${$e}`):e.jsx(Be,{children:e.jsx(Cs,{onClick:()=>q(B),isActive:B===c,children:B})},B)),e.jsx(Be,{children:e.jsx($t,{onClick:()=>q(c+1),className:c>=p?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})};return e.jsxs("div",{className:"px-3",children:[e.jsx(Ys,{className:"mt-6 w-full"}),e.jsx("div",{className:"flex mt-4 mb-4",children:i&&e.jsx(d_,{className:"flex-2 flex gap-2 ml-auto",block:{fn:cr,id:K.map(f=>f.original.ip??""),mutate:m},children:e.jsx(e.Fragment,{})})}),e.jsxs(Re,{children:[e.jsx(Ae,{children:k.getHeaderGroups().map(f=>e.jsx(R,{children:f.headers.map(p=>e.jsx(we,{className:"text-sm",children:p.isPlaceholder?null:W(p.column.columnDef.header,p.getContext())},p.id))},f.id))}),e.jsx(Ee,{children:o?e.jsx(R,{children:e.jsxs(H,{colSpan:h.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):k.getRowModel().rows?.length?k.getRowModel().rows.map(f=>e.jsx(R,{"data-state":f.getIsSelected()&&"selected",children:f.getVisibleCells().map(p=>e.jsx(H,{className:"text-xsm",children:W(p.column.columnDef.cell,p.getContext())},p.id))},f.id)):e.jsx(R,{children:e.jsx(H,{colSpan:h.length,className:"h-24 text-center",children:s("NoResults")})})})]}),G()]})}const b2=re({original_password:C().min(5).max(72),new_password:C().min(8).max(72),new_username:C().min(1).max(32),reject_password:P(V())}),lr=({className:s})=>{const{t:n}=F(),{profile:t,setProfile:a}=is(),c=Ne({resolver:ve(b2),defaultValues:{original_password:"",new_password:"",new_username:t?.username,reject_password:t?.reject_password},resetOptions:{keepDefaultValues:!1}}),[l,x]=u.useState(!1),d=async m=>{try{await Q1(m)}catch(o){console.error(o),$(n("Error"),{description:n("Results.UnExpectedError")});return}const r=await ns();a(r),x(!1),c.reset()};return e.jsxs(Se,{open:l,onOpenChange:x,children:[e.jsx(be,{asChild:!0,children:e.jsx(D,{variant:"outline",className:s,children:n("UpdateProfile")})}),e.jsx(me,{className:"sm:max-w-xl",children:e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:n("UpdateProfile")}),e.jsx(ce,{})]}),e.jsx(Ce,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-2 my-2",children:[e.jsx(S,{control:c.control,name:"new_username",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:n("NewUsername")}),e.jsx(j,{children:e.jsx(T,{autoComplete:"username",...m})}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"original_password",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:n("OriginalPassword")}),e.jsx(j,{children:e.jsx(T,{autoComplete:"current-password",...m})}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"new_password",render:({field:m})=>e.jsxs(N,{children:[e.jsx(y,{children:n("NewPassword")}),e.jsx(j,{children:e.jsx(T,{...m})}),e.jsx(v,{})]})}),e.jsx(S,{control:c.control,name:"reject_password",render:({field:m})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:m.value,onCheckedChange:m.onChange}),e.jsx(O,{className:"text-sm",children:n("RejectPassword")})]})}),e.jsx(v,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:n("Close")})}),e.jsx(D,{type:"submit",className:"my-2",children:n("Confirm")})]})]})})]})})})]})};function y2(){const{profile:s,setProfile:n}=is(),{servers:t,serverGroups:a}=ls(),{data:c}=bs(),l=qs("(min-width: 890px)");u.useEffect(()=>{new URLSearchParams(window.location.search).get("oauth2")&&(ns().then(r=>{n(r)}),window.history.replaceState({},document.title,window.location.pathname))},[window.location.search]);const x=async m=>{try{const r=await On(m,vt.BIND);window.location.href=r.redirect}catch(r){$.error(r.message)}},d=async m=>{try{await x_(m);const r=await ns();n(r)}catch(r){$.error(r.message)}};return s&&e.jsxs("div",{className:`flex p-8 gap-4 ${l?"ml-6":"flex-col"}`,children:[e.jsxs("div",{className:`flex ${l?"flex-col mr-6":"gap-4 w-full items-center"}`,children:[e.jsxs(Ls,{className:`${l?"h-[300px] w-[300px]":"h-[150px] w-[150px]"} border-foreground border-[1px]`,children:[e.jsx(Fs,{src:"https://api.dicebear.com/7.x/notionists/svg?seed="+s.username,alt:s.username}),e.jsx(Os,{children:s.username})]}),e.jsxs("div",{children:[e.jsx("p",{className:"justify-center text-3xl font-semibold",children:s.username}),e.jsxs("p",{className:"text-gray-400",children:["IP: ",s.login_ip||"Unknown"]})]}),l&&e.jsx(lr,{className:"flex mt-4 justify-center items-center max-w-[300px] rounded-lg"})]}),!l&&e.jsx(lr,{className:"flex justify-center items-center max-w-full rounded-lg"}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs(os,{className:"w-full",children:[e.jsx(Ps,{children:e.jsxs(Rs,{className:"flex gap-2 text-xl items-center",children:[e.jsx(Mo,{})," Servers"]})}),e.jsx(as,{className:"text-lg font-semibold",children:t?.length||0})]}),e.jsxs(os,{className:"w-full",children:[e.jsx(Ps,{children:e.jsxs(Rs,{className:"flex gap-2 text-xl items-center",children:[e.jsx(At,{})," Server Groups"]})}),e.jsx(as,{className:"text-lg font-semibold",children:a?.length||0})]}),e.jsxs(os,{className:"w-full",children:[e.jsx(Ps,{children:e.jsxs(Rs,{className:"flex gap-2 text-xl items-center",children:[e.jsx(At,{})," Oauth2 bindings"]})}),e.jsx(as,{className:"text-lg font-semibold",children:c?.config?.oauth2_providers?.map(m=>e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[e.jsxs("section",{className:"flex gap-2 items-center",children:[e.jsxs("p",{children:[m,": "]}),s.oauth2_bind?.[m.toLowerCase()]&&e.jsx("p",{className:" bg-muted px-1.5 py-0.5 text-sm rounded-full",children:s.oauth2_bind?.[m.toLowerCase()]})]}),s.oauth2_bind?.[m.toLowerCase()]?e.jsx(D,{className:"w-fit bg-red-600 hover:bg-red-500 dark:text-white rounded-lg shadow-[inset_0_1px_0_rgba(255,255,255,0.2)] my-1",size:"sm",onClick:()=>d(m),children:"Unbind"}):e.jsx(D,{className:"my-1",size:"sm",onClick:()=>x(m),children:"Bind"})]}))})]})]})})]})}const C2=async s=>I(_.PATCH,"/api/v1/setting",s),w2=re({dns_servers:P(C()),autossh_host:P(C()),ignored_ip_notification:P(C()),ip_change_notification_group_id:Y().int().min(0),cover:Y().int().min(1),site_name:C().min(1),language:C().min(2),user_template:C().min(1),install_host:P(C()),custom_code:P(C()),custom_code_dashboard:P(C()),web_real_ip_header:P(C()),agent_real_ip_header:P(C()),tls:P(V()),enable_ip_change_notification:P(V()),enable_plain_ip_in_notification:P(V())});function $2(){const{t:s,i18n:n}=F(),{data:t,mutate:a}=bs(),{profile:c}=Xe(),l=Gs();c?.role===0||l("/dashboard/settings/online-user");const d=Ne({resolver:ve(w2),defaultValues:t?{...t.config,user_template:t.config?.user_template||Object.keys(t.frontend_templates?.filter(r=>!r.is_admin)||{})[0]||"user-dist"}:{ip_change_notification_group_id:0,cover:1,site_name:"",language:"",user_template:"user-dist"},resetOptions:{keepDefaultValues:!1}});u.useEffect(()=>{t?.config&&d.reset(t?.config)},[t?.config,d]);const m=async r=>{try{await C2(r),d.reset(),await a()}catch(o){$(s("Error"),{description:s("Results.ErrorFetchingResource",{error:o?.toString()})});return}finally{r.language!=n.language&&n.changeLanguage(r.language),$(s("Success"))}};return e.jsxs("div",{className:"px-3",children:[e.jsx(Ys,{className:"mt-6 mb-4 w-full"}),e.jsx("div",{children:e.jsx(Ce,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(m),className:"space-y-2 my-2",children:[e.jsx(S,{control:d.control,name:"site_name",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:s("SiteName")}),e.jsx(j,{children:e.jsx(T,{...r})}),e.jsx(v,{})]})}),e.jsx(S,{control:d.control,name:"language",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:s("Language")}),e.jsx(j,{children:e.jsxs(se,{onValueChange:r.onChange,value:r.value,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(te,{})})}),e.jsx(ee,{children:Object.entries(wE).map(([o,i])=>e.jsx(E,{value:o,children:i},o))})]})}),e.jsx(v,{})]})}),e.jsx(S,{control:d.control,name:"user_template",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:s("Theme")}),e.jsx(j,{children:e.jsxs(se,{value:r.value,onValueChange:o=>{const i=t?.frontend_templates?.find(h=>h.path===o);i&&d.setValue("user_template",i.path)},children:[e.jsx(j,{children:e.jsx(X,{className:"py-8",children:e.jsx(te,{placeholder:s("SelectTheme")})})}),e.jsx(ee,{children:(t?.frontend_templates?.filter(o=>!o.is_admin)||[]).map(o=>e.jsxs("div",{children:[e.jsx(E,{value:o.path,children:e.jsxs("div",{className:"flex flex-col items-start gap-1",children:[e.jsx("div",{className:"font-medium",children:o.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[s("Author"),":"," ",o.author]}),o.is_official?e.jsx("span",{className:"px-1.5 py-0.5 rounded-md bg-blue-100 text-blue-800 text-xs",children:s("Official")}):e.jsx("span",{className:"px-1.5 py-0.5 rounded-md bg-red-100 text-red-800 text-xs",children:s("Community")})]})]})}),e.jsx("div",{className:"px-8 py-1",children:e.jsx("a",{href:o.repository,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:o.repository})})]},o.path))})]})}),e.jsx(v,{}),!t?.frontend_templates?.find(o=>o.path===r.value)?.is_official&&e.jsxs("div",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-200 bg-yellow-100 dark:bg-yellow-900 border border-yellow-200 dark:border-yellow-700 rounded-md p-2",children:[e.jsx("div",{className:"font-medium text-lg mb-1",children:s("CommunityThemeWarning")}),e.jsx("div",{className:"text-yellow-700 dark:text-yellow-200",children:s("CommunityThemeDescription")})]})]})}),e.jsx(S,{control:d.control,name:"custom_code",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:s("CustomCodes")}),e.jsx(j,{children:e.jsx(ne,{className:"resize-y min-h-48",...r})}),e.jsx(v,{})]})}),e.jsx(S,{control:d.control,name:"custom_code_dashboard",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:s("CustomCodesDashboard")}),e.jsx(j,{children:e.jsx(ne,{className:"resize-y min-h-48",...r})}),e.jsx(v,{})]})}),e.jsx(S,{control:d.control,name:"install_host",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:s("DashboardOriginalHost")}),e.jsx(j,{children:e.jsx(T,{...r})}),e.jsx(v,{})]})}),e.jsx(S,{control:d.control,name:"tls",render:({field:r})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:r.value,onCheckedChange:r.onChange}),e.jsx(O,{className:"text-sm",children:s("ConfigTLS")})]})}),e.jsx(v,{})]})}),e.jsx(S,{control:d.control,name:"dns_servers",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:s("CustomPublicDNSNameserversforDDNS")+" "+s("SeparateWithComma")}),e.jsx(j,{children:e.jsx(T,{...r})}),e.jsx(v,{})]})}),e.jsx(S,{control:d.control,name:"autossh_host",render:({field:r})=>e.jsxs(N,{children:[e.jsxs(y,{children:[s("AutoSSHServerAddress")," (",s("AutoSSHServerAddressFormat"),")"]}),e.jsx(j,{children:e.jsx(T,{placeholder:"root@156.227.233.135:22",...r})}),e.jsx(v,{})]})}),e.jsx(S,{control:d.control,name:"web_real_ip_header",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:s("WebRealIPHeader")}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{disabled:r.value=="NZ::Use-Peer-IP",className:"w-1/2",placeholder:"CF-Connecting-IP",...r}),e.jsx(M,{checked:r.value=="NZ::Use-Peer-IP",className:"ml-2",onCheckedChange:o=>{o?(r.disabled=!0,d.setValue("web_real_ip_header","NZ::Use-Peer-IP")):(r.disabled=!1,d.setValue("web_real_ip_header",""))}}),e.jsx(y,{className:"font-normal ml-2",children:s("UseDirectConnectingIP")})]})}),e.jsx(v,{})]})}),e.jsx(S,{control:d.control,name:"agent_real_ip_header",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:s("AgentRealIPHeader")}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{disabled:r.value=="NZ::Use-Peer-IP",className:"w-1/2",placeholder:"CF-Connecting-IP",...r}),e.jsx(M,{checked:r.value=="NZ::Use-Peer-IP",className:"ml-2",onCheckedChange:o=>{o?(r.disabled=!0,d.setValue("agent_real_ip_header","NZ::Use-Peer-IP")):(r.disabled=!1,d.setValue("agent_real_ip_header",""))}}),e.jsx(y,{className:"font-normal ml-2",children:s("UseDirectConnectingIP")})]})}),e.jsx(v,{})]})}),e.jsxs(N,{children:[e.jsx(y,{children:s("IPChangeNotification")}),e.jsx(os,{className:"w-full",children:e.jsx(as,{children:e.jsxs("div",{className:"flex flex-col space-y-4 mt-4",children:[e.jsx(S,{control:d.control,name:"cover",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:s("Coverage")}),e.jsxs(se,{onValueChange:r.onChange,value:`${r.value}`,children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(te,{})})}),e.jsx(ee,{children:Object.entries(CE).map(([o,i])=>e.jsx(E,{value:o,children:i},o))})]}),e.jsx(v,{})]})}),e.jsx(S,{control:d.control,name:"ignored_ip_notification",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:s("SpecificServers")+" "+s("SeparateWithComma")}),e.jsx(j,{children:e.jsx(T,{placeholder:"1,2,3",...r})}),e.jsx(v,{})]})}),e.jsx(S,{control:d.control,name:"ip_change_notification_group_id",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:s("NotifierGroupID")}),e.jsx(j,{children:e.jsx(T,{placeholder:"0",type:"number",...r})}),e.jsx(v,{})]})}),e.jsx(S,{control:d.control,name:"enable_ip_change_notification",render:({field:r})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:r.value,onCheckedChange:r.onChange}),e.jsx(O,{className:"text-sm",children:s("Enable")})]})}),e.jsx(v,{})]})})]})})})]}),e.jsx(S,{control:d.control,name:"enable_plain_ip_in_notification",render:({field:r})=>e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{checked:r.value,onCheckedChange:r.onChange}),e.jsx(O,{className:"text-sm",children:s("FullIPNotification")})]})}),e.jsx(v,{})]})}),e.jsx(D,{type:"submit",children:s("Confirm")})]})})})]})}const T2=re({username:C().min(1),role:ue().int().min(0).max(1),password:C().min(8).max(72).optional().or(un("")),server_ids:fe(ue()).optional()}),dr=({data:s,mutate:n})=>{const{t}=F(),a=Ne({resolver:ve(T2),defaultValues:s?{username:s.username,role:s.role,password:"",server_ids:s.server_ids||[]}:{username:"",role:1,password:"",server_ids:[]},resetOptions:{keepDefaultValues:!1}}),[c,l]=u.useState(!1),x=async r=>{try{if(s){const o={username:r.username,role:r.role};r.password&&r.password.length>0&&(o.password=r.password),r.server_ids&&(o.server_ids=r.server_ids),await X1(s.id,o)}else{if(!r.password||r.password.length===0){$(t("Error"),{description:t("PasswordRequired")});return}await Z1(r)}}catch(o){console.error(o),$(t("Error"),{description:t("Results.UnExpectedError")});return}l(!1),await n(),a.reset()},{servers:d}=ls(),m=d?.map(r=>({value:`${r.id}`,label:r.name}))||[];return e.jsxs(Se,{open:c,onOpenChange:l,children:[e.jsx(be,{asChild:!0,children:s?e.jsx(U,{variant:"outline",icon:"edit"}):e.jsx(U,{icon:"plus"})}),e.jsx(me,{className:"sm:max-w-xl",children:e.jsx(le,{className:"max-h-[calc(100dvh-5rem)] p-3",children:e.jsxs("div",{className:"items-center mx-1",children:[e.jsxs(ae,{children:[e.jsx(ie,{children:t(s?"EditUser":"NewUser")}),e.jsx(ce,{})]}),e.jsx(Ce,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-2 my-2",children:[e.jsx(S,{control:a.control,name:"username",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Username")}),e.jsx(j,{children:e.jsx(T,{...r})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"password",render:({field:r})=>e.jsxs(N,{children:[e.jsxs(y,{children:[t("Password"),s&&` (${t("LeaveBlankToKeepCurrent")})`]}),e.jsx(j,{children:e.jsx(T,{type:"password",...r})}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"role",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:t("Role")}),e.jsxs(se,{onValueChange:o=>r.onChange(parseInt(o)),defaultValue:r.value.toString(),children:[e.jsx(j,{children:e.jsx(X,{children:e.jsx(te,{placeholder:t("SelectRole")})})}),e.jsxs(ee,{children:[e.jsx(E,{value:"0",children:t("Admin")}),e.jsx(E,{value:"1",children:t("User")})]})]}),e.jsx(v,{})]})}),e.jsx(S,{control:a.control,name:"server_ids",render:({field:r})=>e.jsxs(N,{children:[e.jsx(y,{children:t("ServerPermissions")}),e.jsx(j,{children:e.jsx(us,{options:m,onValueChange:o=>{const i=o.map(Number);r.onChange(i)},defaultValue:r.value?.map(String),placeholder:t("SelectServers")})}),e.jsx(v,{})]})}),e.jsxs(he,{className:"justify-end",children:[e.jsx(ye,{asChild:!0,children:e.jsx(D,{type:"button",className:"my-2",variant:"secondary",children:t("Close")})}),e.jsx(D,{type:"submit",className:"my-2",children:t("Confirm")})]})]})})]})})})]})};function D2(){const{t:s}=F(),{data:n,mutate:t,error:a,isLoading:c}=ke("/api/v1/user",Pe);u.useEffect(()=>{a&&$(s("Error"),{description:s("Results.UnExpectedError",{error:a.message})})},[a]);const l=[{id:"select",header:({table:r})=>e.jsx(M,{checked:r.getIsAllPageRowsSelected()||r.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>r.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"}),cell:({row:r})=>e.jsx(M,{checked:r.getIsSelected(),onCheckedChange:o=>r.toggleSelected(!!o),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"ID",accessorKey:"id",accessorFn:r=>r.id},{header:s("Username"),accessorKey:"username",accessorFn:r=>r.username},{header:s("Role"),accessorKey:"role",accessorFn:r=>r.role===1?s("User"):s("Admin")},{header:s("LastLogin"),accessorKey:"updated_at",accessorFn:r=>r.updated_at?new Date(r.updated_at).toLocaleString():s("Never")},{id:"actions",header:s("Actions"),cell:({row:r})=>{const o=r.original;return e.jsx(Ie,{className:"flex gap-2",delete:{fn:Et,id:o.id,mutate:t},children:e.jsx(dr,{data:o,mutate:t})})}}],x=u.useMemo(()=>n??[],[n]),d=Te({data:x,columns:l,getCoreRowModel:De()}),m=d.getSelectedRowModel().rows;return e.jsxs("div",{className:"px-3",children:[e.jsx(Ys,{className:"mt-6 w-full"}),e.jsx("div",{className:"flex mt-4 mb-4",children:e.jsx(Le,{className:"flex-2 flex gap-2 ml-auto",delete:{fn:Et,id:m.map(r=>r.original.id),mutate:t},children:e.jsx(dr,{mutate:t})})}),e.jsxs(Re,{children:[e.jsx(Ae,{children:d.getHeaderGroups().map(r=>e.jsx(R,{children:r.headers.map(o=>e.jsx(we,{className:"text-sm",children:o.isPlaceholder?null:W(o.column.columnDef.header,o.getContext())},o.id))},r.id))}),e.jsx(Ee,{children:c?e.jsx(R,{children:e.jsxs(H,{colSpan:l.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):d.getRowModel().rows?.length?d.getRowModel().rows.map(r=>e.jsx(R,{"data-state":r.getIsSelected()&&"selected",children:r.getVisibleCells().map(o=>e.jsx(H,{className:"text-xsm",children:W(o.column.columnDef.cell,o.getContext())},o.id))},r.id)):e.jsx(R,{children:e.jsx(H,{colSpan:l.length,className:"h-24 text-center",children:s("NoResults")})})})]})]})}const ur=async s=>I(_.POST,"/api/v1/batch-delete/waf",s);function k2(){const{t:s}=F(),{profile:n}=Xe(),[t,a]=mr(),c=Number(t.get("page"))||1,l=Number(t.get("pageSize"))||10,x=(c-1)*l,{data:d,mutate:m,error:r,isLoading:o}=ke(`/api/v1/waf?offset=${x}&limit=${l}`,Pe),i=n?.role===0;u.useEffect(()=>{r&&$(s("Error"),{description:s(`Error fetching resource: ${r.message}.`)})},[r]);let h=[{id:"select",header:({table:f})=>e.jsx(M,{checked:f.getIsAllPageRowsSelected()||f.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:p=>f.toggleAllPageRowsSelected(!!p),"aria-label":"Select all"}),cell:({row:f})=>e.jsx(M,{checked:f.getIsSelected(),onCheckedChange:p=>f.toggleSelected(!!p),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{header:"IP",accessorKey:"ip",accessorFn:f=>f.ip},{header:s("Count"),accessorKey:"count",accessorFn:f=>f.count},{header:s("LastBlockReason"),accessorKey:"lastBlockReason",accessorFn:f=>f.block_reason,cell:({row:f})=>e.jsx("span",{children:$E[f.original.block_reason]||""})},{header:s("BlockIdentifier"),accessorKey:"BlockIdentifier",accessorFn:f=>TE[f.block_identifier]||f.block_identifier},{header:s("LastBlockTime"),accessorKey:"lastBlockTime",accessorFn:f=>f.block_timestamp,cell:({row:f})=>{const p=f.original,q=new Date((p.block_timestamp||0)*1e3);return e.jsx("span",{children:q.toISOString()})}},{id:"actions",header:"Actions",cell:({row:f})=>{const p=f.original;return e.jsx(Ie,{className:"flex gap-2",delete:{fn:ur,id:p.ip||"",mutate:m},children:e.jsx(e.Fragment,{})})}}];i||(h=h.filter(f=>f.id!=="actions"));const b=u.useMemo(()=>d?.value??[],[d]),k=Te({data:b,columns:h,getCoreRowModel:De()}),K=k.getSelectedRowModel().rows,G=()=>{if(!d?.pagination)return null;const{total:f}=d.pagination,p=Math.ceil(f/l),q=B=>{B<1||B>p||a({page:B.toString(),pageSize:l.toString()})},de=()=>{const B=[];if(p<=5)return Array.from({length:p},(A,w)=>w+1);B.push(1);let xe=Math.max(2,c-1),ge=Math.min(p-1,c+1);c<=3?ge=Math.min(4,p-1):c>=p-2&&(xe=Math.max(2,p-3)),xe>2&&B.push(-1);for(let A=xe;A<=ge;A++)B.push(A);return ge<p-1&&B.push(-1),p>1&&B.push(p),B};return e.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s("Total"),": ",f]}),e.jsx(yt,{children:e.jsxs(Ct,{children:[e.jsx(Be,{children:e.jsx(wt,{onClick:()=>q(c-1),className:c<=1?"pointer-events-none opacity-50":"cursor-pointer"})}),de().map((B,$e)=>B===-1?e.jsx(Be,{children:e.jsx(Tt,{})},`ellipsis-${$e}`):e.jsx(Be,{children:e.jsx(Cs,{onClick:()=>q(B),isActive:B===c,children:B})},B)),e.jsx(Be,{children:e.jsx($t,{onClick:()=>q(c+1),className:c>=p?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})};return e.jsxs("div",{className:"px-3",children:[e.jsx(Ys,{className:"mt-6 w-full"}),e.jsx("div",{className:"flex mt-4 mb-4",children:i&&e.jsx(Le,{className:"flex-2 flex gap-2 ml-auto",delete:{fn:ur,id:K.map(f=>f.original.ip||""),mutate:m},children:e.jsx(e.Fragment,{})})}),e.jsxs(Re,{children:[e.jsx(Ae,{children:k.getHeaderGroups().map(f=>e.jsx(R,{children:f.headers.map(p=>e.jsx(we,{className:"text-sm",children:p.isPlaceholder?null:W(p.column.columnDef.header,p.getContext())},p.id))},f.id))}),e.jsx(Ee,{children:o?e.jsx(R,{children:e.jsxs(H,{colSpan:h.length,className:"h-24 text-center",children:[s("Loading"),"..."]})}):k.getRowModel().rows?.length?k.getRowModel().rows.map(f=>e.jsx(R,{"data-state":f.getIsSelected()&&"selected",children:f.getVisibleCells().map(p=>e.jsx(H,{className:"text-xsm",children:W(p.column.columnDef.cell,p.getContext())},p.id))},f.id)):e.jsx(R,{children:e.jsx(H,{colSpan:h.length,className:"h-24 text-center",children:s("NoResults")})})})]}),G()]})}const P2=so([{path:"/dashboard",element:e.jsx(eE,{children:e.jsx(ZE,{children:e.jsx(KE,{})})}),errorElement:e.jsx(YE,{}),children:[{path:"/dashboard/login",element:e.jsx(f_,{})},{path:"/dashboard",element:e.jsx(hs,{withServerGroup:!0,children:e.jsx(J_,{})})},{path:"/dashboard/service",element:e.jsx(hs,{withServer:!0,children:e.jsx(ms,{withNotifierGroup:!0,children:e.jsx(X_,{})})})},{path:"/dashboard/cron",element:e.jsx(hs,{withServer:!0,children:e.jsx(ms,{withNotifierGroup:!0,children:e.jsx(h_,{})})})},{path:"/dashboard/alert-rule",element:e.jsx(ms,{withNotifierGroup:!0,children:e.jsx(j2,{})})},{path:"/dashboard/ddns",element:e.jsx(n2,{})},{path:"/dashboard/nat",element:e.jsx(c2,{})},{path:"/dashboard/server-group",element:e.jsx(hs,{withServer:!0,children:e.jsx(h2,{})})},{path:"/dashboard/notification-group",element:e.jsx(ms,{withNotifier:!0,children:e.jsx(u2,{})})},{path:"/dashboard/terminal/:id",element:e.jsx(W_,{})},{path:"/dashboard/notification",element:e.jsx(ms,{withNotifierGroup:!0,children:e.jsx(v2,{})})},{path:"/dashboard/profile",element:e.jsx(hs,{withServer:!0,withServerGroup:!0,children:e.jsx(y2,{})})},{path:"/dashboard/settings",element:e.jsx($2,{})},{path:"/dashboard/settings/user",element:e.jsx(D2,{})},{path:"/dashboard/settings/waf",element:e.jsx(k2,{})},{path:"/dashboard/settings/online-user",element:e.jsx(S2,{})}]}]);to.createRoot(document.getElementById("root")).render(e.jsx(ro,{router:P2}));
