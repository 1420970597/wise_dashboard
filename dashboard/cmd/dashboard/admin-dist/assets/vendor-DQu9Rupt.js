import{c as sv,H as I,b as Ld,g as ov,r as H,a as av,j as Se}from"./react-DaKiOxKV.js";import{O as Pd,C as Bd,T as lv,D as cv,P as Fd,a as uv,b as hv,R as Hd,u as Pn,c as Kr,d as xi}from"./ui-C1rhP7Hn.js";import{a as dv,b as fv,c as mv,d as pv,e as gv,f as vv,g as _v,h as yv,i as Sv,j as wv,k as Cv,l as bv,m as xv,n as Ev,o as kv,p as Tv,q as Dv,r as Rv,s as Mv,t as Av,u as Ov,v as Iv,w as Lv,x as Pv,y as Bv,z as Fv,A as Hv,B as Nv,C as Vv,D as $v,E as Wv,F as zv,G as Nd}from"./utils-DoDoqC8P.js";var wo={exports:{}},Co={};var Fc;function Uv(){if(Fc)return Co;Fc=1;var e=sv();function t(c,p){return c===p&&(c!==0||1/c===1/p)||c!==c&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function s(c,p){var v=p(),S=n({inst:{value:v,getSnapshot:p}}),_=S[0].inst,m=S[1];return o(function(){_.value=v,_.getSnapshot=p,a(_)&&m({inst:_})},[c,v,p]),i(function(){return a(_)&&m({inst:_}),c(function(){a(_)&&m({inst:_})})},[c]),l(v),v}function a(c){var p=c.getSnapshot;c=c.value;try{var v=p();return!r(c,v)}catch{return!0}}function u(c,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return Co.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Co}var Hc;function jv(){return Hc||(Hc=1,wo.exports=Uv()),wo.exports}var A2=jv();function qv(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Gv=e=>{switch(e){case"success":return Zv;case"info":return Jv;case"warning":return Xv;case"error":return Qv;default:return null}},Kv=Array(12).fill(0),Yv=({visible:e,className:t})=>I.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},I.createElement("div",{className:"sonner-spinner"},Kv.map((r,n)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Zv=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Xv=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Jv=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Qv=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),e_=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),t_=()=>{const[e,t]=I.useState(document.hidden);return I.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let ka=1;class r_{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...i}=t,o=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:ka++,l=this.toasts.find(a=>a.id===o),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(a=>a.id===o?(this.publish({...a,...t,id:o,title:n}),{...a,...t,id:o,dismissible:s,title:n}):a):this.addToast({title:n,...i,dismissible:s,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let o=n!==void 0,l;const s=i.then(async u=>{if(l=["resolve",u],I.isValidElement(u))o=!1,this.create({id:n,type:"default",message:u});else if(i_(u)&&!u.ok){o=!1;const c=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,S=typeof c=="object"&&!I.isValidElement(c)?c:{message:c};this.create({id:n,type:"error",description:p,...S})}else if(u instanceof Error){o=!1;const c=typeof r.error=="function"?await r.error(u):r.error,p=typeof r.description=="function"?await r.description(u):r.description,S=typeof c=="object"&&!I.isValidElement(c)?c:{message:c};this.create({id:n,type:"error",description:p,...S})}else if(r.success!==void 0){o=!1;const c=typeof r.success=="function"?await r.success(u):r.success,p=typeof r.description=="function"?await r.description(u):r.description,S=typeof c=="object"&&!I.isValidElement(c)?c:{message:c};this.create({id:n,type:"success",description:p,...S})}}).catch(async u=>{if(l=["reject",u],r.error!==void 0){o=!1;const h=typeof r.error=="function"?await r.error(u):r.error,c=typeof r.description=="function"?await r.description(u):r.description,v=typeof h=="object"&&!I.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:c,...v})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),a=()=>new Promise((u,h)=>s.then(()=>l[0]==="reject"?h(l[1]):u(l[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,r)=>{const n=r?.id||ka++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Mt=new r_,n_=(e,t)=>{const r=t?.id||ka++;return Mt.addToast({title:e,...t,id:r}),r},i_=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",s_=n_,o_=()=>Mt.toasts,a_=()=>Mt.getActiveToasts(),O2=Object.assign(s_,{success:Mt.success,info:Mt.info,warning:Mt.warning,error:Mt.error,custom:Mt.custom,message:Mt.message,promise:Mt.promise,dismiss:Mt.dismiss,loading:Mt.loading},{getHistory:o_,getToasts:a_});qv("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function rs(e){return e.label!==void 0}const l_=3,c_="24px",u_="16px",Nc=4e3,h_=356,d_=14,f_=45,m_=200;function cr(...e){return e.filter(Boolean).join(" ")}function p_(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const g_=e=>{var t,r,n,i,o,l,s,a,u;const{invert:h,toast:c,unstyled:p,interacting:v,setHeights:S,visibleToasts:_,heights:m,index:d,toasts:f,expanded:g,removeToast:y,defaultRichColors:w,closeButton:C,style:x,cancelButtonStyle:b,actionButtonStyle:E,className:R="",descriptionClassName:M="",duration:L,position:D,gap:B,expandByDefault:$,classNames:z,icons:U,closeButtonAriaLabel:W="Close toast"}=e,[T,A]=I.useState(null),[P,O]=I.useState(null),[N,j]=I.useState(!1),[q,Y]=I.useState(!1),[F,k]=I.useState(!1),[V,G]=I.useState(!1),[Z,K]=I.useState(!1),[ue,ee]=I.useState(0),[ke,Be]=I.useState(0),ie=I.useRef(c.duration||L||Nc),tt=I.useRef(null),qe=I.useRef(null),ut=d===0,Dt=d+1<=_,Ne=c.type,Re=c.dismissible!==!1,st=c.className||"",$e=c.descriptionClassName||"",ft=I.useMemo(()=>m.findIndex(se=>se.toastId===c.id)||0,[m,c.id]),$t=I.useMemo(()=>{var se;return(se=c.closeButton)!=null?se:C},[c.closeButton,C]),rt=I.useMemo(()=>c.duration||L||Nc,[c.duration,L]),bt=I.useRef(0),Xe=I.useRef(0),xt=I.useRef(0),be=I.useRef(null),[Lr,ri]=D.split("-"),Sn=I.useMemo(()=>m.reduce((se,Te,Fe)=>Fe>=ft?se:se+Te.height,0),[m,ft]),Qr=t_(),ni=c.invert||h,ye=Ne==="loading";Xe.current=I.useMemo(()=>ft*B+Sn,[ft,Sn]),I.useEffect(()=>{ie.current=rt},[rt]),I.useEffect(()=>{j(!0)},[]),I.useEffect(()=>{const se=qe.current;if(se){const Te=se.getBoundingClientRect().height;return Be(Te),S(Fe=>[{toastId:c.id,height:Te,position:c.position},...Fe]),()=>S(Fe=>Fe.filter(Pe=>Pe.toastId!==c.id))}},[S,c.id]),I.useLayoutEffect(()=>{if(!N)return;const se=qe.current,Te=se.style.height;se.style.height="auto";const Fe=se.getBoundingClientRect().height;se.style.height=Te,Be(Fe),S(Pe=>Pe.find(Ve=>Ve.toastId===c.id)?Pe.map(Ve=>Ve.toastId===c.id?{...Ve,height:Fe}:Ve):[{toastId:c.id,height:Fe,position:c.position},...Pe])},[N,c.title,c.description,S,c.id,c.jsx,c.action,c.cancel]);const Q=I.useCallback(()=>{Y(!0),ee(Xe.current),S(se=>se.filter(Te=>Te.toastId!==c.id)),setTimeout(()=>{y(c)},m_)},[c,y,S,Xe]);I.useEffect(()=>{if(c.promise&&Ne==="loading"||c.duration===1/0||c.type==="loading")return;let se;return g||v||Qr?(()=>{if(xt.current<bt.current){const Pe=new Date().getTime()-bt.current;ie.current=ie.current-Pe}xt.current=new Date().getTime()})():(()=>{ie.current!==1/0&&(bt.current=new Date().getTime(),se=setTimeout(()=>{c.onAutoClose==null||c.onAutoClose.call(c,c),Q()},ie.current))})(),()=>clearTimeout(se)},[g,v,c,Ne,Qr,Q]),I.useEffect(()=>{c.delete&&(Q(),c.onDismiss==null||c.onDismiss.call(c,c))},[Q,c.delete]);function re(){var se;if(U?.loading){var Te;return I.createElement("div",{className:cr(z?.loader,c==null||(Te=c.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":Ne==="loading"},U.loading)}return I.createElement(Yv,{className:cr(z?.loader,c==null||(se=c.classNames)==null?void 0:se.loader),visible:Ne==="loading"})}const ce=c.icon||U?.[Ne]||Gv(Ne);var he,ae;return I.createElement("li",{tabIndex:0,ref:qe,className:cr(R,st,z?.toast,c==null||(t=c.classNames)==null?void 0:t.toast,z?.default,z?.[Ne],c==null||(r=c.classNames)==null?void 0:r[Ne]),"data-sonner-toast":"","data-rich-colors":(he=c.richColors)!=null?he:w,"data-styled":!(c.jsx||c.unstyled||p),"data-mounted":N,"data-promise":!!c.promise,"data-swiped":Z,"data-removed":q,"data-visible":Dt,"data-y-position":Lr,"data-x-position":ri,"data-index":d,"data-front":ut,"data-swiping":F,"data-dismissible":Re,"data-type":Ne,"data-invert":ni,"data-swipe-out":V,"data-swipe-direction":P,"data-expanded":!!(g||$&&N),"data-testid":c.testId,style:{"--index":d,"--toasts-before":d,"--z-index":f.length-d,"--offset":`${q?ue:Xe.current}px`,"--initial-height":$?"auto":`${ke}px`,...x,...c.style},onDragEnd:()=>{k(!1),A(null),be.current=null},onPointerDown:se=>{se.button!==2&&(ye||!Re||(tt.current=new Date,ee(Xe.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(k(!0),be.current={x:se.clientX,y:se.clientY})))},onPointerUp:()=>{var se,Te,Fe;if(V||!Re)return;be.current=null;const Pe=Number(((se=qe.current)==null?void 0:se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gt=Number(((Te=qe.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ve=new Date().getTime()-((Fe=tt.current)==null?void 0:Fe.getTime()),Ge=T==="x"?Pe:gt,br=Math.abs(Ge)/Ve;if(Math.abs(Ge)>=f_||br>.11){ee(Xe.current),c.onDismiss==null||c.onDismiss.call(c,c),O(T==="x"?Pe>0?"right":"left":gt>0?"down":"up"),Q(),G(!0);return}else{var Rt,Zt;(Rt=qe.current)==null||Rt.style.setProperty("--swipe-amount-x","0px"),(Zt=qe.current)==null||Zt.style.setProperty("--swipe-amount-y","0px")}K(!1),k(!1),A(null)},onPointerMove:se=>{var Te,Fe,Pe;if(!be.current||!Re||((Te=window.getSelection())==null?void 0:Te.toString().length)>0)return;const Ve=se.clientY-be.current.y,Ge=se.clientX-be.current.x;var br;const Rt=(br=e.swipeDirections)!=null?br:p_(D);!T&&(Math.abs(Ge)>1||Math.abs(Ve)>1)&&A(Math.abs(Ge)>Math.abs(Ve)?"x":"y");let Zt={x:0,y:0};const Bc=en=>1/(1.5+Math.abs(en)/20);if(T==="y"){if(Rt.includes("top")||Rt.includes("bottom"))if(Rt.includes("top")&&Ve<0||Rt.includes("bottom")&&Ve>0)Zt.y=Ve;else{const en=Ve*Bc(Ve);Zt.y=Math.abs(en)<Math.abs(Ve)?en:Ve}}else if(T==="x"&&(Rt.includes("left")||Rt.includes("right")))if(Rt.includes("left")&&Ge<0||Rt.includes("right")&&Ge>0)Zt.x=Ge;else{const en=Ge*Bc(Ge);Zt.x=Math.abs(en)<Math.abs(Ge)?en:Ge}(Math.abs(Zt.x)>0||Math.abs(Zt.y)>0)&&K(!0),(Fe=qe.current)==null||Fe.style.setProperty("--swipe-amount-x",`${Zt.x}px`),(Pe=qe.current)==null||Pe.style.setProperty("--swipe-amount-y",`${Zt.y}px`)}},$t&&!c.jsx&&Ne!=="loading"?I.createElement("button",{"aria-label":W,"data-disabled":ye,"data-close-button":!0,onClick:ye||!Re?()=>{}:()=>{Q(),c.onDismiss==null||c.onDismiss.call(c,c)},className:cr(z?.closeButton,c==null||(n=c.classNames)==null?void 0:n.closeButton)},(ae=U?.close)!=null?ae:e_):null,(Ne||c.icon||c.promise)&&c.icon!==null&&(U?.[Ne]!==null||c.icon)?I.createElement("div",{"data-icon":"",className:cr(z?.icon,c==null||(i=c.classNames)==null?void 0:i.icon)},c.promise||c.type==="loading"&&!c.icon?c.icon||re():null,c.type!=="loading"?ce:null):null,I.createElement("div",{"data-content":"",className:cr(z?.content,c==null||(o=c.classNames)==null?void 0:o.content)},I.createElement("div",{"data-title":"",className:cr(z?.title,c==null||(l=c.classNames)==null?void 0:l.title)},c.jsx?c.jsx:typeof c.title=="function"?c.title():c.title),c.description?I.createElement("div",{"data-description":"",className:cr(M,$e,z?.description,c==null||(s=c.classNames)==null?void 0:s.description)},typeof c.description=="function"?c.description():c.description):null),I.isValidElement(c.cancel)?c.cancel:c.cancel&&rs(c.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:c.cancelButtonStyle||b,onClick:se=>{rs(c.cancel)&&Re&&(c.cancel.onClick==null||c.cancel.onClick.call(c.cancel,se),Q())},className:cr(z?.cancelButton,c==null||(a=c.classNames)==null?void 0:a.cancelButton)},c.cancel.label):null,I.isValidElement(c.action)?c.action:c.action&&rs(c.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:c.actionButtonStyle||E,onClick:se=>{rs(c.action)&&(c.action.onClick==null||c.action.onClick.call(c.action,se),!se.defaultPrevented&&Q())},className:cr(z?.actionButton,c==null||(u=c.classNames)==null?void 0:u.actionButton)},c.action.label):null)};function Vc(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function v_(e,t){const r={};return[e,t].forEach((n,i)=>{const o=i===1,l=o?"--mobile-offset":"--offset",s=o?u_:c_;function a(u){["top","right","bottom","left"].forEach(h=>{r[`${l}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?a(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${l}-${u}`]=s:r[`${l}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):a(s)}),r}const I2=I.forwardRef(function(t,r){const{id:n,invert:i,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:s,closeButton:a,className:u,offset:h,mobileOffset:c,theme:p="light",richColors:v,duration:S,style:_,visibleToasts:m=l_,toastOptions:d,dir:f=Vc(),gap:g=d_,icons:y,containerAriaLabel:w="Notifications"}=t,[C,x]=I.useState([]),b=I.useMemo(()=>n?C.filter(N=>N.toasterId===n):C.filter(N=>!N.toasterId),[C,n]),E=I.useMemo(()=>Array.from(new Set([o].concat(b.filter(N=>N.position).map(N=>N.position)))),[b,o]),[R,M]=I.useState([]),[L,D]=I.useState(!1),[B,$]=I.useState(!1),[z,U]=I.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=I.useRef(null),T=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=I.useRef(null),P=I.useRef(!1),O=I.useCallback(N=>{x(j=>{var q;return(q=j.find(Y=>Y.id===N.id))!=null&&q.delete||Mt.dismiss(N.id),j.filter(({id:Y})=>Y!==N.id)})},[]);return I.useEffect(()=>Mt.subscribe(N=>{if(N.dismiss){requestAnimationFrame(()=>{x(j=>j.map(q=>q.id===N.id?{...q,delete:!0}:q))});return}setTimeout(()=>{Ld.flushSync(()=>{x(j=>{const q=j.findIndex(Y=>Y.id===N.id);return q!==-1?[...j.slice(0,q),{...j[q],...N},...j.slice(q+1)]:[N,...j]})})})}),[C]),I.useEffect(()=>{if(p!=="system"){U(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;const N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:j})=>{U(j?"dark":"light")})}catch{N.addListener(({matches:q})=>{try{U(q?"dark":"light")}catch(Y){console.error(Y)}})}},[p]),I.useEffect(()=>{C.length<=1&&D(!1)},[C]),I.useEffect(()=>{const N=j=>{var q;if(l.every(k=>j[k]||j.code===k)){var F;D(!0),(F=W.current)==null||F.focus()}j.code==="Escape"&&(document.activeElement===W.current||(q=W.current)!=null&&q.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[l]),I.useEffect(()=>{if(W.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,P.current=!1)}},[W.current]),I.createElement("section",{ref:r,"aria-label":`${w} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((N,j)=>{var q;const[Y,F]=N.split("-");return b.length?I.createElement("ol",{key:N,dir:f==="auto"?Vc():f,tabIndex:-1,ref:W,className:u,"data-sonner-toaster":!0,"data-sonner-theme":z,"data-y-position":Y,"data-x-position":F,style:{"--front-toast-height":`${((q=R[0])==null?void 0:q.height)||0}px`,"--width":`${h_}px`,"--gap":`${g}px`,..._,...v_(h,c)},onBlur:k=>{P.current&&!k.currentTarget.contains(k.relatedTarget)&&(P.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:k=>{k.target instanceof HTMLElement&&k.target.dataset.dismissible==="false"||P.current||(P.current=!0,A.current=k.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{B||D(!1)},onDragEnd:()=>D(!1),onPointerDown:k=>{k.target instanceof HTMLElement&&k.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},b.filter(k=>!k.position&&j===0||k.position===N).map((k,V)=>{var G,Z;return I.createElement(g_,{key:k.id,icons:y,index:V,toast:k,defaultRichColors:v,duration:(G=d?.duration)!=null?G:S,className:d?.className,descriptionClassName:d?.descriptionClassName,invert:i,visibleToasts:m,closeButton:(Z=d?.closeButton)!=null?Z:a,interacting:B,position:N,style:d?.style,unstyled:d?.unstyled,classNames:d?.classNames,cancelButtonStyle:d?.cancelButtonStyle,actionButtonStyle:d?.actionButtonStyle,closeButtonAriaLabel:d?.closeButtonAriaLabel,removeToast:O,toasts:b.filter(K=>K.position==k.position),heights:R.filter(K=>K.position==k.position),setHeights:M,expandByDefault:s,gap:g,expanded:L,swipeDirections:t.swipeDirections})})):null}))});var $c=Object.prototype.hasOwnProperty;function Wc(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Wc(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if($c.call(e,r)&&++n&&!$c.call(t,r)||!(r in t)||!Wc(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const zc=e=>{let t;const r=new Set,n=(u,h)=>{const c=typeof u=="function"?u(t):u;if(!Object.is(c,t)){const p=t;t=h??(typeof c!="object"||c===null)?c:Object.assign({},t,c),r.forEach(v=>v(t,p))}},i=()=>t,s={setState:n,getState:i,getInitialState:()=>a,subscribe:u=>(r.add(u),()=>r.delete(u))},a=t=e(n,i,s);return s},__=(e=>e?zc(e):zc),y_=e=>e;function S_(e,t=y_){const r=I.useSyncExternalStore(e.subscribe,I.useCallback(()=>t(e.getState()),[e,t]),I.useCallback(()=>t(e.getInitialState()),[e,t]));return I.useDebugValue(r),r}const Uc=e=>{const t=__(e),r=n=>S_(t,n);return Object.assign(r,t),r},L2=(e=>e?Uc(e):Uc);function w_(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var o;const l=a=>a===null?null:JSON.parse(a,void 0),s=(o=r.getItem(i))!=null?o:null;return s instanceof Promise?s.then(l):l(s)},setItem:(i,o)=>r.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>r.removeItem(i)}}const Ta=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Ta(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Ta(n)(r)}}}},C_=(e,t)=>(r,n,i)=>{let o={storage:w_(()=>localStorage),partialize:_=>_,version:0,merge:(_,m)=>({...m,..._}),...t},l=!1;const s=new Set,a=new Set;let u=o.storage;if(!u)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(..._)},n,i);const h=()=>{const _=o.partialize({...n()});return u.setItem(o.name,{state:_,version:o.version})},c=i.setState;i.setState=(_,m)=>(c(_,m),h());const p=e((..._)=>(r(..._),h()),n,i);i.getInitialState=()=>p;let v;const S=()=>{var _,m;if(!u)return;l=!1,s.forEach(f=>{var g;return f((g=n())!=null?g:p)});const d=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(_=n())!=null?_:p))||void 0;return Ta(u.getItem.bind(u))(o.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==o.version){if(o.migrate){const g=o.migrate(f.state,f.version);return g instanceof Promise?g.then(y=>[!0,y]):[!0,g]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var g;const[y,w]=f;if(v=o.merge(w,(g=n())!=null?g:p),r(v,!0),y)return h()}).then(()=>{d?.(v,void 0),v=n(),l=!0,a.forEach(f=>f(v))}).catch(f=>{d?.(void 0,f)})};return i.persist={setOptions:_=>{o={...o,..._},_.storage&&(u=_.storage)},clearStorage:()=>{u?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>S(),hasHydrated:()=>l,onHydrate:_=>(s.add(_),()=>{s.delete(_)}),onFinishHydration:_=>(a.add(_),()=>{a.delete(_)})},o.skipHydration||S(),v||p},P2=C_;var bo,jc;function b_(){return jc||(jc=1,bo=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(i){e.addRange(i)}),t&&t.focus()}}),bo}var xo,qc;function x_(){if(qc)return xo;qc=1;var e=b_(),t={"text/plain":"Text","text/html":"Url",default:"Text"},r="Copy to clipboard: #{key}, Enter";function n(o){var l=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return o.replace(/#{\s*key\s*}/g,l)}function i(o,l){var s,a,u,h,c,p,v=!1;l||(l={}),s=l.debug||!1;try{u=e(),h=document.createRange(),c=document.getSelection(),p=document.createElement("span"),p.textContent=o,p.ariaHidden="true",p.style.all="unset",p.style.position="fixed",p.style.top=0,p.style.clip="rect(0, 0, 0, 0)",p.style.whiteSpace="pre",p.style.webkitUserSelect="text",p.style.MozUserSelect="text",p.style.msUserSelect="text",p.style.userSelect="text",p.addEventListener("copy",function(_){if(_.stopPropagation(),l.format)if(_.preventDefault(),typeof _.clipboardData>"u"){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var m=t[l.format]||t.default;window.clipboardData.setData(m,o)}else _.clipboardData.clearData(),_.clipboardData.setData(l.format,o);l.onCopy&&(_.preventDefault(),l.onCopy(_.clipboardData))}),document.body.appendChild(p),h.selectNodeContents(p),c.addRange(h);var S=document.execCommand("copy");if(!S)throw new Error("copy command was unsuccessful");v=!0}catch(_){s&&console.error("unable to copy using execCommand: ",_),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(l.format||"text",o),l.onCopy&&l.onCopy(window.clipboardData),v=!0}catch(m){s&&console.error("unable to copy using clipboardData: ",m),s&&console.error("falling back to prompt"),a=n("message"in l?l.message:r),window.prompt(a,o)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(h):c.removeAllRanges()),p&&document.body.removeChild(p),u()}return v}return xo=i,xo}var E_=x_();const B2=ov(E_),k_=["top","right","bottom","left"],$r=Math.min,It=Math.max,Ps=Math.round,ns=Math.floor,gr=e=>({x:e,y:e}),T_={left:"right",right:"left",bottom:"top",top:"bottom"},D_={start:"end",end:"start"};function Da(e,t,r){return It(e,$r(t,r))}function Rr(e,t){return typeof e=="function"?e(t):e}function Mr(e){return e.split("-")[0]}function qn(e){return e.split("-")[1]}function kl(e){return e==="x"?"y":"x"}function Tl(e){return e==="y"?"height":"width"}const R_=new Set(["top","bottom"]);function fr(e){return R_.has(Mr(e))?"y":"x"}function Dl(e){return kl(fr(e))}function M_(e,t,r){r===void 0&&(r=!1);const n=qn(e),i=Dl(e),o=Tl(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Bs(l)),[l,Bs(l)]}function A_(e){const t=Bs(e);return[Ra(e),t,Ra(t)]}function Ra(e){return e.replace(/start|end/g,t=>D_[t])}const Gc=["left","right"],Kc=["right","left"],O_=["top","bottom"],I_=["bottom","top"];function L_(e,t,r){switch(e){case"top":case"bottom":return r?t?Kc:Gc:t?Gc:Kc;case"left":case"right":return t?O_:I_;default:return[]}}function P_(e,t,r,n){const i=qn(e);let o=L_(Mr(e),r==="start",n);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(Ra)))),o}function Bs(e){return e.replace(/left|right|bottom|top/g,t=>T_[t])}function B_(e){return{top:0,right:0,bottom:0,left:0,...e}}function Vd(e){return typeof e!="number"?B_(e):{top:e,right:e,bottom:e,left:e}}function Fs(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function Yc(e,t,r){let{reference:n,floating:i}=e;const o=fr(t),l=Dl(t),s=Tl(l),a=Mr(t),u=o==="y",h=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2,p=n[s]/2-i[s]/2;let v;switch(a){case"top":v={x:h,y:n.y-i.height};break;case"bottom":v={x:h,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:c};break;case"left":v={x:n.x-i.width,y:c};break;default:v={x:n.x,y:n.y}}switch(qn(t)){case"start":v[l]-=p*(r&&u?-1:1);break;case"end":v[l]+=p*(r&&u?-1:1);break}return v}const F_=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=r,s=o.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:c}=Yc(u,n,a),p=n,v={},S=0;for(let _=0;_<s.length;_++){const{name:m,fn:d}=s[_],{x:f,y:g,data:y,reset:w}=await d({x:h,y:c,initialPlacement:n,placement:p,strategy:i,middlewareData:v,rects:u,platform:l,elements:{reference:e,floating:t}});h=f??h,c=g??c,v={...v,[m]:{...v[m],...y}},w&&S<=50&&(S++,typeof w=="object"&&(w.placement&&(p=w.placement),w.rects&&(u=w.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:h,y:c}=Yc(u,p,a)),_=-1)}return{x:h,y:c,placement:p,strategy:i,middlewareData:v}};async function Ei(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:l,elements:s,strategy:a}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:c="floating",altBoundary:p=!1,padding:v=0}=Rr(t,e),S=Vd(v),m=s[p?c==="floating"?"reference":"floating":c],d=Fs(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(m)))==null||r?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:h,strategy:a})),f=c==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,g=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),y=await(o.isElement==null?void 0:o.isElement(g))?await(o.getScale==null?void 0:o.getScale(g))||{x:1,y:1}:{x:1,y:1},w=Fs(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:f,offsetParent:g,strategy:a}):f);return{top:(d.top-w.top+S.top)/y.y,bottom:(w.bottom-d.bottom+S.bottom)/y.y,left:(d.left-w.left+S.left)/y.x,right:(w.right-d.right+S.right)/y.x}}const H_=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:l,elements:s,middlewareData:a}=t,{element:u,padding:h=0}=Rr(e,t)||{};if(u==null)return{};const c=Vd(h),p={x:r,y:n},v=Dl(i),S=Tl(v),_=await l.getDimensions(u),m=v==="y",d=m?"top":"left",f=m?"bottom":"right",g=m?"clientHeight":"clientWidth",y=o.reference[S]+o.reference[v]-p[v]-o.floating[S],w=p[v]-o.reference[v],C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let x=C?C[g]:0;(!x||!await(l.isElement==null?void 0:l.isElement(C)))&&(x=s.floating[g]||o.floating[S]);const b=y/2-w/2,E=x/2-_[S]/2-1,R=$r(c[d],E),M=$r(c[f],E),L=R,D=x-_[S]-M,B=x/2-_[S]/2+b,$=Da(L,B,D),z=!a.arrow&&qn(i)!=null&&B!==$&&o.reference[S]/2-(B<L?R:M)-_[S]/2<0,U=z?B<L?B-L:B-D:0;return{[v]:p[v]+U,data:{[v]:$,centerOffset:B-$-U,...z&&{alignmentOffset:U}},reset:z}}}),N_=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:s,platform:a,elements:u}=t,{mainAxis:h=!0,crossAxis:c=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...m}=Rr(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const d=Mr(i),f=fr(s),g=Mr(s)===s,y=await(a.isRTL==null?void 0:a.isRTL(u.floating)),w=p||(g||!_?[Bs(s)]:A_(s)),C=S!=="none";!p&&C&&w.push(...P_(s,_,S,y));const x=[s,...w],b=await Ei(t,m),E=[];let R=((n=o.flip)==null?void 0:n.overflows)||[];if(h&&E.push(b[d]),c){const B=M_(i,l,y);E.push(b[B[0]],b[B[1]])}if(R=[...R,{placement:i,overflows:E}],!E.every(B=>B<=0)){var M,L;const B=(((M=o.flip)==null?void 0:M.index)||0)+1,$=x[B];if($&&(!(c==="alignment"?f!==fr($):!1)||R.every(W=>fr(W.placement)===f?W.overflows[0]>0:!0)))return{data:{index:B,overflows:R},reset:{placement:$}};let z=(L=R.filter(U=>U.overflows[0]<=0).sort((U,W)=>U.overflows[1]-W.overflows[1])[0])==null?void 0:L.placement;if(!z)switch(v){case"bestFit":{var D;const U=(D=R.filter(W=>{if(C){const T=fr(W.placement);return T===f||T==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(T=>T>0).reduce((T,A)=>T+A,0)]).sort((W,T)=>W[1]-T[1])[0])==null?void 0:D[0];U&&(z=U);break}case"initialPlacement":z=s;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function Zc(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Xc(e){return k_.some(t=>e[t]>=0)}const V_=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Rr(e,t);switch(n){case"referenceHidden":{const o=await Ei(t,{...i,elementContext:"reference"}),l=Zc(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Xc(l)}}}case"escaped":{const o=await Ei(t,{...i,altBoundary:!0}),l=Zc(o,r.floating);return{data:{escapedOffsets:l,escaped:Xc(l)}}}default:return{}}}}},$d=new Set(["left","top"]);async function $_(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=Mr(r),s=qn(r),a=fr(r)==="y",u=$d.has(l)?-1:1,h=o&&a?-1:1,c=Rr(t,e);let{mainAxis:p,crossAxis:v,alignmentAxis:S}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return s&&typeof S=="number"&&(v=s==="end"?S*-1:S),a?{x:v*h,y:p*u}:{x:p*u,y:v*h}}const W_=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:l,middlewareData:s}=t,a=await $_(t,e);return l===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+a.x,y:o+a.y,data:{...a,placement:l}}}}},z_=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:s={fn:m=>{let{x:d,y:f}=m;return{x:d,y:f}}},...a}=Rr(e,t),u={x:r,y:n},h=await Ei(t,a),c=fr(Mr(i)),p=kl(c);let v=u[p],S=u[c];if(o){const m=p==="y"?"top":"left",d=p==="y"?"bottom":"right",f=v+h[m],g=v-h[d];v=Da(f,v,g)}if(l){const m=c==="y"?"top":"left",d=c==="y"?"bottom":"right",f=S+h[m],g=S-h[d];S=Da(f,S,g)}const _=s.fn({...t,[p]:v,[c]:S});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[p]:o,[c]:l}}}}}},U_=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:l}=t,{offset:s=0,mainAxis:a=!0,crossAxis:u=!0}=Rr(e,t),h={x:r,y:n},c=fr(i),p=kl(c);let v=h[p],S=h[c];const _=Rr(s,t),m=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(a){const g=p==="y"?"height":"width",y=o.reference[p]-o.floating[g]+m.mainAxis,w=o.reference[p]+o.reference[g]-m.mainAxis;v<y?v=y:v>w&&(v=w)}if(u){var d,f;const g=p==="y"?"width":"height",y=$d.has(Mr(i)),w=o.reference[c]-o.floating[g]+(y&&((d=l.offset)==null?void 0:d[c])||0)+(y?0:m.crossAxis),C=o.reference[c]+o.reference[g]+(y?0:((f=l.offset)==null?void 0:f[c])||0)-(y?m.crossAxis:0);S<w?S=w:S>C&&(S=C)}return{[p]:v,[c]:S}}}},j_=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:l,elements:s}=t,{apply:a=()=>{},...u}=Rr(e,t),h=await Ei(t,u),c=Mr(i),p=qn(i),v=fr(i)==="y",{width:S,height:_}=o.floating;let m,d;c==="top"||c==="bottom"?(m=c,d=p===(await(l.isRTL==null?void 0:l.isRTL(s.floating))?"start":"end")?"left":"right"):(d=c,m=p==="end"?"top":"bottom");const f=_-h.top-h.bottom,g=S-h.left-h.right,y=$r(_-h[m],f),w=$r(S-h[d],g),C=!t.middlewareData.shift;let x=y,b=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(b=g),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(x=f),C&&!p){const R=It(h.left,0),M=It(h.right,0),L=It(h.top,0),D=It(h.bottom,0);v?b=S-2*(R!==0||M!==0?R+M:It(h.left,h.right)):x=_-2*(L!==0||D!==0?L+D:It(h.top,h.bottom))}await a({...t,availableWidth:b,availableHeight:x});const E=await l.getDimensions(s.floating);return S!==E.width||_!==E.height?{reset:{rects:!0}}:{}}}};function Qs(){return typeof window<"u"}function Gn(e){return Wd(e)?(e.nodeName||"").toLowerCase():"#document"}function Pt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Sr(e){var t;return(t=(Wd(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Wd(e){return Qs()?e instanceof Node||e instanceof Pt(e).Node:!1}function sr(e){return Qs()?e instanceof Element||e instanceof Pt(e).Element:!1}function yr(e){return Qs()?e instanceof HTMLElement||e instanceof Pt(e).HTMLElement:!1}function Jc(e){return!Qs()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pt(e).ShadowRoot}const q_=new Set(["inline","contents"]);function Ni(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=or(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!q_.has(i)}const G_=new Set(["table","td","th"]);function K_(e){return G_.has(Gn(e))}const Y_=[":popover-open",":modal"];function eo(e){return Y_.some(t=>{try{return e.matches(t)}catch{return!1}})}const Z_=["transform","translate","scale","rotate","perspective"],X_=["transform","translate","scale","rotate","perspective","filter"],J_=["paint","layout","strict","content"];function Rl(e){const t=Ml(),r=sr(e)?or(e):e;return Z_.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||X_.some(n=>(r.willChange||"").includes(n))||J_.some(n=>(r.contain||"").includes(n))}function Q_(e){let t=Wr(e);for(;yr(t)&&!Wn(t);){if(Rl(t))return t;if(eo(t))return null;t=Wr(t)}return null}function Ml(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const e0=new Set(["html","body","#document"]);function Wn(e){return e0.has(Gn(e))}function or(e){return Pt(e).getComputedStyle(e)}function to(e){return sr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wr(e){if(Gn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Jc(e)&&e.host||Sr(e);return Jc(t)?t.host:t}function zd(e){const t=Wr(e);return Wn(t)?e.ownerDocument?e.ownerDocument.body:e.body:yr(t)&&Ni(t)?t:zd(t)}function ki(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=zd(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),l=Pt(i);if(o){const s=Ma(l);return t.concat(l,l.visualViewport||[],Ni(i)?i:[],s&&r?ki(s):[])}return t.concat(i,ki(i,[],r))}function Ma(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ud(e){const t=or(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=yr(e),o=i?e.offsetWidth:r,l=i?e.offsetHeight:n,s=Ps(r)!==o||Ps(n)!==l;return s&&(r=o,n=l),{width:r,height:n,$:s}}function Al(e){return sr(e)?e:e.contextElement}function Bn(e){const t=Al(e);if(!yr(t))return gr(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=Ud(t);let l=(o?Ps(r.width):r.width)/n,s=(o?Ps(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!s||!Number.isFinite(s))&&(s=1),{x:l,y:s}}const t0=gr(0);function jd(e){const t=Pt(e);return!Ml()||!t.visualViewport?t0:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function r0(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Pt(e)?!1:t}function mn(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=Al(e);let l=gr(1);t&&(n?sr(n)&&(l=Bn(n)):l=Bn(e));const s=r0(o,r,n)?jd(o):gr(0);let a=(i.left+s.x)/l.x,u=(i.top+s.y)/l.y,h=i.width/l.x,c=i.height/l.y;if(o){const p=Pt(o),v=n&&sr(n)?Pt(n):n;let S=p,_=Ma(S);for(;_&&n&&v!==S;){const m=Bn(_),d=_.getBoundingClientRect(),f=or(_),g=d.left+(_.clientLeft+parseFloat(f.paddingLeft))*m.x,y=d.top+(_.clientTop+parseFloat(f.paddingTop))*m.y;a*=m.x,u*=m.y,h*=m.x,c*=m.y,a+=g,u+=y,S=Pt(_),_=Ma(S)}}return Fs({width:h,height:c,x:a,y:u})}function ro(e,t){const r=to(e).scrollLeft;return t?t.left+r:mn(Sr(e)).left+r}function qd(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-ro(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function n0(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",l=Sr(n),s=t?eo(t.floating):!1;if(n===l||s&&o)return r;let a={scrollLeft:0,scrollTop:0},u=gr(1);const h=gr(0),c=yr(n);if((c||!c&&!o)&&((Gn(n)!=="body"||Ni(l))&&(a=to(n)),yr(n))){const v=mn(n);u=Bn(n),h.x=v.x+n.clientLeft,h.y=v.y+n.clientTop}const p=l&&!c&&!o?qd(l,a):gr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-a.scrollLeft*u.x+h.x+p.x,y:r.y*u.y-a.scrollTop*u.y+h.y+p.y}}function i0(e){return Array.from(e.getClientRects())}function s0(e){const t=Sr(e),r=to(e),n=e.ownerDocument.body,i=It(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=It(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+ro(e);const s=-r.scrollTop;return or(n).direction==="rtl"&&(l+=It(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:s}}const Qc=25;function o0(e,t){const r=Pt(e),n=Sr(e),i=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,s=0,a=0;if(i){o=i.width,l=i.height;const h=Ml();(!h||h&&t==="fixed")&&(s=i.offsetLeft,a=i.offsetTop)}const u=ro(n);if(u<=0){const h=n.ownerDocument,c=h.body,p=getComputedStyle(c),v=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,S=Math.abs(n.clientWidth-c.clientWidth-v);S<=Qc&&(o-=S)}else u<=Qc&&(o+=u);return{width:o,height:l,x:s,y:a}}const a0=new Set(["absolute","fixed"]);function l0(e,t){const r=mn(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=yr(e)?Bn(e):gr(1),l=e.clientWidth*o.x,s=e.clientHeight*o.y,a=i*o.x,u=n*o.y;return{width:l,height:s,x:a,y:u}}function eu(e,t,r){let n;if(t==="viewport")n=o0(e,r);else if(t==="document")n=s0(Sr(e));else if(sr(t))n=l0(t,r);else{const i=jd(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Fs(n)}function Gd(e,t){const r=Wr(e);return r===t||!sr(r)||Wn(r)?!1:or(r).position==="fixed"||Gd(r,t)}function c0(e,t){const r=t.get(e);if(r)return r;let n=ki(e,[],!1).filter(s=>sr(s)&&Gn(s)!=="body"),i=null;const o=or(e).position==="fixed";let l=o?Wr(e):e;for(;sr(l)&&!Wn(l);){const s=or(l),a=Rl(l);!a&&s.position==="fixed"&&(i=null),(o?!a&&!i:!a&&s.position==="static"&&!!i&&a0.has(i.position)||Ni(l)&&!a&&Gd(e,l))?n=n.filter(h=>h!==l):i=s,l=Wr(l)}return t.set(e,n),n}function u0(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const l=[...r==="clippingAncestors"?eo(t)?[]:c0(t,this._c):[].concat(r),n],s=l[0],a=l.reduce((u,h)=>{const c=eu(t,h,i);return u.top=It(c.top,u.top),u.right=$r(c.right,u.right),u.bottom=$r(c.bottom,u.bottom),u.left=It(c.left,u.left),u},eu(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function h0(e){const{width:t,height:r}=Ud(e);return{width:t,height:r}}function d0(e,t,r){const n=yr(t),i=Sr(t),o=r==="fixed",l=mn(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const a=gr(0);function u(){a.x=ro(i)}if(n||!n&&!o)if((Gn(t)!=="body"||Ni(i))&&(s=to(t)),n){const v=mn(t,!0,o,t);a.x=v.x+t.clientLeft,a.y=v.y+t.clientTop}else i&&u();o&&!n&&i&&u();const h=i&&!n&&!o?qd(i,s):gr(0),c=l.left+s.scrollLeft-a.x-h.x,p=l.top+s.scrollTop-a.y-h.y;return{x:c,y:p,width:l.width,height:l.height}}function Eo(e){return or(e).position==="static"}function tu(e,t){if(!yr(e)||or(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Sr(e)===r&&(r=r.ownerDocument.body),r}function Kd(e,t){const r=Pt(e);if(eo(e))return r;if(!yr(e)){let i=Wr(e);for(;i&&!Wn(i);){if(sr(i)&&!Eo(i))return i;i=Wr(i)}return r}let n=tu(e,t);for(;n&&K_(n)&&Eo(n);)n=tu(n,t);return n&&Wn(n)&&Eo(n)&&!Rl(n)?r:n||Q_(e)||r}const f0=async function(e){const t=this.getOffsetParent||Kd,r=this.getDimensions,n=await r(e.floating);return{reference:d0(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function m0(e){return or(e).direction==="rtl"}const p0={convertOffsetParentRelativeRectToViewportRelativeRect:n0,getDocumentElement:Sr,getClippingRect:u0,getOffsetParent:Kd,getElementRects:f0,getClientRects:i0,getDimensions:h0,getScale:Bn,isElement:sr,isRTL:m0};function Yd(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function g0(e,t){let r=null,n;const i=Sr(e);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function l(s,a){s===void 0&&(s=!1),a===void 0&&(a=1),o();const u=e.getBoundingClientRect(),{left:h,top:c,width:p,height:v}=u;if(s||t(),!p||!v)return;const S=ns(c),_=ns(i.clientWidth-(h+p)),m=ns(i.clientHeight-(c+v)),d=ns(h),g={rootMargin:-S+"px "+-_+"px "+-m+"px "+-d+"px",threshold:It(0,$r(1,a))||1};let y=!0;function w(C){const x=C[0].intersectionRatio;if(x!==a){if(!y)return l();x?l(!1,x):n=setTimeout(()=>{l(!1,1e-7)},1e3)}x===1&&!Yd(u,e.getBoundingClientRect())&&l(),y=!1}try{r=new IntersectionObserver(w,{...g,root:i.ownerDocument})}catch{r=new IntersectionObserver(w,g)}r.observe(e)}return l(!0),o}function F2(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:a=!1}=n,u=Al(e),h=i||o?[...u?ki(u):[],...ki(t)]:[];h.forEach(d=>{i&&d.addEventListener("scroll",r,{passive:!0}),o&&d.addEventListener("resize",r)});const c=u&&s?g0(u,r):null;let p=-1,v=null;l&&(v=new ResizeObserver(d=>{let[f]=d;f&&f.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var g;(g=v)==null||g.observe(t)})),r()}),u&&!a&&v.observe(u),v.observe(t));let S,_=a?mn(e):null;a&&m();function m(){const d=mn(e);_&&!Yd(_,d)&&r(),_=d,S=requestAnimationFrame(m)}return r(),()=>{var d;h.forEach(f=>{i&&f.removeEventListener("scroll",r),o&&f.removeEventListener("resize",r)}),c?.(),(d=v)==null||d.disconnect(),v=null,a&&cancelAnimationFrame(S)}}const v0=W_,_0=z_,y0=N_,S0=j_,w0=V_,ru=H_,C0=U_,b0=(e,t,r)=>{const n=new Map,i={platform:p0,...r},o={...i.platform,_c:n};return F_(e,t,{...i,platform:o})};var x0=typeof document<"u",E0=function(){},bs=x0?H.useLayoutEffect:E0;function Hs(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Hs(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!Hs(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Zd(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nu(e,t){const r=Zd(e);return Math.round(t*r)/r}function ko(e){const t=H.useRef(e);return bs(()=>{t.current=e}),t}function H2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:s=!0,whileElementsMounted:a,open:u}=e,[h,c]=H.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,v]=H.useState(n);Hs(p,n)||v(n);const[S,_]=H.useState(null),[m,d]=H.useState(null),f=H.useCallback(W=>{W!==C.current&&(C.current=W,_(W))},[]),g=H.useCallback(W=>{W!==x.current&&(x.current=W,d(W))},[]),y=o||S,w=l||m,C=H.useRef(null),x=H.useRef(null),b=H.useRef(h),E=a!=null,R=ko(a),M=ko(i),L=ko(u),D=H.useCallback(()=>{if(!C.current||!x.current)return;const W={placement:t,strategy:r,middleware:p};M.current&&(W.platform=M.current),b0(C.current,x.current,W).then(T=>{const A={...T,isPositioned:L.current!==!1};B.current&&!Hs(b.current,A)&&(b.current=A,av.flushSync(()=>{c(A)}))})},[p,t,r,M,L]);bs(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,c(W=>({...W,isPositioned:!1})))},[u]);const B=H.useRef(!1);bs(()=>(B.current=!0,()=>{B.current=!1}),[]),bs(()=>{if(y&&(C.current=y),w&&(x.current=w),y&&w){if(R.current)return R.current(y,w,D);D()}},[y,w,D,R,E]);const $=H.useMemo(()=>({reference:C,floating:x,setReference:f,setFloating:g}),[f,g]),z=H.useMemo(()=>({reference:y,floating:w}),[y,w]),U=H.useMemo(()=>{const W={position:r,left:0,top:0};if(!z.floating)return W;const T=nu(z.floating,h.x),A=nu(z.floating,h.y);return s?{...W,transform:"translate("+T+"px, "+A+"px)",...Zd(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:A}},[r,s,z.floating,h.x,h.y]);return H.useMemo(()=>({...h,update:D,refs:$,elements:z,floatingStyles:U}),[h,D,$,z,U])}const k0=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ru({element:n.current,padding:i}).fn(r):{}:n?ru({element:n,padding:i}).fn(r):{}}}},N2=(e,t)=>({...v0(e),options:[e,t]}),V2=(e,t)=>({..._0(e),options:[e,t]}),$2=(e,t)=>({...C0(e),options:[e,t]}),W2=(e,t)=>({...y0(e),options:[e,t]}),z2=(e,t)=>({...S0(e),options:[e,t]}),U2=(e,t)=>({...w0(e),options:[e,t]}),j2=(e,t)=>({...k0(e),options:[e,t]});var T0=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},wn=new WeakMap,is=new WeakMap,ss={},To=0,Xd=function(e){return e&&(e.host||Xd(e.parentNode))},D0=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Xd(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},R0=function(e,t,r,n){var i=D0(t,Array.isArray(e)?e:[e]);ss[r]||(ss[r]=new WeakMap);var o=ss[r],l=[],s=new Set,a=new Set(i),u=function(c){!c||s.has(c)||(s.add(c),u(c.parentNode))};i.forEach(u);var h=function(c){!c||a.has(c)||Array.prototype.forEach.call(c.children,function(p){if(s.has(p))h(p);else try{var v=p.getAttribute(n),S=v!==null&&v!=="false",_=(wn.get(p)||0)+1,m=(o.get(p)||0)+1;wn.set(p,_),o.set(p,m),l.push(p),_===1&&S&&is.set(p,!0),m===1&&p.setAttribute(r,"true"),S||p.setAttribute(n,"true")}catch(d){console.error("aria-hidden: cannot operate on ",p,d)}})};return h(t),s.clear(),To++,function(){l.forEach(function(c){var p=wn.get(c)-1,v=o.get(c)-1;wn.set(c,p),o.set(c,v),p||(is.has(c)||c.removeAttribute(n),is.delete(c)),v||c.removeAttribute(r)}),To--,To||(wn=new WeakMap,wn=new WeakMap,is=new WeakMap,ss={})}},q2=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=T0(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),R0(n,i,r,"aria-hidden")):function(){return null}},dr=function(){return dr=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},dr.apply(this,arguments)};function Jd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function M0(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var xs="right-scroll-bar-position",Es="width-before-scroll-bar",A0="with-scroll-bars-hidden",O0="--removed-body-scroll-bar-size";function Do(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function I0(e,t){var r=H.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var L0=typeof window<"u"?H.useLayoutEffect:H.useEffect,iu=new WeakMap;function P0(e,t){var r=I0(null,function(n){return e.forEach(function(i){return Do(i,n)})});return L0(function(){var n=iu.get(r);if(n){var i=new Set(n),o=new Set(e),l=r.current;i.forEach(function(s){o.has(s)||Do(s,null)}),o.forEach(function(s){i.has(s)||Do(s,l)})}iu.set(r,e)},[e]),r}function B0(e){return e}function F0(e,t){t===void 0&&(t=B0);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var l=t(o,n);return r.push(l),function(){r=r.filter(function(s){return s!==l})}},assignSyncMedium:function(o){for(n=!0;r.length;){var l=r;r=[],l.forEach(o)}r={push:function(s){return o(s)},filter:function(){return r}}},assignMedium:function(o){n=!0;var l=[];if(r.length){var s=r;r=[],s.forEach(o),l=r}var a=function(){var h=l;l=[],h.forEach(o)},u=function(){return Promise.resolve().then(a)};u(),r={push:function(h){l.push(h),u()},filter:function(h){return l=l.filter(h),r}}}};return i}function H0(e){e===void 0&&(e={});var t=F0(null);return t.options=dr({async:!0,ssr:!1},e),t}var Qd=function(e){var t=e.sideCar,r=Jd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return H.createElement(n,dr({},r))};Qd.isSideCarExport=!0;function N0(e,t){return e.useMedium(t),Qd}var ef=H0(),Ro=function(){},no=H.forwardRef(function(e,t){var r=H.useRef(null),n=H.useState({onScrollCapture:Ro,onWheelCapture:Ro,onTouchMoveCapture:Ro}),i=n[0],o=n[1],l=e.forwardProps,s=e.children,a=e.className,u=e.removeScrollBar,h=e.enabled,c=e.shards,p=e.sideCar,v=e.noRelative,S=e.noIsolation,_=e.inert,m=e.allowPinchZoom,d=e.as,f=d===void 0?"div":d,g=e.gapMode,y=Jd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,C=P0([r,t]),x=dr(dr({},y),i);return H.createElement(H.Fragment,null,h&&H.createElement(w,{sideCar:ef,removeScrollBar:u,shards:c,noRelative:v,noIsolation:S,inert:_,setCallbacks:o,allowPinchZoom:!!m,lockRef:r,gapMode:g}),l?H.cloneElement(H.Children.only(s),dr(dr({},x),{ref:C})):H.createElement(f,dr({},x,{className:a,ref:C}),s))});no.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};no.classNames={fullWidth:Es,zeroRight:xs};var V0=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $0(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=V0();return t&&e.setAttribute("nonce",t),e}function W0(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function z0(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var U0=function(){var e=0,t=null;return{add:function(r){e==0&&(t=$0())&&(W0(t,r),z0(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},j0=function(){var e=U0();return function(t,r){H.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},tf=function(){var e=j0(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},q0={left:0,top:0,right:0,gap:0},Mo=function(e){return parseInt(e||"",10)||0},G0=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Mo(r),Mo(n),Mo(i)]},K0=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return q0;var t=G0(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Y0=tf(),Fn="data-scroll-locked",Z0=function(e,t,r,n){var i=e.left,o=e.top,l=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(A0,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Fn,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xs,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Es,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(xs," .").concat(xs,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Es," .").concat(Es,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Fn,`] {
    `).concat(O0,": ").concat(s,`px;
  }
`)},su=function(){var e=parseInt(document.body.getAttribute(Fn)||"0",10);return isFinite(e)?e:0},X0=function(){H.useEffect(function(){return document.body.setAttribute(Fn,(su()+1).toString()),function(){var e=su()-1;e<=0?document.body.removeAttribute(Fn):document.body.setAttribute(Fn,e.toString())}},[])},J0=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;X0();var o=H.useMemo(function(){return K0(i)},[i]);return H.createElement(Y0,{styles:Z0(o,!t,i,r?"":"!important")})},Aa=!1;if(typeof window<"u")try{var os=Object.defineProperty({},"passive",{get:function(){return Aa=!0,!0}});window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Aa=!1}var Cn=Aa?{passive:!1}:!1,Q0=function(e){return e.tagName==="TEXTAREA"},rf=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Q0(e)&&r[t]==="visible")},ey=function(e){return rf(e,"overflowY")},ty=function(e){return rf(e,"overflowX")},ou=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=nf(e,n);if(i){var o=sf(e,n),l=o[1],s=o[2];if(l>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ry=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ny=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},nf=function(e,t){return e==="v"?ey(t):ty(t)},sf=function(e,t){return e==="v"?ry(t):ny(t)},iy=function(e,t){return e==="h"&&t==="rtl"?-1:1},sy=function(e,t,r,n,i){var o=iy(e,window.getComputedStyle(t).direction),l=o*n,s=r.target,a=t.contains(s),u=!1,h=l>0,c=0,p=0;do{if(!s)break;var v=sf(e,s),S=v[0],_=v[1],m=v[2],d=_-m-o*S;(S||d)&&nf(e,s)&&(c+=d,p+=S);var f=s.parentNode;s=f&&f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?f.host:f}while(!a&&s!==document.body||a&&(t.contains(s)||t===s));return(h&&Math.abs(c)<1||!h&&Math.abs(p)<1)&&(u=!0),u},as=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},au=function(e){return[e.deltaX,e.deltaY]},lu=function(e){return e&&"current"in e?e.current:e},oy=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ay=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ly=0,bn=[];function cy(e){var t=H.useRef([]),r=H.useRef([0,0]),n=H.useRef(),i=H.useState(ly++)[0],o=H.useState(tf)[0],l=H.useRef(e);H.useEffect(function(){l.current=e},[e]),H.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var _=M0([e.lockRef.current],(e.shards||[]).map(lu),!0).filter(Boolean);return _.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=H.useCallback(function(_,m){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var d=as(_),f=r.current,g="deltaX"in _?_.deltaX:f[0]-d[0],y="deltaY"in _?_.deltaY:f[1]-d[1],w,C=_.target,x=Math.abs(g)>Math.abs(y)?"h":"v";if("touches"in _&&x==="h"&&C.type==="range")return!1;var b=ou(x,C);if(!b)return!0;if(b?w=x:(w=x==="v"?"h":"v",b=ou(x,C)),!b)return!1;if(!n.current&&"changedTouches"in _&&(g||y)&&(n.current=w),!w)return!0;var E=n.current||w;return sy(E,m,_,E==="h"?g:y)},[]),a=H.useCallback(function(_){var m=_;if(!(!bn.length||bn[bn.length-1]!==o)){var d="deltaY"in m?au(m):as(m),f=t.current.filter(function(w){return w.name===m.type&&(w.target===m.target||m.target===w.shadowParent)&&oy(w.delta,d)})[0];if(f&&f.should){m.cancelable&&m.preventDefault();return}if(!f){var g=(l.current.shards||[]).map(lu).filter(Boolean).filter(function(w){return w.contains(m.target)}),y=g.length>0?s(m,g[0]):!l.current.noIsolation;y&&m.cancelable&&m.preventDefault()}}},[]),u=H.useCallback(function(_,m,d,f){var g={name:_,delta:m,target:d,should:f,shadowParent:uy(d)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(y){return y!==g})},1)},[]),h=H.useCallback(function(_){r.current=as(_),n.current=void 0},[]),c=H.useCallback(function(_){u(_.type,au(_),_.target,s(_,e.lockRef.current))},[]),p=H.useCallback(function(_){u(_.type,as(_),_.target,s(_,e.lockRef.current))},[]);H.useEffect(function(){return bn.push(o),e.setCallbacks({onScrollCapture:c,onWheelCapture:c,onTouchMoveCapture:p}),document.addEventListener("wheel",a,Cn),document.addEventListener("touchmove",a,Cn),document.addEventListener("touchstart",h,Cn),function(){bn=bn.filter(function(_){return _!==o}),document.removeEventListener("wheel",a,Cn),document.removeEventListener("touchmove",a,Cn),document.removeEventListener("touchstart",h,Cn)}},[]);var v=e.removeScrollBar,S=e.inert;return H.createElement(H.Fragment,null,S?H.createElement(o,{styles:ay(i)}):null,v?H.createElement(J0,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function uy(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const hy=N0(ef,cy);var dy=H.forwardRef(function(e,t){return H.createElement(no,dr({},e,{ref:t,sideCar:hy}))});dy.classNames=no.classNames;const fy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),my=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),cu=e=>{const t=my(e);return t.charAt(0).toUpperCase()+t.slice(1)},of=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),py=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var gy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vy=H.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:l,...s},a)=>H.createElement("svg",{ref:a,...gy,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:of("lucide",i),...!o&&!py(s)&&{"aria-hidden":"true"},...s},[...l.map(([u,h])=>H.createElement(u,h)),...Array.isArray(o)?o:[o]]));const Ee=(e,t)=>{const r=H.forwardRef(({className:n,...i},o)=>H.createElement(vy,{ref:o,iconNode:t,className:of(`lucide-${fy(cu(e))}`,`lucide-${e}`,n),...i}));return r.displayName=cu(e),r};const _y=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],G2=Ee("ban",_y);const yy=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],K2=Ee("boxes",yy);const Sy=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Y2=Ee("check",Sy);const wy=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Z2=Ee("chevron-down",wy);const Cy=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],X2=Ee("chevron-left",Cy);const by=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],J2=Ee("chevron-right",by);const xy=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Q2=Ee("chevron-up",xy);const Ey=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],eM=Ee("circle-alert",Ey);const ky=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],tM=Ee("circle-arrow-up",ky);const Ty=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rM=Ee("circle-question-mark",Ty);const Dy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nM=Ee("circle",Dy);const Ry=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],iM=Ee("clipboard",Ry);const My=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],sM=Ee("cog",My);const Ay=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],oM=Ee("copy",Ay);const Oy=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],aM=Ee("download",Oy);const Iy=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],lM=Ee("ellipsis",Iy);const Ly=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],cM=Ee("expand",Ly);const Py=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],uM=Ee("file",Py);const By=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M2 10h20",key:"1ir3d8"}]],hM=Ee("folder-closed",By);const Fy=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],dM=Ee("folder",Fy);const Hy=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fM=Ee("log-out",Hy);const Ny=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],mM=Ee("menu",Ny);const Vy=[["path",{d:"M5 12h14",key:"1ays0h"}]],pM=Ee("minus",Vy);const $y=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],gM=Ee("moon",$y);const Wy=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vM=Ee("pen",Wy);const zy=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_M=Ee("play",zy);const Uy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yM=Ee("plus",Uy);const jy=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],SM=Ee("search",jy);const qy=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],wM=Ee("server",qy);const Gy=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CM=Ee("settings",Gy);const Ky=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],bM=Ee("sun",Ky);const Yy=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],xM=Ee("terminal",Yy);const Zy=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],EM=Ee("trash-2",Zy);const Xy=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],kM=Ee("upload",Xy);const Jy=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],TM=Ee("user-pen",Jy);const Qy=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],DM=Ee("user-round",Qy);const eS=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],RM=Ee("wand-sparkles",eS);const tS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],MM=Ee("x",tS);function rS(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const af=I.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Vi=()=>{const e=I.useContext(af);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};rS(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function nS(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function iS(){return Ol(/^Mac/)}function sS(){return Ol(/^iPhone/)}function uu(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function oS(){return Ol(/^iPad/)||iS()&&navigator.maxTouchPoints>1}function lf(){return sS()||oS()}function Ol(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const aS=24,lS=typeof window<"u"?H.useLayoutEffect:H.useEffect;function hu(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const Ao=typeof document<"u"&&window.visualViewport;function du(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function cf(e){for(du(e)&&(e=e.parentElement);e&&!du(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const cS=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ls=0,Oo;function uS(e={}){let{isDisabled:t}=e;lS(()=>{if(!t)return ls++,ls===1&&lf()&&(Oo=hS()),()=>{ls--,ls===0&&Oo?.()}},[t])}function hS(){let e,t=0,r=c=>{e=cf(c.target),!(e===document.documentElement&&e===document.body)&&(t=c.changedTouches[0].pageY)},n=c=>{if(!e||e===document.documentElement||e===document.body){c.preventDefault();return}let p=c.changedTouches[0].pageY,v=e.scrollTop,S=e.scrollHeight-e.clientHeight;S!==0&&((v<=0&&p>t||v>=S&&p<t)&&c.preventDefault(),t=p)},i=c=>{let p=c.target;Oa(p)&&p!==document.activeElement&&(c.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},o=c=>{let p=c.target;Oa(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",Ao&&(Ao.height<window.innerHeight?requestAnimationFrame(()=>{fu(p)}):Ao.addEventListener("resize",()=>fu(p),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},s=window.pageXOffset,a=window.pageYOffset,u=hu(dS(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let h=hu(ii(document,"touchstart",r,{passive:!1,capture:!0}),ii(document,"touchmove",n,{passive:!1,capture:!0}),ii(document,"touchend",i,{passive:!1,capture:!0}),ii(document,"focus",o,!0),ii(window,"scroll",l));return()=>{u(),h(),window.scrollTo(s,a)}}function dS(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function ii(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function fu(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=cf(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const l=r.getBoundingClientRect().bottom+aS;o>l&&(r.scrollTop+=i-n)}e=r.parentElement}}function Oa(e){return e instanceof HTMLInputElement&&!cS.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function fS(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function mS(...e){return t=>e.forEach(r=>fS(r,t))}function uf(...e){return H.useCallback(mS(...e),e)}const hf=new WeakMap;function ht(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}n[i]=e.style[i],e.style[i]=o}),!r&&hf.set(e,n)}function pS(e,t){if(!e||!(e instanceof HTMLElement))return;let r=hf.get(e);r&&(e.style[t]=r[t])}const ot=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function cs(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let i=n.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[ot(t)?13:12]):(i=n.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[ot(t)?5:4]):null)}function gS(e){return 8*(Math.log(e+1)-2)}function Io(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function vS(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Ke={DURATION:.5,EASE:[.32,.72,0,1]},df=.4,_S=.25,yS=100,ff=8,tn=16,Ia=26,Lo="vaul-dragging";function mf(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function SS({defaultProp:e,onChange:t}){const r=I.useState(e),[n]=r,i=I.useRef(n),o=mf(t);return I.useEffect(()=>{i.current!==n&&(o(n),i.current=n)},[n,i,o]),r}function pf({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=SS({defaultProp:t,onChange:r}),o=e!==void 0,l=o?e:n,s=mf(r),a=I.useCallback(u=>{if(o){const c=typeof u=="function"?u(e):u;c!==e&&s(c)}else i(u)},[o,e,i,s]);return[l,a]}function wS({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:i,fadeFromIndex:o,onSnapPointChange:l,direction:s="bottom",container:a,snapToSequentialPoint:u}){const[h,c]=pf({prop:e,defaultProp:r?.[0],onChange:t}),[p,v]=I.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);I.useEffect(()=>{function x(){v({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const S=I.useMemo(()=>h===r?.[r.length-1]||null,[r,h]),_=I.useMemo(()=>{var x;return(x=r?.findIndex(b=>b===h))!=null?x:null},[r,h]),m=r&&r.length>0&&(o||o===0)&&!Number.isNaN(o)&&r[o]===h||!r,d=I.useMemo(()=>{const x=a?{width:a.getBoundingClientRect().width,height:a.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var b;return(b=r?.map(E=>{const R=typeof E=="string";let M=0;if(R&&(M=parseInt(E,10)),ot(s)){const D=R?M:p?E*x.height:0;return p?s==="bottom"?x.height-D:-x.height+D:D}const L=R?M:p?E*x.width:0;return p?s==="right"?x.width-L:-x.width+L:L}))!=null?b:[]},[r,p,a]),f=I.useMemo(()=>_!==null?d?.[_]:null,[d,_]),g=I.useCallback(x=>{var b;const E=(b=d?.findIndex(R=>R===x))!=null?b:null;l(E),ht(n.current,{transition:`transform ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`,transform:ot(s)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`}),d&&E!==d.length-1&&o!==void 0&&E!==o&&E<o?ht(i.current,{transition:`opacity ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`,opacity:"0"}):ht(i.current,{transition:`opacity ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`,opacity:"1"}),c(r?.[Math.max(E,0)])},[n.current,r,d,o,i,c]);I.useEffect(()=>{if(h||e){var x;const b=(x=r?.findIndex(E=>E===e||E===h))!=null?x:-1;d&&b!==-1&&typeof d[b]=="number"&&g(d[b])}},[h,e,r,d,g]);function y({draggedDistance:x,closeDrawer:b,velocity:E,dismissible:R}){if(o===void 0)return;const M=s==="bottom"||s==="right"?(f??0)-x:(f??0)+x,L=_===o-1,D=_===0,B=x>0;if(L&&ht(i.current,{transition:`opacity ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`}),!u&&E>2&&!B){R?b():g(d[0]);return}if(!u&&E>2&&B&&d&&r){g(d[r.length-1]);return}const $=d?.reduce((U,W)=>typeof U!="number"||typeof W!="number"?U:Math.abs(W-M)<Math.abs(U-M)?W:U),z=ot(s)?window.innerHeight:window.innerWidth;if(E>df&&Math.abs(x)<z*.4){const U=B?1:-1;if(U>0&&S&&r){g(d[r.length-1]);return}if(D&&U<0&&R&&b(),_===null)return;g(d[_+U]);return}g($)}function w({draggedDistance:x}){if(f===null)return;const b=s==="bottom"||s==="right"?f-x:f+x;(s==="bottom"||s==="right")&&b<d[d.length-1]||(s==="top"||s==="left")&&b>d[d.length-1]||ht(n.current,{transform:ot(s)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`})}function C(x,b){if(!r||typeof _!="number"||!d||o===void 0)return null;const E=_===o-1;if(_>=o&&b)return 0;if(E&&!b)return 1;if(!m&&!E)return null;const M=E?_+1:_-1,L=E?d[M]-d[M-1]:d[M+1]-d[M],D=x/Math.abs(L);return E?1-D:D}return{isLastSnapPoint:S,activeSnapPoint:h,shouldFade:m,getPercentageDragged:C,setActiveSnapPoint:c,activeSnapPointIndex:_,onRelease:y,onDrag:w,snapPointsOffset:d}}const CS=()=>()=>{};function bS(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:i}=Vi(),o=I.useRef(null),l=H.useMemo(()=>document.body.style.backgroundColor,[]);function s(){return(window.innerWidth-Ia)/window.innerWidth}I.useEffect(()=>{if(t&&r){o.current&&clearTimeout(o.current);const a=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!a)return;vS(n&&!i?Io(document.body,{background:"black"}):CS,Io(a,{transformOrigin:ot(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Ke.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ke.EASE.join(",")})`}));const u=Io(a,{borderRadius:`${ff}px`,overflow:"hidden",...ot(e)?{transform:`scale(${s()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${s()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),o.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},Ke.DURATION*1e3)}}},[t,r,l])}let si=null;function xS({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:i,noBodyStyles:o}){const[l,s]=I.useState(()=>typeof window<"u"?window.location.href:""),a=I.useRef(0),u=I.useCallback(()=>{if(uu()&&si===null&&e&&!o){si={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:c,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-a.current}px`,left:`${-c}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const v=p-window.innerHeight;v&&a.current>=p&&(document.body.style.top=`${-(a.current+v)}px`)}),300)}},[e]),h=I.useCallback(()=>{if(uu()&&si!==null&&!o){const c=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,si),window.requestAnimationFrame(()=>{if(i&&l!==window.location.href){s(window.location.href);return}window.scrollTo(p,c)}),si=null}},[l]);return I.useEffect(()=>{function c(){a.current=window.scrollY}return c(),window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)}},[]),I.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||h()}},[t,h]),I.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{h()},500)):h())},[e,n,l,t,r,u,h]),{restorePositionSetting:h}}function ES({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:i,snapPoints:o,shouldScaleBackground:l=!1,setBackgroundColorOnScale:s=!0,closeThreshold:a=_S,scrollLockTimeout:u=yS,dismissible:h=!0,handleOnly:c=!1,fadeFromIndex:p=o&&o.length-1,activeSnapPoint:v,setActiveSnapPoint:S,fixed:_,modal:m=!0,onClose:d,nested:f,noBodyStyles:g=!1,direction:y="bottom",defaultOpen:w=!1,disablePreventScroll:C=!0,snapToSequentialPoint:x=!1,preventScrollRestoration:b=!1,repositionInputs:E=!0,onAnimationEnd:R,container:M,autoFocus:L=!1}){var D,B;const[$=!1,z]=pf({defaultProp:w,prop:e,onChange:Q=>{t?.(Q),!Q&&!f&&$t(),setTimeout(()=>{R?.(Q)},Ke.DURATION*1e3),Q&&!m&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Q||(document.body.style.pointerEvents="auto")}}),[U,W]=I.useState(!1),[T,A]=I.useState(!1),[P,O]=I.useState(!1),N=I.useRef(null),j=I.useRef(null),q=I.useRef(null),Y=I.useRef(null),F=I.useRef(null),k=I.useRef(!1),V=I.useRef(null),G=I.useRef(0),Z=I.useRef(!1),K=I.useRef(!w),ue=I.useRef(0),ee=I.useRef(null),ke=I.useRef(((D=ee.current)==null?void 0:D.getBoundingClientRect().height)||0),Be=I.useRef(((B=ee.current)==null?void 0:B.getBoundingClientRect().width)||0),ie=I.useRef(0),tt=I.useCallback(Q=>{o&&Q===Re.length-1&&(j.current=new Date)},[]),{activeSnapPoint:qe,activeSnapPointIndex:ut,setActiveSnapPoint:Dt,onRelease:Ne,snapPointsOffset:Re,onDrag:st,shouldFade:$e,getPercentageDragged:ft}=wS({snapPoints:o,activeSnapPointProp:v,setActiveSnapPointProp:S,drawerRef:ee,fadeFromIndex:p,overlayRef:N,onSnapPointChange:tt,direction:y,container:M,snapToSequentialPoint:x});uS({isDisabled:!$||T||!m||P||!U||!E||!C});const{restorePositionSetting:$t}=xS({isOpen:$,modal:m,nested:f??!1,hasBeenOpened:U,preventScrollRestoration:b,noBodyStyles:g});function rt(){return(window.innerWidth-Ia)/window.innerWidth}function bt(Q){var re,ce;!h&&!o||ee.current&&!ee.current.contains(Q.target)||(ke.current=((re=ee.current)==null?void 0:re.getBoundingClientRect().height)||0,Be.current=((ce=ee.current)==null?void 0:ce.getBoundingClientRect().width)||0,A(!0),q.current=new Date,lf()&&window.addEventListener("touchend",()=>k.current=!1,{once:!0}),Q.target.setPointerCapture(Q.pointerId),G.current=ot(y)?Q.pageY:Q.pageX)}function Xe(Q,re){var ce;let he=Q;const ae=(ce=window.getSelection())==null?void 0:ce.toString(),se=ee.current?cs(ee.current,y):null,Te=new Date;if(he.tagName==="SELECT"||he.hasAttribute("data-vaul-no-drag")||he.closest("[data-vaul-no-drag]"))return!1;if(y==="right"||y==="left")return!0;if(j.current&&Te.getTime()-j.current.getTime()<500)return!1;if(se!==null&&(y==="bottom"?se>0:se<0))return!0;if(ae&&ae.length>0)return!1;if(F.current&&Te.getTime()-F.current.getTime()<u&&se===0||re)return F.current=Te,!1;for(;he;){if(he.scrollHeight>he.clientHeight){if(he.scrollTop!==0)return F.current=new Date,!1;if(he.getAttribute("role")==="dialog")return!0}he=he.parentNode}return!0}function xt(Q){if(ee.current&&T){const re=y==="bottom"||y==="right"?1:-1,ce=(G.current-(ot(y)?Q.pageY:Q.pageX))*re,he=ce>0,ae=o&&!h&&!he;if(ae&&ut===0)return;const se=Math.abs(ce),Te=document.querySelector("[data-vaul-drawer-wrapper]"),Fe=y==="bottom"||y==="top"?ke.current:Be.current;let Pe=se/Fe;const gt=ft(se,he);if(gt!==null&&(Pe=gt),ae&&Pe>=1||!k.current&&!Xe(Q.target,he))return;if(ee.current.classList.add(Lo),k.current=!0,ht(ee.current,{transition:"none"}),ht(N.current,{transition:"none"}),o&&st({draggedDistance:ce}),he&&!o){const Ge=gS(ce),br=Math.min(Ge*-1,0)*re;ht(ee.current,{transform:ot(y)?`translate3d(0, ${br}px, 0)`:`translate3d(${br}px, 0, 0)`});return}const Ve=1-Pe;if(($e||p&&ut===p-1)&&(n?.(Q,Pe),ht(N.current,{opacity:`${Ve}`,transition:"none"},!0)),Te&&N.current&&l){const Ge=Math.min(rt()+Pe*(1-rt()),1),br=8-Pe*8,Rt=Math.max(0,14-Pe*14);ht(Te,{borderRadius:`${br}px`,transform:ot(y)?`scale(${Ge}) translate3d(0, ${Rt}px, 0)`:`scale(${Ge}) translate3d(${Rt}px, 0, 0)`,transition:"none"},!0)}if(!o){const Ge=se*re;ht(ee.current,{transform:ot(y)?`translate3d(0, ${Ge}px, 0)`:`translate3d(${Ge}px, 0, 0)`})}}}I.useEffect(()=>{window.requestAnimationFrame(()=>{K.current=!0})},[]),I.useEffect(()=>{var Q;function re(){if(!ee.current||!E)return;const ce=document.activeElement;if(Oa(ce)||Z.current){var he;const ae=((he=window.visualViewport)==null?void 0:he.height)||0,se=window.innerHeight;let Te=se-ae;const Fe=ee.current.getBoundingClientRect().height||0,Pe=Fe>se*.8;ie.current||(ie.current=Fe);const gt=ee.current.getBoundingClientRect().top;if(Math.abs(ue.current-Te)>60&&(Z.current=!Z.current),o&&o.length>0&&Re&&ut){const Ve=Re[ut]||0;Te+=Ve}if(ue.current=Te,Fe>ae||Z.current){const Ve=ee.current.getBoundingClientRect().height;let Ge=Ve;Ve>ae&&(Ge=ae-(Pe?gt:Ia)),_?ee.current.style.height=`${Ve-Math.max(Te,0)}px`:ee.current.style.height=`${Math.max(Ge,ae-gt)}px`}else nS()||(ee.current.style.height=`${ie.current}px`);o&&o.length>0&&!Z.current?ee.current.style.bottom="0px":ee.current.style.bottom=`${Math.max(Te,0)}px`}}return(Q=window.visualViewport)==null||Q.addEventListener("resize",re),()=>{var ce;return(ce=window.visualViewport)==null?void 0:ce.removeEventListener("resize",re)}},[ut,o,Re]);function be(Q){ri(),d?.(),Q||z(!1),setTimeout(()=>{o&&Dt(o[0])},Ke.DURATION*1e3)}function Lr(){if(!ee.current)return;const Q=document.querySelector("[data-vaul-drawer-wrapper]"),re=cs(ee.current,y);ht(ee.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`}),ht(N.current,{transition:`opacity ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`,opacity:"1"}),l&&re&&re>0&&$&&ht(Q,{borderRadius:`${ff}px`,overflow:"hidden",...ot(y)?{transform:`scale(${rt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${rt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Ke.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ke.EASE.join(",")})`},!0)}function ri(){!T||!ee.current||(ee.current.classList.remove(Lo),k.current=!1,A(!1),Y.current=new Date)}function Sn(Q){if(!T||!ee.current)return;ee.current.classList.remove(Lo),k.current=!1,A(!1),Y.current=new Date;const re=cs(ee.current,y);if(!Q||!Xe(Q.target,!1)||!re||Number.isNaN(re)||q.current===null)return;const ce=Y.current.getTime()-q.current.getTime(),he=G.current-(ot(y)?Q.pageY:Q.pageX),ae=Math.abs(he)/ce;if(ae>.05&&(O(!0),setTimeout(()=>{O(!1)},200)),o){Ne({draggedDistance:he*(y==="bottom"||y==="right"?1:-1),closeDrawer:be,velocity:ae,dismissible:h}),i?.(Q,!0);return}if(y==="bottom"||y==="right"?he>0:he<0){Lr(),i?.(Q,!0);return}if(ae>df){be(),i?.(Q,!1);return}var se;const Te=Math.min((se=ee.current.getBoundingClientRect().height)!=null?se:0,window.innerHeight);var Fe;const Pe=Math.min((Fe=ee.current.getBoundingClientRect().width)!=null?Fe:0,window.innerWidth),gt=y==="left"||y==="right";if(Math.abs(re)>=(gt?Pe:Te)*a){be(),i?.(Q,!1);return}i?.(Q,!0),Lr()}I.useEffect(()=>($&&(ht(document.documentElement,{scrollBehavior:"auto"}),j.current=new Date),()=>{pS(document.documentElement,"scrollBehavior")}),[$]);function Qr(Q){const re=Q?(window.innerWidth-tn)/window.innerWidth:1,ce=Q?-tn:0;V.current&&window.clearTimeout(V.current),ht(ee.current,{transition:`transform ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`,transform:ot(y)?`scale(${re}) translate3d(0, ${ce}px, 0)`:`scale(${re}) translate3d(${ce}px, 0, 0)`}),!Q&&ee.current&&(V.current=setTimeout(()=>{const he=cs(ee.current,y);ht(ee.current,{transition:"none",transform:ot(y)?`translate3d(0, ${he}px, 0)`:`translate3d(${he}px, 0, 0)`})},500))}function ni(Q,re){if(re<0)return;const ce=(window.innerWidth-tn)/window.innerWidth,he=ce+re*(1-ce),ae=-tn+re*tn;ht(ee.current,{transform:ot(y)?`scale(${he}) translate3d(0, ${ae}px, 0)`:`scale(${he}) translate3d(${ae}px, 0, 0)`,transition:"none"})}function ye(Q,re){const ce=ot(y)?window.innerHeight:window.innerWidth,he=re?(ce-tn)/ce:1,ae=re?-tn:0;re&&ht(ee.current,{transition:`transform ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`,transform:ot(y)?`scale(${he}) translate3d(0, ${ae}px, 0)`:`scale(${he}) translate3d(${ae}px, 0, 0)`})}return I.useEffect(()=>{m||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[m]),I.createElement(Hd,{defaultOpen:w,onOpenChange:Q=>{!h&&!Q||(Q?W(!0):be(!0),z(Q))},open:$},I.createElement(af.Provider,{value:{activeSnapPoint:qe,snapPoints:o,setActiveSnapPoint:Dt,drawerRef:ee,overlayRef:N,onOpenChange:t,onPress:bt,onRelease:Sn,onDrag:xt,dismissible:h,shouldAnimate:K,handleOnly:c,isOpen:$,isDragging:T,shouldFade:$e,closeDrawer:be,onNestedDrag:ni,onNestedOpenChange:Qr,onNestedRelease:ye,keyboardIsOpen:Z,modal:m,snapPointsOffset:Re,activeSnapPointIndex:ut,direction:y,shouldScaleBackground:l,setBackgroundColorOnScale:s,noBodyStyles:g,container:M,autoFocus:L}},r))}const gf=I.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:i,shouldFade:o,isOpen:l,modal:s,shouldAnimate:a}=Vi(),u=uf(t,r),h=n&&n.length>0;if(!s)return null;const c=I.useCallback(p=>i(p),[i]);return I.createElement(Pd,{onMouseUp:c,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":l&&h?"true":"false","data-vaul-snap-points-overlay":l&&o?"true":"false","data-vaul-animate":a?.current?"true":"false",...e})});gf.displayName="Drawer.Overlay";const vf=I.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},i){const{drawerRef:o,onPress:l,onRelease:s,onDrag:a,keyboardIsOpen:u,snapPointsOffset:h,activeSnapPointIndex:c,modal:p,isOpen:v,direction:S,snapPoints:_,container:m,handleOnly:d,shouldAnimate:f,autoFocus:g}=Vi(),[y,w]=I.useState(!1),C=uf(i,o),x=I.useRef(null),b=I.useRef(null),E=I.useRef(!1),R=_&&_.length>0;bS();const M=(D,B,$=0)=>{if(E.current)return!0;const z=Math.abs(D.y),U=Math.abs(D.x),W=U>z,T=["bottom","right"].includes(B)?1:-1;if(B==="left"||B==="right"){if(!(D.x*T<0)&&U>=0&&U<=$)return W}else if(!(D.y*T<0)&&z>=0&&z<=$)return!W;return E.current=!0,!0};I.useEffect(()=>{R&&window.requestAnimationFrame(()=>{w(!0)})},[]);function L(D){x.current=null,E.current=!1,s(D)}return I.createElement(Bd,{"data-vaul-drawer-direction":S,"data-vaul-drawer":"","data-vaul-delayed-snap-points":y?"true":"false","data-vaul-snap-points":v&&R?"true":"false","data-vaul-custom-container":m?"true":"false","data-vaul-animate":f?.current?"true":"false",...n,ref:C,style:h&&h.length>0?{"--snap-point-height":`${h[c??0]}px`,...t}:t,onPointerDown:D=>{d||(n.onPointerDown==null||n.onPointerDown.call(n,D),x.current={x:D.pageX,y:D.pageY},l(D))},onOpenAutoFocus:D=>{r?.(D),g||D.preventDefault()},onPointerDownOutside:D=>{if(e?.(D),!p||D.defaultPrevented){D.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:D=>{if(!p){D.preventDefault();return}},onPointerMove:D=>{if(b.current=D,d||(n.onPointerMove==null||n.onPointerMove.call(n,D),!x.current))return;const B=D.pageY-x.current.y,$=D.pageX-x.current.x,z=D.pointerType==="touch"?10:2;M({x:$,y:B},S,z)?a(D):(Math.abs($)>z||Math.abs(B)>z)&&(x.current=null)},onPointerUp:D=>{n.onPointerUp==null||n.onPointerUp.call(n,D),x.current=null,E.current=!1,s(D)},onPointerOut:D=>{n.onPointerOut==null||n.onPointerOut.call(n,D),L(b.current)},onContextMenu:D=>{n.onContextMenu==null||n.onContextMenu.call(n,D),b.current&&L(b.current)}})});vf.displayName="Drawer.Content";const kS=250,TS=120,DS=I.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:i,isDragging:o,snapPoints:l,activeSnapPoint:s,setActiveSnapPoint:a,dismissible:u,handleOnly:h,isOpen:c,onPress:p,onDrag:v}=Vi(),S=I.useRef(null),_=I.useRef(!1);function m(){if(_.current){g();return}window.setTimeout(()=>{d()},TS)}function d(){if(o||e||_.current){g();return}if(g(),!l||l.length===0){u||i();return}if(s===l[l.length-1]&&u){i();return}const w=l.findIndex(x=>x===s);if(w===-1)return;const C=l[w+1];a(C)}function f(){S.current=window.setTimeout(()=>{_.current=!0},kS)}function g(){S.current&&window.clearTimeout(S.current),_.current=!1}return I.createElement("div",{onClick:m,onPointerCancel:g,onPointerDown:y=>{h&&p(y),f()},onPointerMove:y=>{h&&v(y)},ref:n,"data-vaul-drawer-visible":c?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},I.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});DS.displayName="Drawer.Handle";function RS(e){const t=Vi(),{container:r=t.container,...n}=e;return I.createElement(Fd,{container:r,...n})}const AM={Root:ES,Content:vf,Overlay:gf,Trigger:uv,Portal:RS,Close:hv,Title:lv,Description:cv};class _n extends Error{}class MS extends _n{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class AS extends _n{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class OS extends _n{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Rn extends _n{}class _f extends _n{constructor(t){super(`Invalid unit ${t}`)}}class yt extends _n{}class Pr extends _n{constructor(){super("Zone is an abstract class")}}const te="numeric",ar="short",Bt="long",Ns={year:te,month:te,day:te},yf={year:te,month:ar,day:te},IS={year:te,month:ar,day:te,weekday:ar},Sf={year:te,month:Bt,day:te},wf={year:te,month:Bt,day:te,weekday:Bt},Cf={hour:te,minute:te},bf={hour:te,minute:te,second:te},xf={hour:te,minute:te,second:te,timeZoneName:ar},Ef={hour:te,minute:te,second:te,timeZoneName:Bt},kf={hour:te,minute:te,hourCycle:"h23"},Tf={hour:te,minute:te,second:te,hourCycle:"h23"},Df={hour:te,minute:te,second:te,hourCycle:"h23",timeZoneName:ar},Rf={hour:te,minute:te,second:te,hourCycle:"h23",timeZoneName:Bt},Mf={year:te,month:te,day:te,hour:te,minute:te},Af={year:te,month:te,day:te,hour:te,minute:te,second:te},Of={year:te,month:ar,day:te,hour:te,minute:te},If={year:te,month:ar,day:te,hour:te,minute:te,second:te},LS={year:te,month:ar,day:te,weekday:ar,hour:te,minute:te},Lf={year:te,month:Bt,day:te,hour:te,minute:te,timeZoneName:ar},Pf={year:te,month:Bt,day:te,hour:te,minute:te,second:te,timeZoneName:ar},Bf={year:te,month:Bt,day:te,weekday:Bt,hour:te,minute:te,timeZoneName:Bt},Ff={year:te,month:Bt,day:te,weekday:Bt,hour:te,minute:te,second:te,timeZoneName:Bt};class $i{get type(){throw new Pr}get name(){throw new Pr}get ianaName(){return this.name}get isUniversal(){throw new Pr}offsetName(t,r){throw new Pr}formatOffset(t,r){throw new Pr}offset(t){throw new Pr}equals(t){throw new Pr}get isValid(){throw new Pr}}let Po=null;class io extends $i{static get instance(){return Po===null&&(Po=new io),Po}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return Kf(t,r,n)}formatOffset(t,r){return pi(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}const La=new Map;function PS(e){let t=La.get(e);return t===void 0&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),La.set(e,t)),t}const BS={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function FS(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,o,l,s,a,u,h]=n;return[l,i,o,s,a,u,h]}function HS(e,t){const r=e.formatToParts(t),n=[];for(let i=0;i<r.length;i++){const{type:o,value:l}=r[i],s=BS[o];o==="era"?n[s]=l:ge(s)||(n[s]=parseInt(l,10))}return n}const Bo=new Map;class Ar extends $i{static create(t){let r=Bo.get(t);return r===void 0&&Bo.set(t,r=new Ar(t)),r}static resetCache(){Bo.clear(),La.clear()}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Ar.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return Kf(t,r,n,this.name)}formatOffset(t,r){return pi(this.offset(t),r)}offset(t){if(!this.valid)return NaN;const r=new Date(t);if(isNaN(r))return NaN;const n=PS(this.name);let[i,o,l,s,a,u,h]=n.formatToParts?HS(n,r):FS(n,r);s==="BC"&&(i=-Math.abs(i)+1);const p=oo({year:i,month:o,day:l,hour:a===24?0:a,minute:u,second:h,millisecond:0});let v=+r;const S=v%1e3;return v-=S>=0?S:1e3+S,(p-v)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let mu={};function NS(e,t={}){const r=JSON.stringify([e,t]);let n=mu[r];return n||(n=new Intl.ListFormat(e,t),mu[r]=n),n}const Pa=new Map;function Ba(e,t={}){const r=JSON.stringify([e,t]);let n=Pa.get(r);return n===void 0&&(n=new Intl.DateTimeFormat(e,t),Pa.set(r,n)),n}const Fa=new Map;function VS(e,t={}){const r=JSON.stringify([e,t]);let n=Fa.get(r);return n===void 0&&(n=new Intl.NumberFormat(e,t),Fa.set(r,n)),n}const Ha=new Map;function $S(e,t={}){const{base:r,...n}=t,i=JSON.stringify([e,n]);let o=Ha.get(i);return o===void 0&&(o=new Intl.RelativeTimeFormat(e,t),Ha.set(i,o)),o}let ui=null;function WS(){return ui||(ui=new Intl.DateTimeFormat().resolvedOptions().locale,ui)}const Na=new Map;function Hf(e){let t=Na.get(e);return t===void 0&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),Na.set(e,t)),t}const Va=new Map;function zS(e){let t=Va.get(e);if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in t||(t={...Nf,...t}),Va.set(e,t)}return t}function US(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let n,i;try{n=Ba(e).resolvedOptions(),i=e}catch{const a=e.substring(0,r);n=Ba(a).resolvedOptions(),i=a}const{numberingSystem:o,calendar:l}=n;return[i,o,l]}}function jS(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function qS(e){const t=[];for(let r=1;r<=12;r++){const n=_e.utc(2009,r,1);t.push(e(n))}return t}function GS(e){const t=[];for(let r=1;r<=7;r++){const n=_e.utc(2016,11,13+r);t.push(e(n))}return t}function us(e,t,r,n){const i=e.listingMode();return i==="error"?null:i==="en"?r(t):n(t)}function KS(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||Hf(e.locale).numberingSystem==="latn"}class YS{constructor(t,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:o,...l}=n;if(!r||Object.keys(l).length>0){const s={useGrouping:!1,...n};n.padTo>0&&(s.minimumIntegerDigits=n.padTo),this.inf=VS(t,s)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):Fl(t,3);return at(r,this.padTo)}}}class ZS{constructor(t,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const l=-1*(t.offset/60),s=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;t.offset!==0&&Ar.create(s).valid?(i=s,this.dt=t):(i="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const o={...this.opts};o.timeZone=o.timeZone||i,this.dtf=Ba(r,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class XS{constructor(t,r,n){this.opts={style:"long",...n},!r&&qf()&&(this.rtf=$S(t,n))}format(t,r){return this.rtf?this.rtf.format(t,r):yw(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const Nf={firstDay:1,minimalDays:4,weekend:[6,7]};class Ie{static fromOpts(t){return Ie.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,n,i,o=!1){const l=t||Qe.defaultLocale,s=l||(o?"en-US":WS()),a=r||Qe.defaultNumberingSystem,u=n||Qe.defaultOutputCalendar,h=Wa(i)||Qe.defaultWeekSettings;return new Ie(s,a,u,h,l)}static resetCache(){ui=null,Pa.clear(),Fa.clear(),Ha.clear(),Na.clear(),Va.clear()}static fromObject({locale:t,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return Ie.create(t,r,n,i)}constructor(t,r,n,i,o){const[l,s,a]=US(t);this.locale=l,this.numberingSystem=r||s||null,this.outputCalendar=n||a||null,this.weekSettings=i,this.intl=jS(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=KS(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Ie.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,Wa(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return us(this,t,Xf,()=>{const n=this.intl==="ja"||this.intl.startsWith("ja-");r&=!n;const i=r?{month:t,day:"numeric"}:{month:t},o=r?"format":"standalone";if(!this.monthsCache[o][t]){const l=n?s=>this.dtFormatter(s,i).format():s=>this.extract(s,i,"month");this.monthsCache[o][t]=qS(l)}return this.monthsCache[o][t]})}weekdays(t,r=!1){return us(this,t,em,()=>{const n=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=r?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=GS(o=>this.extract(o,n,"weekday"))),this.weekdaysCache[i][t]})}meridiems(){return us(this,void 0,()=>tm,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[_e.utc(2016,11,13,9),_e.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return us(this,t,rm,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[_e.utc(-40,1,1),_e.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[t]})}extract(t,r,n){const i=this.dtFormatter(t,r),o=i.formatToParts(),l=o.find(s=>s.type.toLowerCase()===n);return l?l.value:null}numberFormatter(t={}){return new YS(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new ZS(t,this.intl,r)}relFormatter(t={}){return new XS(this.intl,this.isEnglish(),t)}listFormatter(t={}){return NS(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||Hf(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Gf()?zS(this.locale):Nf}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Fo=null;class Et extends $i{static get utcInstance(){return Fo===null&&(Fo=new Et(0)),Fo}static instance(t){return t===0?Et.utcInstance:new Et(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Et(ao(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${pi(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${pi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return pi(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class JS extends $i{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Hr(e,t){if(ge(e)||e===null)return t;if(e instanceof $i)return e;if(iw(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?io.instance:r==="utc"||r==="gmt"?Et.utcInstance:Et.parseSpecifier(r)||Ar.create(e)}else return Vr(e)?Et.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new JS(e)}const Il={arab:"[Ù -Ù©]",arabext:"[Û°-Û¹]",bali:"[á­-á­™]",beng:"[à§¦-à§¯]",deva:"[à¥¦-à¥¯]",fullwide:"[ï¼-ï¼™]",gujr:"[à«¦-à«¯]",hanidec:"[ã€‡|ä¸€|äºŒ|ä¸‰|å››|äº”|å…­|ä¸ƒ|å…«|ä¹]",khmr:"[áŸ -áŸ©]",knda:"[à³¦-à³¯]",laoo:"[à»-à»™]",limb:"[á¥†-á¥]",mlym:"[àµ¦-àµ¯]",mong:"[á -á ™]",mymr:"[á€-á‰]",orya:"[à­¦-à­¯]",tamldec:"[à¯¦-à¯¯]",telu:"[à±¦-à±¯]",thai:"[à¹-à¹™]",tibt:"[à¼ -à¼©]",latn:"\\d"},pu={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},QS=Il.hanidec.replace(/[\[|\]]/g,"").split("");function ew(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(e[r].search(Il.hanidec)!==-1)t+=QS.indexOf(e[r]);else for(const i in pu){const[o,l]=pu[i];n>=o&&n<=l&&(t+=n-o)}}return parseInt(t,10)}else return t}const $a=new Map;function tw(){$a.clear()}function Xt({numberingSystem:e},t=""){const r=e||"latn";let n=$a.get(r);n===void 0&&(n=new Map,$a.set(r,n));let i=n.get(t);return i===void 0&&(i=new RegExp(`${Il[r]}${t}`),n.set(t,i)),i}let gu=()=>Date.now(),vu="system",_u=null,yu=null,Su=null,wu=60,Cu,bu=null;class Qe{static get now(){return gu}static set now(t){gu=t}static set defaultZone(t){vu=t}static get defaultZone(){return Hr(vu,io.instance)}static get defaultLocale(){return _u}static set defaultLocale(t){_u=t}static get defaultNumberingSystem(){return yu}static set defaultNumberingSystem(t){yu=t}static get defaultOutputCalendar(){return Su}static set defaultOutputCalendar(t){Su=t}static get defaultWeekSettings(){return bu}static set defaultWeekSettings(t){bu=Wa(t)}static get twoDigitCutoffYear(){return wu}static set twoDigitCutoffYear(t){wu=t%100}static get throwOnInvalid(){return Cu}static set throwOnInvalid(t){Cu=t}static resetCaches(){Ie.resetCache(),Ar.resetCache(),_e.resetCache(),tw()}}class er{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Vf=[0,31,59,90,120,151,181,212,243,273,304,334],$f=[0,31,60,91,121,152,182,213,244,274,305,335];function jt(e,t){return new er("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Ll(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function Wf(e,t,r){return r+(Wi(e)?$f:Vf)[t-1]}function zf(e,t){const r=Wi(e)?$f:Vf,n=r.findIndex(o=>o<t),i=t-r[n];return{month:n+1,day:i}}function Pl(e,t){return(e-t+7)%7+1}function Vs(e,t=4,r=1){const{year:n,month:i,day:o}=e,l=Wf(n,i,o),s=Pl(Ll(n,i,o),r);let a=Math.floor((l-s+14-t)/7),u;return a<1?(u=n-1,a=Ti(u,t,r)):a>Ti(n,t,r)?(u=n+1,a=1):u=n,{weekYear:u,weekNumber:a,weekday:s,...lo(e)}}function xu(e,t=4,r=1){const{weekYear:n,weekNumber:i,weekday:o}=e,l=Pl(Ll(n,1,t),r),s=Hn(n);let a=i*7+o-l-7+t,u;a<1?(u=n-1,a+=Hn(u)):a>s?(u=n+1,a-=Hn(n)):u=n;const{month:h,day:c}=zf(u,a);return{year:u,month:h,day:c,...lo(e)}}function Ho(e){const{year:t,month:r,day:n}=e,i=Wf(t,r,n);return{year:t,ordinal:i,...lo(e)}}function Eu(e){const{year:t,ordinal:r}=e,{month:n,day:i}=zf(t,r);return{year:t,month:n,day:i,...lo(e)}}function ku(e,t){if(!ge(e.localWeekday)||!ge(e.localWeekNumber)||!ge(e.localWeekYear)){if(!ge(e.weekday)||!ge(e.weekNumber)||!ge(e.weekYear))throw new Rn("Cannot mix locale-based week fields with ISO-based week fields");return ge(e.localWeekday)||(e.weekday=e.localWeekday),ge(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),ge(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function rw(e,t=4,r=1){const n=so(e.weekYear),i=qt(e.weekNumber,1,Ti(e.weekYear,t,r)),o=qt(e.weekday,1,7);return n?i?o?!1:jt("weekday",e.weekday):jt("week",e.weekNumber):jt("weekYear",e.weekYear)}function nw(e){const t=so(e.year),r=qt(e.ordinal,1,Hn(e.year));return t?r?!1:jt("ordinal",e.ordinal):jt("year",e.year)}function Uf(e){const t=so(e.year),r=qt(e.month,1,12),n=qt(e.day,1,$s(e.year,e.month));return t?r?n?!1:jt("day",e.day):jt("month",e.month):jt("year",e.year)}function jf(e){const{hour:t,minute:r,second:n,millisecond:i}=e,o=qt(t,0,23)||t===24&&r===0&&n===0&&i===0,l=qt(r,0,59),s=qt(n,0,59),a=qt(i,0,999);return o?l?s?a?!1:jt("millisecond",i):jt("second",n):jt("minute",r):jt("hour",t)}function ge(e){return typeof e>"u"}function Vr(e){return typeof e=="number"}function so(e){return typeof e=="number"&&e%1===0}function iw(e){return typeof e=="string"}function sw(e){return Object.prototype.toString.call(e)==="[object Date]"}function qf(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Gf(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function ow(e){return Array.isArray(e)?e:[e]}function Tu(e,t,r){if(e.length!==0)return e.reduce((n,i)=>{const o=[t(i),i];return n&&r(n[0],o[0])===n[0]?n:o},null)[1]}function aw(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function zn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Wa(e){if(e==null)return null;if(typeof e!="object")throw new yt("Week settings must be an object");if(!qt(e.firstDay,1,7)||!qt(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!qt(t,1,7)))throw new yt("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function qt(e,t,r){return so(e)&&e>=t&&e<=r}function lw(e,t){return e-t*Math.floor(e/t)}function at(e,t=2){const r=e<0;let n;return r?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function Fr(e){if(!(ge(e)||e===null||e===""))return parseInt(e,10)}function rn(e){if(!(ge(e)||e===null||e===""))return parseFloat(e)}function Bl(e){if(!(ge(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function Fl(e,t,r="round"){const n=10**t;switch(r){case"expand":return e>0?Math.ceil(e*n)/n:Math.floor(e*n)/n;case"trunc":return Math.trunc(e*n)/n;case"round":return Math.round(e*n)/n;case"floor":return Math.floor(e*n)/n;case"ceil":return Math.ceil(e*n)/n;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function Wi(e){return e%4===0&&(e%100!==0||e%400===0)}function Hn(e){return Wi(e)?366:365}function $s(e,t){const r=lw(t-1,12)+1,n=e+(t-r)/12;return r===2?Wi(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function oo(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function Du(e,t,r){return-Pl(Ll(e,1,t),r)+t-1}function Ti(e,t=4,r=1){const n=Du(e,t,r),i=Du(e+1,t,r);return(Hn(e)-n+i)/7}function za(e){return e>99?e:e>Qe.twoDigitCutoffYear?1900+e:2e3+e}function Kf(e,t,r,n=null){const i=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);const l={timeZoneName:t,...o},s=new Intl.DateTimeFormat(r,l).formatToParts(i).find(a=>a.type.toLowerCase()==="timezonename");return s?s.value:null}function ao(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function Yf(e){const t=Number(e);if(typeof e=="boolean"||e===""||!Number.isFinite(t))throw new yt(`Invalid unit value ${e}`);return t}function Ws(e,t){const r={};for(const n in e)if(zn(e,n)){const i=e[n];if(i==null)continue;r[t(n)]=Yf(i)}return r}function pi(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${at(r,2)}:${at(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${at(r,2)}${at(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function lo(e){return aw(e,["hour","minute","second","millisecond"])}const cw=["January","February","March","April","May","June","July","August","September","October","November","December"],Zf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],uw=["J","F","M","A","M","J","J","A","S","O","N","D"];function Xf(e){switch(e){case"narrow":return[...uw];case"short":return[...Zf];case"long":return[...cw];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Jf=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Qf=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],hw=["M","T","W","T","F","S","S"];function em(e){switch(e){case"narrow":return[...hw];case"short":return[...Qf];case"long":return[...Jf];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const tm=["AM","PM"],dw=["Before Christ","Anno Domini"],fw=["BC","AD"],mw=["B","A"];function rm(e){switch(e){case"narrow":return[...mw];case"short":return[...fw];case"long":return[...dw];default:return null}}function pw(e){return tm[e.hour<12?0:1]}function gw(e,t){return em(t)[e.weekday-1]}function vw(e,t){return Xf(t)[e.month-1]}function _w(e,t){return rm(t)[e.year<0?0:1]}function yw(e,t,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&o){const c=e==="days";switch(t){case 1:return c?"tomorrow":`next ${i[e][0]}`;case-1:return c?"yesterday":`last ${i[e][0]}`;case 0:return c?"today":`this ${i[e][0]}`}}const l=Object.is(t,-0)||t<0,s=Math.abs(t),a=s===1,u=i[e],h=n?a?u[1]:u[2]||u[1]:a?i[e][0]:e;return l?`${s} ${h} ago`:`in ${s} ${h}`}function Ru(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const Sw={D:Ns,DD:yf,DDD:Sf,DDDD:wf,t:Cf,tt:bf,ttt:xf,tttt:Ef,T:kf,TT:Tf,TTT:Df,TTTT:Rf,f:Mf,ff:Of,fff:Lf,ffff:Bf,F:Af,FF:If,FFF:Pf,FFFF:Ff};class St{static create(t,r={}){return new St(t,r)}static parseFormat(t){let r=null,n="",i=!1;const o=[];for(let l=0;l<t.length;l++){const s=t.charAt(l);s==="'"?((n.length>0||i)&&o.push({literal:i||/^\s+$/.test(n),val:n===""?"'":n}),r=null,n="",i=!i):i||s===r?n+=s:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=s,r=s)}return n.length>0&&o.push({literal:i||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(t){return Sw[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0,n=void 0){if(this.opts.forceSimple)return at(t,r);const i={...this.opts};return r>0&&(i.padTo=r),n&&(i.signDisplay=n),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(v,S)=>this.loc.extract(t,v,S),l=v=>t.isOffsetFixed&&t.offset===0&&v.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,v.format):"",s=()=>n?pw(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(v,S)=>n?vw(t,v):o(S?{month:v}:{month:v,day:"numeric"},"month"),u=(v,S)=>n?gw(t,v):o(S?{weekday:v}:{weekday:v,month:"long",day:"numeric"},"weekday"),h=v=>{const S=St.macroTokenToFormatOpts(v);return S?this.formatWithSystemDefault(t,S):v},c=v=>n?_w(t,v):o({era:v},"era"),p=v=>{switch(v){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return s();case"d":return i?o({day:"numeric"},"day"):this.num(t.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(t.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(t.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return h(v)}};return Ru(St.parseFormat(r),p)}formatDurationFromString(t,r){const n=this.opts.signMode==="negativeLargestOnly"?-1:1,i=h=>{switch(h[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},o=(h,c)=>p=>{const v=i(p);if(v){const S=c.isNegativeDuration&&v!==c.largestUnit?n:1;let _;return this.opts.signMode==="negativeLargestOnly"&&v!==c.largestUnit?_="never":this.opts.signMode==="all"?_="always":_="auto",this.num(h.get(v)*S,p.length,_)}else return p},l=St.parseFormat(r),s=l.reduce((h,{literal:c,val:p})=>c?h:h.concat(p),[]),a=t.shiftTo(...s.map(i).filter(h=>h)),u={isNegativeDuration:a<0,largestUnit:Object.keys(a.values)[0]};return Ru(l,o(a,u))}}const nm=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Kn(...e){const t=e.reduce((r,n)=>r+n.source,"");return RegExp(`^${t}$`)}function Yn(...e){return t=>e.reduce(([r,n,i],o)=>{const[l,s,a]=o(t,i);return[{...r,...l},s||n,a]},[{},null,1]).slice(0,2)}function Zn(e,...t){if(e==null)return[null,null];for(const[r,n]of t){const i=r.exec(e);if(i)return n(i)}return[null,null]}function im(...e){return(t,r)=>{const n={};let i;for(i=0;i<e.length;i++)n[e[i]]=Fr(t[r+i]);return[n,null,r+i]}}const sm=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,ww=`(?:${sm.source}?(?:\\[(${nm.source})\\])?)?`,Hl=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,om=RegExp(`${Hl.source}${ww}`),Nl=RegExp(`(?:[Tt]${om.source})?`),Cw=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,bw=/(\d{4})-?W(\d\d)(?:-?(\d))?/,xw=/(\d{4})-?(\d{3})/,Ew=im("weekYear","weekNumber","weekDay"),kw=im("year","ordinal"),Tw=/(\d{4})-(\d\d)-(\d\d)/,am=RegExp(`${Hl.source} ?(?:${sm.source}|(${nm.source}))?`),Dw=RegExp(`(?: ${am.source})?`);function Nn(e,t,r){const n=e[t];return ge(n)?r:Fr(n)}function Rw(e,t){return[{year:Nn(e,t),month:Nn(e,t+1,1),day:Nn(e,t+2,1)},null,t+3]}function Xn(e,t){return[{hours:Nn(e,t,0),minutes:Nn(e,t+1,0),seconds:Nn(e,t+2,0),milliseconds:Bl(e[t+3])},null,t+4]}function zi(e,t){const r=!e[t]&&!e[t+1],n=ao(e[t+1],e[t+2]),i=r?null:Et.instance(n);return[{},i,t+3]}function Ui(e,t){const r=e[t]?Ar.create(e[t]):null;return[{},r,t+1]}const Mw=RegExp(`^T?${Hl.source}$`),Aw=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Ow(e){const[t,r,n,i,o,l,s,a,u]=e,h=t[0]==="-",c=a&&a[0]==="-",p=(v,S=!1)=>v!==void 0&&(S||v&&h)?-v:v;return[{years:p(rn(r)),months:p(rn(n)),weeks:p(rn(i)),days:p(rn(o)),hours:p(rn(l)),minutes:p(rn(s)),seconds:p(rn(a),a==="-0"),milliseconds:p(Bl(u),c)}]}const Iw={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Vl(e,t,r,n,i,o,l){const s={year:t.length===2?za(Fr(t)):Fr(t),month:Zf.indexOf(r)+1,day:Fr(n),hour:Fr(i),minute:Fr(o)};return l&&(s.second=Fr(l)),e&&(s.weekday=e.length>3?Jf.indexOf(e)+1:Qf.indexOf(e)+1),s}const Lw=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Pw(e){const[,t,r,n,i,o,l,s,a,u,h,c]=e,p=Vl(t,i,n,r,o,l,s);let v;return a?v=Iw[a]:u?v=0:v=ao(h,c),[p,new Et(v)]}function Bw(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Fw=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Hw=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Nw=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Mu(e){const[,t,r,n,i,o,l,s]=e;return[Vl(t,i,n,r,o,l,s),Et.utcInstance]}function Vw(e){const[,t,r,n,i,o,l,s]=e;return[Vl(t,s,r,n,i,o,l),Et.utcInstance]}const $w=Kn(Cw,Nl),Ww=Kn(bw,Nl),zw=Kn(xw,Nl),Uw=Kn(om),lm=Yn(Rw,Xn,zi,Ui),jw=Yn(Ew,Xn,zi,Ui),qw=Yn(kw,Xn,zi,Ui),Gw=Yn(Xn,zi,Ui);function Kw(e){return Zn(e,[$w,lm],[Ww,jw],[zw,qw],[Uw,Gw])}function Yw(e){return Zn(Bw(e),[Lw,Pw])}function Zw(e){return Zn(e,[Fw,Mu],[Hw,Mu],[Nw,Vw])}function Xw(e){return Zn(e,[Aw,Ow])}const Jw=Yn(Xn);function Qw(e){return Zn(e,[Mw,Jw])}const e1=Kn(Tw,Dw),t1=Kn(am),r1=Yn(Xn,zi,Ui);function n1(e){return Zn(e,[e1,lm],[t1,r1])}const Au="Invalid Duration",cm={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},i1={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...cm},Wt=146097/400,xn=146097/4800,s1={years:{quarters:4,months:12,weeks:Wt/7,days:Wt,hours:Wt*24,minutes:Wt*24*60,seconds:Wt*24*60*60,milliseconds:Wt*24*60*60*1e3},quarters:{months:3,weeks:Wt/28,days:Wt/4,hours:Wt*24/4,minutes:Wt*24*60/4,seconds:Wt*24*60*60/4,milliseconds:Wt*24*60*60*1e3/4},months:{weeks:xn/7,days:xn,hours:xn*24,minutes:xn*24*60,seconds:xn*24*60*60,milliseconds:xn*24*60*60*1e3},...cm},an=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],o1=an.slice(0).reverse();function xr(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Me(n)}function um(e,t){let r=t.milliseconds??0;for(const n of o1.slice(1))t[n]&&(r+=t[n]*e[n].milliseconds);return r}function Ou(e,t){const r=um(e,t)<0?-1:1;an.reduceRight((n,i)=>{if(ge(t[i]))return n;if(n){const o=t[n]*r,l=e[i][n],s=Math.floor(o/l);t[i]+=s*r,t[n]-=s*l*r}return i},null),an.reduce((n,i)=>{if(ge(t[i]))return n;if(n){const o=t[n]%1;t[n]-=o,t[i]+=o*e[n][i]}return i},null)}function Iu(e){const t={};for(const[r,n]of Object.entries(e))n!==0&&(t[r]=n);return t}class Me{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let n=r?s1:i1;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||Ie.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,r){return Me.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new yt(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Me({values:Ws(t,Me.normalizeUnit),loc:Ie.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(Vr(t))return Me.fromMillis(t);if(Me.isDuration(t))return t;if(typeof t=="object")return Me.fromObject(t);throw new yt(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[n]=Xw(t);return n?Me.fromObject(n,r):Me.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[n]=Qw(t);return n?Me.fromObject(n,r):Me.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new yt("need to specify a reason the Duration is invalid");const n=t instanceof er?t:new er(t,r);if(Qe.throwOnInvalid)throw new OS(n);return new Me({invalid:n})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new _f(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?St.create(this.loc,n).formatDurationFromString(this,t):Au}toHuman(t={}){if(!this.isValid)return Au;const r=t.showZeros!==!1,n=an.map(i=>{const o=this.values[i];return ge(o)||o===0&&!r?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:i.slice(0,-1)}).format(o)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=Fl(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},_e.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?um(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=Me.fromDurationLike(t),n={};for(const i of an)(zn(r.values,i)||zn(this.values,i))&&(n[i]=r.get(i)+this.get(i));return xr(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const r=Me.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=Yf(t(this.values[n],n));return xr(this,{values:r},!0)}get(t){return this[Me.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...Ws(t,Me.normalizeUnit)};return xr(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const l={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:i,conversionAccuracy:n};return xr(this,l)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return Ou(this.matrix,t),xr(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=Iu(this.normalize().shiftToAll().toObject());return xr(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(l=>Me.normalizeUnit(l));const r={},n={},i=this.toObject();let o;for(const l of an)if(t.indexOf(l)>=0){o=l;let s=0;for(const u in n)s+=this.matrix[u][l]*n[u],n[u]=0;Vr(i[l])&&(s+=i[l]);const a=Math.trunc(s);r[l]=a,n[l]=(s*1e3-a*1e3)/1e3}else Vr(i[l])&&(n[l]=i[l]);for(const l in n)n[l]!==0&&(r[o]+=l===o?n[l]:n[l]/this.matrix[o][l]);return Ou(this.matrix,r),xr(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return xr(this,{values:t},!0)}removeZeros(){if(!this.isValid)return this;const t=Iu(this.values);return xr(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of an)if(!r(this.values[n],t.values[n]))return!1;return!0}}const En="Invalid Interval";function a1(e,t){return!e||!e.isValid?Je.invalid("missing or invalid start"):!t||!t.isValid?Je.invalid("missing or invalid end"):t<e?Je.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Je{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new yt("need to specify a reason the Interval is invalid");const n=t instanceof er?t:new er(t,r);if(Qe.throwOnInvalid)throw new AS(n);return new Je({invalid:n})}static fromDateTimes(t,r){const n=oi(t),i=oi(r),o=a1(n,i);return o??new Je({start:n,end:i})}static after(t,r){const n=Me.fromDurationLike(r),i=oi(t);return Je.fromDateTimes(i,i.plus(n))}static before(t,r){const n=Me.fromDurationLike(r),i=oi(t);return Je.fromDateTimes(i.minus(n),i)}static fromISO(t,r){const[n,i]=(t||"").split("/",2);if(n&&i){let o,l;try{o=_e.fromISO(n,r),l=o.isValid}catch{l=!1}let s,a;try{s=_e.fromISO(i,r),a=s.isValid}catch{a=!1}if(l&&a)return Je.fromDateTimes(o,s);if(l){const u=Me.fromISO(i,r);if(u.isValid)return Je.after(o,u)}else if(a){const u=Me.fromISO(n,r);if(u.isValid)return Je.before(s,u)}}return Je.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(t,r);let i;return r?.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(t,r),Math.floor(i.diff(n,t).get(t))+(i.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?Je.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(oi).filter(l=>this.contains(l)).sort((l,s)=>l.toMillis()-s.toMillis()),n=[];let{s:i}=this,o=0;for(;i<this.e;){const l=r[o]||this.e,s=+l>+this.e?this.e:l;n.push(Je.fromDateTimes(i,s)),i=s,o+=1}return n}splitBy(t){const r=Me.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,o;const l=[];for(;n<this.e;){const s=this.start.plus(r.mapUnits(a=>a*i));o=+s>+this.e?this.e:s,l.push(Je.fromDateTimes(n,o)),n=o,i+=1}return l}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:Je.fromDateTimes(r,n)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return Je.fromDateTimes(r,n)}static merge(t){const[r,n]=t.sort((i,o)=>i.s-o.s).reduce(([i,o],l)=>o?o.overlaps(l)||o.abutsStart(l)?[i,o.union(l)]:[i.concat([o]),l]:[i,l],[[],null]);return n&&r.push(n),r}static xor(t){let r=null,n=0;const i=[],o=t.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),l=Array.prototype.concat(...o),s=l.sort((a,u)=>a.time-u.time);for(const a of s)n+=a.type==="s"?1:-1,n===1?r=a.time:(r&&+r!=+a.time&&i.push(Je.fromDateTimes(r,a.time)),r=null);return Je.merge(i)}difference(...t){return Je.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} â€“ ${this.e.toISO()})`:En}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=Ns,r={}){return this.isValid?St.create(this.s.loc.clone(r),t).formatInterval(this):En}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:En}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:En}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:En}toFormat(t,{separator:r=" â€“ "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:En}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):Me.invalid(this.invalidReason)}mapEndpoints(t){return Je.fromDateTimes(t(this.s),t(this.e))}}class hs{static hasDST(t=Qe.defaultZone){const r=_e.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return Ar.isValidZone(t)}static normalizeZone(t){return Hr(t,Qe.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||Ie.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||Ie.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||Ie.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Ie.create(r,n,o)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Ie.create(r,n,o)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Ie.create(r,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Ie.create(r,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Ie.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return Ie.create(r,null,"gregory").eras(t)}static features(){return{relative:qf(),localeWeek:Gf()}}}function Lu(e,t){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(Me.fromMillis(n).as("days"))}function l1(e,t,r){const n=[["years",(a,u)=>u.year-a.year],["quarters",(a,u)=>u.quarter-a.quarter+(u.year-a.year)*4],["months",(a,u)=>u.month-a.month+(u.year-a.year)*12],["weeks",(a,u)=>{const h=Lu(a,u);return(h-h%7)/7}],["days",Lu]],i={},o=e;let l,s;for(const[a,u]of n)r.indexOf(a)>=0&&(l=a,i[a]=u(e,t),s=o.plus(i),s>t?(i[a]--,e=o.plus(i),e>t&&(s=e,i[a]--,e=o.plus(i))):e=s);return[e,i,s,l]}function c1(e,t,r,n){let[i,o,l,s]=l1(e,t,r);const a=t-i,u=r.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(l<t&&(l=i.plus({[s]:1})),l!==i&&(o[s]=(o[s]||0)+a/(l-i)));const h=Me.fromObject(o,n);return u.length>0?Me.fromMillis(a,n).shiftTo(...u).plus(h):h}const u1="missing Intl.DateTimeFormat.formatToParts support";function Oe(e,t=r=>r){return{regex:e,deser:([r])=>t(ew(r))}}const h1="Â ",hm=`[ ${h1}]`,dm=new RegExp(hm,"g");function d1(e){return e.replace(/\./g,"\\.?").replace(dm,hm)}function Pu(e){return e.replace(/\./g,"").replace(dm," ").toLowerCase()}function Jt(e,t){return e===null?null:{regex:RegExp(e.map(d1).join("|")),deser:([r])=>e.findIndex(n=>Pu(r)===Pu(n))+t}}function Bu(e,t){return{regex:e,deser:([,r,n])=>ao(r,n),groups:t}}function ds(e){return{regex:e,deser:([t])=>t}}function f1(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function m1(e,t){const r=Xt(t),n=Xt(t,"{2}"),i=Xt(t,"{3}"),o=Xt(t,"{4}"),l=Xt(t,"{6}"),s=Xt(t,"{1,2}"),a=Xt(t,"{1,3}"),u=Xt(t,"{1,6}"),h=Xt(t,"{1,9}"),c=Xt(t,"{2,4}"),p=Xt(t,"{4,6}"),v=m=>({regex:RegExp(f1(m.val)),deser:([d])=>d,literal:!0}),_=(m=>{if(e.literal)return v(m);switch(m.val){case"G":return Jt(t.eras("short"),0);case"GG":return Jt(t.eras("long"),0);case"y":return Oe(u);case"yy":return Oe(c,za);case"yyyy":return Oe(o);case"yyyyy":return Oe(p);case"yyyyyy":return Oe(l);case"M":return Oe(s);case"MM":return Oe(n);case"MMM":return Jt(t.months("short",!0),1);case"MMMM":return Jt(t.months("long",!0),1);case"L":return Oe(s);case"LL":return Oe(n);case"LLL":return Jt(t.months("short",!1),1);case"LLLL":return Jt(t.months("long",!1),1);case"d":return Oe(s);case"dd":return Oe(n);case"o":return Oe(a);case"ooo":return Oe(i);case"HH":return Oe(n);case"H":return Oe(s);case"hh":return Oe(n);case"h":return Oe(s);case"mm":return Oe(n);case"m":return Oe(s);case"q":return Oe(s);case"qq":return Oe(n);case"s":return Oe(s);case"ss":return Oe(n);case"S":return Oe(a);case"SSS":return Oe(i);case"u":return ds(h);case"uu":return ds(s);case"uuu":return Oe(r);case"a":return Jt(t.meridiems(),0);case"kkkk":return Oe(o);case"kk":return Oe(c,za);case"W":return Oe(s);case"WW":return Oe(n);case"E":case"c":return Oe(r);case"EEE":return Jt(t.weekdays("short",!1),1);case"EEEE":return Jt(t.weekdays("long",!1),1);case"ccc":return Jt(t.weekdays("short",!0),1);case"cccc":return Jt(t.weekdays("long",!0),1);case"Z":case"ZZ":return Bu(new RegExp(`([+-]${s.source})(?::(${n.source}))?`),2);case"ZZZ":return Bu(new RegExp(`([+-]${s.source})(${n.source})?`),2);case"z":return ds(/[a-z_+-/]{1,256}?/i);case" ":return ds(/[^\S\n\r]/);default:return v(m)}})(e)||{invalidReason:u1};return _.token=e,_}const p1={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function g1(e,t,r){const{type:n,value:i}=e;if(n==="literal"){const a=/^\s+$/.test(i);return{literal:!a,val:a?" ":i}}const o=t[n];let l=n;n==="hour"&&(t.hour12!=null?l=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?l="hour12":l="hour24":l=r.hour12?"hour12":"hour24");let s=p1[l];if(typeof s=="object"&&(s=s[o]),s)return{literal:!1,val:s}}function v1(e){return[`^${e.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,e]}function _1(e,t,r){const n=e.match(t);if(n){const i={};let o=1;for(const l in r)if(zn(r,l)){const s=r[l],a=s.groups?s.groups+1:1;!s.literal&&s.token&&(i[s.token.val[0]]=s.deser(n.slice(o,o+a))),o+=a}return[n,i]}else return[n,{}]}function y1(e){const t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return ge(e.z)||(r=Ar.create(e.z)),ge(e.Z)||(r||(r=new Et(e.Z)),n=e.Z),ge(e.q)||(e.M=(e.q-1)*3+1),ge(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),ge(e.u)||(e.S=Bl(e.u)),[Object.keys(e).reduce((o,l)=>{const s=t(l);return s&&(o[s]=e[l]),o},{}),r,n]}let No=null;function S1(){return No||(No=_e.fromMillis(1555555555555)),No}function w1(e,t){if(e.literal)return e;const r=St.macroTokenToFormatOpts(e.val),n=gm(r,t);return n==null||n.includes(void 0)?e:n}function fm(e,t){return Array.prototype.concat(...e.map(r=>w1(r,t)))}class mm{constructor(t,r){if(this.locale=t,this.format=r,this.tokens=fm(St.parseFormat(r),t),this.units=this.tokens.map(n=>m1(n,t)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,i]=v1(this.units);this.regex=RegExp(n,"i"),this.handlers=i}}explainFromTokens(t){if(this.isValid){const[r,n]=_1(t,this.regex,this.handlers),[i,o,l]=n?y1(n):[null,null,void 0];if(zn(n,"a")&&zn(n,"H"))throw new Rn("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:i,zone:o,specificOffset:l}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function pm(e,t,r){return new mm(e,r).explainFromTokens(t)}function C1(e,t,r){const{result:n,zone:i,specificOffset:o,invalidReason:l}=pm(e,t,r);return[n,i,o,l]}function gm(e,t){if(!e)return null;const n=St.create(t,e).dtFormatter(S1()),i=n.formatToParts(),o=n.resolvedOptions();return i.map(l=>g1(l,e,o))}const Vo="Invalid DateTime",Fu=864e13;function hi(e){return new er("unsupported zone",`the zone "${e.name}" is not supported`)}function $o(e){return e.weekData===null&&(e.weekData=Vs(e.c)),e.weekData}function Wo(e){return e.localWeekData===null&&(e.localWeekData=Vs(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function nn(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new _e({...r,...t,old:r})}function vm(e,t,r){let n=e-t*60*1e3;const i=r.offset(n);if(t===i)return[n,t];n-=(i-t)*60*1e3;const o=r.offset(n);return i===o?[n,i]:[e-Math.min(i,o)*60*1e3,Math.max(i,o)]}function fs(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function ks(e,t,r){return vm(oo(e),t,r)}function Hu(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o={...e.c,year:n,month:i,day:Math.min(e.c.day,$s(n,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},l=Me.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),s=oo(o);let[a,u]=vm(s,r,e.zone);return l!==0&&(a+=l,u=e.zone.offset(a)),{ts:a,o:u}}function kn(e,t,r,n,i,o){const{setZone:l,zone:s}=r;if(e&&Object.keys(e).length!==0||t){const a=t||s,u=_e.fromObject(e,{...r,zone:a,specificOffset:o});return l?u:u.setZone(s)}else return _e.invalid(new er("unparsable",`the input "${i}" can't be parsed as ${n}`))}function ms(e,t,r=!0){return e.isValid?St.create(Ie.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function zo(e,t,r){const n=e.c.year>9999||e.c.year<0;let i="";if(n&&e.c.year>=0&&(i+="+"),i+=at(e.c.year,n?6:4),r==="year")return i;if(t){if(i+="-",i+=at(e.c.month),r==="month")return i;i+="-"}else if(i+=at(e.c.month),r==="month")return i;return i+=at(e.c.day),i}function Nu(e,t,r,n,i,o,l){let s=!r||e.c.millisecond!==0||e.c.second!==0,a="";switch(l){case"day":case"month":case"year":break;default:if(a+=at(e.c.hour),l==="hour")break;if(t){if(a+=":",a+=at(e.c.minute),l==="minute")break;s&&(a+=":",a+=at(e.c.second))}else{if(a+=at(e.c.minute),l==="minute")break;s&&(a+=at(e.c.second))}if(l==="second")break;s&&(!n||e.c.millisecond!==0)&&(a+=".",a+=at(e.c.millisecond,3))}return i&&(e.isOffsetFixed&&e.offset===0&&!o?a+="Z":e.o<0?(a+="-",a+=at(Math.trunc(-e.o/60)),a+=":",a+=at(Math.trunc(-e.o%60))):(a+="+",a+=at(Math.trunc(e.o/60)),a+=":",a+=at(Math.trunc(e.o%60)))),o&&(a+="["+e.zone.ianaName+"]"),a}const _m={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},b1={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},x1={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Ts=["year","month","day","hour","minute","second","millisecond"],E1=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],k1=["year","ordinal","hour","minute","second","millisecond"];function Ds(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new _f(e);return t}function Vu(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Ds(e)}}function T1(e){if(di===void 0&&(di=Qe.now()),e.type!=="iana")return e.offset(di);const t=e.name;let r=Ua.get(t);return r===void 0&&(r=e.offset(di),Ua.set(t,r)),r}function $u(e,t){const r=Hr(t.zone,Qe.defaultZone);if(!r.isValid)return _e.invalid(hi(r));const n=Ie.fromObject(t);let i,o;if(ge(e.year))i=Qe.now();else{for(const a of Ts)ge(e[a])&&(e[a]=_m[a]);const l=Uf(e)||jf(e);if(l)return _e.invalid(l);const s=T1(r);[i,o]=ks(e,s,r)}return new _e({ts:i,zone:r,loc:n,o})}function Wu(e,t,r){const n=ge(r.round)?!0:r.round,i=ge(r.rounding)?"trunc":r.rounding,o=(s,a)=>(s=Fl(s,n||r.calendary?0:2,r.calendary?"round":i),t.loc.clone(r).relFormatter(r).format(s,a)),l=s=>r.calendary?t.hasSame(e,s)?0:t.startOf(s).diff(e.startOf(s),s).get(s):t.diff(e,s).get(s);if(r.unit)return o(l(r.unit),r.unit);for(const s of r.units){const a=l(s);if(Math.abs(a)>=1)return o(a,s)}return o(e>t?-0:0,r.units[r.units.length-1])}function zu(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}let di;const Ua=new Map;class _e{constructor(t){const r=t.zone||Qe.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new er("invalid input"):null)||(r.isValid?null:hi(r));this.ts=ge(t.ts)?Qe.now():t.ts;let i=null,o=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[i,o]=[t.old.c,t.old.o];else{const s=Vr(t.o)&&!t.old?t.o:r.offset(this.ts);i=fs(this.ts,s),n=Number.isNaN(i.year)?new er("invalid input"):null,i=n?null:i,o=n?null:s}this._zone=r,this.loc=t.loc||Ie.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new _e({})}static local(){const[t,r]=zu(arguments),[n,i,o,l,s,a,u]=r;return $u({year:n,month:i,day:o,hour:l,minute:s,second:a,millisecond:u},t)}static utc(){const[t,r]=zu(arguments),[n,i,o,l,s,a,u]=r;return t.zone=Et.utcInstance,$u({year:n,month:i,day:o,hour:l,minute:s,second:a,millisecond:u},t)}static fromJSDate(t,r={}){const n=sw(t)?t.valueOf():NaN;if(Number.isNaN(n))return _e.invalid("invalid input");const i=Hr(r.zone,Qe.defaultZone);return i.isValid?new _e({ts:n,zone:i,loc:Ie.fromObject(r)}):_e.invalid(hi(i))}static fromMillis(t,r={}){if(Vr(t))return t<-Fu||t>Fu?_e.invalid("Timestamp out of range"):new _e({ts:t,zone:Hr(r.zone,Qe.defaultZone),loc:Ie.fromObject(r)});throw new yt(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(Vr(t))return new _e({ts:t*1e3,zone:Hr(r.zone,Qe.defaultZone),loc:Ie.fromObject(r)});throw new yt("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const n=Hr(r.zone,Qe.defaultZone);if(!n.isValid)return _e.invalid(hi(n));const i=Ie.fromObject(r),o=Ws(t,Vu),{minDaysInFirstWeek:l,startOfWeek:s}=ku(o,i),a=Qe.now(),u=ge(r.specificOffset)?n.offset(a):r.specificOffset,h=!ge(o.ordinal),c=!ge(o.year),p=!ge(o.month)||!ge(o.day),v=c||p,S=o.weekYear||o.weekNumber;if((v||h)&&S)throw new Rn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&h)throw new Rn("Can't mix ordinal dates with month/day");const _=S||o.weekday&&!v;let m,d,f=fs(a,u);_?(m=E1,d=b1,f=Vs(f,l,s)):h?(m=k1,d=x1,f=Ho(f)):(m=Ts,d=_m);let g=!1;for(const R of m){const M=o[R];ge(M)?g?o[R]=d[R]:o[R]=f[R]:g=!0}const y=_?rw(o,l,s):h?nw(o):Uf(o),w=y||jf(o);if(w)return _e.invalid(w);const C=_?xu(o,l,s):h?Eu(o):o,[x,b]=ks(C,u,n),E=new _e({ts:x,zone:n,o:b,loc:i});return o.weekday&&v&&t.weekday!==E.weekday?_e.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${E.toISO()}`):E.isValid?E:_e.invalid(E.invalid)}static fromISO(t,r={}){const[n,i]=Kw(t);return kn(n,i,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[n,i]=Yw(t);return kn(n,i,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[n,i]=Zw(t);return kn(n,i,r,"HTTP",r)}static fromFormat(t,r,n={}){if(ge(t)||ge(r))throw new yt("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=n,l=Ie.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[s,a,u,h]=C1(l,t,r);return h?_e.invalid(h):kn(s,a,n,`format ${r}`,t,u)}static fromString(t,r,n={}){return _e.fromFormat(t,r,n)}static fromSQL(t,r={}){const[n,i]=n1(t);return kn(n,i,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new yt("need to specify a reason the DateTime is invalid");const n=t instanceof er?t:new er(t,r);if(Qe.throwOnInvalid)throw new MS(n);return new _e({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const n=gm(t,Ie.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(t,r={}){return fm(St.parseFormat(t),Ie.fromObject(r)).map(i=>i.val).join("")}static resetCache(){di=void 0,Ua.clear()}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?$o(this).weekYear:NaN}get weekNumber(){return this.isValid?$o(this).weekNumber:NaN}get weekday(){return this.isValid?$o(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Wo(this).weekday:NaN}get localWeekNumber(){return this.isValid?Wo(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Wo(this).weekYear:NaN}get ordinal(){return this.isValid?Ho(this.c).ordinal:NaN}get monthShort(){return this.isValid?hs.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?hs.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?hs.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?hs.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,n=oo(this.c),i=this.zone.offset(n-t),o=this.zone.offset(n+t),l=this.zone.offset(n-i*r),s=this.zone.offset(n-o*r);if(l===s)return[this];const a=n-l*r,u=n-s*r,h=fs(a,l),c=fs(u,s);return h.hour===c.hour&&h.minute===c.minute&&h.second===c.second&&h.millisecond===c.millisecond?[nn(this,{ts:a}),nn(this,{ts:u})]:[this]}get isInLeapYear(){return Wi(this.year)}get daysInMonth(){return $s(this.year,this.month)}get daysInYear(){return this.isValid?Hn(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ti(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ti(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:n,calendar:i}=St.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(t=0,r={}){return this.setZone(Et.instance(t),r)}toLocal(){return this.setZone(Qe.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(t=Hr(t,Qe.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(r||n){const o=t.offset(this.ts),l=this.toObject();[i]=ks(l,o,t)}return nn(this,{ts:i,zone:t})}else return _e.invalid(hi(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n});return nn(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=Ws(t,Vu),{minDaysInFirstWeek:n,startOfWeek:i}=ku(r,this.loc),o=!ge(r.weekYear)||!ge(r.weekNumber)||!ge(r.weekday),l=!ge(r.ordinal),s=!ge(r.year),a=!ge(r.month)||!ge(r.day),u=s||a,h=r.weekYear||r.weekNumber;if((u||l)&&h)throw new Rn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&l)throw new Rn("Can't mix ordinal dates with month/day");let c;o?c=xu({...Vs(this.c,n,i),...r},n,i):ge(r.ordinal)?(c={...this.toObject(),...r},ge(r.day)&&(c.day=Math.min($s(c.year,c.month),c.day))):c=Eu({...Ho(this.c),...r});const[p,v]=ks(c,this.o,this.zone);return nn(this,{ts:p,o:v})}plus(t){if(!this.isValid)return this;const r=Me.fromDurationLike(t);return nn(this,Hu(this,r))}minus(t){if(!this.isValid)return this;const r=Me.fromDurationLike(t).negate();return nn(this,Hu(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},i=Me.normalizeUnit(t);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(r){const o=this.loc.getStartOfWeek(),{weekday:l}=this;l<o&&(n.weekNumber=this.weekNumber-1),n.weekday=o}else n.weekday=1;if(i==="quarters"){const o=Math.ceil(this.month/3);n.month=(o-1)*3+1}return this.set(n)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?St.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):Vo}toLocaleString(t=Ns,r={}){return this.isValid?St.create(this.loc.clone(r),t).formatDateTime(this):Vo}toLocaleParts(t={}){return this.isValid?St.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:o=!1,precision:l="milliseconds"}={}){if(!this.isValid)return null;l=Ds(l);const s=t==="extended";let a=zo(this,s,l);return Ts.indexOf(l)>=3&&(a+="T"),a+=Nu(this,s,r,n,i,o,l),a}toISODate({format:t="extended",precision:r="day"}={}){return this.isValid?zo(this,t==="extended",Ds(r)):null}toISOWeekDate(){return ms(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:o=!1,format:l="extended",precision:s="milliseconds"}={}){return this.isValid?(s=Ds(s),(i&&Ts.indexOf(s)>=3?"T":"")+Nu(this,l==="extended",r,t,n,o,s)):null}toRFC2822(){return ms(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ms(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?zo(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||t)&&(n&&(i+=" "),r?i+="z":t&&(i+="ZZ")),ms(this,i,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Vo}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",n={}){if(!this.isValid||!t.isValid)return Me.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=ow(r).map(Me.normalizeUnit),l=t.valueOf()>this.valueOf(),s=l?this:t,a=l?t:this,u=c1(s,a,o,i);return l?u.negate():u}diffNow(t="milliseconds",r={}){return this.diff(_e.now(),t,r)}until(t){return this.isValid?Je.fromDateTimes(this,t):this}hasSame(t,r,n){if(!this.isValid)return!1;const i=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(r,n)<=i&&i<=o.endOf(r,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||_e.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(i=t.unit,o=void 0),Wu(r,this.plus(n),{...t,numeric:"always",units:i,unit:o})}toRelativeCalendar(t={}){return this.isValid?Wu(t.base||_e.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(_e.isDateTime))throw new yt("min requires all arguments be DateTimes");return Tu(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(_e.isDateTime))throw new yt("max requires all arguments be DateTimes");return Tu(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,n={}){const{locale:i=null,numberingSystem:o=null}=n,l=Ie.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return pm(l,t,r)}static fromStringExplain(t,r,n={}){return _e.fromFormatExplain(t,r,n)}static buildFormatParser(t,r={}){const{locale:n=null,numberingSystem:i=null}=r,o=Ie.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});return new mm(o,t)}static fromFormatParser(t,r,n={}){if(ge(t)||ge(r))throw new yt("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:o=null}=n,l=Ie.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});if(!l.equals(r.locale))throw new yt(`fromFormatParser called with a locale of ${l}, but the format parser was created for ${r.locale}`);const{result:s,zone:a,specificOffset:u,invalidReason:h}=r.explainFromTokens(t);return h?_e.invalid(h):kn(s,a,n,`format ${r.format}`,t,u)}static get DATE_SHORT(){return Ns}static get DATE_MED(){return yf}static get DATE_MED_WITH_WEEKDAY(){return IS}static get DATE_FULL(){return Sf}static get DATE_HUGE(){return wf}static get TIME_SIMPLE(){return Cf}static get TIME_WITH_SECONDS(){return bf}static get TIME_WITH_SHORT_OFFSET(){return xf}static get TIME_WITH_LONG_OFFSET(){return Ef}static get TIME_24_SIMPLE(){return kf}static get TIME_24_WITH_SECONDS(){return Tf}static get TIME_24_WITH_SHORT_OFFSET(){return Df}static get TIME_24_WITH_LONG_OFFSET(){return Rf}static get DATETIME_SHORT(){return Mf}static get DATETIME_SHORT_WITH_SECONDS(){return Af}static get DATETIME_MED(){return Of}static get DATETIME_MED_WITH_SECONDS(){return If}static get DATETIME_MED_WITH_WEEKDAY(){return LS}static get DATETIME_FULL(){return Lf}static get DATETIME_FULL_WITH_SECONDS(){return Pf}static get DATETIME_HUGE(){return Bf}static get DATETIME_HUGE_WITH_SECONDS(){return Ff}}function oi(e){if(_e.isDateTime(e))return e;if(e&&e.valueOf&&Vr(e.valueOf()))return _e.fromJSDate(e);if(e&&typeof e=="object")return _e.fromObject(e);throw new yt(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const ym=H.createContext({});function D1(e){const t=H.useRef(null);return t.current===null&&(t.current=e()),t.current}const $l=typeof window<"u",R1=$l?H.useLayoutEffect:H.useEffect,Wl=H.createContext(null);function zl(e,t){e.indexOf(t)===-1&&e.push(t)}function Ul(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Or=(e,t,r)=>r>t?t:r<e?e:r;let jl=()=>{};const Ir={},Sm=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function wm(e){return typeof e=="object"&&e!==null}const Cm=e=>/^0[^.\s]+$/u.test(e);function ql(e){let t;return()=>(t===void 0&&(t=e()),t)}const Yt=e=>e,M1=(e,t)=>r=>t(e(r)),ji=(...e)=>e.reduce(M1),Di=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Gl{constructor(){this.subscriptions=[]}add(t){return zl(this.subscriptions,t),()=>Ul(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vr=e=>e*1e3,Gt=e=>e/1e3;function bm(e,t){return t?e*(1e3/t):0}const xm=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,A1=1e-7,O1=12;function I1(e,t,r,n,i){let o,l,s=0;do l=t+(r-t)/2,o=xm(l,n,i)-e,o>0?r=l:t=l;while(Math.abs(o)>A1&&++s<O1);return l}function qi(e,t,r,n){if(e===t&&r===n)return Yt;const i=o=>I1(o,0,1,e,r);return o=>o===0||o===1?o:xm(i(o),t,n)}const Em=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,km=e=>t=>1-e(1-t),Tm=qi(.33,1.53,.69,.99),Kl=km(Tm),Dm=Em(Kl),Rm=e=>(e*=2)<1?.5*Kl(e):.5*(2-Math.pow(2,-10*(e-1))),Yl=e=>1-Math.sin(Math.acos(e)),Mm=km(Yl),Am=Em(Yl),L1=qi(.42,0,1,1),P1=qi(0,0,.58,1),Om=qi(.42,0,.58,1),B1=e=>Array.isArray(e)&&typeof e[0]!="number",Im=e=>Array.isArray(e)&&typeof e[0]=="number",F1={linear:Yt,easeIn:L1,easeInOut:Om,easeOut:P1,circIn:Yl,circInOut:Am,circOut:Mm,backIn:Kl,backInOut:Dm,backOut:Tm,anticipate:Rm},H1=e=>typeof e=="string",Uu=e=>{if(Im(e)){jl(e.length===4);const[t,r,n,i]=e;return qi(t,r,n,i)}else if(H1(e))return F1[e];return e},ps=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function N1(e,t){let r=new Set,n=new Set,i=!1,o=!1;const l=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(h){l.has(h)&&(u.schedule(h),e()),h(s)}const u={schedule:(h,c=!1,p=!1)=>{const S=p&&i?r:n;return c&&l.add(h),S.has(h)||S.add(h),h},cancel:h=>{n.delete(h),l.delete(h)},process:h=>{if(s=h,i){o=!0;return}i=!0,[r,n]=[n,r],r.forEach(a),r.clear(),i=!1,o&&(o=!1,u.process(h))}};return u}const V1=40;function Lm(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,l=ps.reduce((g,y)=>(g[y]=N1(o),g),{}),{setup:s,read:a,resolveKeyframes:u,preUpdate:h,update:c,preRender:p,render:v,postRender:S}=l,_=()=>{const g=Ir.useManualTiming?i.timestamp:performance.now();r=!1,Ir.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(g-i.timestamp,V1),1)),i.timestamp=g,i.isProcessing=!0,s.process(i),a.process(i),u.process(i),h.process(i),c.process(i),p.process(i),v.process(i),S.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(_))},m=()=>{r=!0,n=!0,i.isProcessing||e(_)};return{schedule:ps.reduce((g,y)=>{const w=l[y];return g[y]=(C,x=!1,b=!1)=>(r||m(),w.schedule(C,x,b)),g},{}),cancel:g=>{for(let y=0;y<ps.length;y++)l[ps[y]].cancel(g)},state:i,steps:l}}const{schedule:je,cancel:zr,state:mt,steps:Uo}=Lm(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yt,!0);let Rs;function $1(){Rs=void 0}const At={now:()=>(Rs===void 0&&At.set(mt.isProcessing||Ir.useManualTiming?mt.timestamp:performance.now()),Rs),set:e=>{Rs=e,queueMicrotask($1)}},Pm=e=>t=>typeof t=="string"&&t.startsWith(e),Zl=Pm("--"),W1=Pm("var(--"),Xl=e=>W1(e)?z1.test(e.split("/*")[0].trim()):!1,z1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ri={...Jn,transform:e=>Or(0,1,e)},gs={...Jn,default:1},gi=e=>Math.round(e*1e5)/1e5,Jl=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function U1(e){return e==null}const j1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ql=(e,t)=>r=>!!(typeof r=="string"&&j1.test(r)&&r.startsWith(e)||t&&!U1(r)&&Object.prototype.hasOwnProperty.call(r,t)),Bm=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,o,l,s]=n.match(Jl);return{[e]:parseFloat(i),[t]:parseFloat(o),[r]:parseFloat(l),alpha:s!==void 0?parseFloat(s):1}},q1=e=>Or(0,255,e),jo={...Jn,transform:e=>Math.round(q1(e))},ln={test:Ql("rgb","red"),parse:Bm("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+jo.transform(e)+", "+jo.transform(t)+", "+jo.transform(r)+", "+gi(Ri.transform(n))+")"};function G1(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const ja={test:Ql("#"),parse:G1,transform:ln.transform},Gi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Br=Gi("deg"),_r=Gi("%"),de=Gi("px"),K1=Gi("vh"),Y1=Gi("vw"),ju={..._r,parse:e=>_r.parse(e)/100,transform:e=>_r.transform(e*100)},Mn={test:Ql("hsl","hue"),parse:Bm("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+_r.transform(gi(t))+", "+_r.transform(gi(r))+", "+gi(Ri.transform(n))+")"},lt={test:e=>ln.test(e)||ja.test(e)||Mn.test(e),parse:e=>ln.test(e)?ln.parse(e):Mn.test(e)?Mn.parse(e):ja.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ln.transform(e):Mn.transform(e),getAnimatableNone:e=>{const t=lt.parse(e);return t.alpha=0,lt.transform(t)}},Z1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function X1(e){return isNaN(e)&&typeof e=="string"&&(e.match(Jl)?.length||0)+(e.match(Z1)?.length||0)>0}const Fm="number",Hm="color",J1="var",Q1="var(",qu="${}",eC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mi(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let o=0;const s=t.replace(eC,a=>(lt.test(a)?(n.color.push(o),i.push(Hm),r.push(lt.parse(a))):a.startsWith(Q1)?(n.var.push(o),i.push(J1),r.push(a)):(n.number.push(o),i.push(Fm),r.push(parseFloat(a))),++o,qu)).split(qu);return{values:r,split:s,indexes:n,types:i}}function Nm(e){return Mi(e).values}function Vm(e){const{split:t,types:r}=Mi(e),n=t.length;return i=>{let o="";for(let l=0;l<n;l++)if(o+=t[l],i[l]!==void 0){const s=r[l];s===Fm?o+=gi(i[l]):s===Hm?o+=lt.transform(i[l]):o+=i[l]}return o}}const tC=e=>typeof e=="number"?0:lt.test(e)?lt.getAnimatableNone(e):e;function rC(e){const t=Nm(e);return Vm(e)(t.map(tC))}const Ur={test:X1,parse:Nm,createTransformer:Vm,getAnimatableNone:rC};function qo(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function nC({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,o=0,l=0;if(!t)i=o=l=r;else{const s=r<.5?r*(1+t):r+t-r*t,a=2*r-s;i=qo(a,s,e+1/3),o=qo(a,s,e),l=qo(a,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:n}}function zs(e,t){return r=>r>0?t:e}const Ze=(e,t,r)=>e+(t-e)*r,Go=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},iC=[ja,ln,Mn],sC=e=>iC.find(t=>t.test(e));function Gu(e){const t=sC(e);if(!t)return!1;let r=t.parse(e);return t===Mn&&(r=nC(r)),r}const Ku=(e,t)=>{const r=Gu(e),n=Gu(t);if(!r||!n)return zs(e,t);const i={...r};return o=>(i.red=Go(r.red,n.red,o),i.green=Go(r.green,n.green,o),i.blue=Go(r.blue,n.blue,o),i.alpha=Ze(r.alpha,n.alpha,o),ln.transform(i))},qa=new Set(["none","hidden"]);function oC(e,t){return qa.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function aC(e,t){return r=>Ze(e,t,r)}function ec(e){return typeof e=="number"?aC:typeof e=="string"?Xl(e)?zs:lt.test(e)?Ku:uC:Array.isArray(e)?$m:typeof e=="object"?lt.test(e)?Ku:lC:zs}function $m(e,t){const r=[...e],n=r.length,i=e.map((o,l)=>ec(o)(o,t[l]));return o=>{for(let l=0;l<n;l++)r[l]=i[l](o);return r}}function lC(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=ec(e[i])(e[i],t[i]));return i=>{for(const o in n)r[o]=n[o](i);return r}}function cC(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][n[o]],s=e.values[l]??0;r[i]=s,n[o]++}return r}const uC=(e,t)=>{const r=Ur.createTransformer(t),n=Mi(e),i=Mi(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?qa.has(e)&&!i.values.length||qa.has(t)&&!n.values.length?oC(e,t):ji($m(cC(n,i),i.values),r):zs(e,t)};function Wm(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ze(e,t,r):ec(e)(e,t)}const hC=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>je.update(t,r),stop:()=>zr(t),now:()=>mt.isProcessing?mt.timestamp:At.now()}},zm=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let o=0;o<i;o++)n+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Us=2e4;function tc(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Us;)t+=r,n=e.next(t);return t>=Us?1/0:t}function dC(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(tc(n),Us);return{type:"keyframes",ease:o=>n.next(i*o).value/t,duration:Gt(i)}}const fC=5;function Um(e,t,r){const n=Math.max(t-fC,0);return bm(r-e(n),t-n)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ko=.001;function mC({duration:e=et.duration,bounce:t=et.bounce,velocity:r=et.velocity,mass:n=et.mass}){let i,o,l=1-t;l=Or(et.minDamping,et.maxDamping,l),e=Or(et.minDuration,et.maxDuration,Gt(e)),l<1?(i=u=>{const h=u*l,c=h*e,p=h-r,v=Ga(u,l),S=Math.exp(-c);return Ko-p/v*S},o=u=>{const c=u*l*e,p=c*r+r,v=Math.pow(l,2)*Math.pow(u,2)*e,S=Math.exp(-c),_=Ga(Math.pow(u,2),l);return(-i(u)+Ko>0?-1:1)*((p-v)*S)/_}):(i=u=>{const h=Math.exp(-u*e),c=(u-r)*e+1;return-Ko+h*c},o=u=>{const h=Math.exp(-u*e),c=(r-u)*(e*e);return h*c});const s=5/e,a=gC(i,o,s);if(e=vr(e),isNaN(a))return{stiffness:et.stiffness,damping:et.damping,duration:e};{const u=Math.pow(a,2)*n;return{stiffness:u,damping:l*2*Math.sqrt(n*u),duration:e}}}const pC=12;function gC(e,t,r){let n=r;for(let i=1;i<pC;i++)n=n-e(n)/t(n);return n}function Ga(e,t){return e*Math.sqrt(1-t*t)}const vC=["duration","bounce"],_C=["stiffness","damping","mass"];function Yu(e,t){return t.some(r=>e[r]!==void 0)}function yC(e){let t={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...e};if(!Yu(e,_C)&&Yu(e,vC))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,o=2*Or(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:et.mass,stiffness:i,damping:o}}else{const r=mC(e);t={...t,...r,mass:et.mass},t.isResolvedFromDuration=!0}return t}function js(e=et.visualDuration,t=et.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const o=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],s={done:!1,value:o},{stiffness:a,damping:u,mass:h,duration:c,velocity:p,isResolvedFromDuration:v}=yC({...r,velocity:-Gt(r.velocity||0)}),S=p||0,_=u/(2*Math.sqrt(a*h)),m=l-o,d=Gt(Math.sqrt(a/h)),f=Math.abs(m)<5;n||(n=f?et.restSpeed.granular:et.restSpeed.default),i||(i=f?et.restDelta.granular:et.restDelta.default);let g;if(_<1){const w=Ga(d,_);g=C=>{const x=Math.exp(-_*d*C);return l-x*((S+_*d*m)/w*Math.sin(w*C)+m*Math.cos(w*C))}}else if(_===1)g=w=>l-Math.exp(-d*w)*(m+(S+d*m)*w);else{const w=d*Math.sqrt(_*_-1);g=C=>{const x=Math.exp(-_*d*C),b=Math.min(w*C,300);return l-x*((S+_*d*m)*Math.sinh(b)+w*m*Math.cosh(b))/w}}const y={calculatedDuration:v&&c||null,next:w=>{const C=g(w);if(v)s.done=w>=c;else{let x=w===0?S:0;_<1&&(x=w===0?vr(S):Um(g,w,C));const b=Math.abs(x)<=n,E=Math.abs(l-C)<=i;s.done=b&&E}return s.value=s.done?l:C,s},toString:()=>{const w=Math.min(tc(y),Us),C=zm(x=>y.next(w*x).value,w,30);return w+"ms "+C},toTransition:()=>{}};return y}js.applyToOptions=e=>{const t=dC(e,100,js);return e.ease=t.ease,e.duration=vr(t.duration),e.type="keyframes",e};function Ka({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:s,max:a,restDelta:u=.5,restSpeed:h}){const c=e[0],p={done:!1,value:c},v=b=>s!==void 0&&b<s||a!==void 0&&b>a,S=b=>s===void 0?a:a===void 0||Math.abs(s-b)<Math.abs(a-b)?s:a;let _=r*t;const m=c+_,d=l===void 0?m:l(m);d!==m&&(_=d-c);const f=b=>-_*Math.exp(-b/n),g=b=>d+f(b),y=b=>{const E=f(b),R=g(b);p.done=Math.abs(E)<=u,p.value=p.done?d:R};let w,C;const x=b=>{v(p.value)&&(w=b,C=js({keyframes:[p.value,S(p.value)],velocity:Um(g,b,p.value),damping:i,stiffness:o,restDelta:u,restSpeed:h}))};return x(0),{calculatedDuration:null,next:b=>{let E=!1;return!C&&w===void 0&&(E=!0,y(b),x(b)),w!==void 0&&b>=w?C.next(b-w):(!E&&y(b),p)}}}function SC(e,t,r){const n=[],i=r||Ir.mix||Wm,o=e.length-1;for(let l=0;l<o;l++){let s=i(e[l],e[l+1]);if(t){const a=Array.isArray(t)?t[l]||Yt:t;s=ji(a,s)}n.push(s)}return n}function wC(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const o=e.length;if(jl(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=SC(t,n,i),a=s.length,u=h=>{if(l&&h<e[0])return t[0];let c=0;if(a>1)for(;c<e.length-2&&!(h<e[c+1]);c++);const p=Di(e[c],e[c+1],h);return s[c](p)};return r?h=>u(Or(e[0],e[o-1],h)):u}function CC(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Di(0,t,n);e.push(Ze(r,1,i))}}function bC(e){const t=[0];return CC(t,e.length-1),t}function xC(e,t){return e.map(r=>r*t)}function EC(e,t){return e.map(()=>t||Om).splice(0,e.length-1)}function vi({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=B1(n)?n.map(Uu):Uu(n),o={done:!1,value:t[0]},l=xC(r&&r.length===t.length?r:bC(t),e),s=wC(l,t,{ease:Array.isArray(i)?i:EC(t,i)});return{calculatedDuration:e,next:a=>(o.value=s(a),o.done=a>=e,o)}}const kC=e=>e!==null;function rc(e,{repeat:t,repeatType:r="loop"},n,i=1){const o=e.filter(kC),s=i<0||t&&r!=="loop"&&t%2===1?0:o.length-1;return!s||n===void 0?o[s]:n}const TC={decay:Ka,inertia:Ka,tween:vi,keyframes:vi,spring:js};function jm(e){typeof e.type=="string"&&(e.type=TC[e.type])}class nc{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const DC=e=>e/100;class ic extends nc{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==At.now()&&this.tick(At.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;jm(t);const{type:r=vi,repeat:n=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=t;let{keyframes:s}=t;const a=r||vi;a!==vi&&typeof s[0]!="number"&&(this.mixKeyframes=ji(DC,Wm(s[0],s[1])),s=[0,100]);const u=a({...t,keyframes:s});o==="mirror"&&(this.mirroredGenerator=a({...t,keyframes:[...s].reverse(),velocity:-l})),u.calculatedDuration===null&&(u.calculatedDuration=tc(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:s,calculatedDuration:a}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:h,repeat:c,repeatType:p,repeatDelay:v,type:S,onUpdate:_,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const d=this.currentTime-u*(this.playbackSpeed>=0?1:-1),f=this.playbackSpeed>=0?d<0:d>i;this.currentTime=Math.max(d,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let g=this.currentTime,y=n;if(c){const b=Math.min(this.currentTime,i)/s;let E=Math.floor(b),R=b%1;!R&&b>=1&&(R=1),R===1&&E--,E=Math.min(E,c+1),!!(E%2)&&(p==="reverse"?(R=1-R,v&&(R-=v/s)):p==="mirror"&&(y=l)),g=Or(0,1,R)*s}const w=f?{done:!1,value:h[0]}:y.next(g);o&&(w.value=o(w.value));let{done:C}=w;!f&&a!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return x&&S!==Ka&&(w.value=rc(h,this.options,m,this.speed)),_&&_(w.value),x&&this.finish(),w}then(t,r){return this.finished.then(t,r)}get duration(){return Gt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gt(t)}get time(){return Gt(this.currentTime)}set time(t){t=vr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(At.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Gt(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=hC,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(At.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function RC(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const cn=e=>e*180/Math.PI,Ya=e=>{const t=cn(Math.atan2(e[1],e[0]));return Za(t)},MC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ya,rotateZ:Ya,skewX:e=>cn(Math.atan(e[1])),skewY:e=>cn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Za=e=>(e=e%360,e<0&&(e+=360),e),Zu=Ya,Xu=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ju=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),AC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xu,scaleY:Ju,scale:e=>(Xu(e)+Ju(e))/2,rotateX:e=>Za(cn(Math.atan2(e[6],e[5]))),rotateY:e=>Za(cn(Math.atan2(-e[2],e[0]))),rotateZ:Zu,rotate:Zu,skewX:e=>cn(Math.atan(e[4])),skewY:e=>cn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Xa(e){return e.includes("scale")?1:0}function Ja(e,t){if(!e||e==="none")return Xa(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=AC,i=r;else{const s=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=MC,i=s}if(!i)return Xa(t);const o=n[t],l=i[1].split(",").map(IC);return typeof o=="function"?o(l):l[o]}const OC=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Ja(r,t)};function IC(e){return parseFloat(e.trim())}const Qn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ei=new Set(Qn),Qu=e=>e===Jn||e===de,LC=new Set(["x","y","z"]),PC=Qn.filter(e=>!LC.has(e));function BC(e){const t=[];return PC.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const dn={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ja(t,"x"),y:(e,{transform:t})=>Ja(t,"y")};dn.translateX=dn.x;dn.translateY=dn.y;const fn=new Set;let Qa=!1,el=!1,tl=!1;function qm(){if(el){const e=Array.from(fn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=BC(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([o,l])=>{n.getValue(o)?.set(l)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}el=!1,Qa=!1,fn.forEach(e=>e.complete(tl)),fn.clear()}function Gm(){fn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(el=!0)})}function FC(){tl=!0,Gm(),qm(),tl=!1}class sc{constructor(t,r,n,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(fn.add(this),Qa||(Qa=!0,je.read(Gm),je.resolveKeyframes(qm))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const o=i?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const s=n.readValue(r,l);s!=null&&(t[0]=s)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}RC(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fn.delete(this)}cancel(){this.state==="scheduled"&&(fn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HC=e=>e.startsWith("--");function NC(e,t,r){HC(t)?e.style.setProperty(t,r):e.style[t]=r}const VC=ql(()=>window.ScrollTimeline!==void 0),$C={};function WC(e,t){const r=ql(e);return()=>$C[t]??r()}const Km=WC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fi=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,eh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fi([0,.65,.55,1]),circOut:fi([.55,0,1,.45]),backIn:fi([.31,.01,.66,-.59]),backOut:fi([.33,1.53,.69,.99])};function Ym(e,t){if(e)return typeof e=="function"?Km()?zm(e,t):"ease-out":Im(e)?fi(e):Array.isArray(e)?e.map(r=>Ym(r,t)||eh.easeOut):eh[e]}function zC(e,t,r,{delay:n=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:s="easeOut",times:a}={},u=void 0){const h={[t]:r};a&&(h.offset=a);const c=Ym(s,i);Array.isArray(c)&&(h.easing=c);const p={delay:n,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(h,p)}function Zm(e){return typeof e=="function"&&"applyToOptions"in e}function UC({type:e,...t}){return Zm(e)&&Km()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class jC extends nc{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:s,onComplete:a}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,jl(typeof t.type!="string");const u=UC(t);this.animation=zC(r,n,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const h=rc(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(h):NC(r,n,h),this.animation.cancel()}a?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Gt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gt(t)}get time(){return Gt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=vr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&VC()?(this.animation.timeline=t,Yt):r(this)}}const Xm={anticipate:Rm,backInOut:Dm,circInOut:Am};function qC(e){return e in Xm}function GC(e){typeof e.ease=="string"&&qC(e.ease)&&(e.ease=Xm[e.ease])}const th=10;class KC extends jC{constructor(t){GC(t),jm(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:o,...l}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const s=new ic({...l,autoplay:!1}),a=vr(this.finishedTime??this.time);r.setWithVelocity(s.sample(a-th).value,s.sample(a).value,th),s.stop()}}const rh=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ur.test(e)||e==="0")&&!e.startsWith("url("));function YC(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function ZC(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=rh(i,t),s=rh(o,t);return!l||!s?!1:YC(e)||(r==="spring"||Zm(r))&&n}function rl(e){e.duration=0,e.type="keyframes"}const XC=new Set(["opacity","clipPath","filter","transform"]),JC=ql(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function QC(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:o,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:u}=t.owner.getProps();return JC()&&r&&XC.has(r)&&(r!=="transform"||!u)&&!a&&!n&&i!=="mirror"&&o!==0&&l!=="inertia"}const eb=40;class tb extends nc{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:s,name:a,motionValue:u,element:h,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=At.now();const p={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:o,repeatType:l,name:a,motionValue:u,element:h,...c},v=h?.KeyframeResolver||sc;this.keyframeResolver=new v(s,(S,_,m)=>this.onKeyframesResolved(S,_,p,!m),a,u,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:s,delay:a,isHandoff:u,onUpdate:h}=n;this.resolvedAt=At.now(),ZC(t,o,l,s)||((Ir.instantAnimations||!a)&&h?.(rc(t,n,r)),t[0]=t[t.length-1],rl(n),n.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>eb?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},v=!u&&QC(p)?new KC({...p,element:p.motionValue.owner.current}):new ic(p);v.finished.then(()=>this.notifyFinished()).catch(Yt),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),FC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const rb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nb(e){const t=rb.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function Jm(e,t,r=1){const[n,i]=nb(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const l=o.trim();return Sm(l)?parseFloat(l):l}return Xl(i)?Jm(i,t,r+1):i}function oc(e,t){return e?.[t]??e?.default??e}const Qm=new Set(["width","height","top","left","right","bottom",...Qn]),ib={test:e=>e==="auto",parse:e=>e},ep=e=>t=>t.test(e),tp=[Jn,de,_r,Br,Y1,K1,ib],nh=e=>tp.find(ep(e));function sb(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Cm(e):!0}const ob=new Set(["brightness","contrast","saturate","opacity"]);function ab(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Jl)||[];if(!n)return e;const i=r.replace(n,"");let o=ob.has(t)?1:0;return n!==r&&(o*=100),t+"("+o+i+")"}const lb=/\b([a-z-]*)\(.*?\)/gu,nl={...Ur,getAnimatableNone:e=>{const t=e.match(lb);return t?t.map(ab).join(" "):e}},ih={...Jn,transform:Math.round},cb={rotate:Br,rotateX:Br,rotateY:Br,rotateZ:Br,scale:gs,scaleX:gs,scaleY:gs,scaleZ:gs,skew:Br,skewX:Br,skewY:Br,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Ri,originX:ju,originY:ju,originZ:de},ac={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de,...cb,zIndex:ih,fillOpacity:Ri,strokeOpacity:Ri,numOctaves:ih},ub={...ac,color:lt,backgroundColor:lt,outlineColor:lt,fill:lt,stroke:lt,borderColor:lt,borderTopColor:lt,borderRightColor:lt,borderBottomColor:lt,borderLeftColor:lt,filter:nl,WebkitFilter:nl},rp=e=>ub[e];function np(e,t){let r=rp(e);return r!==nl&&(r=Ur),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const hb=new Set(["auto","none","0"]);function db(e,t,r){let n=0,i;for(;n<e.length&&!i;){const o=e[n];typeof o=="string"&&!hb.has(o)&&Mi(o).values.length&&(i=e[n]),n++}if(i&&r)for(const o of t)e[o]=np(r,i)}class fb extends sc{constructor(t,r,n,i,o){super(t,r,n,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let a=0;a<t.length;a++){let u=t[a];if(typeof u=="string"&&(u=u.trim(),Xl(u))){const h=Jm(u,r.current);h!==void 0&&(t[a]=h),a===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Qm.has(n)||t.length!==2)return;const[i,o]=t,l=nh(i),s=nh(o);if(l!==s)if(Qu(l)&&Qu(s))for(let a=0;a<t.length;a++){const u=t[a];typeof u=="string"&&(t[a]=parseFloat(u))}else dn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||sb(t[i]))&&n.push(i);n.length&&db(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=n.length-1,l=n[o];n[o]=dn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([s,a])=>{t.getValue(s).set(a)}),this.resolveNoneKeyframes()}}function mb(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=r?.[e]??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const ip=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function pb(e){return wm(e)&&"offsetHeight"in e}const sh=30,gb=e=>!isNaN(parseFloat(e));class vb{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=At.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=At.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=gb(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Gl);const n=this.events[t].add(r);return t==="change"?()=>{n(),je.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=At.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>sh)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,sh);return bm(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Un(e,t){return new vb(e,t)}const{schedule:lc}=Lm(queueMicrotask,!1),Qt={x:!1,y:!1};function sp(){return Qt.x||Qt.y}function _b(e){return e==="x"||e==="y"?Qt[e]?null:(Qt[e]=!0,()=>{Qt[e]=!1}):Qt.x||Qt.y?null:(Qt.x=Qt.y=!0,()=>{Qt.x=Qt.y=!1})}function op(e,t){const r=mb(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function oh(e){return!(e.pointerType==="touch"||sp())}function yb(e,t,r={}){const[n,i,o]=op(e,r),l=s=>{if(!oh(s))return;const{target:a}=s,u=t(a,s);if(typeof u!="function"||!a)return;const h=c=>{oh(c)&&(u(c),a.removeEventListener("pointerleave",h))};a.addEventListener("pointerleave",h,i)};return n.forEach(s=>{s.addEventListener("pointerenter",l,i)}),o}const ap=(e,t)=>t?e===t?!0:ap(e,t.parentElement):!1,cc=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Sb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wb(e){return Sb.has(e.tagName)||e.tabIndex!==-1}const Ms=new WeakSet;function ah(e){return t=>{t.key==="Enter"&&e(t)}}function Yo(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Cb=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=ah(()=>{if(Ms.has(r))return;Yo(r,"down");const i=ah(()=>{Yo(r,"up")}),o=()=>Yo(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",o,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function lh(e){return cc(e)&&!sp()}function bb(e,t,r={}){const[n,i,o]=op(e,r),l=s=>{const a=s.currentTarget;if(!lh(s))return;Ms.add(a);const u=t(a,s),h=(v,S)=>{window.removeEventListener("pointerup",c),window.removeEventListener("pointercancel",p),Ms.has(a)&&Ms.delete(a),lh(v)&&typeof u=="function"&&u(v,{success:S})},c=v=>{h(v,a===window||a===document||r.useGlobalTarget||ap(a,v.target))},p=v=>{h(v,!1)};window.addEventListener("pointerup",c,i),window.addEventListener("pointercancel",p,i)};return n.forEach(s=>{(r.useGlobalTarget?window:s).addEventListener("pointerdown",l,i),pb(s)&&(s.addEventListener("focus",u=>Cb(u,i)),!wb(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),o}function lp(e){return wm(e)&&"ownerSVGElement"in e}function xb(e){return lp(e)&&e.tagName==="svg"}const wt=e=>!!(e&&e.getVelocity),Eb=[...tp,lt,Ur],kb=e=>Eb.find(ep(e)),cp=H.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Tb(e=!0){const t=H.useContext(Wl);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,o=H.useId();H.useEffect(()=>{if(e)return i(o)},[e]);const l=H.useCallback(()=>e&&n&&n(o),[o,n,e]);return!r&&n?[!1,l]:[!0]}const up=H.createContext({strict:!1}),ch={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jn={};for(const e in ch)jn[e]={isEnabled:t=>ch[e].some(r=>!!t[r])};function Db(e){for(const t in e)jn[t]={...jn[t],...e[t]}}const Rb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qs(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Rb.has(e)}let hp=e=>!qs(e);function Mb(e){typeof e=="function"&&(hp=t=>t.startsWith("on")?!qs(t):e(t))}try{Mb(require("@emotion/is-prop-valid").default)}catch{}function Ab(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(hp(i)||r===!0&&qs(i)||!t&&!qs(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const co=H.createContext({});function uo(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ai(e){return typeof e=="string"||Array.isArray(e)}const uc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hc=["initial",...uc];function ho(e){return uo(e.animate)||hc.some(t=>Ai(e[t]))}function dp(e){return!!(ho(e)||e.variants)}function Ob(e,t){if(ho(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ai(r)?r:void 0,animate:Ai(n)?n:void 0}}return e.inherit!==!1?t:{}}function Ib(e){const{initial:t,animate:r}=Ob(e,H.useContext(co));return H.useMemo(()=>({initial:t,animate:r}),[uh(t),uh(r)])}function uh(e){return Array.isArray(e)?e.join(" "):e}const Oi={};function Lb(e){for(const t in e)Oi[t]=e[t],Zl(t)&&(Oi[t].isCSSVariable=!0)}function fp(e,{layout:t,layoutId:r}){return ei.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Oi[e]||e==="opacity")}const Pb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bb=Qn.length;function Fb(e,t,r){let n="",i=!0;for(let o=0;o<Bb;o++){const l=Qn[o],s=e[l];if(s===void 0)continue;let a=!0;if(typeof s=="number"?a=s===(l.startsWith("scale")?1:0):a=parseFloat(s)===0,!a||r){const u=ip(s,ac[l]);if(!a){i=!1;const h=Pb[l]||l;n+=`${h}(${u}) `}r&&(t[l]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function dc(e,t,r){const{style:n,vars:i,transformOrigin:o}=e;let l=!1,s=!1;for(const a in t){const u=t[a];if(ei.has(a)){l=!0;continue}else if(Zl(a)){i[a]=u;continue}else{const h=ip(u,ac[a]);a.startsWith("origin")?(s=!0,o[a]=h):n[a]=h}}if(t.transform||(l||r?n.transform=Fb(t,e.transform,r):n.transform&&(n.transform="none")),s){const{originX:a="50%",originY:u="50%",originZ:h=0}=o;n.transformOrigin=`${a} ${u} ${h}`}}const fc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mp(e,t,r){for(const n in t)!wt(t[n])&&!fp(n,r)&&(e[n]=t[n])}function Hb({transformTemplate:e},t){return H.useMemo(()=>{const r=fc();return dc(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Nb(e,t){const r=e.style||{},n={};return mp(n,r,e),Object.assign(n,Hb(e,t)),n}function Vb(e,t){const r={},n=Nb(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const $b={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wb={offset:"strokeDashoffset",array:"strokeDasharray"};function zb(e,t,r=1,n=0,i=!0){e.pathLength=1;const o=i?$b:Wb;e[o.offset]=de.transform(-n);const l=de.transform(t),s=de.transform(r);e[o.array]=`${l} ${s}`}function pp(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...s},a,u,h){if(dc(e,s,u),a){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:c,style:p}=e;c.transform&&(p.transform=c.transform,delete c.transform),(p.transform||c.transformOrigin)&&(p.transformOrigin=c.transformOrigin??"50% 50%",delete c.transformOrigin),p.transform&&(p.transformBox=h?.transformBox??"fill-box",delete c.transformBox),t!==void 0&&(c.x=t),r!==void 0&&(c.y=r),n!==void 0&&(c.scale=n),i!==void 0&&zb(c,i,o,l,!1)}const gp=()=>({...fc(),attrs:{}}),vp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ub(e,t,r,n){const i=H.useMemo(()=>{const o=gp();return pp(o,t,vp(n),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};mp(o,e.style,e),i.style={...o,...i.style}}return i}const jb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mc(e){return typeof e!="string"||e.includes("-")?!1:!!(jb.indexOf(e)>-1||/[A-Z]/u.test(e))}function qb(e,t,r,{latestValues:n},i,o=!1){const s=(mc(e)?Ub:Vb)(t,n,i,e),a=Ab(t,typeof e=="string",o),u=e!==H.Fragment?{...a,...s,ref:r}:{},{children:h}=t,c=H.useMemo(()=>wt(h)?h.get():h,[h]);return H.createElement(e,{...u,children:c})}function hh(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function pc(e,t,r,n){if(typeof t=="function"){const[i,o]=hh(n);t=t(r!==void 0?r:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=hh(n);t=t(r!==void 0?r:e.custom,i,o)}return t}function As(e){return wt(e)?e.get():e}function Gb({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:Kb(r,n,i,e),renderState:t()}}function Kb(e,t,r,n){const i={},o=n(e,{});for(const p in o)i[p]=As(o[p]);let{initial:l,animate:s}=e;const a=ho(e),u=dp(e);t&&u&&!a&&e.inherit!==!1&&(l===void 0&&(l=t.initial),s===void 0&&(s=t.animate));let h=r?r.initial===!1:!1;h=h||l===!1;const c=h?s:l;if(c&&typeof c!="boolean"&&!uo(c)){const p=Array.isArray(c)?c:[c];for(let v=0;v<p.length;v++){const S=pc(e,p[v]);if(S){const{transitionEnd:_,transition:m,...d}=S;for(const f in d){let g=d[f];if(Array.isArray(g)){const y=h?g.length-1:0;g=g[y]}g!==null&&(i[f]=g)}for(const f in _)i[f]=_[f]}}}return i}const _p=e=>(t,r)=>{const n=H.useContext(co),i=H.useContext(Wl),o=()=>Gb(e,t,n,i);return r?o():D1(o)};function gc(e,t,r){const{style:n}=e,i={};for(const o in n)(wt(n[o])||t.style&&wt(t.style[o])||fp(o,e)||r?.getValue(o)?.liveStyle!==void 0)&&(i[o]=n[o]);return i}const Yb=_p({scrapeMotionValuesFromProps:gc,createRenderState:fc});function yp(e,t,r){const n=gc(e,t,r);for(const i in e)if(wt(e[i])||wt(t[i])){const o=Qn.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[o]=e[i]}return n}const Zb=_p({scrapeMotionValuesFromProps:yp,createRenderState:gp}),Xb=Symbol.for("motionComponentSymbol");function An(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Jb(e,t,r){return H.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):An(r)&&(r.current=n))},[t])}const vc=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Qb="framerAppearId",Sp="data-"+vc(Qb),wp=H.createContext({});function ex(e,t,r,n,i){const{visualElement:o}=H.useContext(co),l=H.useContext(up),s=H.useContext(Wl),a=H.useContext(cp).reducedMotion,u=H.useRef(null);n=n||l.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:o,props:r,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const h=u.current,c=H.useContext(wp);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&tx(u.current,r,i,c);const p=H.useRef(!1);H.useInsertionEffect(()=>{h&&p.current&&h.update(r,s)});const v=r[Sp],S=H.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return R1(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),S.current&&h.animationState&&h.animationState.animateChanges())}),H.useEffect(()=>{h&&(!S.current&&h.animationState&&h.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),S.current=!1),h.enteringChildren=void 0)}),h}function tx(e,t,r,n){const{layoutId:i,layout:o,drag:l,dragConstraints:s,layoutScroll:a,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Cp(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||s&&An(s),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:a,layoutRoot:u})}function Cp(e){if(e)return e.options.allowProjection!==!1?e.projection:Cp(e.parent)}function Zo(e,{forwardMotionProps:t=!1}={},r,n){r&&Db(r);const i=mc(e)?Zb:Yb;function o(s,a){let u;const h={...H.useContext(cp),...s,layoutId:rx(s)},{isStatic:c}=h,p=Ib(s),v=i(s,c);if(!c&&$l){nx();const S=ix(h);u=S.MeasureLayout,p.visualElement=ex(e,v,h,n,S.ProjectionNode)}return Se.jsxs(co.Provider,{value:p,children:[u&&p.visualElement?Se.jsx(u,{visualElement:p.visualElement,...h}):null,qb(e,s,Jb(v,p.visualElement,a),v,c,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=H.forwardRef(o);return l[Xb]=e,l}function rx({layoutId:e}){const t=H.useContext(ym).id;return t&&e!==void 0?t+"-"+e:e}function nx(e,t){H.useContext(up).strict}function ix(e){const{drag:t,layout:r}=jn;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function sx(e,t){if(typeof Proxy>"u")return Zo;const r=new Map,n=(o,l)=>Zo(o,l,e,t),i=(o,l)=>n(o,l);return new Proxy(i,{get:(o,l)=>l==="create"?n:(r.has(l)||r.set(l,Zo(l,void 0,e,t)),r.get(l))})}function bp({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function ox({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ax(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Xo(e){return e===void 0||e===1}function il({scale:e,scaleX:t,scaleY:r}){return!Xo(e)||!Xo(t)||!Xo(r)}function on(e){return il(e)||xp(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function xp(e){return dh(e.x)||dh(e.y)}function dh(e){return e&&e!=="0%"}function Gs(e,t,r){const n=e-r,i=t*n;return r+i}function fh(e,t,r,n,i){return i!==void 0&&(e=Gs(e,i,n)),Gs(e,r,n)+t}function sl(e,t=0,r=1,n,i){e.min=fh(e.min,t,r,n,i),e.max=fh(e.max,t,r,n,i)}function Ep(e,{x:t,y:r}){sl(e.x,t.translate,t.scale,t.originPoint),sl(e.y,r.translate,r.scale,r.originPoint)}const mh=.999999999999,ph=1.0000000000001;function lx(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let o,l;for(let s=0;s<i;s++){o=r[s],l=o.projectionDelta;const{visualElement:a}=o.options;a&&a.props.style&&a.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&In(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Ep(e,l)),n&&on(o.latestValues)&&In(e,o.latestValues))}t.x<ph&&t.x>mh&&(t.x=1),t.y<ph&&t.y>mh&&(t.y=1)}function On(e,t){e.min=e.min+t,e.max=e.max+t}function gh(e,t,r,n,i=.5){const o=Ze(e.min,e.max,i);sl(e,t,r,o,n)}function In(e,t){gh(e.x,t.x,t.scaleX,t.scale,t.originX),gh(e.y,t.y,t.scaleY,t.scale,t.originY)}function kp(e,t){return bp(ax(e.getBoundingClientRect(),t))}function cx(e,t,r){const n=kp(e,r),{scroll:i}=t;return i&&(On(n.x,i.offset.x),On(n.y,i.offset.y)),n}const vh=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ln=()=>({x:vh(),y:vh()}),_h=()=>({min:0,max:0}),nt=()=>({x:_h(),y:_h()}),ol={current:null},Tp={current:!1};function ux(){if(Tp.current=!0,!!$l)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ol.current=e.matches;e.addEventListener("change",t),t()}else ol.current=!1}const hx=new WeakMap;function dx(e,t,r){for(const n in t){const i=t[n],o=r[n];if(wt(i))e.addValue(n,i);else if(wt(o))e.addValue(n,Un(i,{owner:e}));else if(o!==i)if(e.hasValue(n)){const l=e.getValue(n);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=e.getStaticValue(n);e.addValue(n,Un(l!==void 0?l:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const yh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fx{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=At.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,je.render(this.render,!1,!0))};const{latestValues:a,renderState:u}=l;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!o,this.isControllingVariants=ho(r),this.isVariantNode=dp(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...c}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in c){const v=c[p];a[p]!==void 0&&wt(v)&&v.set(a[p])}}mount(t){this.current=t,hx.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Tp.current||ux(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ol.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ei.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&je.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in jn){const r=jn[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<yh.length;n++){const i=yh[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=t[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=dx(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Un(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Sm(n)||Cm(n))?n=parseFloat(n):!kb(n)&&Ur.test(r)&&(n=np(t,r)),this.setBaseTarget(t,wt(n)?n.get():n)),wt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=pc(this.props,r,this.presenceContext?.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!wt(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Gl),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){lc.render(this.render)}}class Dp extends fx{constructor(){super(...arguments),this.KeyframeResolver=fb}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Rp(e,{style:t,vars:r},n,i){const o=e.style;let l;for(l in t)o[l]=t[l];i?.applyProjectionStyles(o,n);for(l in r)o.setProperty(l,r[l])}function mx(e){return window.getComputedStyle(e)}class px extends Dp{constructor(){super(...arguments),this.type="html",this.renderInstance=Rp}readValueFromInstance(t,r){if(ei.has(r))return this.projection?.isProjecting?Xa(r):OC(t,r);{const n=mx(t),i=(Zl(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return kp(t,r)}build(t,r,n){dc(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return gc(t,r,n)}}const Mp=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gx(e,t,r,n){Rp(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(Mp.has(i)?i:vc(i),t.attrs[i])}class vx extends Dp{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ei.has(r)){const n=rp(r);return n&&n.default||0}return r=Mp.has(r)?r:vc(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return yp(t,r,n)}build(t,r,n){pp(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){gx(t,r,n,i)}mount(t){this.isSVGTag=vp(t.tagName),super.mount(t)}}const _x=(e,t)=>mc(e)?new vx(t):new px(t,{allowProjection:e!==H.Fragment});function Vn(e,t,r){const n=e.getProps();return pc(n,t,r!==void 0?r:n.custom,e)}const al=e=>Array.isArray(e);function yx(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Un(r))}function Sx(e){return al(e)?e[e.length-1]||0:e}function wx(e,t){const r=Vn(e,t);let{transitionEnd:n={},transition:i={},...o}=r||{};o={...o,...n};for(const l in o){const s=Sx(o[l]);yx(e,l,s)}}function Cx(e){return!!(wt(e)&&e.add)}function ll(e,t){const r=e.getValue("willChange");if(Cx(r))return r.add(t);if(!r&&Ir.WillChange){const n=new Ir.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Ap(e){return e.props[Sp]}const bx=e=>e!==null;function xx(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(bx),o=t&&r!=="loop"&&t%2===1?0:i.length-1;return i[o]}const Ex={type:"spring",stiffness:500,damping:25,restSpeed:10},kx=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Tx={type:"keyframes",duration:.8},Dx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rx=(e,{keyframes:t})=>t.length>2?Tx:ei.has(e)?e.startsWith("scale")?kx(t[1]):Ex:Dx;function Mx({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:s,from:a,elapsed:u,...h}){return!!Object.keys(h).length}const _c=(e,t,r,n={},i,o)=>l=>{const s=oc(n,e)||{},a=s.delay||n.delay||0;let{elapsed:u=0}=n;u=u-vr(a);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-u,onUpdate:p=>{t.set(p),s.onUpdate&&s.onUpdate(p)},onComplete:()=>{l(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:o?void 0:i};Mx(s)||Object.assign(h,Rx(e,h)),h.duration&&(h.duration=vr(h.duration)),h.repeatDelay&&(h.repeatDelay=vr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let c=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(rl(h),h.delay===0&&(c=!0)),(Ir.instantAnimations||Ir.skipAnimations)&&(c=!0,rl(h),h.delay=0),h.allowFlatten=!s.type&&!s.ease,c&&!o&&t.get()!==void 0){const p=xx(h.keyframes,s);if(p!==void 0){je.update(()=>{h.onUpdate(p),h.onComplete()});return}}return s.isSync?new ic(h):new tb(h)};function Ax({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Op(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:l,...s}=t;n&&(o=n);const a=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in s){const c=e.getValue(h,e.latestValues[h]??null),p=s[h];if(p===void 0||u&&Ax(u,h))continue;const v={delay:r,...oc(o||{},h)},S=c.get();if(S!==void 0&&!c.isAnimating&&!Array.isArray(p)&&p===S&&!v.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const d=Ap(e);if(d){const f=window.MotionHandoffAnimation(d,h,je);f!==null&&(v.startTime=f,_=!0)}}ll(e,h),c.start(_c(h,c,p,e.shouldReduceMotion&&Qm.has(h)?{type:!1}:v,e,_));const m=c.animation;m&&a.push(m)}return l&&Promise.all(a).then(()=>{je.update(()=>{l&&wx(e,l)})}),a}function Ip(e,t,r,n=0,i=1){const o=Array.from(e).sort((u,h)=>u.sortNodePosition(h)).indexOf(t),l=e.size,s=(l-1)*n;return typeof r=="function"?r(o,l):i===1?o*n:s-o*n}function cl(e,t,r={}){const n=Vn(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const o=n?()=>Promise.all(Op(e,n,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(a=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:c}=i;return Ox(e,t,a,u,h,c,r)}:()=>Promise.resolve(),{when:s}=i;if(s){const[a,u]=s==="beforeChildren"?[o,l]:[l,o];return a().then(()=>u())}else return Promise.all([o(),l(r.delay)])}function Ox(e,t,r=0,n=0,i=0,o=1,l){const s=[];for(const a of e.variantChildren)a.notify("AnimationStart",t),s.push(cl(a,t,{...l,delay:r+(typeof n=="function"?0:n)+Ip(e.variantChildren,a,n,i,o)}).then(()=>a.notify("AnimationComplete",t)));return Promise.all(s)}function Ix(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(o=>cl(e,o,r));n=Promise.all(i)}else if(typeof t=="string")n=cl(e,t,r);else{const i=typeof t=="function"?Vn(e,t,r.custom):t;n=Promise.all(Op(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function Lp(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Lx=hc.length;function Pp(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Pp(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Lx;r++){const n=hc[r],i=e.props[n];(Ai(i)||i===!1)&&(t[n]=i)}return t}const Px=[...uc].reverse(),Bx=uc.length;function Fx(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Ix(e,r,n)))}function Hx(e){let t=Fx(e),r=Sh(),n=!0;const i=a=>(u,h)=>{const c=Vn(e,h,a==="exit"?e.presenceContext?.custom:void 0);if(c){const{transition:p,transitionEnd:v,...S}=c;u={...u,...S,...v}}return u};function o(a){t=a(e)}function l(a){const{props:u}=e,h=Pp(e.parent)||{},c=[],p=new Set;let v={},S=1/0;for(let m=0;m<Bx;m++){const d=Px[m],f=r[d],g=u[d]!==void 0?u[d]:h[d],y=Ai(g),w=d===a?f.isActive:null;w===!1&&(S=m);let C=g===h[d]&&g!==u[d]&&y;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),f.protectedKeys={...v},!f.isActive&&w===null||!g&&!f.prevProp||uo(g)||typeof g=="boolean")continue;const x=Nx(f.prevProp,g);let b=x||d===a&&f.isActive&&!C&&y||m>S&&y,E=!1;const R=Array.isArray(g)?g:[g];let M=R.reduce(i(d),{});w===!1&&(M={});const{prevResolvedValues:L={}}=f,D={...L,...M},B=U=>{b=!0,p.has(U)&&(E=!0,p.delete(U)),f.needsAnimating[U]=!0;const W=e.getValue(U);W&&(W.liveStyle=!1)};for(const U in D){const W=M[U],T=L[U];if(v.hasOwnProperty(U))continue;let A=!1;al(W)&&al(T)?A=!Lp(W,T):A=W!==T,A?W!=null?B(U):p.add(U):W!==void 0&&p.has(U)?B(U):f.protectedKeys[U]=!0}f.prevProp=g,f.prevResolvedValues=M,f.isActive&&(v={...v,...M}),n&&e.blockInitialAnimation&&(b=!1);const $=C&&x;b&&(!$||E)&&c.push(...R.map(U=>{const W={type:d};if(typeof U=="string"&&n&&!$&&e.manuallyAnimateOnMount&&e.parent){const{parent:T}=e,A=Vn(T,U);if(T.enteringChildren&&A){const{delayChildren:P}=A.transition||{};W.delay=Ip(T.enteringChildren,e,P)}}return{animation:U,options:W}}))}if(p.size){const m={};if(typeof u.initial!="boolean"){const d=Vn(e,Array.isArray(u.initial)?u.initial[0]:u.initial);d&&d.transition&&(m.transition=d.transition)}p.forEach(d=>{const f=e.getBaseTarget(d),g=e.getValue(d);g&&(g.liveStyle=!0),m[d]=f??null}),c.push({animation:m})}let _=!!c.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(_=!1),n=!1,_?t(c):Promise.resolve()}function s(a,u){if(r[a].isActive===u)return Promise.resolve();e.variantChildren?.forEach(c=>c.animationState?.setActive(a,u)),r[a].isActive=u;const h=l(a);for(const c in r)r[c].protectedKeys={};return h}return{animateChanges:l,setActive:s,setAnimateFunction:o,getState:()=>r,reset:()=>{r=Sh()}}}function Nx(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Lp(t,e):!1}function sn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sh(){return{animate:sn(!0),whileInView:sn(),whileHover:sn(),whileTap:sn(),whileDrag:sn(),whileFocus:sn(),exit:sn()}}class Yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Vx extends Yr{constructor(t){super(t),t.animationState||(t.animationState=Hx(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();uo(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $x=0;class Wx extends Yr{constructor(){super(...arguments),this.id=$x++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const zx={animation:{Feature:Vx},exit:{Feature:Wx}};function Ii(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Ki(e){return{point:{x:e.pageX,y:e.pageY}}}const Ux=e=>t=>cc(t)&&e(t,Ki(t));function _i(e,t,r,n){return Ii(e,t,Ux(r),n)}const Bp=1e-4,jx=1-Bp,qx=1+Bp,Fp=.01,Gx=0-Fp,Kx=0+Fp;function kt(e){return e.max-e.min}function Yx(e,t,r){return Math.abs(e-t)<=r}function wh(e,t,r,n=.5){e.origin=n,e.originPoint=Ze(t.min,t.max,e.origin),e.scale=kt(r)/kt(t),e.translate=Ze(r.min,r.max,e.origin)-e.originPoint,(e.scale>=jx&&e.scale<=qx||isNaN(e.scale))&&(e.scale=1),(e.translate>=Gx&&e.translate<=Kx||isNaN(e.translate))&&(e.translate=0)}function yi(e,t,r,n){wh(e.x,t.x,r.x,n?n.originX:void 0),wh(e.y,t.y,r.y,n?n.originY:void 0)}function Ch(e,t,r){e.min=r.min+t.min,e.max=e.min+kt(t)}function Zx(e,t,r){Ch(e.x,t.x,r.x),Ch(e.y,t.y,r.y)}function bh(e,t,r){e.min=t.min-r.min,e.max=e.min+kt(t)}function Si(e,t,r){bh(e.x,t.x,r.x),bh(e.y,t.y,r.y)}function Ut(e){return[e("x"),e("y")]}const Hp=({current:e})=>e?e.ownerDocument.defaultView:null,xh=(e,t)=>Math.abs(e-t);function Xx(e,t){const r=xh(e.x,t.x),n=xh(e.y,t.y);return Math.sqrt(r**2+n**2)}class Np{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Qo(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,S=Xx(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!S)return;const{point:_}=p,{timestamp:m}=mt;this.history.push({..._,timestamp:m});const{onStart:d,onMove:f}=this.handlers;v||(d&&d(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),f&&f(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Jo(v,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:S,onSessionEnd:_,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Qo(p.type==="pointercancel"?this.lastMoveEventInfo:Jo(v,this.transformPagePoint),this.history);this.startEvent&&S&&S(p,d),_&&_(p,d)},!cc(t))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=i||window;const s=Ki(t),a=Jo(s,this.transformPagePoint),{point:u}=a,{timestamp:h}=mt;this.history=[{...u,timestamp:h}];const{onSessionStart:c}=r;c&&c(t,Qo(a,this.history)),this.removeListeners=ji(_i(this.contextWindow,"pointermove",this.handlePointerMove),_i(this.contextWindow,"pointerup",this.handlePointerUp),_i(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function Jo(e,t){return t?{point:t(e.point)}:e}function Eh(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qo({point:e},t){return{point:e,delta:Eh(e,Vp(t)),offset:Eh(e,Jx(t)),velocity:Qx(t,.1)}}function Jx(e){return e[0]}function Vp(e){return e[e.length-1]}function Qx(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=Vp(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>vr(t)));)r--;if(!n)return{x:0,y:0};const o=Gt(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function eE(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ze(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ze(r,e,n.max):Math.min(e,r)),e}function kh(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function tE(e,{top:t,left:r,bottom:n,right:i}){return{x:kh(e.x,r,i),y:kh(e.y,t,n)}}function Th(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function rE(e,t){return{x:Th(e.x,t.x),y:Th(e.y,t.y)}}function nE(e,t){let r=.5;const n=kt(e),i=kt(t);return i>n?r=Di(t.min,t.max-n,e.min):n>i&&(r=Di(e.min,e.max-i,t.min)),Or(0,1,r)}function iE(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const ul=.35;function sE(e=ul){return e===!1?e=0:e===!0&&(e=ul),{x:Dh(e,"left","right"),y:Dh(e,"top","bottom")}}function Dh(e,t,r){return{min:Rh(e,t),max:Rh(e,r)}}function Rh(e,t){return typeof e=="number"?e:e[t]||0}const oE=new WeakMap;class aE{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=c=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ki(c).point)},l=(c,p)=>{const{drag:v,dragPropagation:S,onDragStart:_}=this.getProps();if(v&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_b(v),!this.openDragLock))return;this.latestPointerEvent=c,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ut(d=>{let f=this.getAxisMotionValue(d).get()||0;if(_r.test(f)){const{projection:g}=this.visualElement;if(g&&g.layout){const y=g.layout.layoutBox[d];y&&(f=kt(y)*(parseFloat(f)/100))}}this.originPoint[d]=f}),_&&je.postRender(()=>_(c,p)),ll(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(c,p)=>{this.latestPointerEvent=c,this.latestPanInfo=p;const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:_,onDrag:m}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:d}=p;if(S&&this.currentDirection===null){this.currentDirection=lE(d),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",p.point,d),this.updateAxis("y",p.point,d),this.visualElement.render(),m&&m(c,p)},a=(c,p)=>{this.latestPointerEvent=c,this.latestPanInfo=p,this.stop(c,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ut(c=>this.getAnimationState(c)==="paused"&&this.getAxisMotionValue(c).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Np(t,{onSessionStart:o,onStart:l,onMove:s,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:n,contextWindow:Hp(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!n)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:s}=this.getProps();s&&je.postRender(()=>s(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!vs(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=eE(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&An(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=tE(n.layoutBox,t):this.constraints=!1,this.elastic=sE(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ut(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=iE(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!An(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=cx(n,i.root,this.visualElement.getTransformPagePoint());let l=rE(i.layout.layoutBox,o);if(r){const s=r(ox(l));this.hasMutatedConstraints=!!s,s&&(l=bp(s))}return l}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},u=Ut(h=>{if(!vs(h,r,this.currentDirection))return;let c=a&&a[h]||{};l&&(c={min:0,max:0});const p=i?200:1e6,v=i?40:1e7,S={type:"inertia",velocity:n?t[h]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...c};return this.startAxisValueAnimation(h,S)});return Promise.all(u).then(s)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return ll(this.visualElement,t),n.start(_c(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ut(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ut(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ut(r=>{const{drag:n}=this.getProps();if(!vs(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(r);if(i&&i.layout){const{min:l,max:s}=i.layout.layoutBox[r];o.set(t[r]-Ze(l,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!An(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ut(l=>{const s=this.getAxisMotionValue(l);if(s&&this.constraints!==!1){const a=s.get();i[l]=nE({min:a,max:a},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ut(l=>{if(!vs(l,t,null))return;const s=this.getAxisMotionValue(l),{min:a,max:u}=this.constraints[l];s.set(Ze(a,u,i[l]))})}addListeners(){if(!this.visualElement.current)return;oE.set(this.visualElement,this);const t=this.visualElement.current,r=_i(t,"pointerdown",a=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(a)}),n=()=>{const{dragConstraints:a}=this.getProps();An(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),je.read(n);const l=Ii(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",(({delta:a,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ut(h=>{const c=this.getAxisMotionValue(h);c&&(this.originPoint[h]+=a[h].translate,c.set(c.get()+a[h].translate))}),this.visualElement.render())}));return()=>{l(),r(),o(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=ul,dragMomentum:s=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:s}}}function vs(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function lE(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class cE extends Yr{constructor(t){super(t),this.removeGroupControls=Yt,this.removeListeners=Yt,this.controls=new aE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mh=e=>(t,r)=>{e&&je.postRender(()=>e(t,r))};class uE extends Yr{constructor(){super(...arguments),this.removePointerDownListener=Yt}onPointerDown(t){this.session=new Np(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hp(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Mh(t),onStart:Mh(r),onMove:n,onEnd:(o,l)=>{delete this.session,i&&je.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=_i(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Os={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ah(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ai={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(de.test(e))e=parseFloat(e);else return e;const r=Ah(e,t.target.x),n=Ah(e,t.target.y);return`${r}% ${n}%`}},hE={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Ur.parse(e);if(i.length>5)return n;const o=Ur.createTransformer(e),l=typeof i[0]!="number"?1:0,s=r.x.scale*t.x,a=r.y.scale*t.y;i[0+l]/=s,i[1+l]/=a;const u=Ze(s,a,.5);return typeof i[2+l]=="number"&&(i[2+l]/=u),typeof i[3+l]=="number"&&(i[3+l]/=u),o(i)}};let ea=!1;class dE extends H.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=t;Lb(fE),o&&(r.group&&r.group.add(o),n&&n.register&&i&&n.register(o),ea&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Os.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:o}=this.props,{projection:l}=n;return l&&(l.isPresent=o,ea=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||je.postRender(()=>{const s=l.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),lc.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;ea=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $p(e){const[t,r]=Tb(),n=H.useContext(ym);return Se.jsx(dE,{...e,layoutGroup:n,switchLayoutGroup:H.useContext(wp),isPresent:t,safeToRemove:r})}const fE={borderRadius:{...ai,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ai,borderTopRightRadius:ai,borderBottomLeftRadius:ai,borderBottomRightRadius:ai,boxShadow:hE};function mE(e,t,r){const n=wt(e)?e:Un(e);return n.start(_c("",n,t,r)),n.animation}const pE=(e,t)=>e.depth-t.depth;class gE{constructor(){this.children=[],this.isDirty=!1}add(t){zl(this.children,t),this.isDirty=!0}remove(t){Ul(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pE),this.isDirty=!1,this.children.forEach(t)}}function vE(e,t){const r=At.now(),n=({timestamp:i})=>{const o=i-r;o>=t&&(zr(n),e(o-t))};return je.setup(n,!0),()=>zr(n)}const Wp=["TopLeft","TopRight","BottomLeft","BottomRight"],_E=Wp.length,Oh=e=>typeof e=="string"?parseFloat(e):e,Ih=e=>typeof e=="number"||de.test(e);function yE(e,t,r,n,i,o){i?(e.opacity=Ze(0,r.opacity??1,SE(n)),e.opacityExit=Ze(t.opacity??1,0,wE(n))):o&&(e.opacity=Ze(t.opacity??1,r.opacity??1,n));for(let l=0;l<_E;l++){const s=`border${Wp[l]}Radius`;let a=Lh(t,s),u=Lh(r,s);if(a===void 0&&u===void 0)continue;a||(a=0),u||(u=0),a===0||u===0||Ih(a)===Ih(u)?(e[s]=Math.max(Ze(Oh(a),Oh(u),n),0),(_r.test(u)||_r.test(a))&&(e[s]+="%")):e[s]=u}(t.rotate||r.rotate)&&(e.rotate=Ze(t.rotate||0,r.rotate||0,n))}function Lh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const SE=zp(0,.5,Mm),wE=zp(.5,.95,Yt);function zp(e,t,r){return n=>n<e?0:n>t?1:r(Di(e,t,n))}function Ph(e,t){e.min=t.min,e.max=t.max}function zt(e,t){Ph(e.x,t.x),Ph(e.y,t.y)}function Bh(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Fh(e,t,r,n,i){return e-=t,e=Gs(e,1/r,n),i!==void 0&&(e=Gs(e,1/i,n)),e}function CE(e,t=0,r=1,n=.5,i,o=e,l=e){if(_r.test(t)&&(t=parseFloat(t),t=Ze(l.min,l.max,t/100)-l.min),typeof t!="number")return;let s=Ze(o.min,o.max,n);e===o&&(s-=t),e.min=Fh(e.min,t,r,s,i),e.max=Fh(e.max,t,r,s,i)}function Hh(e,t,[r,n,i],o,l){CE(e,t[r],t[n],t[i],t.scale,o,l)}const bE=["x","scaleX","originX"],xE=["y","scaleY","originY"];function Nh(e,t,r,n){Hh(e.x,t,bE,r?r.x:void 0,n?n.x:void 0),Hh(e.y,t,xE,r?r.y:void 0,n?n.y:void 0)}function Vh(e){return e.translate===0&&e.scale===1}function Up(e){return Vh(e.x)&&Vh(e.y)}function $h(e,t){return e.min===t.min&&e.max===t.max}function EE(e,t){return $h(e.x,t.x)&&$h(e.y,t.y)}function Wh(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jp(e,t){return Wh(e.x,t.x)&&Wh(e.y,t.y)}function zh(e){return kt(e.x)/kt(e.y)}function Uh(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class kE{constructor(){this.members=[]}add(t){zl(this.members,t),t.scheduleRender()}remove(t){if(Ul(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TE(e,t,r){let n="";const i=e.x.translate/t.x,o=e.y.translate/t.y,l=r?.z||0;if((i||o||l)&&(n=`translate3d(${i}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:h,rotateX:c,rotateY:p,skewX:v,skewY:S}=r;u&&(n=`perspective(${u}px) ${n}`),h&&(n+=`rotate(${h}deg) `),c&&(n+=`rotateX(${c}deg) `),p&&(n+=`rotateY(${p}deg) `),v&&(n+=`skewX(${v}deg) `),S&&(n+=`skewY(${S}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(n+=`scale(${s}, ${a})`),n||"none"}const ta=["","X","Y","Z"],DE=1e3;let RE=0;function ra(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function qp(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Ap(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",je,!(i||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&qp(n)}function Gp({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(l={},s=t?.()){this.id=RE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(OE),this.nodes.forEach(BE),this.nodes.forEach(FE),this.nodes.forEach(IE)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new gE)}addEventListener(l,s){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Gl),this.eventHandlers.get(l).add(s)}notifyListeners(l,...s){const a=this.eventHandlers.get(l);a&&a.notify(...s)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=lp(l)&&!xb(l),this.instance=l;const{layoutId:s,layout:a,visualElement:u}=this.options;if(u&&!u.current&&u.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(a||s)&&(this.isLayoutDirty=!0),e){let h,c=0;const p=()=>this.root.updateBlockedByResize=!1;je.read(()=>{c=window.innerWidth}),e(l,()=>{const v=window.innerWidth;v!==c&&(c=v,this.root.updateBlockedByResize=!0,h&&h(),h=vE(p,250),Os.hasAnimatedSinceResize&&(Os.hasAnimatedSinceResize=!1,this.nodes.forEach(Gh)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&u&&(s||a)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:c,hasRelativeLayoutChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||u.getDefaultTransition()||WE,{onLayoutAnimationStart:_,onLayoutAnimationComplete:m}=u.getProps(),d=!this.targetLayout||!jp(this.targetLayout,v),f=!c&&p;if(this.options.layoutRoot||this.resumeFrom||f||c&&(d||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...oc(S,"layout"),onPlay:_,onComplete:m};(u.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(h,f)}else c||Gh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HE),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qp(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const c=this.path[h];c.shouldResetTransform=!0,c.updateScroll("snapshot"),c.options.layoutRoot&&c.willUpdate(!1)}const{layoutId:s,layout:a}=this.options;if(s===void 0&&!a)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jh);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qh);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PE),this.nodes.forEach(ME),this.nodes.forEach(AE)):this.nodes.forEach(qh),this.clearAllSnapshots();const s=At.now();mt.delta=Or(0,1e3/60,s-mt.timestamp),mt.timestamp=s,mt.isProcessing=!0,Uo.update.process(mt),Uo.preRender.process(mt),Uo.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LE),this.sharedNodes.forEach(NE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kt(this.snapshot.measuredBox.x)&&!kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(s=!1),s&&this.instance){const a=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:a,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:a}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!Up(this.projectionDelta),a=this.getTransformTemplate(),u=a?a(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;l&&this.instance&&(s||on(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const s=this.measurePageBox();let a=this.removeElementScroll(s);return l&&(a=this.removeTransform(a)),zE(a),{animationId:this.root.animationId,measuredBox:s,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return nt();const s=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(UE))){const{scroll:u}=this.root;u&&(On(s.x,u.offset.x),On(s.y,u.offset.y))}return s}removeElementScroll(l){const s=nt();if(zt(s,l),this.scroll?.wasRoot)return s;for(let a=0;a<this.path.length;a++){const u=this.path[a],{scroll:h,options:c}=u;u!==this.root&&h&&c.layoutScroll&&(h.wasRoot&&zt(s,l),On(s.x,h.offset.x),On(s.y,h.offset.y))}return s}applyTransform(l,s=!1){const a=nt();zt(a,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];!s&&h.options.layoutScroll&&h.scroll&&h!==h.root&&In(a,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),on(h.latestValues)&&In(a,h.latestValues)}return on(this.latestValues)&&In(a,this.latestValues),a}removeTransform(l){const s=nt();zt(s,l);for(let a=0;a<this.path.length;a++){const u=this.path[a];if(!u.instance||!on(u.latestValues))continue;il(u.latestValues)&&u.updateSnapshot();const h=nt(),c=u.measurePageBox();zt(h,c),Nh(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return on(this.latestValues)&&Nh(s,this.latestValues),s}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const a=!!this.resumingFrom||this!==s;if(!(l||a&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:c}=this.options;if(!(!this.layout||!(h||c))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Si(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Zx(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zt(this.target,this.layout.layoutBox),Ep(this.target,this.targetDelta)):zt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Si(this.relativeTargetOrigin,this.target,p.target),zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||il(this.parent.latestValues)||xp(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),s=!!this.resumingFrom||this!==l;let a=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(a=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(a=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(a=!1),a)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;zt(this.layoutCorrected,this.layout.layoutBox);const c=this.treeScale.x,p=this.treeScale.y;lx(this.layoutCorrected,this.treeScale,this.path,s),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=nt());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bh(this.prevProjectionDelta.x,this.projectionDelta.x),Bh(this.prevProjectionDelta.y,this.projectionDelta.y)),yi(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==c||this.treeScale.y!==p||!Uh(this.projectionDelta.x,this.prevProjectionDelta.x)||!Uh(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ln(),this.projectionDelta=Ln(),this.projectionDeltaWithTransform=Ln()}setAnimationOrigin(l,s=!1){const a=this.snapshot,u=a?a.latestValues:{},h={...this.latestValues},c=Ln();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const p=nt(),v=a?a.source:void 0,S=this.layout?this.layout.source:void 0,_=v!==S,m=this.getStack(),d=!m||m.members.length<=1,f=!!(_&&!d&&this.options.crossfade===!0&&!this.path.some($E));this.animationProgress=0;let g;this.mixTargetDelta=y=>{const w=y/1e3;Kh(c.x,l.x,w),Kh(c.y,l.y,w),this.setTargetDelta(c),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Si(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VE(this.relativeTarget,this.relativeTargetOrigin,p,w),g&&EE(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=nt()),zt(g,this.relativeTarget)),_&&(this.animationValues=h,yE(h,u,this.latestValues,w,f,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{Os.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Un(0)),this.currentAnimation=mE(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:s=>{this.mixTargetDelta(s),l.onUpdate&&l.onUpdate(s)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:s,target:a,layout:u,latestValues:h}=l;if(!(!s||!a||!u)){if(this!==l&&this.layout&&u&&Kp(this.options.animationType,this.layout.layoutBox,u.layoutBox)){a=this.target||nt();const c=kt(this.layout.layoutBox.x);a.x.min=l.target.x.min,a.x.max=a.x.min+c;const p=kt(this.layout.layoutBox.y);a.y.min=l.target.y.min,a.y.max=a.y.min+p}zt(s,a),In(s,h),yi(this.projectionDeltaWithTransform,this.layoutCorrected,s,h)}}registerSharedNode(l,s){this.sharedNodes.has(l)||this.sharedNodes.set(l,new kE),this.sharedNodes.get(l).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:s,preserveFollowOpacity:a}={}){const u=this.getStack();u&&u.promote(this,a),l&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let s=!1;const{latestValues:a}=l;if((a.z||a.rotate||a.rotateX||a.rotateY||a.rotateZ||a.skewX||a.skewY)&&(s=!0),!s)return;const u={};a.z&&ra("z",l,u,this.animationValues);for(let h=0;h<ta.length;h++)ra(`rotate${ta[h]}`,l,u,this.animationValues),ra(`skew${ta[h]}`,l,u,this.animationValues);l.render();for(const h in u)l.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);l.scheduleRender()}applyProjectionStyles(l,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const a=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=As(s?.pointerEvents)||"",l.transform=a?a(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=As(s?.pointerEvents)||""),this.hasProjected&&!on(this.latestValues)&&(l.transform=a?a({},""):"none",this.hasProjected=!1);return}l.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let c=TE(this.projectionDeltaWithTransform,this.treeScale,h);a&&(c=a(h,c)),l.transform=c;const{x:p,y:v}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,u.animationValues?l.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const S in Oi){if(h[S]===void 0)continue;const{correct:_,applyTo:m,isCSSVariable:d}=Oi[S],f=c==="none"?h[S]:_(h[S],u);if(m){const g=m.length;for(let y=0;y<g;y++)l[m[y]]=f}else d?this.options.visualElement.renderState.vars[S]=f:l[S]=f}this.options.layoutId&&(l.pointerEvents=u===this?As(s?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(jh),this.root.sharedNodes.clear()}}}function ME(e){e.updateLayout()}function AE(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Ut(h=>{const c=o?t.measuredBox[h]:t.layoutBox[h],p=kt(c);c.min=r[h].min,c.max=c.min+p}):Kp(i,t.layoutBox,r)&&Ut(h=>{const c=o?t.measuredBox[h]:t.layoutBox[h],p=kt(r[h]);c.max=c.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=Ln();yi(l,r,t.layoutBox);const s=Ln();o?yi(s,e.applyTransform(n,!0),t.measuredBox):yi(s,r,t.layoutBox);const a=!Up(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:c,layout:p}=h;if(c&&p){const v=nt();Si(v,t.layoutBox,c.layoutBox);const S=nt();Si(S,r,p.layoutBox),jp(v,S)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:s,layoutDelta:l,hasLayoutChanged:a,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function OE(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function IE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function LE(e){e.clearSnapshot()}function jh(e){e.clearMeasurements()}function qh(e){e.isLayoutDirty=!1}function PE(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Gh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function BE(e){e.resolveTargetDelta()}function FE(e){e.calcProjection()}function HE(e){e.resetSkewAndRotation()}function NE(e){e.removeLeadSnapshot()}function Kh(e,t,r){e.translate=Ze(t.translate,0,r),e.scale=Ze(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Yh(e,t,r,n){e.min=Ze(t.min,r.min,n),e.max=Ze(t.max,r.max,n)}function VE(e,t,r,n){Yh(e.x,t.x,r.x,n),Yh(e.y,t.y,r.y,n)}function $E(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const WE={duration:.45,ease:[.4,0,.1,1]},Zh=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Xh=Zh("applewebkit/")&&!Zh("chrome/")?Math.round:Yt;function Jh(e){e.min=Xh(e.min),e.max=Xh(e.max)}function zE(e){Jh(e.x),Jh(e.y)}function Kp(e,t,r){return e==="position"||e==="preserve-aspect"&&!Yx(zh(t),zh(r),.2)}function UE(e){return e!==e.root&&e.scroll?.wasRoot}const jE=Gp({attachResizeListener:(e,t)=>Ii(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),na={current:void 0},Yp=Gp({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!na.current){const e=new jE({});e.mount(window),e.setOptions({layoutScroll:!0}),na.current=e}return na.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qE={pan:{Feature:uE},drag:{Feature:cE,ProjectionNode:Yp,MeasureLayout:$p}};function Qh(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,o=n[i];o&&je.postRender(()=>o(t,Ki(t)))}class GE extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=yb(t,(r,n)=>(Qh(this.node,n,"Start"),i=>Qh(this.node,i,"End"))))}unmount(){}}class KE extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ji(Ii(this.node.current,"focus",()=>this.onFocus()),Ii(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ed(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),o=n[i];o&&je.postRender(()=>o(t,Ki(t)))}class YE extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=bb(t,(r,n)=>(ed(this.node,n,"Start"),(i,{success:o})=>ed(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hl=new WeakMap,ia=new WeakMap,ZE=e=>{const t=hl.get(e.target);t&&t(e)},XE=e=>{e.forEach(ZE)};function JE({root:e,...t}){const r=e||document;ia.has(r)||ia.set(r,{});const n=ia.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(XE,{root:e,...t})),n[i]}function QE(e,t,r){const n=JE(t);return hl.set(e,r),n.observe(e),()=>{hl.delete(e),n.unobserve(e)}}const ek={some:0,all:1};class tk extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:o}=t,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:ek[i]},s=a=>{const{isIntersecting:u}=a;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:c}=this.node.getProps(),p=u?h:c;p&&p(a)};return QE(this.node.current,l,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(rk(t,r))&&this.startObserver()}unmount(){}}function rk({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const nk={inView:{Feature:tk},tap:{Feature:YE},focus:{Feature:KE},hover:{Feature:GE}},ik={layout:{ProjectionNode:Yp,MeasureLayout:$p}},sk={...zx,...nk,...qE,...ik},IM=sx(sk,_x);var ok=(e,t,r,n,i,o,l,s)=>{let a=document.documentElement,u=["light","dark"];function h(v){(Array.isArray(e)?e:[e]).forEach(S=>{let _=S==="class",m=_&&o?i.map(d=>o[d]||d):i;_?(a.classList.remove(...m),a.classList.add(o&&o[v]?o[v]:v)):a.setAttribute(S,v)}),c(v)}function c(v){s&&u.includes(v)&&(a.style.colorScheme=v)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)h(n);else try{let v=localStorage.getItem(t)||r,S=l&&v==="system"?p():v;h(S)}catch{}},ak=H.createContext(void 0),lk={setTheme:e=>{},themes:[]},LM=()=>{var e;return(e=H.useContext(ak))!=null?e:lk};H.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:o,value:l,themes:s,nonce:a,scriptProps:u})=>{let h=JSON.stringify([r,t,o,e,s,l,n,i]).slice(1,-1);return H.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?a:"",dangerouslySetInnerHTML:{__html:`(${ok.toString()})(${h})`}})});var td=1,ck=.9,uk=.8,hk=.17,sa=.1,oa=.999,dk=.9999,fk=.99,mk=/[\\\/_+.#"@\[\(\{&]/,pk=/[\\\/_+.#"@\[\(\{&]/g,gk=/[\s-]/,Zp=/[\s-]/g;function dl(e,t,r,n,i,o,l){if(o===t.length)return i===e.length?td:fk;var s=`${i},${o}`;if(l[s]!==void 0)return l[s];for(var a=n.charAt(o),u=r.indexOf(a,i),h=0,c,p,v,S;u>=0;)c=dl(e,t,r,n,u+1,o+1,l),c>h&&(u===i?c*=td:mk.test(e.charAt(u-1))?(c*=uk,v=e.slice(i,u-1).match(pk),v&&i>0&&(c*=Math.pow(oa,v.length))):gk.test(e.charAt(u-1))?(c*=ck,S=e.slice(i,u-1).match(Zp),S&&i>0&&(c*=Math.pow(oa,S.length))):(c*=hk,i>0&&(c*=Math.pow(oa,u-i))),e.charAt(u)!==t.charAt(o)&&(c*=dk)),(c<sa&&r.charAt(u-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(u-1)!==n.charAt(o))&&(p=dl(e,t,r,n,u+1,o+2,l),p*sa>c&&(c=p*sa)),c>h&&(h=c),u=r.indexOf(a,u+1);return l[s]=h,h}function rd(e){return e.toLowerCase().replace(Zp," ")}function vk(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,dl(e,t,rd(e),rd(t),0,0,{})}var li='[cmdk-group=""]',aa='[cmdk-group-items=""]',_k='[cmdk-group-heading=""]',Xp='[cmdk-item=""]',nd=`${Xp}:not([aria-disabled="true"])`,fl="cmdk-item-select",Tn="data-value",yk=(e,t,r)=>vk(e,t,r),Jp=H.createContext(void 0),Yi=()=>H.useContext(Jp),Qp=H.createContext(void 0),yc=()=>H.useContext(Qp),eg=H.createContext(void 0),tg=H.forwardRef((e,t)=>{let r=Dn(()=>{var O,N;return{search:"",value:(N=(O=e.value)!=null?O:e.defaultValue)!=null?N:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Dn(()=>new Set),i=Dn(()=>new Map),o=Dn(()=>new Map),l=Dn(()=>new Set),s=rg(e),{label:a,children:u,value:h,onValueChange:c,filter:p,shouldFilter:v,loop:S,disablePointerSelection:_=!1,vimBindings:m=!0,...d}=e,f=Pn(),g=Pn(),y=Pn(),w=H.useRef(null),C=Mk();pn(()=>{if(h!==void 0){let O=h.trim();r.current.value=O,x.emit()}},[h]),pn(()=>{C(6,D)},[]);let x=H.useMemo(()=>({subscribe:O=>(l.current.add(O),()=>l.current.delete(O)),snapshot:()=>r.current,setState:(O,N,j)=>{var q,Y,F,k;if(!Object.is(r.current[O],N)){if(r.current[O]=N,O==="search")L(),R(),C(1,M);else if(O==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let V=document.getElementById(y);V?V.focus():(q=document.getElementById(f))==null||q.focus()}if(C(7,()=>{var V;r.current.selectedItemId=(V=B())==null?void 0:V.id,x.emit()}),j||C(5,D),((Y=s.current)==null?void 0:Y.value)!==void 0){let V=N??"";(k=(F=s.current).onValueChange)==null||k.call(F,V);return}}x.emit()}},emit:()=>{l.current.forEach(O=>O())}}),[]),b=H.useMemo(()=>({value:(O,N,j)=>{var q;N!==((q=o.current.get(O))==null?void 0:q.value)&&(o.current.set(O,{value:N,keywords:j}),r.current.filtered.items.set(O,E(N,j)),C(2,()=>{R(),x.emit()}))},item:(O,N)=>(n.current.add(O),N&&(i.current.has(N)?i.current.get(N).add(O):i.current.set(N,new Set([O]))),C(3,()=>{L(),R(),r.current.value||M(),x.emit()}),()=>{o.current.delete(O),n.current.delete(O),r.current.filtered.items.delete(O);let j=B();C(4,()=>{L(),j?.getAttribute("id")===O&&M(),x.emit()})}),group:O=>(i.current.has(O)||i.current.set(O,new Set),()=>{o.current.delete(O),i.current.delete(O)}),filter:()=>s.current.shouldFilter,label:a||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:f,inputId:y,labelId:g,listInnerRef:w}),[]);function E(O,N){var j,q;let Y=(q=(j=s.current)==null?void 0:j.filter)!=null?q:yk;return O?Y(O,r.current.search,N):0}function R(){if(!r.current.search||s.current.shouldFilter===!1)return;let O=r.current.filtered.items,N=[];r.current.filtered.groups.forEach(q=>{let Y=i.current.get(q),F=0;Y.forEach(k=>{let V=O.get(k);F=Math.max(V,F)}),N.push([q,F])});let j=w.current;$().sort((q,Y)=>{var F,k;let V=q.getAttribute("id"),G=Y.getAttribute("id");return((F=O.get(G))!=null?F:0)-((k=O.get(V))!=null?k:0)}).forEach(q=>{let Y=q.closest(aa);Y?Y.appendChild(q.parentElement===Y?q:q.closest(`${aa} > *`)):j.appendChild(q.parentElement===j?q:q.closest(`${aa} > *`))}),N.sort((q,Y)=>Y[1]-q[1]).forEach(q=>{var Y;let F=(Y=w.current)==null?void 0:Y.querySelector(`${li}[${Tn}="${encodeURIComponent(q[0])}"]`);F?.parentElement.appendChild(F)})}function M(){let O=$().find(j=>j.getAttribute("aria-disabled")!=="true"),N=O?.getAttribute(Tn);x.setState("value",N||void 0)}function L(){var O,N,j,q;if(!r.current.search||s.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Y=0;for(let F of n.current){let k=(N=(O=o.current.get(F))==null?void 0:O.value)!=null?N:"",V=(q=(j=o.current.get(F))==null?void 0:j.keywords)!=null?q:[],G=E(k,V);r.current.filtered.items.set(F,G),G>0&&Y++}for(let[F,k]of i.current)for(let V of k)if(r.current.filtered.items.get(V)>0){r.current.filtered.groups.add(F);break}r.current.filtered.count=Y}function D(){var O,N,j;let q=B();q&&(((O=q.parentElement)==null?void 0:O.firstChild)===q&&((j=(N=q.closest(li))==null?void 0:N.querySelector(_k))==null||j.scrollIntoView({block:"nearest"})),q.scrollIntoView({block:"nearest"}))}function B(){var O;return(O=w.current)==null?void 0:O.querySelector(`${Xp}[aria-selected="true"]`)}function $(){var O;return Array.from(((O=w.current)==null?void 0:O.querySelectorAll(nd))||[])}function z(O){let N=$()[O];N&&x.setState("value",N.getAttribute(Tn))}function U(O){var N;let j=B(),q=$(),Y=q.findIndex(k=>k===j),F=q[Y+O];(N=s.current)!=null&&N.loop&&(F=Y+O<0?q[q.length-1]:Y+O===q.length?q[0]:q[Y+O]),F&&x.setState("value",F.getAttribute(Tn))}function W(O){let N=B(),j=N?.closest(li),q;for(;j&&!q;)j=O>0?Dk(j,li):Rk(j,li),q=j?.querySelector(nd);q?x.setState("value",q.getAttribute(Tn)):U(O)}let T=()=>z($().length-1),A=O=>{O.preventDefault(),O.metaKey?T():O.altKey?W(1):U(1)},P=O=>{O.preventDefault(),O.metaKey?z(0):O.altKey?W(-1):U(-1)};return H.createElement(Kr.div,{ref:t,tabIndex:-1,...d,"cmdk-root":"",onKeyDown:O=>{var N;(N=d.onKeyDown)==null||N.call(d,O);let j=O.nativeEvent.isComposing||O.keyCode===229;if(!(O.defaultPrevented||j))switch(O.key){case"n":case"j":{m&&O.ctrlKey&&A(O);break}case"ArrowDown":{A(O);break}case"p":case"k":{m&&O.ctrlKey&&P(O);break}case"ArrowUp":{P(O);break}case"Home":{O.preventDefault(),z(0);break}case"End":{O.preventDefault(),T();break}case"Enter":{O.preventDefault();let q=B();if(q){let Y=new Event(fl);q.dispatchEvent(Y)}}}}},H.createElement("label",{"cmdk-label":"",htmlFor:b.inputId,id:b.labelId,style:Ok},a),fo(e,O=>H.createElement(Qp.Provider,{value:x},H.createElement(Jp.Provider,{value:b},O))))}),Sk=H.forwardRef((e,t)=>{var r,n;let i=Pn(),o=H.useRef(null),l=H.useContext(eg),s=Yi(),a=rg(e),u=(n=(r=a.current)==null?void 0:r.forceMount)!=null?n:l?.forceMount;pn(()=>{if(!u)return s.item(i,l?.id)},[u]);let h=ng(i,o,[e.value,e.children,o],e.keywords),c=yc(),p=jr(C=>C.value&&C.value===h.current),v=jr(C=>u||s.filter()===!1?!0:C.search?C.filtered.items.get(i)>0:!0);H.useEffect(()=>{let C=o.current;if(!(!C||e.disabled))return C.addEventListener(fl,S),()=>C.removeEventListener(fl,S)},[v,e.onSelect,e.disabled]);function S(){var C,x;_(),(x=(C=a.current).onSelect)==null||x.call(C,h.current)}function _(){c.setState("value",h.current,!0)}if(!v)return null;let{disabled:m,value:d,onSelect:f,forceMount:g,keywords:y,...w}=e;return H.createElement(Kr.div,{ref:xi(o,t),...w,id:i,"cmdk-item":"",role:"option","aria-disabled":!!m,"aria-selected":!!p,"data-disabled":!!m,"data-selected":!!p,onPointerMove:m||s.getDisablePointerSelection()?void 0:_,onClick:m?void 0:S},e.children)}),wk=H.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:i,...o}=e,l=Pn(),s=H.useRef(null),a=H.useRef(null),u=Pn(),h=Yi(),c=jr(v=>i||h.filter()===!1?!0:v.search?v.filtered.groups.has(l):!0);pn(()=>h.group(l),[]),ng(l,s,[e.value,e.heading,a]);let p=H.useMemo(()=>({id:l,forceMount:i}),[i]);return H.createElement(Kr.div,{ref:xi(s,t),...o,"cmdk-group":"",role:"presentation",hidden:c?void 0:!0},r&&H.createElement("div",{ref:a,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),fo(e,v=>H.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},H.createElement(eg.Provider,{value:p},v))))}),Ck=H.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,i=H.useRef(null),o=jr(l=>!l.search);return!r&&!o?null:H.createElement(Kr.div,{ref:xi(i,t),...n,"cmdk-separator":"",role:"separator"})}),bk=H.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,i=e.value!=null,o=yc(),l=jr(u=>u.search),s=jr(u=>u.selectedItemId),a=Yi();return H.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),H.createElement(Kr.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":a.listId,"aria-labelledby":a.labelId,"aria-activedescendant":s,id:a.inputId,type:"text",value:i?e.value:l,onChange:u=>{i||o.setState("search",u.target.value),r?.(u.target.value)}})}),xk=H.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...i}=e,o=H.useRef(null),l=H.useRef(null),s=jr(u=>u.selectedItemId),a=Yi();return H.useEffect(()=>{if(l.current&&o.current){let u=l.current,h=o.current,c,p=new ResizeObserver(()=>{c=requestAnimationFrame(()=>{let v=u.offsetHeight;h.style.setProperty("--cmdk-list-height",v.toFixed(1)+"px")})});return p.observe(u),()=>{cancelAnimationFrame(c),p.unobserve(u)}}},[]),H.createElement(Kr.div,{ref:xi(o,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":n,id:a.listId},fo(e,u=>H.createElement("div",{ref:xi(l,a.listInnerRef),"cmdk-list-sizer":""},u)))}),Ek=H.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:i,contentClassName:o,container:l,...s}=e;return H.createElement(Hd,{open:r,onOpenChange:n},H.createElement(Fd,{container:l},H.createElement(Pd,{"cmdk-overlay":"",className:i}),H.createElement(Bd,{"aria-label":e.label,"cmdk-dialog":"",className:o},H.createElement(tg,{ref:t,...s}))))}),kk=H.forwardRef((e,t)=>jr(r=>r.filtered.count===0)?H.createElement(Kr.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Tk=H.forwardRef((e,t)=>{let{progress:r,children:n,label:i="Loading...",...o}=e;return H.createElement(Kr.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},fo(e,l=>H.createElement("div",{"aria-hidden":!0},l)))}),PM=Object.assign(tg,{List:xk,Item:Sk,Input:bk,Group:wk,Separator:Ck,Dialog:Ek,Empty:kk,Loading:Tk});function Dk(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Rk(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function rg(e){let t=H.useRef(e);return pn(()=>{t.current=e}),t}var pn=typeof window>"u"?H.useEffect:H.useLayoutEffect;function Dn(e){let t=H.useRef();return t.current===void 0&&(t.current=e()),t}function jr(e){let t=yc(),r=()=>e(t.snapshot());return H.useSyncExternalStore(t.subscribe,r,r)}function ng(e,t,r,n=[]){let i=H.useRef(),o=Yi();return pn(()=>{var l;let s=(()=>{var u;for(let h of r){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(u=h.current.textContent)==null?void 0:u.trim():i.current}})(),a=n.map(u=>u.trim());o.value(e,s,a),(l=t.current)==null||l.setAttribute(Tn,s),i.current=s}),i}var Mk=()=>{let[e,t]=H.useState(),r=Dn(()=>new Map);return pn(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,i)=>{r.current.set(n,i),t({})}};function Ak(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function fo({asChild:e,children:t},r){return e&&H.isValidElement(t)?H.cloneElement(Ak(t),{ref:t.ref},r(t.props.children)):r(t)}var Ok={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Nr(e,t){return typeof e=="function"?e(t):e}function Nt(e,t){return r=>{t.setState(n=>({...n,[e]:Nr(r,n[e])}))}}function mo(e){return e instanceof Function}function Ik(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Lk(e,t){const r=[],n=i=>{i.forEach(o=>{r.push(o);const l=t(o);l!=null&&l.length&&n(l)})};return n(e),r}function fe(e,t,r){let n=[],i;return o=>{let l;r.key&&r.debug&&(l=Date.now());const s=e(o);if(!(s.length!==n.length||s.some((h,c)=>n[c]!==h)))return i;n=s;let u;if(r.key&&r.debug&&(u=Date.now()),i=t(...s),r==null||r.onChange==null||r.onChange(i),r.key&&r.debug&&r!=null&&r.debug()){const h=Math.round((Date.now()-l)*100)/100,c=Math.round((Date.now()-u)*100)/100,p=c/16,v=(S,_)=>{for(S=String(S);S.length<_;)S=" "+S;return S};console.info(`%câ± ${v(c,5)} /${v(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,r?.key)}return i}}function me(e,t,r,n){return{debug:()=>{var i;return(i=e?.debugAll)!=null?i:e[t]},key:!1,onChange:n}}function Pk(e,t,r,n){const i=()=>{var l;return(l=o.getValue())!=null?l:e.options.renderFallbackValue},o={id:`${t.id}_${r.id}`,row:t,column:r,getValue:()=>t.getValue(n),renderValue:i,getContext:fe(()=>[e,r,t,o],(l,s,a,u)=>({table:l,column:s,row:a,cell:u,getValue:u.getValue,renderValue:u.renderValue}),me(e.options,"debugCells"))};return e._features.forEach(l=>{l.createCell==null||l.createCell(o,r,t,e)},{}),o}function Bk(e,t,r,n){var i,o;const s={...e._getDefaultColumnDef(),...t},a=s.accessorKey;let u=(i=(o=s.id)!=null?o:a?typeof String.prototype.replaceAll=="function"?a.replaceAll(".","_"):a.replace(/\./g,"_"):void 0)!=null?i:typeof s.header=="string"?s.header:void 0,h;if(s.accessorFn?h=s.accessorFn:a&&(a.includes(".")?h=p=>{let v=p;for(const _ of a.split(".")){var S;v=(S=v)==null?void 0:S[_]}return v}:h=p=>p[s.accessorKey]),!u)throw new Error;let c={id:`${String(u)}`,accessorFn:h,parent:n,depth:r,columnDef:s,columns:[],getFlatColumns:fe(()=>[!0],()=>{var p;return[c,...(p=c.columns)==null?void 0:p.flatMap(v=>v.getFlatColumns())]},me(e.options,"debugColumns")),getLeafColumns:fe(()=>[e._getOrderColumnsFn()],p=>{var v;if((v=c.columns)!=null&&v.length){let S=c.columns.flatMap(_=>_.getLeafColumns());return p(S)}return[c]},me(e.options,"debugColumns"))};for(const p of e._features)p.createColumn==null||p.createColumn(c,e);return c}const vt="debugHeaders";function id(e,t,r){var n;let o={id:(n=r.id)!=null?n:t.id,column:t,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],s=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(s),l.push(a)};return s(o),l},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(l=>{l.createHeader==null||l.createHeader(o,e)}),o}const Fk={createTable:e=>{e.getHeaderGroups=fe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,i)=>{var o,l;const s=(o=n?.map(c=>r.find(p=>p.id===c)).filter(Boolean))!=null?o:[],a=(l=i?.map(c=>r.find(p=>p.id===c)).filter(Boolean))!=null?l:[],u=r.filter(c=>!(n!=null&&n.includes(c.id))&&!(i!=null&&i.includes(c.id)));return _s(t,[...s,...u,...a],e)},me(e.options,vt)),e.getCenterHeaderGroups=fe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,i)=>(r=r.filter(o=>!(n!=null&&n.includes(o.id))&&!(i!=null&&i.includes(o.id))),_s(t,r,e,"center")),me(e.options,vt)),e.getLeftHeaderGroups=fe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,r,n)=>{var i;const o=(i=n?.map(l=>r.find(s=>s.id===l)).filter(Boolean))!=null?i:[];return _s(t,o,e,"left")},me(e.options,vt)),e.getRightHeaderGroups=fe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,r,n)=>{var i;const o=(i=n?.map(l=>r.find(s=>s.id===l)).filter(Boolean))!=null?i:[];return _s(t,o,e,"right")},me(e.options,vt)),e.getFooterGroups=fe(()=>[e.getHeaderGroups()],t=>[...t].reverse(),me(e.options,vt)),e.getLeftFooterGroups=fe(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),me(e.options,vt)),e.getCenterFooterGroups=fe(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),me(e.options,vt)),e.getRightFooterGroups=fe(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),me(e.options,vt)),e.getFlatHeaders=fe(()=>[e.getHeaderGroups()],t=>t.map(r=>r.headers).flat(),me(e.options,vt)),e.getLeftFlatHeaders=fe(()=>[e.getLeftHeaderGroups()],t=>t.map(r=>r.headers).flat(),me(e.options,vt)),e.getCenterFlatHeaders=fe(()=>[e.getCenterHeaderGroups()],t=>t.map(r=>r.headers).flat(),me(e.options,vt)),e.getRightFlatHeaders=fe(()=>[e.getRightHeaderGroups()],t=>t.map(r=>r.headers).flat(),me(e.options,vt)),e.getCenterLeafHeaders=fe(()=>[e.getCenterFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),me(e.options,vt)),e.getLeftLeafHeaders=fe(()=>[e.getLeftFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),me(e.options,vt)),e.getRightLeafHeaders=fe(()=>[e.getRightFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),me(e.options,vt)),e.getLeafHeaders=fe(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,r,n)=>{var i,o,l,s,a,u;return[...(i=(o=t[0])==null?void 0:o.headers)!=null?i:[],...(l=(s=r[0])==null?void 0:s.headers)!=null?l:[],...(a=(u=n[0])==null?void 0:u.headers)!=null?a:[]].map(h=>h.getLeafHeaders()).flat()},me(e.options,vt))}};function _s(e,t,r,n){var i,o;let l=0;const s=function(p,v){v===void 0&&(v=1),l=Math.max(l,v),p.filter(S=>S.getIsVisible()).forEach(S=>{var _;(_=S.columns)!=null&&_.length&&s(S.columns,v+1)},0)};s(e);let a=[];const u=(p,v)=>{const S={depth:v,id:[n,`${v}`].filter(Boolean).join("_"),headers:[]},_=[];p.forEach(m=>{const d=[..._].reverse()[0],f=m.column.depth===S.depth;let g,y=!1;if(f&&m.column.parent?g=m.column.parent:(g=m.column,y=!0),d&&d?.column===g)d.subHeaders.push(m);else{const w=id(r,g,{id:[n,v,g.id,m?.id].filter(Boolean).join("_"),isPlaceholder:y,placeholderId:y?`${_.filter(C=>C.column===g).length}`:void 0,depth:v,index:_.length});w.subHeaders.push(m),_.push(w)}S.headers.push(m),m.headerGroup=S}),a.push(S),v>0&&u(_,v-1)},h=t.map((p,v)=>id(r,p,{depth:l,index:v}));u(h,l-1),a.reverse();const c=p=>p.filter(S=>S.column.getIsVisible()).map(S=>{let _=0,m=0,d=[0];S.subHeaders&&S.subHeaders.length?(d=[],c(S.subHeaders).forEach(g=>{let{colSpan:y,rowSpan:w}=g;_+=y,d.push(w)})):_=1;const f=Math.min(...d);return m=m+f,S.colSpan=_,S.rowSpan=m,{colSpan:_,rowSpan:m}});return c((i=(o=a[0])==null?void 0:o.headers)!=null?i:[]),a}const Hk=(e,t,r,n,i,o,l)=>{let s={id:t,index:n,original:r,depth:i,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:a=>{if(s._valuesCache.hasOwnProperty(a))return s._valuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return s._valuesCache[a]=u.accessorFn(s.original,n),s._valuesCache[a]},getUniqueValues:a=>{if(s._uniqueValuesCache.hasOwnProperty(a))return s._uniqueValuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(s._uniqueValuesCache[a]=u.columnDef.getUniqueValues(s.original,n),s._uniqueValuesCache[a]):(s._uniqueValuesCache[a]=[s.getValue(a)],s._uniqueValuesCache[a])},renderValue:a=>{var u;return(u=s.getValue(a))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Lk(s.subRows,a=>a.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let a=[],u=s;for(;;){const h=u.getParentRow();if(!h)break;a.push(h),u=h}return a.reverse()},getAllCells:fe(()=>[e.getAllLeafColumns()],a=>a.map(u=>Pk(e,s,u,u.id)),me(e.options,"debugRows")),_getAllCellsByColumnId:fe(()=>[s.getAllCells()],a=>a.reduce((u,h)=>(u[h.column.id]=h,u),{}),me(e.options,"debugRows"))};for(let a=0;a<e._features.length;a++){const u=e._features[a];u==null||u.createRow==null||u.createRow(s,e)}return s},Nk={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},ig=(e,t,r)=>{var n,i;const o=r==null||(n=r.toString())==null?void 0:n.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(o))};ig.autoRemove=e=>rr(e);const sg=(e,t,r)=>{var n;return!!(!((n=e.getValue(t))==null||(n=n.toString())==null)&&n.includes(r))};sg.autoRemove=e=>rr(e);const og=(e,t,r)=>{var n;return((n=e.getValue(t))==null||(n=n.toString())==null?void 0:n.toLowerCase())===r?.toLowerCase()};og.autoRemove=e=>rr(e);const ag=(e,t,r)=>{var n;return(n=e.getValue(t))==null?void 0:n.includes(r)};ag.autoRemove=e=>rr(e);const lg=(e,t,r)=>!r.some(n=>{var i;return!((i=e.getValue(t))!=null&&i.includes(n))});lg.autoRemove=e=>rr(e)||!(e!=null&&e.length);const cg=(e,t,r)=>r.some(n=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(n)});cg.autoRemove=e=>rr(e)||!(e!=null&&e.length);const ug=(e,t,r)=>e.getValue(t)===r;ug.autoRemove=e=>rr(e);const hg=(e,t,r)=>e.getValue(t)==r;hg.autoRemove=e=>rr(e);const Sc=(e,t,r)=>{let[n,i]=r;const o=e.getValue(t);return o>=n&&o<=i};Sc.resolveFilterValue=e=>{let[t,r]=e,n=typeof t!="number"?parseFloat(t):t,i=typeof r!="number"?parseFloat(r):r,o=t===null||Number.isNaN(n)?-1/0:n,l=r===null||Number.isNaN(i)?1/0:i;if(o>l){const s=o;o=l,l=s}return[o,l]};Sc.autoRemove=e=>rr(e)||rr(e[0])&&rr(e[1]);const Er={includesString:ig,includesStringSensitive:sg,equalsString:og,arrIncludes:ag,arrIncludesAll:lg,arrIncludesSome:cg,equals:ug,weakEquals:hg,inNumberRange:Sc};function rr(e){return e==null||e===""}const Vk={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Nt("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const r=t.getCoreRowModel().flatRows[0],n=r?.getValue(e.id);return typeof n=="string"?Er.includesString:typeof n=="number"?Er.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?Er.equals:Array.isArray(n)?Er.arrIncludes:Er.weakEquals},e.getFilterFn=()=>{var r,n;return mo(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(r=(n=t.options.filterFns)==null?void 0:n[e.columnDef.filterFn])!=null?r:Er[e.columnDef.filterFn]},e.getCanFilter=()=>{var r,n,i;return((r=e.columnDef.enableColumnFilter)!=null?r:!0)&&((n=t.options.enableColumnFilters)!=null?n:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var r;return(r=t.getState().columnFilters)==null||(r=r.find(n=>n.id===e.id))==null?void 0:r.value},e.getFilterIndex=()=>{var r,n;return(r=(n=t.getState().columnFilters)==null?void 0:n.findIndex(i=>i.id===e.id))!=null?r:-1},e.setFilterValue=r=>{t.setColumnFilters(n=>{const i=e.getFilterFn(),o=n?.find(h=>h.id===e.id),l=Nr(r,o?o.value:void 0);if(sd(i,l,e)){var s;return(s=n?.filter(h=>h.id!==e.id))!=null?s:[]}const a={id:e.id,value:l};if(o){var u;return(u=n?.map(h=>h.id===e.id?a:h))!=null?u:[]}return n!=null&&n.length?[...n,a]:[a]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const r=e.getAllLeafColumns(),n=i=>{var o;return(o=Nr(t,i))==null?void 0:o.filter(l=>{const s=r.find(a=>a.id===l.id);if(s){const a=s.getFilterFn();if(sd(a,l.value,s))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(n)},e.resetColumnFilters=t=>{var r,n;e.setColumnFilters(t?[]:(r=(n=e.initialState)==null?void 0:n.columnFilters)!=null?r:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function sd(e,t,r){return(e&&e.autoRemove?e.autoRemove(t,r):!1)||typeof t>"u"||typeof t=="string"&&!t}const $k=(e,t,r)=>r.reduce((n,i)=>{const o=i.getValue(e);return n+(typeof o=="number"?o:0)},0),Wk=(e,t,r)=>{let n;return r.forEach(i=>{const o=i.getValue(e);o!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}),n},zk=(e,t,r)=>{let n;return r.forEach(i=>{const o=i.getValue(e);o!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}),n},Uk=(e,t,r)=>{let n,i;return r.forEach(o=>{const l=o.getValue(e);l!=null&&(n===void 0?l>=l&&(n=i=l):(n>l&&(n=l),i<l&&(i=l)))}),[n,i]},jk=(e,t)=>{let r=0,n=0;if(t.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++r,n+=o)}),r)return n/r},qk=(e,t)=>{if(!t.length)return;const r=t.map(o=>o.getValue(e));if(!Ik(r))return;if(r.length===1)return r[0];const n=Math.floor(r.length/2),i=r.sort((o,l)=>o-l);return r.length%2!==0?i[n]:(i[n-1]+i[n])/2},Gk=(e,t)=>Array.from(new Set(t.map(r=>r.getValue(e))).values()),Kk=(e,t)=>new Set(t.map(r=>r.getValue(e))).size,Yk=(e,t)=>t.length,la={sum:$k,min:Wk,max:zk,extent:Uk,mean:jk,median:qk,unique:Gk,uniqueCount:Kk,count:Yk},Zk={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,r;return(t=(r=e.getValue())==null||r.toString==null?void 0:r.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Nt("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(r=>r!=null&&r.includes(e.id)?r.filter(n=>n!==e.id):[...r??[],e.id])},e.getCanGroup=()=>{var r,n;return((r=e.columnDef.enableGrouping)!=null?r:!0)&&((n=t.options.enableGrouping)!=null?n:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var r;return(r=t.getState().grouping)==null?void 0:r.includes(e.id)},e.getGroupedIndex=()=>{var r;return(r=t.getState().grouping)==null?void 0:r.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const r=e.getCanGroup();return()=>{r&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const r=t.getCoreRowModel().flatRows[0],n=r?.getValue(e.id);if(typeof n=="number")return la.sum;if(Object.prototype.toString.call(n)==="[object Date]")return la.extent},e.getAggregationFn=()=>{var r,n;if(!e)throw new Error;return mo(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(r=(n=t.options.aggregationFns)==null?void 0:n[e.columnDef.aggregationFn])!=null?r:la[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var r,n;e.setGrouping(t?[]:(r=(n=e.initialState)==null?void 0:n.grouping)!=null?r:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=r=>{if(e._groupingValuesCache.hasOwnProperty(r))return e._groupingValuesCache[r];const n=t.getColumn(r);return n!=null&&n.columnDef.getGroupingValue?(e._groupingValuesCache[r]=n.columnDef.getGroupingValue(e.original),e._groupingValuesCache[r]):e.getValue(r)},e._groupingValuesCache={}},createCell:(e,t,r,n)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===r.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=r.subRows)!=null&&i.length)}}};function Xk(e,t,r){if(!(t!=null&&t.length)||!r)return e;const n=e.filter(o=>!t.includes(o.id));return r==="remove"?n:[...t.map(o=>e.find(l=>l.id===o)).filter(Boolean),...n]}const Jk={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Nt("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=fe(r=>[wi(t,r)],r=>r.findIndex(n=>n.id===e.id),me(t.options,"debugColumns")),e.getIsFirstColumn=r=>{var n;return((n=wi(t,r)[0])==null?void 0:n.id)===e.id},e.getIsLastColumn=r=>{var n;const i=wi(t,r);return((n=i[i.length-1])==null?void 0:n.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var r;e.setColumnOrder(t?[]:(r=e.initialState.columnOrder)!=null?r:[])},e._getOrderColumnsFn=fe(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,r,n)=>i=>{let o=[];if(!(t!=null&&t.length))o=i;else{const l=[...t],s=[...i];for(;s.length&&l.length;){const a=l.shift(),u=s.findIndex(h=>h.id===a);u>-1&&o.push(s.splice(u,1)[0])}o=[...o,...s]}return Xk(o,r,n)},me(e.options,"debugTable"))}},ca=()=>({left:[],right:[]}),Qk={getInitialState:e=>({columnPinning:ca(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Nt("columnPinning",e)}),createColumn:(e,t)=>{e.pin=r=>{const n=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var o,l;if(r==="right"){var s,a;return{left:((s=i?.left)!=null?s:[]).filter(c=>!(n!=null&&n.includes(c))),right:[...((a=i?.right)!=null?a:[]).filter(c=>!(n!=null&&n.includes(c))),...n]}}if(r==="left"){var u,h;return{left:[...((u=i?.left)!=null?u:[]).filter(c=>!(n!=null&&n.includes(c))),...n],right:((h=i?.right)!=null?h:[]).filter(c=>!(n!=null&&n.includes(c)))}}return{left:((o=i?.left)!=null?o:[]).filter(c=>!(n!=null&&n.includes(c))),right:((l=i?.right)!=null?l:[]).filter(c=>!(n!=null&&n.includes(c)))}})},e.getCanPin=()=>e.getLeafColumns().some(n=>{var i,o,l;return((i=n.columnDef.enablePinning)!=null?i:!0)&&((o=(l=t.options.enableColumnPinning)!=null?l:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const r=e.getLeafColumns().map(s=>s.id),{left:n,right:i}=t.getState().columnPinning,o=r.some(s=>n?.includes(s)),l=r.some(s=>i?.includes(s));return o?"left":l?"right":!1},e.getPinnedIndex=()=>{var r,n;const i=e.getIsPinned();return i?(r=(n=t.getState().columnPinning)==null||(n=n[i])==null?void 0:n.indexOf(e.id))!=null?r:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=fe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(r,n,i)=>{const o=[...n??[],...i??[]];return r.filter(l=>!o.includes(l.column.id))},me(t.options,"debugRows")),e.getLeftVisibleCells=fe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(r,n)=>(n??[]).map(o=>r.find(l=>l.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),me(t.options,"debugRows")),e.getRightVisibleCells=fe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(r,n)=>(n??[]).map(o=>r.find(l=>l.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),me(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var r,n;return e.setColumnPinning(t?ca():(r=(n=e.initialState)==null?void 0:n.columnPinning)!=null?r:ca())},e.getIsSomeColumnsPinned=t=>{var r;const n=e.getState().columnPinning;if(!t){var i,o;return!!((i=n.left)!=null&&i.length||(o=n.right)!=null&&o.length)}return!!((r=n[t])!=null&&r.length)},e.getLeftLeafColumns=fe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,r)=>(r??[]).map(n=>t.find(i=>i.id===n)).filter(Boolean),me(e.options,"debugColumns")),e.getRightLeafColumns=fe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,r)=>(r??[]).map(n=>t.find(i=>i.id===n)).filter(Boolean),me(e.options,"debugColumns")),e.getCenterLeafColumns=fe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n)=>{const i=[...r??[],...n??[]];return t.filter(o=>!i.includes(o.id))},me(e.options,"debugColumns"))}};function eT(e){return e||(typeof document<"u"?document:null)}const ys={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},ua=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),tT={getDefaultColumnDef:()=>ys,getInitialState:e=>({columnSizing:{},columnSizingInfo:ua(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Nt("columnSizing",e),onColumnSizingInfoChange:Nt("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var r,n,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((r=e.columnDef.minSize)!=null?r:ys.minSize,(n=o??e.columnDef.size)!=null?n:ys.size),(i=e.columnDef.maxSize)!=null?i:ys.maxSize)},e.getStart=fe(r=>[r,wi(t,r),t.getState().columnSizing],(r,n)=>n.slice(0,e.getIndex(r)).reduce((i,o)=>i+o.getSize(),0),me(t.options,"debugColumns")),e.getAfter=fe(r=>[r,wi(t,r),t.getState().columnSizing],(r,n)=>n.slice(e.getIndex(r)+1).reduce((i,o)=>i+o.getSize(),0),me(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(r=>{let{[e.id]:n,...i}=r;return i})},e.getCanResize=()=>{var r,n;return((r=e.columnDef.enableResizing)!=null?r:!0)&&((n=t.options.enableColumnResizing)!=null?n:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let r=0;const n=i=>{if(i.subHeaders.length)i.subHeaders.forEach(n);else{var o;r+=(o=i.column.getSize())!=null?o:0}};return n(e),r},e.getStart=()=>{if(e.index>0){const r=e.headerGroup.headers[e.index-1];return r.getStart()+r.getSize()}return 0},e.getResizeHandler=r=>{const n=t.getColumn(e.column.id),i=n?.getCanResize();return o=>{if(!n||!i||(o.persist==null||o.persist(),ha(o)&&o.touches&&o.touches.length>1))return;const l=e.getSize(),s=e?e.getLeafHeaders().map(d=>[d.column.id,d.column.getSize()]):[[n.id,n.getSize()]],a=ha(o)?Math.round(o.touches[0].clientX):o.clientX,u={},h=(d,f)=>{typeof f=="number"&&(t.setColumnSizingInfo(g=>{var y,w;const C=t.options.columnResizeDirection==="rtl"?-1:1,x=(f-((y=g?.startOffset)!=null?y:0))*C,b=Math.max(x/((w=g?.startSize)!=null?w:0),-.999999);return g.columnSizingStart.forEach(E=>{let[R,M]=E;u[R]=Math.round(Math.max(M+M*b,0)*100)/100}),{...g,deltaOffset:x,deltaPercentage:b}}),(t.options.columnResizeMode==="onChange"||d==="end")&&t.setColumnSizing(g=>({...g,...u})))},c=d=>h("move",d),p=d=>{h("end",d),t.setColumnSizingInfo(f=>({...f,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},v=eT(r),S={moveHandler:d=>c(d.clientX),upHandler:d=>{v?.removeEventListener("mousemove",S.moveHandler),v?.removeEventListener("mouseup",S.upHandler),p(d.clientX)}},_={moveHandler:d=>(d.cancelable&&(d.preventDefault(),d.stopPropagation()),c(d.touches[0].clientX),!1),upHandler:d=>{var f;v?.removeEventListener("touchmove",_.moveHandler),v?.removeEventListener("touchend",_.upHandler),d.cancelable&&(d.preventDefault(),d.stopPropagation()),p((f=d.touches[0])==null?void 0:f.clientX)}},m=rT()?{passive:!1}:!1;ha(o)?(v?.addEventListener("touchmove",_.moveHandler,m),v?.addEventListener("touchend",_.upHandler,m)):(v?.addEventListener("mousemove",S.moveHandler,m),v?.addEventListener("mouseup",S.upHandler,m)),t.setColumnSizingInfo(d=>({...d,startOffset:a,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var r;e.setColumnSizing(t?{}:(r=e.initialState.columnSizing)!=null?r:{})},e.resetHeaderSizeInfo=t=>{var r;e.setColumnSizingInfo(t?ua():(r=e.initialState.columnSizingInfo)!=null?r:ua())},e.getTotalSize=()=>{var t,r;return(t=(r=e.getHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,r;return(t=(r=e.getLeftHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,r;return(t=(r=e.getCenterHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,r;return(t=(r=e.getRightHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?t:0}}};let Ss=null;function rT(){if(typeof Ss=="boolean")return Ss;let e=!1;try{const t={get passive(){return e=!0,!1}},r=()=>{};window.addEventListener("test",r,t),window.removeEventListener("test",r)}catch{e=!1}return Ss=e,Ss}function ha(e){return e.type==="touchstart"}const nT={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Nt("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=r=>{e.getCanHide()&&t.setColumnVisibility(n=>({...n,[e.id]:r??!e.getIsVisible()}))},e.getIsVisible=()=>{var r,n;const i=e.columns;return(r=i.length?i.some(o=>o.getIsVisible()):(n=t.getState().columnVisibility)==null?void 0:n[e.id])!=null?r:!0},e.getCanHide=()=>{var r,n;return((r=e.columnDef.enableHiding)!=null?r:!0)&&((n=t.options.enableHiding)!=null?n:!0)},e.getToggleVisibilityHandler=()=>r=>{e.toggleVisibility==null||e.toggleVisibility(r.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=fe(()=>[e.getAllCells(),t.getState().columnVisibility],r=>r.filter(n=>n.column.getIsVisible()),me(t.options,"debugRows")),e.getVisibleCells=fe(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(r,n,i)=>[...r,...n,...i],me(t.options,"debugRows"))},createTable:e=>{const t=(r,n)=>fe(()=>[n(),n().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),me(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=r=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(r),e.resetColumnVisibility=r=>{var n;e.setColumnVisibility(r?{}:(n=e.initialState.columnVisibility)!=null?n:{})},e.toggleAllColumnsVisible=r=>{var n;r=(n=r)!=null?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:r||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(r=>!(r.getIsVisible!=null&&r.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(r=>r.getIsVisible==null?void 0:r.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>r=>{var n;e.toggleAllColumnsVisible((n=r.target)==null?void 0:n.checked)}}};function wi(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const iT={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},sT={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Nt("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var r;const n=(r=e.getCoreRowModel().flatRows[0])==null||(r=r._getAllCellsByColumnId()[t.id])==null?void 0:r.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var r,n,i,o;return((r=e.columnDef.enableGlobalFilter)!=null?r:!0)&&((n=t.options.enableGlobalFilter)!=null?n:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Er.includesString,e.getGlobalFilterFn=()=>{var t,r;const{globalFilterFn:n}=e.options;return mo(n)?n:n==="auto"?e.getGlobalAutoFilterFn():(t=(r=e.options.filterFns)==null?void 0:r[n])!=null?t:Er[n]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},oT={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Nt("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,r=!1;e._autoResetExpanded=()=>{var n,i;if(!t){e._queue(()=>{t=!0});return}if((n=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?n:!e.options.manualExpanding){if(r)return;r=!0,e._queue(()=>{e.resetExpanded(),r=!1})}},e.setExpanded=n=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(n),e.toggleAllRowsExpanded=n=>{n??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=n=>{var i,o;e.setExpanded(n?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const n=e.getState().expanded;return n===!0||Object.values(n).some(Boolean)},e.getIsAllRowsExpanded=()=>{const n=e.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let n=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const l=o.split(".");n=Math.max(n,l.length)}),n},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=r=>{t.setExpanded(n=>{var i;const o=n===!0?!0:!!(n!=null&&n[e.id]);let l={};if(n===!0?Object.keys(t.getRowModel().rowsById).forEach(s=>{l[s]=!0}):l=n,r=(i=r)!=null?i:!o,!o&&r)return{...l,[e.id]:!0};if(o&&!r){const{[e.id]:s,...a}=l;return a}return n})},e.getIsExpanded=()=>{var r;const n=t.getState().expanded;return!!((r=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?r:n===!0||n?.[e.id])},e.getCanExpand=()=>{var r,n,i;return(r=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?r:((n=t.options.enableExpanding)!=null?n:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let r=!0,n=e;for(;r&&n.parentId;)n=t.getRow(n.parentId,!0),r=n.getIsExpanded();return r},e.getToggleExpandedHandler=()=>{const r=e.getCanExpand();return()=>{r&&e.toggleExpanded()}}}},ml=0,pl=10,da=()=>({pageIndex:ml,pageSize:pl}),aT={getInitialState:e=>({...e,pagination:{...da(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Nt("pagination",e)}),createTable:e=>{let t=!1,r=!1;e._autoResetPageIndex=()=>{var n,i;if(!t){e._queue(()=>{t=!0});return}if((n=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?n:!e.options.manualPagination){if(r)return;r=!0,e._queue(()=>{e.resetPageIndex(),r=!1})}},e.setPagination=n=>{const i=o=>Nr(n,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=n=>{var i;e.setPagination(n?da():(i=e.initialState.pagination)!=null?i:da())},e.setPageIndex=n=>{e.setPagination(i=>{let o=Nr(n,i.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,l)),{...i,pageIndex:o}})},e.resetPageIndex=n=>{var i,o;e.setPageIndex(n?ml:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:ml)},e.resetPageSize=n=>{var i,o;e.setPageSize(n?pl:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:pl)},e.setPageSize=n=>{e.setPagination(i=>{const o=Math.max(1,Nr(n,i.pageSize)),l=i.pageSize*i.pageIndex,s=Math.floor(l/o);return{...i,pageIndex:s,pageSize:o}})},e.setPageCount=n=>e.setPagination(i=>{var o;let l=Nr(n,(o=e.options.pageCount)!=null?o:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...i,pageCount:l}}),e.getPageOptions=fe(()=>[e.getPageCount()],n=>{let i=[];return n&&n>0&&(i=[...new Array(n)].fill(null).map((o,l)=>l)),i},me(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:n}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:n<i-1},e.previousPage=()=>e.setPageIndex(n=>n-1),e.nextPage=()=>e.setPageIndex(n=>n+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var n;return(n=e.options.pageCount)!=null?n:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var n;return(n=e.options.rowCount)!=null?n:e.getPrePaginationRowModel().rows.length}}},fa=()=>({top:[],bottom:[]}),lT={getInitialState:e=>({rowPinning:fa(),...e}),getDefaultOptions:e=>({onRowPinningChange:Nt("rowPinning",e)}),createRow:(e,t)=>{e.pin=(r,n,i)=>{const o=n?e.getLeafRows().map(a=>{let{id:u}=a;return u}):[],l=i?e.getParentRows().map(a=>{let{id:u}=a;return u}):[],s=new Set([...l,e.id,...o]);t.setRowPinning(a=>{var u,h;if(r==="bottom"){var c,p;return{top:((c=a?.top)!=null?c:[]).filter(_=>!(s!=null&&s.has(_))),bottom:[...((p=a?.bottom)!=null?p:[]).filter(_=>!(s!=null&&s.has(_))),...Array.from(s)]}}if(r==="top"){var v,S;return{top:[...((v=a?.top)!=null?v:[]).filter(_=>!(s!=null&&s.has(_))),...Array.from(s)],bottom:((S=a?.bottom)!=null?S:[]).filter(_=>!(s!=null&&s.has(_)))}}return{top:((u=a?.top)!=null?u:[]).filter(_=>!(s!=null&&s.has(_))),bottom:((h=a?.bottom)!=null?h:[]).filter(_=>!(s!=null&&s.has(_)))}})},e.getCanPin=()=>{var r;const{enableRowPinning:n,enablePinning:i}=t.options;return typeof n=="function"?n(e):(r=n??i)!=null?r:!0},e.getIsPinned=()=>{const r=[e.id],{top:n,bottom:i}=t.getState().rowPinning,o=r.some(s=>n?.includes(s)),l=r.some(s=>i?.includes(s));return o?"top":l?"bottom":!1},e.getPinnedIndex=()=>{var r,n;const i=e.getIsPinned();if(!i)return-1;const o=(r=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:r.map(l=>{let{id:s}=l;return s});return(n=o?.indexOf(e.id))!=null?n:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var r,n;return e.setRowPinning(t?fa():(r=(n=e.initialState)==null?void 0:n.rowPinning)!=null?r:fa())},e.getIsSomeRowsPinned=t=>{var r;const n=e.getState().rowPinning;if(!t){var i,o;return!!((i=n.top)!=null&&i.length||(o=n.bottom)!=null&&o.length)}return!!((r=n[t])!=null&&r.length)},e._getPinnedRows=(t,r,n)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(r??[]).map(l=>{const s=e.getRow(l,!0);return s.getIsAllParentsExpanded()?s:null}):(r??[]).map(l=>t.find(s=>s.id===l))).filter(Boolean).map(l=>({...l,position:n}))},e.getTopRows=fe(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,r)=>e._getPinnedRows(t,r,"top"),me(e.options,"debugRows")),e.getBottomRows=fe(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,r)=>e._getPinnedRows(t,r,"bottom"),me(e.options,"debugRows")),e.getCenterRows=fe(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,r,n)=>{const i=new Set([...r??[],...n??[]]);return t.filter(o=>!i.has(o.id))},me(e.options,"debugRows"))}},cT={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Nt("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var r;return e.setRowSelection(t?{}:(r=e.initialState.rowSelection)!=null?r:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(r=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const n={...r},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(o=>{o.getCanSelect()&&(n[o.id]=!0)}):i.forEach(o=>{delete n[o.id]}),n})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(r=>{const n=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...r};return e.getRowModel().rows.forEach(o=>{gl(i,o.id,n,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=fe(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,r)=>Object.keys(t).length?ma(e,r):{rows:[],flatRows:[],rowsById:{}},me(e.options,"debugTable")),e.getFilteredSelectedRowModel=fe(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,r)=>Object.keys(t).length?ma(e,r):{rows:[],flatRows:[],rowsById:{}},me(e.options,"debugTable")),e.getGroupedSelectedRowModel=fe(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,r)=>Object.keys(t).length?ma(e,r):{rows:[],flatRows:[],rowsById:{}},me(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:r}=e.getState();let n=!!(t.length&&Object.keys(r).length);return n&&t.some(i=>i.getCanSelect()&&!r[i.id])&&(n=!1),n},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:r}=e.getState();let n=!!t.length;return n&&t.some(i=>!r[i.id])&&(n=!1),n},e.getIsSomeRowsSelected=()=>{var t;const r=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return r>0&&r<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(r=>r.getCanSelect()).some(r=>r.getIsSelected()||r.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(r,n)=>{const i=e.getIsSelected();t.setRowSelection(o=>{var l;if(r=typeof r<"u"?r:!i,e.getCanSelect()&&i===r)return o;const s={...o};return gl(s,e.id,r,(l=n?.selectChildren)!=null?l:!0,t),s})},e.getIsSelected=()=>{const{rowSelection:r}=t.getState();return wc(e,r)},e.getIsSomeSelected=()=>{const{rowSelection:r}=t.getState();return vl(e,r)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:r}=t.getState();return vl(e,r)==="all"},e.getCanSelect=()=>{var r;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(r=t.options.enableRowSelection)!=null?r:!0},e.getCanSelectSubRows=()=>{var r;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(r=t.options.enableSubRowSelection)!=null?r:!0},e.getCanMultiSelect=()=>{var r;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(r=t.options.enableMultiRowSelection)!=null?r:!0},e.getToggleSelectedHandler=()=>{const r=e.getCanSelect();return n=>{var i;r&&e.toggleSelected((i=n.target)==null?void 0:i.checked)}}}},gl=(e,t,r,n,i)=>{var o;const l=i.getRow(t,!0);r?(l.getCanMultiSelect()||Object.keys(e).forEach(s=>delete e[s]),l.getCanSelect()&&(e[t]=!0)):delete e[t],n&&(o=l.subRows)!=null&&o.length&&l.getCanSelectSubRows()&&l.subRows.forEach(s=>gl(e,s.id,r,n,i))};function ma(e,t){const r=e.getState().rowSelection,n=[],i={},o=function(l,s){return l.map(a=>{var u;const h=wc(a,r);if(h&&(n.push(a),i[a.id]=a),(u=a.subRows)!=null&&u.length&&(a={...a,subRows:o(a.subRows)}),h)return a}).filter(Boolean)};return{rows:o(t.rows),flatRows:n,rowsById:i}}function wc(e,t){var r;return(r=t[e.id])!=null?r:!1}function vl(e,t,r){var n;if(!((n=e.subRows)!=null&&n.length))return!1;let i=!0,o=!1;return e.subRows.forEach(l=>{if(!(o&&!i)&&(l.getCanSelect()&&(wc(l,t)?o=!0:i=!1),l.subRows&&l.subRows.length)){const s=vl(l,t);s==="all"?o=!0:(s==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const _l=/([0-9]+)/gm,uT=(e,t,r)=>dg(qr(e.getValue(r)).toLowerCase(),qr(t.getValue(r)).toLowerCase()),hT=(e,t,r)=>dg(qr(e.getValue(r)),qr(t.getValue(r))),dT=(e,t,r)=>Cc(qr(e.getValue(r)).toLowerCase(),qr(t.getValue(r)).toLowerCase()),fT=(e,t,r)=>Cc(qr(e.getValue(r)),qr(t.getValue(r))),mT=(e,t,r)=>{const n=e.getValue(r),i=t.getValue(r);return n>i?1:n<i?-1:0},pT=(e,t,r)=>Cc(e.getValue(r),t.getValue(r));function Cc(e,t){return e===t?0:e>t?1:-1}function qr(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function dg(e,t){const r=e.split(_l).filter(Boolean),n=t.split(_l).filter(Boolean);for(;r.length&&n.length;){const i=r.shift(),o=n.shift(),l=parseInt(i,10),s=parseInt(o,10),a=[l,s].sort();if(isNaN(a[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(a[1]))return isNaN(l)?-1:1;if(l>s)return 1;if(s>l)return-1}return r.length-n.length}const ci={alphanumeric:uT,alphanumericCaseSensitive:hT,text:dT,textCaseSensitive:fT,datetime:mT,basic:pT},gT={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Nt("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const r=t.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const i of r){const o=i?.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return ci.datetime;if(typeof o=="string"&&(n=!0,o.split(_l).length>1))return ci.alphanumeric}return n?ci.text:ci.basic},e.getAutoSortDir=()=>{const r=t.getFilteredRowModel().flatRows[0];return typeof r?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var r,n;if(!e)throw new Error;return mo(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(r=(n=t.options.sortingFns)==null?void 0:n[e.columnDef.sortingFn])!=null?r:ci[e.columnDef.sortingFn]},e.toggleSorting=(r,n)=>{const i=e.getNextSortingOrder(),o=typeof r<"u"&&r!==null;t.setSorting(l=>{const s=l?.find(v=>v.id===e.id),a=l?.findIndex(v=>v.id===e.id);let u=[],h,c=o?r:i==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&n?s?h="toggle":h="add":l!=null&&l.length&&a!==l.length-1?h="replace":s?h="toggle":h="replace",h==="toggle"&&(o||i||(h="remove")),h==="add"){var p;u=[...l,{id:e.id,desc:c}],u.splice(0,u.length-((p=t.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else h==="toggle"?u=l.map(v=>v.id===e.id?{...v,desc:c}:v):h==="remove"?u=l.filter(v=>v.id!==e.id):u=[{id:e.id,desc:c}];return u})},e.getFirstSortDir=()=>{var r,n;return((r=(n=e.columnDef.sortDescFirst)!=null?n:t.options.sortDescFirst)!=null?r:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=r=>{var n,i;const o=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==o&&((n=t.options.enableSortingRemoval)==null||n)&&(!(r&&(i=t.options.enableMultiRemove)!=null)||i)?!1:l==="desc"?"asc":"desc":o},e.getCanSort=()=>{var r,n;return((r=e.columnDef.enableSorting)!=null?r:!0)&&((n=t.options.enableSorting)!=null?n:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var r,n;return(r=(n=e.columnDef.enableMultiSort)!=null?n:t.options.enableMultiSort)!=null?r:!!e.accessorFn},e.getIsSorted=()=>{var r;const n=(r=t.getState().sorting)==null?void 0:r.find(i=>i.id===e.id);return n?n.desc?"desc":"asc":!1},e.getSortIndex=()=>{var r,n;return(r=(n=t.getState().sorting)==null?void 0:n.findIndex(i=>i.id===e.id))!=null?r:-1},e.clearSorting=()=>{t.setSorting(r=>r!=null&&r.length?r.filter(n=>n.id!==e.id):[])},e.getToggleSortingHandler=()=>{const r=e.getCanSort();return n=>{r&&(n.persist==null||n.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(n):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var r,n;e.setSorting(t?[]:(r=(n=e.initialState)==null?void 0:n.sorting)!=null?r:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},vT=[Fk,nT,Jk,Qk,Nk,Vk,iT,sT,gT,Zk,oT,aT,lT,cT,tT];function _T(e){var t,r;const n=[...vT,...(t=e._features)!=null?t:[]];let i={_features:n};const o=i._features.reduce((p,v)=>Object.assign(p,v.getDefaultOptions==null?void 0:v.getDefaultOptions(i)),{}),l=p=>i.options.mergeOptions?i.options.mergeOptions(o,p):{...o,...p};let a={...{},...(r=e.initialState)!=null?r:{}};i._features.forEach(p=>{var v;a=(v=p.getInitialState==null?void 0:p.getInitialState(a))!=null?v:a});const u=[];let h=!1;const c={_features:n,options:{...o,...e},initialState:a,_queue:p=>{u.push(p),h||(h=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();h=!1}).catch(v=>setTimeout(()=>{throw v})))},reset:()=>{i.setState(i.initialState)},setOptions:p=>{const v=Nr(p,i.options);i.options=l(v)},getState:()=>i.options.state,setState:p=>{i.options.onStateChange==null||i.options.onStateChange(p)},_getRowId:(p,v,S)=>{var _;return(_=i.options.getRowId==null?void 0:i.options.getRowId(p,v,S))!=null?_:`${S?[S.id,v].join("."):v}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(p,v)=>{let S=(v?i.getPrePaginationRowModel():i.getRowModel()).rowsById[p];if(!S&&(S=i.getCoreRowModel().rowsById[p],!S))throw new Error;return S},_getDefaultColumnDef:fe(()=>[i.options.defaultColumn],p=>{var v;return p=(v=p)!=null?v:{},{header:S=>{const _=S.header.column.columnDef;return _.accessorKey?_.accessorKey:_.accessorFn?_.id:null},cell:S=>{var _,m;return(_=(m=S.renderValue())==null||m.toString==null?void 0:m.toString())!=null?_:null},...i._features.reduce((S,_)=>Object.assign(S,_.getDefaultColumnDef==null?void 0:_.getDefaultColumnDef()),{}),...p}},me(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:fe(()=>[i._getColumnDefs()],p=>{const v=function(S,_,m){return m===void 0&&(m=0),S.map(d=>{const f=Bk(i,d,m,_),g=d;return f.columns=g.columns?v(g.columns,f,m+1):[],f})};return v(p)},me(e,"debugColumns")),getAllFlatColumns:fe(()=>[i.getAllColumns()],p=>p.flatMap(v=>v.getFlatColumns()),me(e,"debugColumns")),_getAllFlatColumnsById:fe(()=>[i.getAllFlatColumns()],p=>p.reduce((v,S)=>(v[S.id]=S,v),{}),me(e,"debugColumns")),getAllLeafColumns:fe(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(p,v)=>{let S=p.flatMap(_=>_.getLeafColumns());return v(S)},me(e,"debugColumns")),getColumn:p=>i._getAllFlatColumnsById()[p]};Object.assign(i,c);for(let p=0;p<i._features.length;p++){const v=i._features[p];v==null||v.createTable==null||v.createTable(i)}return i}function BM(){return e=>fe(()=>[e.options.data],t=>{const r={rows:[],flatRows:[],rowsById:{}},n=function(i,o,l){o===void 0&&(o=0);const s=[];for(let u=0;u<i.length;u++){const h=Hk(e,e._getRowId(i[u],u,l),i[u],u,o,void 0,l?.id);if(r.flatRows.push(h),r.rowsById[h.id]=h,s.push(h),e.options.getSubRows){var a;h.originalSubRows=e.options.getSubRows(i[u],u),(a=h.originalSubRows)!=null&&a.length&&(h.subRows=n(h.originalSubRows,o+1,h))}}return s};return r.rows=n(t),r},me(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function FM(){return e=>fe(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,r)=>{if(!r.rows.length||!(t!=null&&t.length))return r;const n=e.getState().sorting,i=[],o=n.filter(a=>{var u;return(u=e.getColumn(a.id))==null?void 0:u.getCanSort()}),l={};o.forEach(a=>{const u=e.getColumn(a.id);u&&(l[a.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const s=a=>{const u=a.map(h=>({...h}));return u.sort((h,c)=>{for(let v=0;v<o.length;v+=1){var p;const S=o[v],_=l[S.id],m=_.sortUndefined,d=(p=S?.desc)!=null?p:!1;let f=0;if(m){const g=h.getValue(S.id),y=c.getValue(S.id),w=g===void 0,C=y===void 0;if(w||C){if(m==="first")return w?-1:1;if(m==="last")return w?1:-1;f=w&&C?0:w?m:-m}}if(f===0&&(f=_.sortingFn(h,c,S.id)),f!==0)return d&&(f*=-1),_.invertSorting&&(f*=-1),f}return h.index-c.index}),u.forEach(h=>{var c;i.push(h),(c=h.subRows)!=null&&c.length&&(h.subRows=s(h.subRows))}),u};return{rows:s(r.rows),flatRows:i,rowsById:r.rowsById}},me(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function HM(e,t){return e?yT(e)?H.createElement(e,t):e:null}function yT(e){return ST(e)||typeof e=="function"||wT(e)}function ST(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function wT(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function NM(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[r]=H.useState(()=>({current:_T(t)})),[n,i]=H.useState(()=>r.current.initialState);return r.current.setOptions(o=>({...o,...e,state:{...n,...e.state},onStateChange:l=>{i(l),e.onStateChange==null||e.onStateChange(l)}})),r.current}function CT(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const bT={},mi={};function un(e,t){try{const n=(bT[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in mi?mi[n]:od(n,n.split(":"))}catch{if(e in mi)return mi[e];const r=e?.match(xT);return r?od(e,r.slice(1)):NaN}}const xT=/([+-]\d\d):?(\d\d)?/;function od(e,t){const r=+(t[0]||0),n=+(t[1]||0),i=+(t[2]||0)/60;return mi[e]=r*60+n>0?r*60+n+i:r*60-n-i}class mr extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(un(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),fg(this),yl(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new mr(...r,t):new mr(Date.now(),t)}withTimeZone(t){return new mr(+this,t)}getTimezoneOffset(){const t=-un(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),yl(this),+this}[Symbol.for("constructDateFrom")](t){return new mr(+new Date(t),this.timeZone)}}const ad=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!ad.test(e))return;const t=e.replace(ad,"$1UTC");mr.prototype[t]&&(e.startsWith("get")?mr.prototype[e]=function(){return this.internal[t]()}:(mr.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),ET(this),+this},mr.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),yl(this),+this}))});function yl(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-un(e.timeZone,e)*60))}function ET(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),fg(e)}function fg(e){const t=un(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const i=-new Date(+e).getTimezoneOffset(),o=-new Date(+n).getTimezoneOffset(),l=i-o,s=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&s&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const a=i-r;a&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+a);const u=new Date(+e);u.setUTCSeconds(0);const h=i>0?u.getSeconds():(u.getSeconds()-60)%60,c=Math.round(-(un(e.timeZone,e)*60))%60;(c||h)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+c),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+c+h));const p=un(e.timeZone,e),v=p>0?Math.floor(p):Math.ceil(p),_=-new Date(+e).getTimezoneOffset()-v,m=v!==r,d=_-a;if(m&&d){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+d);const f=un(e.timeZone,e),g=f>0?Math.floor(f):Math.ceil(f),y=v-g;y&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+y),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y))}}class _t extends mr{static tz(t,...r){return r.length?new _t(...r,t):new _t(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),i=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,i]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${i}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,i]=this.tzComponents();return`${t} GMT${r}${n}${i} (${CT(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),i=String(Math.abs(t)%60).padStart(2,"0");return[r,n,i]}withTimeZone(t){return new _t(+this,t)}[Symbol.for("constructDateFrom")](t){return new _t(+new Date(t),this.timeZone)}}const ld=5,kT=4;function TT(e,t){const r=t.startOfMonth(e),n=r.getDay()>0?r.getDay():7,i=t.addDays(e,-n+1),o=t.addDays(i,ld*7-1);return t.getMonth(e)===t.getMonth(o)?ld:kT}function mg(e,t){const r=t.startOfMonth(e),n=r.getDay();return n===1?r:n===0?t.addDays(r,-6):t.addDays(r,-1*(n-1))}function DT(e,t){const r=mg(e,t),n=TT(e,t);return t.addDays(r,n*7-1)}class Vt{constructor(t,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?_t.tz(this.options.timeZone):new this.Date,this.newDate=(n,i,o)=>this.overrides?.newDate?this.overrides.newDate(n,i,o):this.options.timeZone?new _t(n,i,o,this.options.timeZone):new Date(n,i,o),this.addDays=(n,i)=>this.overrides?.addDays?this.overrides.addDays(n,i):dv(n,i),this.addMonths=(n,i)=>this.overrides?.addMonths?this.overrides.addMonths(n,i):fv(n,i),this.addWeeks=(n,i)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,i):mv(n,i),this.addYears=(n,i)=>this.overrides?.addYears?this.overrides.addYears(n,i):pv(n,i),this.differenceInCalendarDays=(n,i)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,i):gv(n,i),this.differenceInCalendarMonths=(n,i)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,i):vv(n,i),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):_v(n),this.eachYearOfInterval=n=>{const i=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(n):yv(n),o=new Set(i.map(s=>this.getYear(s)));if(o.size===i.length)return i;const l=[];return o.forEach(s=>{l.push(new Date(s,0,1))}),l},this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):DT(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):Sv(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):wv(n),this.endOfWeek=(n,i)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,i):Cv(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):bv(n),this.format=(n,i,o)=>{const l=this.overrides?.format?this.overrides.format(n,i,this.options):xv(n,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):Ev(n),this.getMonth=(n,i)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):kv(n,this.options),this.getYear=(n,i)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):Tv(n,this.options),this.getWeek=(n,i)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):Dv(n,this.options),this.isAfter=(n,i)=>this.overrides?.isAfter?this.overrides.isAfter(n,i):Rv(n,i),this.isBefore=(n,i)=>this.overrides?.isBefore?this.overrides.isBefore(n,i):Mv(n,i),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):Av(n),this.isSameDay=(n,i)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,i):Ov(n,i),this.isSameMonth=(n,i)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,i):Iv(n,i),this.isSameYear=(n,i)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,i):Lv(n,i),this.max=n=>this.overrides?.max?this.overrides.max(n):Pv(n),this.min=n=>this.overrides?.min?this.overrides.min(n):Bv(n),this.setMonth=(n,i)=>this.overrides?.setMonth?this.overrides.setMonth(n,i):Fv(n,i),this.setYear=(n,i)=>this.overrides?.setYear?this.overrides.setYear(n,i):Hv(n,i),this.startOfBroadcastWeek=(n,i)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):mg(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):Nv(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):Vv(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):$v(n),this.startOfWeek=(n,i)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):Wv(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):zv(n),this.options={locale:Nd,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let i=0;i<10;i++)n[i.toString()]=r.format(i);return n}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,n=>r[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Vt.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:n,numerals:i}=this.options,o=r?.code;if(o&&Vt.yearFirstLocales.has(o))try{return new Intl.DateTimeFormat(o,{month:"long",year:"numeric",timeZone:n,numberingSystem:i}).format(t)}catch{}const l=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,l)}}Vt.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const wr=new Vt;class pg{constructor(t,r,n=wr){this.date=t,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(t,r)),this.dateLib=n}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class RT{constructor(t,r){this.date=t,this.weeks=r}}class MT{constructor(t,r){this.days=r,this.weekNumber=t}}function AT(e){return I.createElement("button",{...e})}function OT(e){return I.createElement("span",{...e})}function IT(e){const{size:t=24,orientation:r="left",className:n}=e;return I.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&I.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&I.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&I.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&I.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function LT(e){const{day:t,modifiers:r,...n}=e;return I.createElement("td",{...n})}function PT(e){const{day:t,modifiers:r,...n}=e,i=I.useRef(null);return I.useEffect(()=>{r.focused&&i.current?.focus()},[r.focused]),I.createElement("button",{ref:i,...n})}var le;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(le||(le={}));var Ye;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Ye||(Ye={}));var tr;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(tr||(tr={}));var Ot;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Ot||(Ot={}));function BT(e){const{options:t,className:r,components:n,classNames:i,...o}=e,l=[i[le.Dropdown],r].join(" "),s=t?.find(({value:a})=>a===o.value);return I.createElement("span",{"data-disabled":o.disabled,className:i[le.DropdownRoot]},I.createElement(n.Select,{className:l,...o},t?.map(({value:a,label:u,disabled:h})=>I.createElement(n.Option,{key:a,value:a,disabled:h},u))),I.createElement("span",{className:i[le.CaptionLabel],"aria-hidden":!0},s?.label,I.createElement(n.Chevron,{orientation:"down",size:18,className:i[le.Chevron]})))}function FT(e){return I.createElement("div",{...e})}function HT(e){return I.createElement("div",{...e})}function NT(e){const{calendarMonth:t,displayIndex:r,...n}=e;return I.createElement("div",{...n},e.children)}function VT(e){const{calendarMonth:t,displayIndex:r,...n}=e;return I.createElement("div",{...n})}function $T(e){return I.createElement("table",{...e})}function WT(e){return I.createElement("div",{...e})}const gg=H.createContext(void 0);function Zi(){const e=H.useContext(gg);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function zT(e){const{components:t}=Zi();return I.createElement(t.Dropdown,{...e})}function UT(e){const{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:i,...o}=e,{components:l,classNames:s,labels:{labelPrevious:a,labelNext:u}}=Zi(),h=H.useCallback(p=>{i&&r?.(p)},[i,r]),c=H.useCallback(p=>{n&&t?.(p)},[n,t]);return I.createElement("nav",{...o},I.createElement(l.PreviousMonthButton,{type:"button",className:s[le.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":a(n),onClick:c},I.createElement(l.Chevron,{disabled:n?void 0:!0,className:s[le.Chevron],orientation:"left"})),I.createElement(l.NextMonthButton,{type:"button",className:s[le.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":u(i),onClick:h},I.createElement(l.Chevron,{disabled:i?void 0:!0,orientation:"right",className:s[le.Chevron]})))}function jT(e){const{components:t}=Zi();return I.createElement(t.Button,{...e})}function qT(e){return I.createElement("option",{...e})}function GT(e){const{components:t}=Zi();return I.createElement(t.Button,{...e})}function KT(e){const{rootRef:t,...r}=e;return I.createElement("div",{...r,ref:t})}function YT(e){return I.createElement("select",{...e})}function ZT(e){const{week:t,...r}=e;return I.createElement("tr",{...r})}function XT(e){return I.createElement("th",{...e})}function JT(e){return I.createElement("thead",{"aria-hidden":!0},I.createElement("tr",{...e}))}function QT(e){const{week:t,...r}=e;return I.createElement("th",{...r})}function eD(e){return I.createElement("th",{...e})}function tD(e){return I.createElement("tbody",{...e})}function rD(e){const{components:t}=Zi();return I.createElement(t.Dropdown,{...e})}const nD=Object.freeze(Object.defineProperty({__proto__:null,Button:AT,CaptionLabel:OT,Chevron:IT,Day:LT,DayButton:PT,Dropdown:BT,DropdownNav:FT,Footer:HT,Month:NT,MonthCaption:VT,MonthGrid:$T,Months:WT,MonthsDropdown:zT,Nav:UT,NextMonthButton:jT,Option:qT,PreviousMonthButton:GT,Root:KT,Select:YT,Week:ZT,WeekNumber:QT,WeekNumberHeader:eD,Weekday:XT,Weekdays:JT,Weeks:tD,YearsDropdown:rD},Symbol.toStringTag,{value:"Module"}));function kr(e,t,r=!1,n=wr){let{from:i,to:o}=e;const{differenceInCalendarDays:l,isSameDay:s}=n;return i&&o?(l(o,i)<0&&([i,o]=[o,i]),l(t,i)>=(r?1:0)&&l(o,t)>=(r?1:0)):!r&&o?s(o,t):!r&&i?s(i,t):!1}function vg(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function bc(e){return!!(e&&typeof e=="object"&&"from"in e)}function _g(e){return!!(e&&typeof e=="object"&&"after"in e)}function yg(e){return!!(e&&typeof e=="object"&&"before"in e)}function Sg(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function wg(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Tr(e,t,r=wr){const n=Array.isArray(t)?t:[t],{isSameDay:i,differenceInCalendarDays:o,isAfter:l}=r;return n.some(s=>{if(typeof s=="boolean")return s;if(r.isDate(s))return i(e,s);if(wg(s,r))return s.includes(e);if(bc(s))return kr(s,e,!1,r);if(Sg(s))return Array.isArray(s.dayOfWeek)?s.dayOfWeek.includes(e.getDay()):s.dayOfWeek===e.getDay();if(vg(s)){const a=o(s.before,e),u=o(s.after,e),h=a>0,c=u<0;return l(s.before,s.after)?c&&h:h||c}return _g(s)?o(e,s.after)>0:yg(s)?o(s.before,e)>0:typeof s=="function"?s(e):!1})}function iD(e,t,r,n,i){const{disabled:o,hidden:l,modifiers:s,showOutsideDays:a,broadcastCalendar:u,today:h}=t,{isSameDay:c,isSameMonth:p,startOfMonth:v,isBefore:S,endOfMonth:_,isAfter:m}=i,d=r&&v(r),f=n&&_(n),g={[Ye.focused]:[],[Ye.outside]:[],[Ye.disabled]:[],[Ye.hidden]:[],[Ye.today]:[]},y={};for(const w of e){const{date:C,displayMonth:x}=w,b=!!(x&&!p(C,x)),E=!!(d&&S(C,d)),R=!!(f&&m(C,f)),M=!!(o&&Tr(C,o,i)),L=!!(l&&Tr(C,l,i))||E||R||!u&&!a&&b||u&&a===!1&&b,D=c(C,h??i.today());b&&g.outside.push(w),M&&g.disabled.push(w),L&&g.hidden.push(w),D&&g.today.push(w),s&&Object.keys(s).forEach(B=>{const $=s?.[B];$&&Tr(C,$,i)&&(y[B]?y[B].push(w):y[B]=[w])})}return w=>{const C={[Ye.focused]:!1,[Ye.disabled]:!1,[Ye.hidden]:!1,[Ye.outside]:!1,[Ye.today]:!1},x={};for(const b in g){const E=g[b];C[b]=E.some(R=>R===w)}for(const b in y)x[b]=y[b].some(E=>E===w);return{...C,...x}}}function sD(e,t,r={}){return Object.entries(e).filter(([,i])=>i===!0).reduce((i,[o])=>(r[o]?i.push(r[o]):t[Ye[o]]?i.push(t[Ye[o]]):t[tr[o]]&&i.push(t[tr[o]]),i),[t[le.Day]])}function oD(e){return{...nD,...e}}function aD(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,n])=>{r.startsWith("data-")&&(t[r]=n)}),t}function lD(){const e={};for(const t in le)e[le[t]]=`rdp-${le[t]}`;for(const t in Ye)e[Ye[t]]=`rdp-${Ye[t]}`;for(const t in tr)e[tr[t]]=`rdp-${tr[t]}`;for(const t in Ot)e[Ot[t]]=`rdp-${Ot[t]}`;return e}function Cg(e,t,r){return(r??new Vt(t)).formatMonthYear(e)}const cD=Cg;function uD(e,t,r){return(r??new Vt(t)).format(e,"d")}function hD(e,t=wr){return t.format(e,"LLLL")}function dD(e,t,r){return(r??new Vt(t)).format(e,"cccccc")}function fD(e,t=wr){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function mD(){return""}function bg(e,t=wr){return t.format(e,"yyyy")}const pD=bg,gD=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Cg,formatDay:uD,formatMonthCaption:cD,formatMonthDropdown:hD,formatWeekNumber:fD,formatWeekNumberHeader:mD,formatWeekdayName:dD,formatYearCaption:pD,formatYearDropdown:bg},Symbol.toStringTag,{value:"Module"}));function vD(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...gD,...e}}function _D(e,t,r,n,i){const{startOfMonth:o,startOfYear:l,endOfYear:s,eachMonthOfInterval:a,getMonth:u}=i;return a({start:l(e),end:s(e)}).map(p=>{const v=n.formatMonthDropdown(p,i),S=u(p),_=t&&p<o(t)||r&&p>o(r)||!1;return{value:S,label:v,disabled:_}})}function yD(e,t={},r={}){let n={...t?.[le.Day]};return Object.entries(e).filter(([,i])=>i===!0).forEach(([i])=>{n={...n,...r?.[i]}}),n}function SD(e,t,r){const n=e.today(),i=t?e.startOfISOWeek(n):e.startOfWeek(n),o=[];for(let l=0;l<7;l++){const s=e.addDays(i,l);o.push(s)}return o}function wD(e,t,r,n,i=!1){if(!e||!t)return;const{startOfYear:o,endOfYear:l,eachYearOfInterval:s,getYear:a}=n,u=o(e),h=l(t),c=s({start:u,end:h});return i&&c.reverse(),c.map(p=>{const v=r.formatYearDropdown(p,n);return{value:a(p),label:v,disabled:!1}})}function xg(e,t,r,n){let i=(n??new Vt(r)).format(e,"PPPP");return t.today&&(i=`Today, ${i}`),t.selected&&(i=`${i}, selected`),i}const CD=xg;function Eg(e,t,r){return(r??new Vt(t)).formatMonthYear(e)}const bD=Eg;function xD(e,t,r,n){let i=(n??new Vt(r)).format(e,"PPPP");return t?.today&&(i=`Today, ${i}`),i}function ED(e){return"Choose the Month"}function kD(){return""}function TD(e){return"Go to the Next Month"}function DD(e){return"Go to the Previous Month"}function RD(e,t,r){return(r??new Vt(t)).format(e,"cccc")}function MD(e,t){return`Week ${e}`}function AD(e){return"Week Number"}function OD(e){return"Choose the Year"}const ID=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:bD,labelDay:CD,labelDayButton:xg,labelGrid:Eg,labelGridcell:xD,labelMonthDropdown:ED,labelNav:kD,labelNext:TD,labelPrevious:DD,labelWeekNumber:MD,labelWeekNumberHeader:AD,labelWeekday:RD,labelYearDropdown:OD},Symbol.toStringTag,{value:"Module"})),Xi=e=>e instanceof HTMLElement?e:null,pa=e=>[...e.querySelectorAll("[data-animated-month]")??[]],LD=e=>Xi(e.querySelector("[data-animated-month]")),ga=e=>Xi(e.querySelector("[data-animated-caption]")),va=e=>Xi(e.querySelector("[data-animated-weeks]")),PD=e=>Xi(e.querySelector("[data-animated-nav]")),BD=e=>Xi(e.querySelector("[data-animated-weekdays]"));function FD(e,t,{classNames:r,months:n,focused:i,dateLib:o}){const l=H.useRef(null),s=H.useRef(n),a=H.useRef(!1);H.useLayoutEffect(()=>{const u=s.current;if(s.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||u.length===0||n.length!==u.length)return;const h=o.isSameMonth(n[0].date,u[0].date),c=o.isAfter(n[0].date,u[0].date),p=c?r[Ot.caption_after_enter]:r[Ot.caption_before_enter],v=c?r[Ot.weeks_after_enter]:r[Ot.weeks_before_enter],S=l.current,_=e.current.cloneNode(!0);if(_ instanceof HTMLElement?(pa(_).forEach(g=>{if(!(g instanceof HTMLElement))return;const y=LD(g);y&&g.contains(y)&&g.removeChild(y);const w=ga(g);w&&w.classList.remove(p);const C=va(g);C&&C.classList.remove(v)}),l.current=_):l.current=null,a.current||h||i)return;const m=S instanceof HTMLElement?pa(S):[],d=pa(e.current);if(d?.every(f=>f instanceof HTMLElement)&&m&&m.every(f=>f instanceof HTMLElement)){a.current=!0,e.current.style.isolation="isolate";const f=PD(e.current);f&&(f.style.zIndex="1"),d.forEach((g,y)=>{const w=m[y];if(!w)return;g.style.position="relative",g.style.overflow="hidden";const C=ga(g);C&&C.classList.add(p);const x=va(g);x&&x.classList.add(v);const b=()=>{a.current=!1,e.current&&(e.current.style.isolation=""),f&&(f.style.zIndex=""),C&&C.classList.remove(p),x&&x.classList.remove(v),g.style.position="",g.style.overflow="",g.contains(w)&&g.removeChild(w)};w.style.pointerEvents="none",w.style.position="absolute",w.style.overflow="hidden",w.setAttribute("aria-hidden","true");const E=BD(w);E&&(E.style.opacity="0");const R=ga(w);R&&(R.classList.add(c?r[Ot.caption_before_exit]:r[Ot.caption_after_exit]),R.addEventListener("animationend",b));const M=va(w);M&&M.classList.add(c?r[Ot.weeks_before_exit]:r[Ot.weeks_after_exit]),g.insertBefore(w,g.firstChild)})}})}function HD(e,t,r,n){const i=e[0],o=e[e.length-1],{ISOWeek:l,fixedWeeks:s,broadcastCalendar:a}=r??{},{addDays:u,differenceInCalendarDays:h,differenceInCalendarMonths:c,endOfBroadcastWeek:p,endOfISOWeek:v,endOfMonth:S,endOfWeek:_,isAfter:m,startOfBroadcastWeek:d,startOfISOWeek:f,startOfWeek:g}=n,y=a?d(i,n):l?f(i):g(i),w=a?p(o):l?v(S(o)):_(S(o)),C=h(w,y),x=c(o,i)+1,b=[];for(let M=0;M<=C;M++){const L=u(y,M);if(t&&m(L,t))break;b.push(L)}const R=(a?35:42)*x;if(s&&b.length<R){const M=R-b.length;for(let L=0;L<M;L++){const D=u(b[b.length-1],1);b.push(D)}}return b}function ND(e){const t=[];return e.reduce((r,n)=>{const i=n.weeks.reduce((o,l)=>o.concat(l.days.slice()),t.slice());return r.concat(i.slice())},t.slice())}function VD(e,t,r,n){const{numberOfMonths:i=1}=r,o=[];for(let l=0;l<i;l++){const s=n.addMonths(e,l);if(t&&s>t)break;o.push(s)}return o}function cd(e,t,r,n){const{month:i,defaultMonth:o,today:l=n.today(),numberOfMonths:s=1}=e;let a=i||o||l;const{differenceInCalendarMonths:u,addMonths:h,startOfMonth:c}=n;if(r&&u(r,a)<s-1){const p=-1*(s-1);a=h(r,p)}return t&&u(a,t)<0&&(a=t),c(a)}function $D(e,t,r,n){const{addDays:i,endOfBroadcastWeek:o,endOfISOWeek:l,endOfMonth:s,endOfWeek:a,getISOWeek:u,getWeek:h,startOfBroadcastWeek:c,startOfISOWeek:p,startOfWeek:v}=n,S=e.reduce((_,m)=>{const d=r.broadcastCalendar?c(m,n):r.ISOWeek?p(m):v(m),f=r.broadcastCalendar?o(m):r.ISOWeek?l(s(m)):a(s(m)),g=t.filter(x=>x>=d&&x<=f),y=r.broadcastCalendar?35:42;if(r.fixedWeeks&&g.length<y){const x=t.filter(b=>{const E=y-g.length;return b>f&&b<=i(f,E)});g.push(...x)}const w=g.reduce((x,b)=>{const E=r.ISOWeek?u(b):h(b),R=x.find(L=>L.weekNumber===E),M=new pg(b,m,n);return R?R.days.push(M):x.push(new MT(E,[M])),x},[]),C=new RT(m,w);return _.push(C),_},[]);return r.reverseMonths?S.reverse():S}function WD(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:i,startOfDay:o,startOfMonth:l,endOfMonth:s,addYears:a,endOfYear:u,newDate:h,today:c}=t,{fromYear:p,toYear:v,fromMonth:S,toMonth:_}=e;!r&&S&&(r=S),!r&&p&&(r=t.newDate(p,0,1)),!n&&_&&(n=_),!n&&v&&(n=h(v,11,31));const m=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=l(r):p?r=h(p,0,1):!r&&m&&(r=i(a(e.today??c(),-100))),n?n=s(n):v?n=h(v,11,31):!n&&m&&(n=u(e.today??c())),[r&&o(r),n&&o(n)]}function zD(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:o=1}=r,{startOfMonth:l,addMonths:s,differenceInCalendarMonths:a}=n,u=i?o:1,h=l(e);if(!t)return s(h,u);if(!(a(t,e)<o))return s(h,u)}function UD(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:o}=r,{startOfMonth:l,addMonths:s,differenceInCalendarMonths:a}=n,u=i?o??1:1,h=l(e);if(!t)return s(h,-u);if(!(a(h,t)<=0))return s(h,-u)}function jD(e){const t=[];return e.reduce((r,n)=>r.concat(n.weeks.slice()),t.slice())}function po(e,t){const[r,n]=H.useState(e);return[t===void 0?r:t,n]}function qD(e,t){const[r,n]=WD(e,t),{startOfMonth:i,endOfMonth:o}=t,l=cd(e,r,n,t),[s,a]=po(l,e.month?l:void 0);H.useEffect(()=>{const C=cd(e,r,n,t);a(C)},[e.timeZone]);const u=VD(s,n,e,t),h=HD(u,e.endMonth?o(e.endMonth):void 0,e,t),c=$D(u,h,e,t),p=jD(c),v=ND(c),S=UD(s,r,e,t),_=zD(s,n,e,t),{disableNavigation:m,onMonthChange:d}=e,f=C=>p.some(x=>x.days.some(b=>b.isEqualTo(C))),g=C=>{if(m)return;let x=i(C);r&&x<i(r)&&(x=i(r)),n&&x>i(n)&&(x=i(n)),a(x),d?.(x)};return{months:c,weeks:p,days:v,navStart:r,navEnd:n,previousMonth:S,nextMonth:_,goToMonth:g,goToDay:C=>{f(C)||g(C.date)}}}var ur;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ur||(ur={}));function ud(e){return!e[Ye.disabled]&&!e[Ye.hidden]&&!e[Ye.outside]}function GD(e,t,r,n){let i,o=-1;for(const l of e){const s=t(l);ud(s)&&(s[Ye.focused]&&o<ur.FocusedModifier?(i=l,o=ur.FocusedModifier):n?.isEqualTo(l)&&o<ur.LastFocused?(i=l,o=ur.LastFocused):r(l.date)&&o<ur.Selected?(i=l,o=ur.Selected):s[Ye.today]&&o<ur.Today&&(i=l,o=ur.Today))}return i||(i=e.find(l=>ud(t(l)))),i}function KD(e,t,r,n,i,o,l){const{ISOWeek:s,broadcastCalendar:a}=o,{addDays:u,addMonths:h,addWeeks:c,addYears:p,endOfBroadcastWeek:v,endOfISOWeek:S,endOfWeek:_,max:m,min:d,startOfBroadcastWeek:f,startOfISOWeek:g,startOfWeek:y}=l;let C={day:u,week:c,month:h,year:p,startOfWeek:x=>a?f(x,l):s?g(x):y(x),endOfWeek:x=>a?v(x):s?S(x):_(x)}[e](r,t==="after"?1:-1);return t==="before"&&n?C=m([n,C]):t==="after"&&i&&(C=d([i,C])),C}function kg(e,t,r,n,i,o,l,s=0){if(s>365)return;const a=KD(e,t,r.date,n,i,o,l),u=!!(o.disabled&&Tr(a,o.disabled,l)),h=!!(o.hidden&&Tr(a,o.hidden,l)),c=a,p=new pg(a,c,l);return!u&&!h?p:kg(e,t,p,n,i,o,l,s+1)}function YD(e,t,r,n,i){const{autoFocus:o}=e,[l,s]=H.useState(),a=GD(t.days,r,n||(()=>!1),l),[u,h]=H.useState(o?a:void 0);return{isFocusTarget:_=>!!a?.isEqualTo(_),setFocused:h,focused:u,blur:()=>{s(u),h(void 0)},moveFocus:(_,m)=>{if(!u)return;const d=kg(_,m,u,t.navStart,t.navEnd,e,i);d&&(e.disableNavigation&&!t.days.some(g=>g.isEqualTo(d))||(t.goToDay(d),h(d)))}}}function ZD(e,t){const{selected:r,required:n,onSelect:i}=e,[o,l]=po(r,i?r:void 0),s=i?r:o,{isSameDay:a}=t,u=v=>s?.some(S=>a(S,v))??!1,{min:h,max:c}=e;return{selected:s,select:(v,S,_)=>{let m=[...s??[]];if(u(v)){if(s?.length===h||n&&s?.length===1)return;m=s?.filter(d=>!a(d,v))}else s?.length===c?m=[v]:m=[...m,v];return i||l(m),i?.(m,v,S,_),m},isSelected:u}}function XD(e,t,r=0,n=0,i=!1,o=wr){const{from:l,to:s}=t||{},{isSameDay:a,isAfter:u,isBefore:h}=o;let c;if(!l&&!s)c={from:e,to:r>0?void 0:e};else if(l&&!s)a(l,e)?r===0?c={from:l,to:e}:i?c={from:l,to:void 0}:c=void 0:h(e,l)?c={from:e,to:l}:c={from:l,to:e};else if(l&&s)if(a(l,e)&&a(s,e))i?c={from:l,to:s}:c=void 0;else if(a(l,e))c={from:l,to:r>0?void 0:e};else if(a(s,e))c={from:e,to:r>0?void 0:e};else if(h(e,l))c={from:e,to:s};else if(u(e,l))c={from:l,to:e};else if(u(e,s))c={from:l,to:e};else throw new Error("Invalid range");if(c?.from&&c?.to){const p=o.differenceInCalendarDays(c.to,c.from);n>0&&p>n?c={from:e,to:void 0}:r>1&&p<r&&(c={from:e,to:void 0})}return c}function JD(e,t,r=wr){const n=Array.isArray(t)?t:[t];let i=e.from;const o=r.differenceInCalendarDays(e.to,e.from),l=Math.min(o,6);for(let s=0;s<=l;s++){if(n.includes(i.getDay()))return!0;i=r.addDays(i,1)}return!1}function hd(e,t,r=wr){return kr(e,t.from,!1,r)||kr(e,t.to,!1,r)||kr(t,e.from,!1,r)||kr(t,e.to,!1,r)}function QD(e,t,r=wr){const n=Array.isArray(t)?t:[t];if(n.filter(s=>typeof s!="function").some(s=>typeof s=="boolean"?s:r.isDate(s)?kr(e,s,!1,r):wg(s,r)?s.some(a=>kr(e,a,!1,r)):bc(s)?s.from&&s.to?hd(e,{from:s.from,to:s.to},r):!1:Sg(s)?JD(e,s.dayOfWeek,r):vg(s)?r.isAfter(s.before,s.after)?hd(e,{from:r.addDays(s.after,1),to:r.addDays(s.before,-1)},r):Tr(e.from,s,r)||Tr(e.to,s,r):_g(s)||yg(s)?Tr(e.from,s,r)||Tr(e.to,s,r):!1))return!0;const l=n.filter(s=>typeof s=="function");if(l.length){let s=e.from;const a=r.differenceInCalendarDays(e.to,e.from);for(let u=0;u<=a;u++){if(l.some(h=>h(s)))return!0;s=r.addDays(s,1)}}return!1}function eR(e,t){const{disabled:r,excludeDisabled:n,selected:i,required:o,onSelect:l}=e,[s,a]=po(i,l?i:void 0),u=l?i:s;return{selected:u,select:(p,v,S)=>{const{min:_,max:m}=e,d=p?XD(p,u,_,m,o,t):void 0;return n&&r&&d?.from&&d.to&&QD({from:d.from,to:d.to},r,t)&&(d.from=p,d.to=void 0),l||a(d),l?.(d,p,v,S),d},isSelected:p=>u&&kr(u,p,!1,t)}}function tR(e,t){const{selected:r,required:n,onSelect:i}=e,[o,l]=po(r,i?r:void 0),s=i?r:o,{isSameDay:a}=t;return{selected:s,select:(c,p,v)=>{let S=c;return!n&&s&&s&&a(c,s)&&(S=void 0),i||l(S),i?.(S,c,p,v),S},isSelected:c=>s?a(s,c):!1}}function rR(e,t){const r=tR(e,t),n=ZD(e,t),i=eR(e,t);switch(e.mode){case"single":return r;case"multiple":return n;case"range":return i;default:return}}function VM(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new _t(t.today,t.timeZone)),t.month&&(t.month=new _t(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new _t(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new _t(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new _t(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new _t(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(ye=>new _t(ye,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new _t(t.selected.from,t.timeZone):void 0,to:t.selected.to?new _t(t.selected.to,t.timeZone):void 0}));const{components:r,formatters:n,labels:i,dateLib:o,locale:l,classNames:s}=H.useMemo(()=>{const ye={...Nd,...t.locale};return{dateLib:new Vt({locale:ye,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:oD(t.components),formatters:vD(t.formatters),labels:{...ID,...t.labels},locale:ye,classNames:{...lD(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:a,mode:u,navLayout:h,numberOfMonths:c=1,onDayBlur:p,onDayClick:v,onDayFocus:S,onDayKeyDown:_,onDayMouseEnter:m,onDayMouseLeave:d,onNextClick:f,onPrevClick:g,showWeekNumber:y,styles:w}=t,{formatCaption:C,formatDay:x,formatMonthDropdown:b,formatWeekNumber:E,formatWeekNumberHeader:R,formatWeekdayName:M,formatYearDropdown:L}=n,D=qD(t,o),{days:B,months:$,navStart:z,navEnd:U,previousMonth:W,nextMonth:T,goToMonth:A}=D,P=iD(B,t,z,U,o),{isSelected:O,select:N,selected:j}=rR(t,o)??{},{blur:q,focused:Y,isFocusTarget:F,moveFocus:k,setFocused:V}=YD(t,D,P,O??(()=>!1),o),{labelDayButton:G,labelGridcell:Z,labelGrid:K,labelMonthDropdown:ue,labelNav:ee,labelPrevious:ke,labelNext:Be,labelWeekday:ie,labelWeekNumber:tt,labelWeekNumberHeader:qe,labelYearDropdown:ut}=i,Dt=H.useMemo(()=>SD(o,t.ISOWeek),[o,t.ISOWeek]),Ne=u!==void 0||v!==void 0,Re=H.useCallback(()=>{W&&(A(W),g?.(W))},[W,A,g]),st=H.useCallback(()=>{T&&(A(T),f?.(T))},[A,T,f]),$e=H.useCallback((ye,Q)=>re=>{re.preventDefault(),re.stopPropagation(),V(ye),N?.(ye.date,Q,re),v?.(ye.date,Q,re)},[N,v,V]),ft=H.useCallback((ye,Q)=>re=>{V(ye),S?.(ye.date,Q,re)},[S,V]),$t=H.useCallback((ye,Q)=>re=>{q(),p?.(ye.date,Q,re)},[q,p]),rt=H.useCallback((ye,Q)=>re=>{const ce={ArrowLeft:[re.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[re.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[re.shiftKey?"year":"week","after"],ArrowUp:[re.shiftKey?"year":"week","before"],PageUp:[re.shiftKey?"year":"month","before"],PageDown:[re.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(ce[re.key]){re.preventDefault(),re.stopPropagation();const[he,ae]=ce[re.key];k(he,ae)}_?.(ye.date,Q,re)},[k,_,t.dir]),bt=H.useCallback((ye,Q)=>re=>{m?.(ye.date,Q,re)},[m]),Xe=H.useCallback((ye,Q)=>re=>{d?.(ye.date,Q,re)},[d]),xt=H.useCallback(ye=>Q=>{const re=Number(Q.target.value),ce=o.setMonth(o.startOfMonth(ye),re);A(ce)},[o,A]),be=H.useCallback(ye=>Q=>{const re=Number(Q.target.value),ce=o.setYear(o.startOfMonth(ye),re);A(ce)},[o,A]),{className:Lr,style:ri}=H.useMemo(()=>({className:[s[le.Root],t.className].filter(Boolean).join(" "),style:{...w?.[le.Root],...t.style}}),[s,t.className,t.style,w]),Sn=aD(t),Qr=H.useRef(null);FD(Qr,!!t.animate,{classNames:s,months:$,focused:Y,dateLib:o});const ni={dayPickerProps:t,selected:j,select:N,isSelected:O,months:$,nextMonth:T,previousMonth:W,goToMonth:A,getModifiers:P,components:r,classNames:s,styles:w,labels:i,formatters:n};return I.createElement(gg.Provider,{value:ni},I.createElement(r.Root,{rootRef:t.animate?Qr:void 0,className:Lr,style:ri,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Sn},I.createElement(r.Months,{className:s[le.Months],style:w?.[le.Months]},!t.hideNavigation&&!h&&I.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:s[le.Nav],style:w?.[le.Nav],"aria-label":ee(),onPreviousClick:Re,onNextClick:st,previousMonth:W,nextMonth:T}),$.map((ye,Q)=>I.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:s[le.Month],style:w?.[le.Month],key:Q,displayIndex:Q,calendarMonth:ye},h==="around"&&!t.hideNavigation&&Q===0&&I.createElement(r.PreviousMonthButton,{type:"button",className:s[le.PreviousMonthButton],tabIndex:W?void 0:-1,"aria-disabled":W?void 0:!0,"aria-label":ke(W),onClick:Re,"data-animated-button":t.animate?"true":void 0},I.createElement(r.Chevron,{disabled:W?void 0:!0,className:s[le.Chevron],orientation:t.dir==="rtl"?"right":"left"})),I.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:s[le.MonthCaption],style:w?.[le.MonthCaption],calendarMonth:ye,displayIndex:Q},a?.startsWith("dropdown")?I.createElement(r.DropdownNav,{className:s[le.Dropdowns],style:w?.[le.Dropdowns]},(()=>{const re=a==="dropdown"||a==="dropdown-months"?I.createElement(r.MonthsDropdown,{key:"month",className:s[le.MonthsDropdown],"aria-label":ue(),classNames:s,components:r,disabled:!!t.disableNavigation,onChange:xt(ye.date),options:_D(ye.date,z,U,n,o),style:w?.[le.Dropdown],value:o.getMonth(ye.date)}):I.createElement("span",{key:"month"},b(ye.date,o)),ce=a==="dropdown"||a==="dropdown-years"?I.createElement(r.YearsDropdown,{key:"year",className:s[le.YearsDropdown],"aria-label":ut(o.options),classNames:s,components:r,disabled:!!t.disableNavigation,onChange:be(ye.date),options:wD(z,U,n,o,!!t.reverseYears),style:w?.[le.Dropdown],value:o.getYear(ye.date)}):I.createElement("span",{key:"year"},L(ye.date,o));return o.getMonthYearOrder()==="year-first"?[ce,re]:[re,ce]})(),I.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},C(ye.date,o.options,o))):I.createElement(r.CaptionLabel,{className:s[le.CaptionLabel],role:"status","aria-live":"polite"},C(ye.date,o.options,o))),h==="around"&&!t.hideNavigation&&Q===c-1&&I.createElement(r.NextMonthButton,{type:"button",className:s[le.NextMonthButton],tabIndex:T?void 0:-1,"aria-disabled":T?void 0:!0,"aria-label":Be(T),onClick:st,"data-animated-button":t.animate?"true":void 0},I.createElement(r.Chevron,{disabled:T?void 0:!0,className:s[le.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Q===c-1&&h==="after"&&!t.hideNavigation&&I.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:s[le.Nav],style:w?.[le.Nav],"aria-label":ee(),onPreviousClick:Re,onNextClick:st,previousMonth:W,nextMonth:T}),I.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":K(ye.date,o.options,o)||void 0,className:s[le.MonthGrid],style:w?.[le.MonthGrid]},!t.hideWeekdays&&I.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:s[le.Weekdays],style:w?.[le.Weekdays]},y&&I.createElement(r.WeekNumberHeader,{"aria-label":qe(o.options),className:s[le.WeekNumberHeader],style:w?.[le.WeekNumberHeader],scope:"col"},R()),Dt.map(re=>I.createElement(r.Weekday,{"aria-label":ie(re,o.options,o),className:s[le.Weekday],key:String(re),style:w?.[le.Weekday],scope:"col"},M(re,o.options,o)))),I.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:s[le.Weeks],style:w?.[le.Weeks]},ye.weeks.map(re=>I.createElement(r.Week,{className:s[le.Week],key:re.weekNumber,style:w?.[le.Week],week:re},y&&I.createElement(r.WeekNumber,{week:re,style:w?.[le.WeekNumber],"aria-label":tt(re.weekNumber,{locale:l}),className:s[le.WeekNumber],scope:"row",role:"rowheader"},E(re.weekNumber,o)),re.days.map(ce=>{const{date:he}=ce,ae=P(ce);if(ae[Ye.focused]=!ae.hidden&&!!Y?.isEqualTo(ce),ae[tr.selected]=O?.(he)||ae.selected,bc(j)){const{from:Pe,to:gt}=j;ae[tr.range_start]=!!(Pe&&gt&&o.isSameDay(he,Pe)),ae[tr.range_end]=!!(Pe&&gt&&o.isSameDay(he,gt)),ae[tr.range_middle]=kr(j,he,!0,o)}const se=yD(ae,w,t.modifiersStyles),Te=sD(ae,s,t.modifiersClassNames),Fe=!Ne&&!ae.hidden?Z(he,ae,o.options,o):void 0;return I.createElement(r.Day,{key:`${o.format(he,"yyyy-MM-dd")}_${o.format(ce.displayMonth,"yyyy-MM")}`,day:ce,modifiers:ae,className:Te.join(" "),style:se,role:"gridcell","aria-selected":ae.selected||void 0,"aria-label":Fe,"data-day":o.format(he,"yyyy-MM-dd"),"data-month":ce.outside?o.format(he,"yyyy-MM"):void 0,"data-selected":ae.selected||void 0,"data-disabled":ae.disabled||void 0,"data-hidden":ae.hidden||void 0,"data-outside":ce.outside||void 0,"data-focused":ae.focused||void 0,"data-today":ae.today||void 0},!ae.hidden&&Ne?I.createElement(r.DayButton,{className:s[le.DayButton],style:w?.[le.DayButton],type:"button",day:ce,modifiers:ae,disabled:ae.disabled||void 0,tabIndex:F(ce)?0:-1,"aria-label":G(he,ae,o.options,o),onClick:$e(ce,ae),onBlur:$t(ce,ae),onFocus:ft(ce,ae),onKeyDown:rt(ce,ae),onMouseEnter:bt(ce,ae),onMouseLeave:Xe(ce,ae)},x(he,o.options,o)):!ae.hidden&&x(ce.date,o.options,o))})))))))),t.footer&&I.createElement(r.Footer,{className:s[le.Footer],style:w?.[le.Footer],role:"status","aria-live":"polite"},t.footer)))}var _a={exports:{}},dd;function nR(){return dd||(dd=1,(function(e,t){(function(r,n){e.exports=n()})(self,(()=>(()=>{var r={};return(()=>{var n=r;function i(o,l,s){return o.addEventListener(l,s),{dispose:()=>{s&&o.removeEventListener(l,s)}}}Object.defineProperty(n,"__esModule",{value:!0}),n.AttachAddon=void 0,n.AttachAddon=class{constructor(o,l){this._disposables=[],this._socket=o,this._socket.binaryType="arraybuffer",this._bidirectional=!(l&&l.bidirectional===!1)}activate(o){this._disposables.push(i(this._socket,"message",(l=>{const s=l.data;o.write(typeof s=="string"?s:new Uint8Array(s))}))),this._bidirectional&&(this._disposables.push(o.onData((l=>this._sendData(l)))),this._disposables.push(o.onBinary((l=>this._sendBinary(l))))),this._disposables.push(i(this._socket,"close",(()=>this.dispose()))),this._disposables.push(i(this._socket,"error",(()=>this.dispose())))}dispose(){for(const o of this._disposables)o.dispose()}_sendData(o){this._checkOpenSocket()&&this._socket.send(o)}_sendBinary(o){if(!this._checkOpenSocket())return;const l=new Uint8Array(o.length);for(let s=0;s<o.length;++s)l[s]=255&o.charCodeAt(s);this._socket.send(l)}_checkOpenSocket(){switch(this._socket.readyState){case WebSocket.OPEN:return!0;case WebSocket.CONNECTING:throw new Error("Attach addon was loaded before socket was open");case WebSocket.CLOSING:return console.warn("Attach addon socket is closing"),!1;case WebSocket.CLOSED:throw new Error("Attach addon socket is closed");default:throw new Error("Unexpected socket state")}}}})(),r})()))})(_a)),_a.exports}var $M=nR(),ya={exports:{}},fd;function iR(){return fd||(fd=1,(function(e,t){(function(r,n){e.exports=n()})(self,(()=>(()=>{var r={};return(()=>{var n=r;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const o=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(o._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,o=i._renderService.dimensions;if(o.css.cell.width===0||o.css.cell.height===0)return;const l=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,s=window.getComputedStyle(this._terminal.element.parentElement),a=parseInt(s.getPropertyValue("height")),u=Math.max(0,parseInt(s.getPropertyValue("width"))),h=window.getComputedStyle(this._terminal.element),c=a-(parseInt(h.getPropertyValue("padding-top"))+parseInt(h.getPropertyValue("padding-bottom"))),p=u-(parseInt(h.getPropertyValue("padding-right"))+parseInt(h.getPropertyValue("padding-left")))-l;return{cols:Math.max(2,Math.floor(p/o.css.cell.width)),rows:Math.max(1,Math.floor(c/o.css.cell.height))}}}})(),r})()))})(ya)),ya.exports}var WM=iR(),Sa={exports:{}},md;function sR(){return md||(md=1,(function(e,t){(function(r,n){e.exports=n()})(globalThis,(()=>(()=>{var r={4567:function(l,s,a){var u=this&&this.__decorate||function(f,g,y,w){var C,x=arguments.length,b=x<3?g:w===null?w=Object.getOwnPropertyDescriptor(g,y):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,g,y,w);else for(var E=f.length-1;E>=0;E--)(C=f[E])&&(b=(x<3?C(b):x>3?C(g,y,b):C(g,y))||b);return x>3&&b&&Object.defineProperty(g,y,b),b},h=this&&this.__param||function(f,g){return function(y,w){g(y,w,f)}};Object.defineProperty(s,"__esModule",{value:!0}),s.AccessibilityManager=void 0;const c=a(9042),p=a(9924),v=a(844),S=a(4725),_=a(2585),m=a(3656);let d=s.AccessibilityManager=class extends v.Disposable{constructor(f,g,y,w){super(),this._terminal=f,this._coreBrowserService=y,this._renderService=w,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let C=0;C<this._terminal.rows;C++)this._rowElements[C]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[C]);if(this._topBoundaryFocusListener=C=>this._handleBoundaryFocus(C,0),this._bottomBoundaryFocusListener=C=>this._handleBoundaryFocus(C,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new p.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((C=>this._handleResize(C.rows)))),this.register(this._terminal.onRender((C=>this._refreshRows(C.start,C.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((C=>this._handleChar(C)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((C=>this._handleTab(C)))),this.register(this._terminal.onKey((C=>this._handleKey(C.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this.register((0,m.addDisposableDomListener)(document,"selectionchange",(()=>this._handleSelectionChange()))),this.register(this._coreBrowserService.onDprChange((()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,v.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(f){for(let g=0;g<f;g++)this._handleChar(" ")}_handleChar(f){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==f&&(this._charsToAnnounce+=f):this._charsToAnnounce+=f,f===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=c.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(f){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(f)||this._charsToConsume.push(f)}_refreshRows(f,g){this._liveRegionDebouncer.refresh(f,g,this._terminal.rows)}_renderRows(f,g){const y=this._terminal.buffer,w=y.lines.length.toString();for(let C=f;C<=g;C++){const x=y.lines.get(y.ydisp+C),b=[],E=x?.translateToString(!0,void 0,void 0,b)||"",R=(y.ydisp+C+1).toString(),M=this._rowElements[C];M&&(E.length===0?(M.innerText="Â ",this._rowColumns.set(M,[0,1])):(M.textContent=E,this._rowColumns.set(M,b)),M.setAttribute("aria-posinset",R),M.setAttribute("aria-setsize",w))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(f,g){const y=f.target,w=this._rowElements[g===0?1:this._rowElements.length-2];if(y.getAttribute("aria-posinset")===(g===0?"1":`${this._terminal.buffer.lines.length}`)||f.relatedTarget!==w)return;let C,x;if(g===0?(C=y,x=this._rowElements.pop(),this._rowContainer.removeChild(x)):(C=this._rowElements.shift(),x=y,this._rowContainer.removeChild(C)),C.removeEventListener("focus",this._topBoundaryFocusListener),x.removeEventListener("focus",this._bottomBoundaryFocusListener),g===0){const b=this._createAccessibilityTreeNode();this._rowElements.unshift(b),this._rowContainer.insertAdjacentElement("afterbegin",b)}else{const b=this._createAccessibilityTreeNode();this._rowElements.push(b),this._rowContainer.appendChild(b)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(g===0?-1:1),this._rowElements[g===0?1:this._rowElements.length-2].focus(),f.preventDefault(),f.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;const f=document.getSelection();if(!f)return;if(f.isCollapsed)return void(this._rowContainer.contains(f.anchorNode)&&this._terminal.clearSelection());if(!f.anchorNode||!f.focusNode)return void console.error("anchorNode and/or focusNode are null");let g={node:f.anchorNode,offset:f.anchorOffset},y={node:f.focusNode,offset:f.focusOffset};if((g.node.compareDocumentPosition(y.node)&Node.DOCUMENT_POSITION_PRECEDING||g.node===y.node&&g.offset>y.offset)&&([g,y]=[y,g]),g.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(g={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(g.node))return;const w=this._rowElements.slice(-1)[0];if(y.node.compareDocumentPosition(w)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(y={node:w,offset:w.textContent?.length??0}),!this._rowContainer.contains(y.node))return;const C=({node:E,offset:R})=>{const M=E instanceof Text?E.parentNode:E;let L=parseInt(M?.getAttribute("aria-posinset"),10)-1;if(isNaN(L))return console.warn("row is invalid. Race condition?"),null;const D=this._rowColumns.get(M);if(!D)return console.warn("columns is null. Race condition?"),null;let B=R<D.length?D[R]:D.slice(-1)[0]+1;return B>=this._terminal.cols&&(++L,B=0),{row:L,column:B}},x=C(g),b=C(y);if(x&&b){if(x.row>b.row||x.row===b.row&&x.column>=b.column)throw new Error("invalid range");this._terminal.select(x.column,x.row,(b.row-x.row)*this._terminal.cols-x.column+b.column)}}_handleResize(f){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let g=this._rowContainer.children.length;g<this._terminal.rows;g++)this._rowElements[g]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[g]);for(;this._rowElements.length>f;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const f=this._coreBrowserService.mainDocument.createElement("div");return f.setAttribute("role","listitem"),f.tabIndex=-1,this._refreshRowDimensions(f),f}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let f=0;f<this._terminal.rows;f++)this._refreshRowDimensions(this._rowElements[f])}}_refreshRowDimensions(f){f.style.height=`${this._renderService.dimensions.css.cell.height}px`}};s.AccessibilityManager=d=u([h(1,_.IInstantiationService),h(2,S.ICoreBrowserService),h(3,S.IRenderService)],d)},3614:(l,s)=>{function a(p){return p.replace(/\r?\n/g,"\r")}function u(p,v){return v?"\x1B[200~"+p+"\x1B[201~":p}function h(p,v,S,_){p=u(p=a(p),S.decPrivateModes.bracketedPasteMode&&_.rawOptions.ignoreBracketedPasteMode!==!0),S.triggerDataEvent(p,!0),v.value=""}function c(p,v,S){const _=S.getBoundingClientRect(),m=p.clientX-_.left-10,d=p.clientY-_.top-10;v.style.width="20px",v.style.height="20px",v.style.left=`${m}px`,v.style.top=`${d}px`,v.style.zIndex="1000",v.focus()}Object.defineProperty(s,"__esModule",{value:!0}),s.rightClickHandler=s.moveTextAreaUnderMouseCursor=s.paste=s.handlePasteEvent=s.copyHandler=s.bracketTextForPaste=s.prepareTextForTerminal=void 0,s.prepareTextForTerminal=a,s.bracketTextForPaste=u,s.copyHandler=function(p,v){p.clipboardData&&p.clipboardData.setData("text/plain",v.selectionText),p.preventDefault()},s.handlePasteEvent=function(p,v,S,_){p.stopPropagation(),p.clipboardData&&h(p.clipboardData.getData("text/plain"),v,S,_)},s.paste=h,s.moveTextAreaUnderMouseCursor=c,s.rightClickHandler=function(p,v,S,_,m){c(p,v,S),m&&_.rightClickSelect(p),v.value=_.selectionText,v.select()}},7239:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorContrastCache=void 0;const u=a(1505);s.ColorContrastCache=class{constructor(){this._color=new u.TwoKeyMap,this._css=new u.TwoKeyMap}setCss(h,c,p){this._css.set(h,c,p)}getCss(h,c){return this._css.get(h,c)}setColor(h,c,p){this._color.set(h,c,p)}getColor(h,c){return this._color.get(h,c)}clear(){this._color.clear(),this._css.clear()}}},3656:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDisposableDomListener=void 0,s.addDisposableDomListener=function(a,u,h,c){a.addEventListener(u,h,c);let p=!1;return{dispose:()=>{p||(p=!0,a.removeEventListener(u,h,c))}}}},3551:function(l,s,a){var u=this&&this.__decorate||function(d,f,g,y){var w,C=arguments.length,x=C<3?f:y===null?y=Object.getOwnPropertyDescriptor(f,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,f,g,y);else for(var b=d.length-1;b>=0;b--)(w=d[b])&&(x=(C<3?w(x):C>3?w(f,g,x):w(f,g))||x);return C>3&&x&&Object.defineProperty(f,g,x),x},h=this&&this.__param||function(d,f){return function(g,y){f(g,y,d)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Linkifier=void 0;const c=a(3656),p=a(8460),v=a(844),S=a(2585),_=a(4725);let m=s.Linkifier=class extends v.Disposable{get currentLink(){return this._currentLink}constructor(d,f,g,y,w){super(),this._element=d,this._mouseService=f,this._renderService=g,this._bufferService=y,this._linkProviderService=w,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new p.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new p.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,v.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,v.toDisposable)((()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0}))),this.register((0,c.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,c.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,c.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,c.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(d){this._lastMouseEvent=d;const f=this._positionFromMouseEvent(d,this._element,this._mouseService);if(!f)return;this._isMouseOut=!1;const g=d.composedPath();for(let y=0;y<g.length;y++){const w=g[y];if(w.classList.contains("xterm"))break;if(w.classList.contains("xterm-hover"))return}this._lastBufferCell&&f.x===this._lastBufferCell.x&&f.y===this._lastBufferCell.y||(this._handleHover(f),this._lastBufferCell=f)}_handleHover(d){if(this._activeLine!==d.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(d,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,d)||(this._clearCurrentLink(),this._askForLink(d,!0))}_askForLink(d,f){this._activeProviderReplies&&f||(this._activeProviderReplies?.forEach((y=>{y?.forEach((w=>{w.link.dispose&&w.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=d.y);let g=!1;for(const[y,w]of this._linkProviderService.linkProviders.entries())f?this._activeProviderReplies?.get(y)&&(g=this._checkLinkProviderResult(y,d,g)):w.provideLinks(d.y,(C=>{if(this._isMouseOut)return;const x=C?.map((b=>({link:b})));this._activeProviderReplies?.set(y,x),g=this._checkLinkProviderResult(y,d,g),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(d.y,this._activeProviderReplies)}))}_removeIntersectingLinks(d,f){const g=new Set;for(let y=0;y<f.size;y++){const w=f.get(y);if(w)for(let C=0;C<w.length;C++){const x=w[C],b=x.link.range.start.y<d?0:x.link.range.start.x,E=x.link.range.end.y>d?this._bufferService.cols:x.link.range.end.x;for(let R=b;R<=E;R++){if(g.has(R)){w.splice(C--,1);break}g.add(R)}}}}_checkLinkProviderResult(d,f,g){if(!this._activeProviderReplies)return g;const y=this._activeProviderReplies.get(d);let w=!1;for(let C=0;C<d;C++)this._activeProviderReplies.has(C)&&!this._activeProviderReplies.get(C)||(w=!0);if(!w&&y){const C=y.find((x=>this._linkAtPosition(x.link,f)));C&&(g=!0,this._handleNewLink(C))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!g)for(let C=0;C<this._activeProviderReplies.size;C++){const x=this._activeProviderReplies.get(C)?.find((b=>this._linkAtPosition(b.link,f)));if(x){g=!0,this._handleNewLink(x);break}}return g}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(d){if(!this._currentLink)return;const f=this._positionFromMouseEvent(d,this._element,this._mouseService);f&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,f)&&this._currentLink.link.activate(d,this._currentLink.link.text)}_clearCurrentLink(d,f){this._currentLink&&this._lastMouseEvent&&(!d||!f||this._currentLink.link.range.start.y>=d&&this._currentLink.link.range.end.y<=f)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,v.disposeArray)(this._linkCacheDisposables))}_handleNewLink(d){if(!this._lastMouseEvent)return;const f=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);f&&this._linkAtPosition(d.link,f)&&(this._currentLink=d,this._currentLink.state={decorations:{underline:d.link.decorations===void 0||d.link.decorations.underline,pointerCursor:d.link.decorations===void 0||d.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,d.link,this._lastMouseEvent),d.link.decorations={},Object.defineProperties(d.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:g=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==g&&(this._currentLink.state.decorations.pointerCursor=g,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",g))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:g=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==g&&(this._currentLink.state.decorations.underline=g,this._currentLink.state.isHovered&&this._fireUnderlineEvent(d.link,g))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((g=>{if(!this._currentLink)return;const y=g.start===0?0:g.start+1+this._bufferService.buffer.ydisp,w=this._bufferService.buffer.ydisp+1+g.end;if(this._currentLink.link.range.start.y>=y&&this._currentLink.link.range.end.y<=w&&(this._clearCurrentLink(y,w),this._lastMouseEvent)){const C=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);C&&this._askForLink(C,!1)}}))))}_linkHover(d,f,g){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!0),this._currentLink.state.decorations.pointerCursor&&d.classList.add("xterm-cursor-pointer")),f.hover&&f.hover(g,f.text)}_fireUnderlineEvent(d,f){const g=d.range,y=this._bufferService.buffer.ydisp,w=this._createLinkUnderlineEvent(g.start.x-1,g.start.y-y-1,g.end.x,g.end.y-y-1,void 0);(f?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(w)}_linkLeave(d,f,g){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!1),this._currentLink.state.decorations.pointerCursor&&d.classList.remove("xterm-cursor-pointer")),f.leave&&f.leave(g,f.text)}_linkAtPosition(d,f){const g=d.range.start.y*this._bufferService.cols+d.range.start.x,y=d.range.end.y*this._bufferService.cols+d.range.end.x,w=f.y*this._bufferService.cols+f.x;return g<=w&&w<=y}_positionFromMouseEvent(d,f,g){const y=g.getCoords(d,f,this._bufferService.cols,this._bufferService.rows);if(y)return{x:y[0],y:y[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(d,f,g,y,w){return{x1:d,y1:f,x2:g,y2:y,cols:this._bufferService.cols,fg:w}}};s.Linkifier=m=u([h(1,_.IMouseService),h(2,_.IRenderService),h(3,S.IBufferService),h(4,_.ILinkProviderService)],m)},9042:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.tooMuchOutput=s.promptLabel=void 0,s.promptLabel="Terminal input",s.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(l,s,a){var u=this&&this.__decorate||function(_,m,d,f){var g,y=arguments.length,w=y<3?m:f===null?f=Object.getOwnPropertyDescriptor(m,d):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(_,m,d,f);else for(var C=_.length-1;C>=0;C--)(g=_[C])&&(w=(y<3?g(w):y>3?g(m,d,w):g(m,d))||w);return y>3&&w&&Object.defineProperty(m,d,w),w},h=this&&this.__param||function(_,m){return function(d,f){m(d,f,_)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkProvider=void 0;const c=a(511),p=a(2585);let v=s.OscLinkProvider=class{constructor(_,m,d){this._bufferService=_,this._optionsService=m,this._oscLinkService=d}provideLinks(_,m){const d=this._bufferService.buffer.lines.get(_-1);if(!d)return void m(void 0);const f=[],g=this._optionsService.rawOptions.linkHandler,y=new c.CellData,w=d.getTrimmedLength();let C=-1,x=-1,b=!1;for(let E=0;E<w;E++)if(x!==-1||d.hasContent(E)){if(d.loadCell(E,y),y.hasExtendedAttrs()&&y.extended.urlId){if(x===-1){x=E,C=y.extended.urlId;continue}b=y.extended.urlId!==C}else x!==-1&&(b=!0);if(b||x!==-1&&E===w-1){const R=this._oscLinkService.getLinkData(C)?.uri;if(R){const M={start:{x:x+1,y:_},end:{x:E+(b||E!==w-1?0:1),y:_}};let L=!1;if(!g?.allowNonHttpProtocols)try{const D=new URL(R);["http:","https:"].includes(D.protocol)||(L=!0)}catch{L=!0}L||f.push({text:R,range:M,activate:(D,B)=>g?g.activate(D,B,M):S(0,B),hover:(D,B)=>g?.hover?.(D,B,M),leave:(D,B)=>g?.leave?.(D,B,M)})}b=!1,y.hasExtendedAttrs()&&y.extended.urlId?(x=E,C=y.extended.urlId):(x=-1,C=-1)}}m(f)}};function S(_,m){if(confirm(`Do you want to navigate to ${m}?

WARNING: This link could potentially be dangerous`)){const d=window.open();if(d){try{d.opener=null}catch{}d.location.href=m}else console.warn("Opening link blocked as opener could not be cleared")}}s.OscLinkProvider=v=u([h(0,p.IBufferService),h(1,p.IOptionsService),h(2,p.IOscLinkService)],v)},6193:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RenderDebouncer=void 0,s.RenderDebouncer=class{constructor(a,u){this._renderCallback=a,this._coreBrowserService=u,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(a){return this._refreshCallbacks.push(a),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(a,u,h){this._rowCount=h,a=a!==void 0?a:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const a=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,u),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const a of this._refreshCallbacks)a(0);this._refreshCallbacks=[]}}},3236:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Terminal=void 0;const u=a(3614),h=a(3656),c=a(3551),p=a(9042),v=a(3730),S=a(1680),_=a(3107),m=a(5744),d=a(2950),f=a(1296),g=a(428),y=a(4269),w=a(5114),C=a(8934),x=a(3230),b=a(9312),E=a(4725),R=a(6731),M=a(8055),L=a(8969),D=a(8460),B=a(844),$=a(6114),z=a(8437),U=a(2584),W=a(7399),T=a(5941),A=a(9074),P=a(2585),O=a(5435),N=a(4567),j=a(779);class q extends L.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(F={}){super(F),this.browser=$,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new B.MutableDisposable),this._onCursorMove=this.register(new D.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new D.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new D.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new D.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new D.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new D.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new D.EventEmitter),this._onBlur=this.register(new D.EventEmitter),this._onA11yCharEmitter=this.register(new D.EventEmitter),this._onA11yTabEmitter=this.register(new D.EventEmitter),this._onWillOpen=this.register(new D.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(A.DecorationService),this._instantiationService.setService(P.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(j.LinkProviderService),this._instantiationService.setService(E.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(v.OscLinkProvider)),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((k,V)=>this.refresh(k,V)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((k=>this._reportWindowsOptions(k)))),this.register(this._inputHandler.onColor((k=>this._handleColorEvent(k)))),this.register((0,D.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,D.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((k=>this._afterResize(k.cols,k.rows)))),this.register((0,B.toDisposable)((()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)})))}_handleColorEvent(F){if(this._themeService)for(const k of F){let V,G="";switch(k.index){case 256:V="foreground",G="10";break;case 257:V="background",G="11";break;case 258:V="cursor",G="12";break;default:V="ansi",G="4;"+k.index}switch(k.type){case 0:const Z=M.color.toColorRGB(V==="ansi"?this._themeService.colors.ansi[k.index]:this._themeService.colors[V]);this.coreService.triggerDataEvent(`${U.C0.ESC}]${G};${(0,T.toRgbString)(Z)}${U.C1_ESCAPED.ST}`);break;case 1:if(V==="ansi")this._themeService.modifyColors((K=>K.ansi[k.index]=M.channels.toColor(...k.color)));else{const K=V;this._themeService.modifyColors((ue=>ue[K]=M.channels.toColor(...k.color)))}break;case 2:this._themeService.restoreColor(k.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(F){F?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(N.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(F){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(U.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(U.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const F=this.buffer.ybase+this.buffer.y,k=this.buffer.lines.get(F);if(!k)return;const V=Math.min(this.buffer.x,this.cols-1),G=this._renderService.dimensions.css.cell.height,Z=k.getWidth(V),K=this._renderService.dimensions.css.cell.width*Z,ue=this.buffer.y*this._renderService.dimensions.css.cell.height,ee=V*this._renderService.dimensions.css.cell.width;this.textarea.style.left=ee+"px",this.textarea.style.top=ue+"px",this.textarea.style.width=K+"px",this.textarea.style.height=G+"px",this.textarea.style.lineHeight=G+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,h.addDisposableDomListener)(this.element,"copy",(k=>{this.hasSelection()&&(0,u.copyHandler)(k,this._selectionService)})));const F=k=>(0,u.handlePasteEvent)(k,this.textarea,this.coreService,this.optionsService);this.register((0,h.addDisposableDomListener)(this.textarea,"paste",F)),this.register((0,h.addDisposableDomListener)(this.element,"paste",F)),$.isFirefox?this.register((0,h.addDisposableDomListener)(this.element,"mousedown",(k=>{k.button===2&&(0,u.rightClickHandler)(k,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,h.addDisposableDomListener)(this.element,"contextmenu",(k=>{(0,u.rightClickHandler)(k,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),$.isLinux&&this.register((0,h.addDisposableDomListener)(this.element,"auxclick",(k=>{k.button===1&&(0,u.moveTextAreaUnderMouseCursor)(k,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,h.addDisposableDomListener)(this.textarea,"keyup",(F=>this._keyUp(F)),!0)),this.register((0,h.addDisposableDomListener)(this.textarea,"keydown",(F=>this._keyDown(F)),!0)),this.register((0,h.addDisposableDomListener)(this.textarea,"keypress",(F=>this._keyPress(F)),!0)),this.register((0,h.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,h.addDisposableDomListener)(this.textarea,"compositionupdate",(F=>this._compositionHelper.compositionupdate(F)))),this.register((0,h.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,h.addDisposableDomListener)(this.textarea,"input",(F=>this._inputEvent(F)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(F){if(!F)throw new Error("Terminal requires a parent element.");if(F.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=F.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),F.appendChild(this.element);const k=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),k.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,h.addDisposableDomListener)(this.screenElement,"mousemove",(V=>this.updateCursorStyle(V)))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),k.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",p.promptLabel),$.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,F.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(E.ICoreBrowserService,this._coreBrowserService),this.register((0,h.addDisposableDomListener)(this.textarea,"focus",(V=>this._handleTextAreaFocus(V)))),this.register((0,h.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(g.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(R.ThemeService),this._instantiationService.setService(E.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(y.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(x.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((V=>this._onRender.fire(V)))),this.onResize((V=>this._renderService.resize(V.cols,V.rows))),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(d.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(C.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(c.Linkifier,this.screenElement)),this.element.appendChild(k);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(S.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((V=>this.scrollLines(V.amount,V.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(b.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((V=>this.scrollLines(V.amount,V.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((V=>this._renderService.handleSelectionChanged(V.start,V.end,V.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((V=>{this.textarea.value=V,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((V=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.register(this._instantiationService.createInstance(_.BufferDecorationRenderer,this.screenElement)),this.register((0,h.addDisposableDomListener)(this.element,"mousedown",(V=>this._selectionService.handleMouseDown(V)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(N.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(V=>this._handleScreenReaderModeOptionChange(V)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(V=>{!this._overviewRulerRenderer&&V&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(f.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const F=this,k=this.element;function V(K){const ue=F._mouseService.getMouseReportCoords(K,F.screenElement);if(!ue)return!1;let ee,ke;switch(K.overrideType||K.type){case"mousemove":ke=32,K.buttons===void 0?(ee=3,K.button!==void 0&&(ee=K.button<3?K.button:3)):ee=1&K.buttons?0:4&K.buttons?1:2&K.buttons?2:3;break;case"mouseup":ke=0,ee=K.button<3?K.button:3;break;case"mousedown":ke=1,ee=K.button<3?K.button:3;break;case"wheel":if(F._customWheelEventHandler&&F._customWheelEventHandler(K)===!1||F.viewport.getLinesScrolled(K)===0)return!1;ke=K.deltaY<0?0:1,ee=4;break;default:return!1}return!(ke===void 0||ee===void 0||ee>4)&&F.coreMouseService.triggerMouseEvent({col:ue.col,row:ue.row,x:ue.x,y:ue.y,button:ee,action:ke,ctrl:K.ctrlKey,alt:K.altKey,shift:K.shiftKey})}const G={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Z={mouseup:K=>(V(K),K.buttons||(this._document.removeEventListener("mouseup",G.mouseup),G.mousedrag&&this._document.removeEventListener("mousemove",G.mousedrag)),this.cancel(K)),wheel:K=>(V(K),this.cancel(K,!0)),mousedrag:K=>{K.buttons&&V(K)},mousemove:K=>{K.buttons||V(K)}};this.register(this.coreMouseService.onProtocolChange((K=>{K?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(K)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&K?G.mousemove||(k.addEventListener("mousemove",Z.mousemove),G.mousemove=Z.mousemove):(k.removeEventListener("mousemove",G.mousemove),G.mousemove=null),16&K?G.wheel||(k.addEventListener("wheel",Z.wheel,{passive:!1}),G.wheel=Z.wheel):(k.removeEventListener("wheel",G.wheel),G.wheel=null),2&K?G.mouseup||(G.mouseup=Z.mouseup):(this._document.removeEventListener("mouseup",G.mouseup),G.mouseup=null),4&K?G.mousedrag||(G.mousedrag=Z.mousedrag):(this._document.removeEventListener("mousemove",G.mousedrag),G.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,h.addDisposableDomListener)(k,"mousedown",(K=>{if(K.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(K))return V(K),G.mouseup&&this._document.addEventListener("mouseup",G.mouseup),G.mousedrag&&this._document.addEventListener("mousemove",G.mousedrag),this.cancel(K)}))),this.register((0,h.addDisposableDomListener)(k,"wheel",(K=>{if(!G.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(K)===!1)return!1;if(!this.buffer.hasScrollback){const ue=this.viewport.getLinesScrolled(K);if(ue===0)return;const ee=U.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(K.deltaY<0?"A":"B");let ke="";for(let Be=0;Be<Math.abs(ue);Be++)ke+=ee;return this.coreService.triggerDataEvent(ke,!0),this.cancel(K,!0)}return this.viewport.handleWheel(K)?this.cancel(K):void 0}}),{passive:!1})),this.register((0,h.addDisposableDomListener)(k,"touchstart",(K=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(K),this.cancel(K)}),{passive:!0})),this.register((0,h.addDisposableDomListener)(k,"touchmove",(K=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(K)?void 0:this.cancel(K)}),{passive:!1}))}refresh(F,k){this._renderService?.refreshRows(F,k)}updateCursorStyle(F){this._selectionService?.shouldColumnSelect(F)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(F,k,V=0){V===1?(super.scrollLines(F,k,V),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(F)}paste(F){(0,u.paste)(F,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(F){this._customKeyEventHandler=F}attachCustomWheelEventHandler(F){this._customWheelEventHandler=F}registerLinkProvider(F){return this._linkProviderService.registerLinkProvider(F)}registerCharacterJoiner(F){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const k=this._characterJoinerService.register(F);return this.refresh(0,this.rows-1),k}deregisterCharacterJoiner(F){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(F)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(F){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+F)}registerDecoration(F){return this._decorationService.registerDecoration(F)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(F,k,V){this._selectionService.setSelection(F,k,V)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(F,k){this._selectionService?.selectLines(F,k)}_keyDown(F){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(F)===!1)return!1;const k=this.browser.isMac&&this.options.macOptionIsMeta&&F.altKey;if(!k&&!this._compositionHelper.keydown(F))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;k||F.key!=="Dead"&&F.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const V=(0,W.evaluateKeyboardEvent)(F,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(F),V.type===3||V.type===2){const G=this.rows-1;return this.scrollLines(V.type===2?-G:G),this.cancel(F,!0)}return V.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,F)||(V.cancel&&this.cancel(F,!0),!V.key||!!(F.key&&!F.ctrlKey&&!F.altKey&&!F.metaKey&&F.key.length===1&&F.key.charCodeAt(0)>=65&&F.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(V.key!==U.C0.ETX&&V.key!==U.C0.CR||(this.textarea.value=""),this._onKey.fire({key:V.key,domEvent:F}),this._showCursor(),this.coreService.triggerDataEvent(V.key,!0),!this.optionsService.rawOptions.screenReaderMode||F.altKey||F.ctrlKey?this.cancel(F,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(F,k){const V=F.isMac&&!this.options.macOptionIsMeta&&k.altKey&&!k.ctrlKey&&!k.metaKey||F.isWindows&&k.altKey&&k.ctrlKey&&!k.metaKey||F.isWindows&&k.getModifierState("AltGraph");return k.type==="keypress"?V:V&&(!k.keyCode||k.keyCode>47)}_keyUp(F){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(F)===!1||((function(k){return k.keyCode===16||k.keyCode===17||k.keyCode===18})(F)||this.focus(),this.updateCursorStyle(F),this._keyPressHandled=!1)}_keyPress(F){let k;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(F)===!1)return!1;if(this.cancel(F),F.charCode)k=F.charCode;else if(F.which===null||F.which===void 0)k=F.keyCode;else{if(F.which===0||F.charCode===0)return!1;k=F.which}return!(!k||(F.altKey||F.ctrlKey||F.metaKey)&&!this._isThirdLevelShift(this.browser,F)||(k=String.fromCharCode(k),this._onKey.fire({key:k,domEvent:F}),this._showCursor(),this.coreService.triggerDataEvent(k,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(F){if(F.data&&F.inputType==="insertText"&&(!F.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const k=F.data;return this.coreService.triggerDataEvent(k,!0),this.cancel(F),!0}return!1}resize(F,k){F!==this.cols||k!==this.rows?super.resize(F,k):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(F,k){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let F=1;F<this.rows;F++)this.buffer.lines.push(this.buffer.getBlankLine(z.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;const F=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=F,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(U.C0.ESC+"[I"):this.coreService.triggerDataEvent(U.C0.ESC+"[O")}_reportWindowsOptions(F){if(this._renderService)switch(F){case O.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const k=this._renderService.dimensions.css.canvas.width.toFixed(0),V=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${U.C0.ESC}[4;${V};${k}t`);break;case O.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const G=this._renderService.dimensions.css.cell.width.toFixed(0),Z=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${U.C0.ESC}[6;${Z};${G}t`)}}cancel(F,k){if(this.options.cancelEvents||k)return F.preventDefault(),F.stopPropagation(),!1}}s.Terminal=q},9924:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TimeBasedDebouncer=void 0,s.TimeBasedDebouncer=class{constructor(a,u=1e3){this._renderCallback=a,this._debounceThresholdMS=u,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(a,u,h){this._rowCount=h,a=a!==void 0?a:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u;const c=Date.now();if(c-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=c,this._innerRefresh();else if(!this._additionalRefreshRequested){const p=c-this._lastRefreshMs,v=this._debounceThresholdMS-p;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),v)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const a=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,u)}}},1680:function(l,s,a){var u=this&&this.__decorate||function(d,f,g,y){var w,C=arguments.length,x=C<3?f:y===null?y=Object.getOwnPropertyDescriptor(f,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,f,g,y);else for(var b=d.length-1;b>=0;b--)(w=d[b])&&(x=(C<3?w(x):C>3?w(f,g,x):w(f,g))||x);return C>3&&x&&Object.defineProperty(f,g,x),x},h=this&&this.__param||function(d,f){return function(g,y){f(g,y,d)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Viewport=void 0;const c=a(3656),p=a(4725),v=a(8460),S=a(844),_=a(2585);let m=s.Viewport=class extends S.Disposable{constructor(d,f,g,y,w,C,x,b){super(),this._viewportElement=d,this._scrollArea=f,this._bufferService=g,this._optionsService=y,this._charSizeService=w,this._renderService=C,this._coreBrowserService=x,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new v.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,c.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((E=>this._activeBuffer=E.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((E=>this._renderDimensions=E))),this._handleThemeChange(b.colors),this.register(b.onChangeColors((E=>this._handleThemeChange(E)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(d){this._viewportElement.style.backgroundColor=d.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(d){if(d)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const f=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==f&&(this._lastRecordedBufferHeight=f,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const d=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==d&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=d),this._refreshAnimationFrame=null}syncScrollArea(d=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(d);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(d)}_handleScroll(d){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const f=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const d=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(d*(this._smoothScrollState.target-this._smoothScrollState.origin)),d<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(d,f){const g=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(f<0&&this._viewportElement.scrollTop!==0||f>0&&g<this._lastRecordedBufferHeight)||(d.cancelable&&d.preventDefault(),!1)}handleWheel(d){const f=this._getPixelsScrolled(d);return f!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+f:this._smoothScrollState.target+=f,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=f,this._bubbleScroll(d,f))}scrollLines(d){if(d!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const f=d*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+f,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!1})}_getPixelsScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let f=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_LINE?f*=this._currentRowHeight:d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._currentRowHeight*this._bufferService.rows),f}getBufferElements(d,f){let g,y="";const w=[],C=f??this._bufferService.buffer.lines.length,x=this._bufferService.buffer.lines;for(let b=d;b<C;b++){const E=x.get(b);if(!E)continue;const R=x.get(b+1)?.isWrapped;if(y+=E.translateToString(!R),!R||b===x.length-1){const M=document.createElement("div");M.textContent=y,w.push(M),y.length>0&&(g=M),y=""}}return{bufferElements:w,cursorElement:g}}getLinesScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let f=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(f/=this._currentRowHeight+0,this._wheelPartialScroll+=f,f=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._bufferService.rows),f}_applyScrollModifier(d,f){const g=this._optionsService.rawOptions.fastScrollModifier;return g==="alt"&&f.altKey||g==="ctrl"&&f.ctrlKey||g==="shift"&&f.shiftKey?d*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:d*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(d){this._lastTouchY=d.touches[0].pageY}handleTouchMove(d){const f=this._lastTouchY-d.touches[0].pageY;return this._lastTouchY=d.touches[0].pageY,f!==0&&(this._viewportElement.scrollTop+=f,this._bubbleScroll(d,f))}};s.Viewport=m=u([h(2,_.IBufferService),h(3,_.IOptionsService),h(4,p.ICharSizeService),h(5,p.IRenderService),h(6,p.ICoreBrowserService),h(7,p.IThemeService)],m)},3107:function(l,s,a){var u=this&&this.__decorate||function(_,m,d,f){var g,y=arguments.length,w=y<3?m:f===null?f=Object.getOwnPropertyDescriptor(m,d):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(_,m,d,f);else for(var C=_.length-1;C>=0;C--)(g=_[C])&&(w=(y<3?g(w):y>3?g(m,d,w):g(m,d))||w);return y>3&&w&&Object.defineProperty(m,d,w),w},h=this&&this.__param||function(_,m){return function(d,f){m(d,f,_)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferDecorationRenderer=void 0;const c=a(4725),p=a(844),v=a(2585);let S=s.BufferDecorationRenderer=class extends p.Disposable{constructor(_,m,d,f,g){super(),this._screenElement=_,this._bufferService=m,this._coreBrowserService=d,this._decorationService=f,this._renderService=g,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((y=>this._removeDecoration(y)))),this.register((0,p.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const _ of this._decorationService.decorations)this._renderDecoration(_);this._dimensionsChanged=!1}_renderDecoration(_){this._refreshStyle(_),this._dimensionsChanged&&this._refreshXPosition(_)}_createElement(_){const m=this._coreBrowserService.mainDocument.createElement("div");m.classList.add("xterm-decoration"),m.classList.toggle("xterm-decoration-top-layer",_?.options?.layer==="top"),m.style.width=`${Math.round((_.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,m.style.height=(_.options.height||1)*this._renderService.dimensions.css.cell.height+"px",m.style.top=(_.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",m.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const d=_.options.x??0;return d&&d>this._bufferService.cols&&(m.style.display="none"),this._refreshXPosition(_,m),m}_refreshStyle(_){const m=_.marker.line-this._bufferService.buffers.active.ydisp;if(m<0||m>=this._bufferService.rows)_.element&&(_.element.style.display="none",_.onRenderEmitter.fire(_.element));else{let d=this._decorationElements.get(_);d||(d=this._createElement(_),_.element=d,this._decorationElements.set(_,d),this._container.appendChild(d),_.onDispose((()=>{this._decorationElements.delete(_),d.remove()}))),d.style.top=m*this._renderService.dimensions.css.cell.height+"px",d.style.display=this._altBufferIsActive?"none":"block",_.onRenderEmitter.fire(d)}}_refreshXPosition(_,m=_.element){if(!m)return;const d=_.options.x??0;(_.options.anchor||"left")==="right"?m.style.right=d?d*this._renderService.dimensions.css.cell.width+"px":"":m.style.left=d?d*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(_){this._decorationElements.get(_)?.remove(),this._decorationElements.delete(_),_.dispose()}};s.BufferDecorationRenderer=S=u([h(1,v.IBufferService),h(2,c.ICoreBrowserService),h(3,v.IDecorationService),h(4,c.IRenderService)],S)},5871:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorZoneStore=void 0,s.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(a){if(a.options.overviewRulerOptions){for(const u of this._zones)if(u.color===a.options.overviewRulerOptions.color&&u.position===a.options.overviewRulerOptions.position){if(this._lineIntersectsZone(u,a.marker.line))return;if(this._lineAdjacentToZone(u,a.marker.line,a.options.overviewRulerOptions.position))return void this._addLineToZone(u,a.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=a.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=a.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=a.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=a.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:a.options.overviewRulerOptions.color,position:a.options.overviewRulerOptions.position,startBufferLine:a.marker.line,endBufferLine:a.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(a){this._linePadding=a}_lineIntersectsZone(a,u){return u>=a.startBufferLine&&u<=a.endBufferLine}_lineAdjacentToZone(a,u,h){return u>=a.startBufferLine-this._linePadding[h||"full"]&&u<=a.endBufferLine+this._linePadding[h||"full"]}_addLineToZone(a,u){a.startBufferLine=Math.min(a.startBufferLine,u),a.endBufferLine=Math.max(a.endBufferLine,u)}}},5744:function(l,s,a){var u=this&&this.__decorate||function(g,y,w,C){var x,b=arguments.length,E=b<3?y:C===null?C=Object.getOwnPropertyDescriptor(y,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,y,w,C);else for(var R=g.length-1;R>=0;R--)(x=g[R])&&(E=(b<3?x(E):b>3?x(y,w,E):x(y,w))||E);return b>3&&E&&Object.defineProperty(y,w,E),E},h=this&&this.__param||function(g,y){return function(w,C){y(w,C,g)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OverviewRulerRenderer=void 0;const c=a(5871),p=a(4725),v=a(844),S=a(2585),_={full:0,left:0,center:0,right:0},m={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0};let f=s.OverviewRulerRenderer=class extends v.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(g,y,w,C,x,b,E){super(),this._viewportElement=g,this._screenElement=y,this._bufferService=w,this._decorationService=C,this._renderService=x,this._optionsService=b,this._coreBrowserService=E,this._colorZoneStore=new c.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);const R=this._canvas.getContext("2d");if(!R)throw new Error("Ctx cannot be null");this._ctx=R,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,v.toDisposable)((()=>{this._canvas?.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const g=Math.floor(this._canvas.width/3),y=Math.ceil(this._canvas.width/3);m.full=this._canvas.width,m.left=g,m.center=y,m.right=g,this._refreshDrawHeightConstants(),d.full=0,d.left=0,d.center=m.left,d.right=m.left+m.center}_refreshDrawHeightConstants(){_.full=Math.round(2*this._coreBrowserService.dpr);const g=this._canvas.height/this._bufferService.buffer.lines.length,y=Math.round(Math.max(Math.min(g,12),6)*this._coreBrowserService.dpr);_.left=y,_.center=y,_.right=y}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const y of this._decorationService.decorations)this._colorZoneStore.addDecoration(y);this._ctx.lineWidth=1;const g=this._colorZoneStore.zones;for(const y of g)y.position!=="full"&&this._renderColorZone(y);for(const y of g)y.position==="full"&&this._renderColorZone(y);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(g){this._ctx.fillStyle=g.color,this._ctx.fillRect(d[g.position||"full"],Math.round((this._canvas.height-1)*(g.startBufferLine/this._bufferService.buffers.active.lines.length)-_[g.position||"full"]/2),m[g.position||"full"],Math.round((this._canvas.height-1)*((g.endBufferLine-g.startBufferLine)/this._bufferService.buffers.active.lines.length)+_[g.position||"full"]))}_queueRefresh(g,y){this._shouldUpdateDimensions=g||this._shouldUpdateDimensions,this._shouldUpdateAnchor=y||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};s.OverviewRulerRenderer=f=u([h(2,S.IBufferService),h(3,S.IDecorationService),h(4,p.IRenderService),h(5,S.IOptionsService),h(6,p.ICoreBrowserService)],f)},2950:function(l,s,a){var u=this&&this.__decorate||function(_,m,d,f){var g,y=arguments.length,w=y<3?m:f===null?f=Object.getOwnPropertyDescriptor(m,d):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(_,m,d,f);else for(var C=_.length-1;C>=0;C--)(g=_[C])&&(w=(y<3?g(w):y>3?g(m,d,w):g(m,d))||w);return y>3&&w&&Object.defineProperty(m,d,w),w},h=this&&this.__param||function(_,m){return function(d,f){m(d,f,_)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CompositionHelper=void 0;const c=a(4725),p=a(2585),v=a(2584);let S=s.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(_,m,d,f,g,y){this._textarea=_,this._compositionView=m,this._bufferService=d,this._optionsService=f,this._coreService=g,this._renderService=y,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(_){this._compositionView.textContent=_.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(_){if(this._isComposing||this._isSendingComposition){if(_.keyCode===229||_.keyCode===16||_.keyCode===17||_.keyCode===18)return!1;this._finalizeComposition(!1)}return _.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(_){if(this._compositionView.classList.remove("active"),this._isComposing=!1,_){const m={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let d;this._isSendingComposition=!1,m.start+=this._dataAlreadySent.length,d=this._isComposing?this._textarea.value.substring(m.start,m.end):this._textarea.value.substring(m.start),d.length>0&&this._coreService.triggerDataEvent(d,!0)}}),0)}else{this._isSendingComposition=!1;const m=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(m,!0)}}_handleAnyTextareaChanges(){const _=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const m=this._textarea.value,d=m.replace(_,"");this._dataAlreadySent=d,m.length>_.length?this._coreService.triggerDataEvent(d,!0):m.length<_.length?this._coreService.triggerDataEvent(`${v.C0.DEL}`,!0):m.length===_.length&&m!==_&&this._coreService.triggerDataEvent(m,!0)}}),0)}updateCompositionElements(_){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const m=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.css.cell.height,f=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,g=m*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=g+"px",this._compositionView.style.top=f+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const y=this._compositionView.getBoundingClientRect();this._textarea.style.left=g+"px",this._textarea.style.top=f+"px",this._textarea.style.width=Math.max(y.width,1)+"px",this._textarea.style.height=Math.max(y.height,1)+"px",this._textarea.style.lineHeight=y.height+"px"}_||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};s.CompositionHelper=S=u([h(2,p.IBufferService),h(3,p.IOptionsService),h(4,p.ICoreService),h(5,c.IRenderService)],S)},9806:(l,s)=>{function a(u,h,c){const p=c.getBoundingClientRect(),v=u.getComputedStyle(c),S=parseInt(v.getPropertyValue("padding-left")),_=parseInt(v.getPropertyValue("padding-top"));return[h.clientX-p.left-S,h.clientY-p.top-_]}Object.defineProperty(s,"__esModule",{value:!0}),s.getCoords=s.getCoordsRelativeToElement=void 0,s.getCoordsRelativeToElement=a,s.getCoords=function(u,h,c,p,v,S,_,m,d){if(!S)return;const f=a(u,h,c);return f?(f[0]=Math.ceil((f[0]+(d?_/2:0))/_),f[1]=Math.ceil(f[1]/m),f[0]=Math.min(Math.max(f[0],1),p+(d?1:0)),f[1]=Math.min(Math.max(f[1],1),v),f):void 0}},9504:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.moveToCellSequence=void 0;const u=a(2584);function h(m,d,f,g){const y=m-c(m,f),w=d-c(d,f),C=Math.abs(y-w)-(function(x,b,E){let R=0;const M=x-c(x,E),L=b-c(b,E);for(let D=0;D<Math.abs(M-L);D++){const B=p(x,b)==="A"?-1:1;E.buffer.lines.get(M+B*D)?.isWrapped&&R++}return R})(m,d,f);return _(C,S(p(m,d),g))}function c(m,d){let f=0,g=d.buffer.lines.get(m),y=g?.isWrapped;for(;y&&m>=0&&m<d.rows;)f++,g=d.buffer.lines.get(--m),y=g?.isWrapped;return f}function p(m,d){return m>d?"A":"B"}function v(m,d,f,g,y,w){let C=m,x=d,b="";for(;C!==f||x!==g;)C+=y?1:-1,y&&C>w.cols-1?(b+=w.buffer.translateBufferLineToString(x,!1,m,C),C=0,m=0,x++):!y&&C<0&&(b+=w.buffer.translateBufferLineToString(x,!1,0,m+1),C=w.cols-1,m=C,x--);return b+w.buffer.translateBufferLineToString(x,!1,m,C)}function S(m,d){const f=d?"O":"[";return u.C0.ESC+f+m}function _(m,d){m=Math.floor(m);let f="";for(let g=0;g<m;g++)f+=d;return f}s.moveToCellSequence=function(m,d,f,g){const y=f.buffer.x,w=f.buffer.y;if(!f.buffer.hasScrollback)return(function(b,E,R,M,L,D){return h(E,M,L,D).length===0?"":_(v(b,E,b,E-c(E,L),!1,L).length,S("D",D))})(y,w,0,d,f,g)+h(w,d,f,g)+(function(b,E,R,M,L,D){let B;B=h(E,M,L,D).length>0?M-c(M,L):E;const $=M,z=(function(U,W,T,A,P,O){let N;return N=h(T,A,P,O).length>0?A-c(A,P):W,U<T&&N<=A||U>=T&&N<A?"C":"D"})(b,E,R,M,L,D);return _(v(b,B,R,$,z==="C",L).length,S(z,D))})(y,w,m,d,f,g);let C;if(w===d)return C=y>m?"D":"C",_(Math.abs(y-m),S(C,g));C=w>d?"D":"C";const x=Math.abs(w-d);return _((function(b,E){return E.cols-b})(w>d?m:y,f)+(x-1)*f.cols+1+((w>d?y:m)-1),S(C,g))}},1296:function(l,s,a){var u=this&&this.__decorate||function(D,B,$,z){var U,W=arguments.length,T=W<3?B:z===null?z=Object.getOwnPropertyDescriptor(B,$):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(D,B,$,z);else for(var A=D.length-1;A>=0;A--)(U=D[A])&&(T=(W<3?U(T):W>3?U(B,$,T):U(B,$))||T);return W>3&&T&&Object.defineProperty(B,$,T),T},h=this&&this.__param||function(D,B){return function($,z){B($,z,D)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRenderer=void 0;const c=a(3787),p=a(2550),v=a(2223),S=a(6171),_=a(6052),m=a(4725),d=a(8055),f=a(8460),g=a(844),y=a(2585),w="xterm-dom-renderer-owner-",C="xterm-rows",x="xterm-fg-",b="xterm-bg-",E="xterm-focus",R="xterm-selection";let M=1,L=s.DomRenderer=class extends g.Disposable{constructor(D,B,$,z,U,W,T,A,P,O,N,j,q){super(),this._terminal=D,this._document=B,this._element=$,this._screenElement=z,this._viewportElement=U,this._helperContainer=W,this._linkifier2=T,this._charSizeService=P,this._optionsService=O,this._bufferService=N,this._coreBrowserService=j,this._themeService=q,this._terminalClass=M++,this._rowElements=[],this._selectionRenderModel=(0,_.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new f.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(C),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(R),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,S.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((Y=>this._injectCss(Y)))),this._injectCss(this._themeService.colors),this._rowFactory=A.createInstance(c.DomRendererRowFactory,document),this._element.classList.add(w+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((Y=>this._handleLinkHover(Y)))),this.register(this._linkifier2.onHideLinkUnderline((Y=>this._handleLinkLeave(Y)))),this.register((0,g.toDisposable)((()=>{this._element.classList.remove(w+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new p.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const D=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*D,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*D),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/D),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/D),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const $ of this._rowElements)$.style.width=`${this.dimensions.css.canvas.width}px`,$.style.height=`${this.dimensions.css.cell.height}px`,$.style.lineHeight=`${this.dimensions.css.cell.height}px`,$.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const B=`${this._terminalSelector} .${C} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=B,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(D){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let B=`${this._terminalSelector} .${C} { color: ${D.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;B+=`${this._terminalSelector} .${C} .xterm-dim { color: ${d.color.multiplyOpacity(D.foreground,.5).css};}`,B+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const $=`blink_underline_${this._terminalClass}`,z=`blink_bar_${this._terminalClass}`,U=`blink_block_${this._terminalClass}`;B+=`@keyframes ${$} { 50% {  border-bottom-style: hidden; }}`,B+=`@keyframes ${z} { 50% {  box-shadow: none; }}`,B+=`@keyframes ${U} { 0% {  background-color: ${D.cursor.css};  color: ${D.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${D.cursor.css}; }}`,B+=`${this._terminalSelector} .${C}.${E} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${$} 1s step-end infinite;}${this._terminalSelector} .${C}.${E} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${z} 1s step-end infinite;}${this._terminalSelector} .${C}.${E} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${U} 1s step-end infinite;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-block { background-color: ${D.cursor.css}; color: ${D.cursorAccent.css};}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${D.cursor.css} !important; color: ${D.cursorAccent.css} !important;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${D.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${D.cursor.css} inset;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${D.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,B+=`${this._terminalSelector} .${R} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${R} div { position: absolute; background-color: ${D.selectionBackgroundOpaque.css};}${this._terminalSelector} .${R} div { position: absolute; background-color: ${D.selectionInactiveBackgroundOpaque.css};}`;for(const[W,T]of D.ansi.entries())B+=`${this._terminalSelector} .${x}${W} { color: ${T.css}; }${this._terminalSelector} .${x}${W}.xterm-dim { color: ${d.color.multiplyOpacity(T,.5).css}; }${this._terminalSelector} .${b}${W} { background-color: ${T.css}; }`;B+=`${this._terminalSelector} .${x}${v.INVERTED_DEFAULT_COLOR} { color: ${d.color.opaque(D.background).css}; }${this._terminalSelector} .${x}${v.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${d.color.multiplyOpacity(d.color.opaque(D.background),.5).css}; }${this._terminalSelector} .${b}${v.INVERTED_DEFAULT_COLOR} { background-color: ${D.foreground.css}; }`,this._themeStyleElement.textContent=B}_setDefaultSpacing(){const D=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${D}px`,this._rowFactory.defaultSpacing=D}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(D,B){for(let $=this._rowElements.length;$<=B;$++){const z=this._document.createElement("div");this._rowContainer.appendChild(z),this._rowElements.push(z)}for(;this._rowElements.length>B;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(D,B){this._refreshRowElements(D,B),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(E),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(E),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(D,B,$){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(D,B,$),this.renderRows(0,this._bufferService.rows-1),!D||!B)return;this._selectionRenderModel.update(this._terminal,D,B,$);const z=this._selectionRenderModel.viewportStartRow,U=this._selectionRenderModel.viewportEndRow,W=this._selectionRenderModel.viewportCappedStartRow,T=this._selectionRenderModel.viewportCappedEndRow;if(W>=this._bufferService.rows||T<0)return;const A=this._document.createDocumentFragment();if($){const P=D[0]>B[0];A.appendChild(this._createSelectionElement(W,P?B[0]:D[0],P?D[0]:B[0],T-W+1))}else{const P=z===W?D[0]:0,O=W===U?B[0]:this._bufferService.cols;A.appendChild(this._createSelectionElement(W,P,O));const N=T-W-1;if(A.appendChild(this._createSelectionElement(W+1,0,this._bufferService.cols,N)),W!==T){const j=U===T?B[0]:this._bufferService.cols;A.appendChild(this._createSelectionElement(T,0,j))}}this._selectionContainer.appendChild(A)}_createSelectionElement(D,B,$,z=1){const U=this._document.createElement("div"),W=B*this.dimensions.css.cell.width;let T=this.dimensions.css.cell.width*($-B);return W+T>this.dimensions.css.canvas.width&&(T=this.dimensions.css.canvas.width-W),U.style.height=z*this.dimensions.css.cell.height+"px",U.style.top=D*this.dimensions.css.cell.height+"px",U.style.left=`${W}px`,U.style.width=`${T}px`,U}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const D of this._rowElements)D.replaceChildren()}renderRows(D,B){const $=this._bufferService.buffer,z=$.ybase+$.y,U=Math.min($.x,this._bufferService.cols-1),W=this._optionsService.rawOptions.cursorBlink,T=this._optionsService.rawOptions.cursorStyle,A=this._optionsService.rawOptions.cursorInactiveStyle;for(let P=D;P<=B;P++){const O=P+$.ydisp,N=this._rowElements[P],j=$.lines.get(O);if(!N||!j)break;N.replaceChildren(...this._rowFactory.createRow(j,O,O===z,T,A,U,W,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${w}${this._terminalClass}`}_handleLinkHover(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!0)}_handleLinkLeave(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!1)}_setCellUnderline(D,B,$,z,U,W){$<0&&(D=0),z<0&&(B=0);const T=this._bufferService.rows-1;$=Math.max(Math.min($,T),0),z=Math.max(Math.min(z,T),0),U=Math.min(U,this._bufferService.cols);const A=this._bufferService.buffer,P=A.ybase+A.y,O=Math.min(A.x,U-1),N=this._optionsService.rawOptions.cursorBlink,j=this._optionsService.rawOptions.cursorStyle,q=this._optionsService.rawOptions.cursorInactiveStyle;for(let Y=$;Y<=z;++Y){const F=Y+A.ydisp,k=this._rowElements[Y],V=A.lines.get(F);if(!k||!V)break;k.replaceChildren(...this._rowFactory.createRow(V,F,F===P,j,q,O,N,this.dimensions.css.cell.width,this._widthCache,W?Y===$?D:0:-1,W?(Y===z?B:U)-1:-1))}}};s.DomRenderer=L=u([h(7,y.IInstantiationService),h(8,m.ICharSizeService),h(9,y.IOptionsService),h(10,y.IBufferService),h(11,m.ICoreBrowserService),h(12,m.IThemeService)],L)},3787:function(l,s,a){var u=this&&this.__decorate||function(C,x,b,E){var R,M=arguments.length,L=M<3?x:E===null?E=Object.getOwnPropertyDescriptor(x,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(C,x,b,E);else for(var D=C.length-1;D>=0;D--)(R=C[D])&&(L=(M<3?R(L):M>3?R(x,b,L):R(x,b))||L);return M>3&&L&&Object.defineProperty(x,b,L),L},h=this&&this.__param||function(C,x){return function(b,E){x(b,E,C)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRendererRowFactory=void 0;const c=a(2223),p=a(643),v=a(511),S=a(2585),_=a(8055),m=a(4725),d=a(4269),f=a(6171),g=a(3734);let y=s.DomRendererRowFactory=class{constructor(C,x,b,E,R,M,L){this._document=C,this._characterJoinerService=x,this._optionsService=b,this._coreBrowserService=E,this._coreService=R,this._decorationService=M,this._themeService=L,this._workCell=new v.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(C,x,b){this._selectionStart=C,this._selectionEnd=x,this._columnSelectMode=b}createRow(C,x,b,E,R,M,L,D,B,$,z){const U=[],W=this._characterJoinerService.getJoinedCharacters(x),T=this._themeService.colors;let A,P=C.getNoBgTrimmedLength();b&&P<M+1&&(P=M+1);let O=0,N="",j=0,q=0,Y=0,F=!1,k=0,V=!1,G=0;const Z=[],K=$!==-1&&z!==-1;for(let ue=0;ue<P;ue++){C.loadCell(ue,this._workCell);let ee=this._workCell.getWidth();if(ee===0)continue;let ke=!1,Be=ue,ie=this._workCell;if(W.length>0&&ue===W[0][0]){ke=!0;const be=W.shift();ie=new d.JoinedCellData(this._workCell,C.translateToString(!0,be[0],be[1]),be[1]-be[0]),Be=be[1]-1,ee=ie.getWidth()}const tt=this._isCellInSelection(ue,x),qe=b&&ue===M,ut=K&&ue>=$&&ue<=z;let Dt=!1;this._decorationService.forEachDecorationAtCell(ue,x,void 0,(be=>{Dt=!0}));let Ne=ie.getChars()||p.WHITESPACE_CELL_CHAR;if(Ne===" "&&(ie.isUnderline()||ie.isOverline())&&(Ne="Â "),G=ee*D-B.get(Ne,ie.isBold(),ie.isItalic()),A){if(O&&(tt&&V||!tt&&!V&&ie.bg===j)&&(tt&&V&&T.selectionForeground||ie.fg===q)&&ie.extended.ext===Y&&ut===F&&G===k&&!qe&&!ke&&!Dt){ie.isInvisible()?N+=p.WHITESPACE_CELL_CHAR:N+=Ne,O++;continue}O&&(A.textContent=N),A=this._document.createElement("span"),O=0,N=""}else A=this._document.createElement("span");if(j=ie.bg,q=ie.fg,Y=ie.extended.ext,F=ut,k=G,V=tt,ke&&M>=ue&&M<=Be&&(M=ue),!this._coreService.isCursorHidden&&qe&&this._coreService.isCursorInitialized){if(Z.push("xterm-cursor"),this._coreBrowserService.isFocused)L&&Z.push("xterm-cursor-blink"),Z.push(E==="bar"?"xterm-cursor-bar":E==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(R)switch(R){case"outline":Z.push("xterm-cursor-outline");break;case"block":Z.push("xterm-cursor-block");break;case"bar":Z.push("xterm-cursor-bar");break;case"underline":Z.push("xterm-cursor-underline")}}if(ie.isBold()&&Z.push("xterm-bold"),ie.isItalic()&&Z.push("xterm-italic"),ie.isDim()&&Z.push("xterm-dim"),N=ie.isInvisible()?p.WHITESPACE_CELL_CHAR:ie.getChars()||p.WHITESPACE_CELL_CHAR,ie.isUnderline()&&(Z.push(`xterm-underline-${ie.extended.underlineStyle}`),N===" "&&(N="Â "),!ie.isUnderlineColorDefault()))if(ie.isUnderlineColorRGB())A.style.textDecorationColor=`rgb(${g.AttributeData.toColorRGB(ie.getUnderlineColor()).join(",")})`;else{let be=ie.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ie.isBold()&&be<8&&(be+=8),A.style.textDecorationColor=T.ansi[be].css}ie.isOverline()&&(Z.push("xterm-overline"),N===" "&&(N="Â ")),ie.isStrikethrough()&&Z.push("xterm-strikethrough"),ut&&(A.style.textDecoration="underline");let Re=ie.getFgColor(),st=ie.getFgColorMode(),$e=ie.getBgColor(),ft=ie.getBgColorMode();const $t=!!ie.isInverse();if($t){const be=Re;Re=$e,$e=be;const Lr=st;st=ft,ft=Lr}let rt,bt,Xe,xt=!1;switch(this._decorationService.forEachDecorationAtCell(ue,x,void 0,(be=>{be.options.layer!=="top"&&xt||(be.backgroundColorRGB&&(ft=50331648,$e=be.backgroundColorRGB.rgba>>8&16777215,rt=be.backgroundColorRGB),be.foregroundColorRGB&&(st=50331648,Re=be.foregroundColorRGB.rgba>>8&16777215,bt=be.foregroundColorRGB),xt=be.options.layer==="top")})),!xt&&tt&&(rt=this._coreBrowserService.isFocused?T.selectionBackgroundOpaque:T.selectionInactiveBackgroundOpaque,$e=rt.rgba>>8&16777215,ft=50331648,xt=!0,T.selectionForeground&&(st=50331648,Re=T.selectionForeground.rgba>>8&16777215,bt=T.selectionForeground)),xt&&Z.push("xterm-decoration-top"),ft){case 16777216:case 33554432:Xe=T.ansi[$e],Z.push(`xterm-bg-${$e}`);break;case 50331648:Xe=_.channels.toColor($e>>16,$e>>8&255,255&$e),this._addStyle(A,`background-color:#${w(($e>>>0).toString(16),"0",6)}`);break;default:$t?(Xe=T.foreground,Z.push(`xterm-bg-${c.INVERTED_DEFAULT_COLOR}`)):Xe=T.background}switch(rt||ie.isDim()&&(rt=_.color.multiplyOpacity(Xe,.5)),st){case 16777216:case 33554432:ie.isBold()&&Re<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Re+=8),this._applyMinimumContrast(A,Xe,T.ansi[Re],ie,rt,void 0)||Z.push(`xterm-fg-${Re}`);break;case 50331648:const be=_.channels.toColor(Re>>16&255,Re>>8&255,255&Re);this._applyMinimumContrast(A,Xe,be,ie,rt,bt)||this._addStyle(A,`color:#${w(Re.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(A,Xe,T.foreground,ie,rt,bt)||$t&&Z.push(`xterm-fg-${c.INVERTED_DEFAULT_COLOR}`)}Z.length&&(A.className=Z.join(" "),Z.length=0),qe||ke||Dt?A.textContent=N:O++,G!==this.defaultSpacing&&(A.style.letterSpacing=`${G}px`),U.push(A),ue=Be}return A&&O&&(A.textContent=N),U}_applyMinimumContrast(C,x,b,E,R,M){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,f.treatGlyphAsBackgroundColor)(E.getCode()))return!1;const L=this._getContrastCache(E);let D;if(R||M||(D=L.getColor(x.rgba,b.rgba)),D===void 0){const B=this._optionsService.rawOptions.minimumContrastRatio/(E.isDim()?2:1);D=_.color.ensureContrastRatio(R||x,M||b,B),L.setColor((R||x).rgba,(M||b).rgba,D??null)}return!!D&&(this._addStyle(C,`color:${D.css}`),!0)}_getContrastCache(C){return C.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(C,x){C.setAttribute("style",`${C.getAttribute("style")||""}${x};`)}_isCellInSelection(C,x){const b=this._selectionStart,E=this._selectionEnd;return!(!b||!E)&&(this._columnSelectMode?b[0]<=E[0]?C>=b[0]&&x>=b[1]&&C<E[0]&&x<=E[1]:C<b[0]&&x>=b[1]&&C>=E[0]&&x<=E[1]:x>b[1]&&x<E[1]||b[1]===E[1]&&x===b[1]&&C>=b[0]&&C<E[0]||b[1]<E[1]&&x===E[1]&&C<E[0]||b[1]<E[1]&&x===b[1]&&C>=b[0])}};function w(C,x,b){for(;C.length<b;)C=x+C;return C}s.DomRendererRowFactory=y=u([h(1,m.ICharacterJoinerService),h(2,S.IOptionsService),h(3,m.ICoreBrowserService),h(4,S.ICoreService),h(5,S.IDecorationService),h(6,m.IThemeService)],y)},2550:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WidthCache=void 0,s.WidthCache=class{constructor(a,u){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=a.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const h=a.createElement("span");h.classList.add("xterm-char-measure-element");const c=a.createElement("span");c.classList.add("xterm-char-measure-element"),c.style.fontWeight="bold";const p=a.createElement("span");p.classList.add("xterm-char-measure-element"),p.style.fontStyle="italic";const v=a.createElement("span");v.classList.add("xterm-char-measure-element"),v.style.fontWeight="bold",v.style.fontStyle="italic",this._measureElements=[h,c,p,v],this._container.appendChild(h),this._container.appendChild(c),this._container.appendChild(p),this._container.appendChild(v),u.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(a,u,h,c){a===this._font&&u===this._fontSize&&h===this._weight&&c===this._weightBold||(this._font=a,this._fontSize=u,this._weight=h,this._weightBold=c,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${h}`,this._measureElements[1].style.fontWeight=`${c}`,this._measureElements[2].style.fontWeight=`${h}`,this._measureElements[3].style.fontWeight=`${c}`,this.clear())}get(a,u,h){let c=0;if(!u&&!h&&a.length===1&&(c=a.charCodeAt(0))<256){if(this._flat[c]!==-9999)return this._flat[c];const S=this._measure(a,0);return S>0&&(this._flat[c]=S),S}let p=a;u&&(p+="B"),h&&(p+="I");let v=this._holey.get(p);if(v===void 0){let S=0;u&&(S|=1),h&&(S|=2),v=this._measure(a,S),v>0&&this._holey.set(p,v)}return v}_measure(a,u){const h=this._measureElements[u];return h.textContent=a.repeat(32),h.offsetWidth/32}}},2223:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TEXT_BASELINE=s.DIM_OPACITY=s.INVERTED_DEFAULT_COLOR=void 0;const u=a(6114);s.INVERTED_DEFAULT_COLOR=257,s.DIM_OPACITY=.5,s.TEXT_BASELINE=u.isFirefox||u.isLegacyEdge?"bottom":"ideographic"},6171:(l,s)=>{function a(h){return 57508<=h&&h<=57558}function u(h){return h>=128512&&h<=128591||h>=127744&&h<=128511||h>=128640&&h<=128767||h>=9728&&h<=9983||h>=9984&&h<=10175||h>=65024&&h<=65039||h>=129280&&h<=129535||h>=127462&&h<=127487}Object.defineProperty(s,"__esModule",{value:!0}),s.computeNextVariantOffset=s.createRenderDimensions=s.treatGlyphAsBackgroundColor=s.allowRescaling=s.isEmoji=s.isRestrictedPowerlineGlyph=s.isPowerlineGlyph=s.throwIfFalsy=void 0,s.throwIfFalsy=function(h){if(!h)throw new Error("value must not be falsy");return h},s.isPowerlineGlyph=a,s.isRestrictedPowerlineGlyph=function(h){return 57520<=h&&h<=57527},s.isEmoji=u,s.allowRescaling=function(h,c,p,v){return c===1&&p>Math.ceil(1.5*v)&&h!==void 0&&h>255&&!u(h)&&!a(h)&&!(function(S){return 57344<=S&&S<=63743})(h)},s.treatGlyphAsBackgroundColor=function(h){return a(h)||(function(c){return 9472<=c&&c<=9631})(h)},s.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},s.computeNextVariantOffset=function(h,c,p=0){return(h-(2*Math.round(c)-p))%(2*Math.round(c))}},6052:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createSelectionRenderModel=void 0;class a{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(h,c,p,v=!1){if(this.selectionStart=c,this.selectionEnd=p,!c||!p||c[0]===p[0]&&c[1]===p[1])return void this.clear();const S=h.buffers.active.ydisp,_=c[1]-S,m=p[1]-S,d=Math.max(_,0),f=Math.min(m,h.rows-1);d>=h.rows||f<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=v,this.viewportStartRow=_,this.viewportEndRow=m,this.viewportCappedStartRow=d,this.viewportCappedEndRow=f,this.startCol=c[0],this.endCol=p[0])}isCellSelected(h,c,p){return!!this.hasSelection&&(p-=h.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?c>=this.startCol&&p>=this.viewportCappedStartRow&&c<this.endCol&&p<=this.viewportCappedEndRow:c<this.startCol&&p>=this.viewportCappedStartRow&&c>=this.endCol&&p<=this.viewportCappedEndRow:p>this.viewportStartRow&&p<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&p===this.viewportStartRow&&c>=this.startCol&&c<this.endCol||this.viewportStartRow<this.viewportEndRow&&p===this.viewportEndRow&&c<this.endCol||this.viewportStartRow<this.viewportEndRow&&p===this.viewportStartRow&&c>=this.startCol)}}s.createSelectionRenderModel=function(){return new a}},456:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionModel=void 0,s.SelectionModel=class{constructor(a){this._bufferService=a,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?a%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)-1]:[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[a,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[Math.max(a,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const a=this.selectionStart,u=this.selectionEnd;return!(!a||!u)&&(a[1]>u[1]||a[1]===u[1]&&a[0]>u[0])}handleTrim(a){return this.selectionStart&&(this.selectionStart[1]-=a),this.selectionEnd&&(this.selectionEnd[1]-=a),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(l,s,a){var u=this&&this.__decorate||function(f,g,y,w){var C,x=arguments.length,b=x<3?g:w===null?w=Object.getOwnPropertyDescriptor(g,y):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,g,y,w);else for(var E=f.length-1;E>=0;E--)(C=f[E])&&(b=(x<3?C(b):x>3?C(g,y,b):C(g,y))||b);return x>3&&b&&Object.defineProperty(g,y,b),b},h=this&&this.__param||function(f,g){return function(y,w){g(y,w,f)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharSizeService=void 0;const c=a(2585),p=a(8460),v=a(844);let S=s.CharSizeService=class extends v.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(f,g,y){super(),this._optionsService=y,this.width=0,this.height=0,this._onCharSizeChange=this.register(new p.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new d(this._optionsService))}catch{this._measureStrategy=this.register(new m(f,g,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const f=this._measureStrategy.measure();f.width===this.width&&f.height===this.height||(this.width=f.width,this.height=f.height,this._onCharSizeChange.fire())}};s.CharSizeService=S=u([h(2,c.IOptionsService)],S);class _ extends v.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(g,y){g!==void 0&&g>0&&y!==void 0&&y>0&&(this._result.width=g,this._result.height=y)}}class m extends _{constructor(g,y,w){super(),this._document=g,this._parentElement=y,this._optionsService=w,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class d extends _{constructor(g){super(),this._optionsService=g,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const y=this._ctx.measureText("W");if(!("width"in y&&"fontBoundingBoxAscent"in y&&"fontBoundingBoxDescent"in y))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const g=this._ctx.measureText("W");return this._validateAndSet(g.width,g.fontBoundingBoxAscent+g.fontBoundingBoxDescent),this._result}}},4269:function(l,s,a){var u=this&&this.__decorate||function(d,f,g,y){var w,C=arguments.length,x=C<3?f:y===null?y=Object.getOwnPropertyDescriptor(f,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,f,g,y);else for(var b=d.length-1;b>=0;b--)(w=d[b])&&(x=(C<3?w(x):C>3?w(f,g,x):w(f,g))||x);return C>3&&x&&Object.defineProperty(f,g,x),x},h=this&&this.__param||function(d,f){return function(g,y){f(g,y,d)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterJoinerService=s.JoinedCellData=void 0;const c=a(3734),p=a(643),v=a(511),S=a(2585);class _ extends c.AttributeData{constructor(f,g,y){super(),this.content=0,this.combinedData="",this.fg=f.fg,this.bg=f.bg,this.combinedData=g,this._width=y}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(f){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.JoinedCellData=_;let m=s.CharacterJoinerService=class Tg{constructor(f){this._bufferService=f,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new v.CellData}register(f){const g={id:this._nextCharacterJoinerId++,handler:f};return this._characterJoiners.push(g),g.id}deregister(f){for(let g=0;g<this._characterJoiners.length;g++)if(this._characterJoiners[g].id===f)return this._characterJoiners.splice(g,1),!0;return!1}getJoinedCharacters(f){if(this._characterJoiners.length===0)return[];const g=this._bufferService.buffer.lines.get(f);if(!g||g.length===0)return[];const y=[],w=g.translateToString(!0);let C=0,x=0,b=0,E=g.getFg(0),R=g.getBg(0);for(let M=0;M<g.getTrimmedLength();M++)if(g.loadCell(M,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==R){if(M-C>1){const L=this._getJoinedRanges(w,b,x,g,C);for(let D=0;D<L.length;D++)y.push(L[D])}C=M,b=x,E=this._workCell.fg,R=this._workCell.bg}x+=this._workCell.getChars().length||p.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-C>1){const M=this._getJoinedRanges(w,b,x,g,C);for(let L=0;L<M.length;L++)y.push(M[L])}return y}_getJoinedRanges(f,g,y,w,C){const x=f.substring(g,y);let b=[];try{b=this._characterJoiners[0].handler(x)}catch(E){console.error(E)}for(let E=1;E<this._characterJoiners.length;E++)try{const R=this._characterJoiners[E].handler(x);for(let M=0;M<R.length;M++)Tg._mergeRanges(b,R[M])}catch(R){console.error(R)}return this._stringRangesToCellRanges(b,w,C),b}_stringRangesToCellRanges(f,g,y){let w=0,C=!1,x=0,b=f[w];if(b){for(let E=y;E<this._bufferService.cols;E++){const R=g.getWidth(E),M=g.getString(E).length||p.WHITESPACE_CELL_CHAR.length;if(R!==0){if(!C&&b[0]<=x&&(b[0]=E,C=!0),b[1]<=x){if(b[1]=E,b=f[++w],!b)break;b[0]<=x?(b[0]=E,C=!0):C=!1}x+=M}}b&&(b[1]=this._bufferService.cols)}}static _mergeRanges(f,g){let y=!1;for(let w=0;w<f.length;w++){const C=f[w];if(y){if(g[1]<=C[0])return f[w-1][1]=g[1],f;if(g[1]<=C[1])return f[w-1][1]=Math.max(g[1],C[1]),f.splice(w,1),f;f.splice(w,1),w--}else{if(g[1]<=C[0])return f.splice(w,0,g),f;if(g[1]<=C[1])return C[0]=Math.min(g[0],C[0]),f;g[0]<C[1]&&(C[0]=Math.min(g[0],C[0]),y=!0)}}return y?f[f.length-1][1]=g[1]:f.push(g),f}};s.CharacterJoinerService=m=u([h(0,S.IBufferService)],m)},5114:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreBrowserService=void 0;const u=a(844),h=a(8460),c=a(3656);class p extends u.Disposable{constructor(_,m,d){super(),this._textarea=_,this._window=m,this.mainDocument=d,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new v(this._window),this._onDprChange=this.register(new h.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new h.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange((f=>this._screenDprMonitor.setWindow(f)))),this.register((0,h.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get window(){return this._window}set window(_){this._window!==_&&(this._window=_,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}s.CoreBrowserService=p;class v extends u.Disposable{constructor(_){super(),this._parentWindow=_,this._windowResizeListener=this.register(new u.MutableDisposable),this._onDprChange=this.register(new h.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,u.toDisposable)((()=>this.clearListener())))}setWindow(_){this._parentWindow=_,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,c.addDisposableDomListener)(this._parentWindow,"resize",(()=>this._setDprAndFireIfDiffers()))}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LinkProviderService=void 0;const u=a(844);class h extends u.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,u.toDisposable)((()=>this.linkProviders.length=0)))}registerLinkProvider(p){return this.linkProviders.push(p),{dispose:()=>{const v=this.linkProviders.indexOf(p);v!==-1&&this.linkProviders.splice(v,1)}}}}s.LinkProviderService=h},8934:function(l,s,a){var u=this&&this.__decorate||function(S,_,m,d){var f,g=arguments.length,y=g<3?_:d===null?d=Object.getOwnPropertyDescriptor(_,m):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(S,_,m,d);else for(var w=S.length-1;w>=0;w--)(f=S[w])&&(y=(g<3?f(y):g>3?f(_,m,y):f(_,m))||y);return g>3&&y&&Object.defineProperty(_,m,y),y},h=this&&this.__param||function(S,_){return function(m,d){_(m,d,S)}};Object.defineProperty(s,"__esModule",{value:!0}),s.MouseService=void 0;const c=a(4725),p=a(9806);let v=s.MouseService=class{constructor(S,_){this._renderService=S,this._charSizeService=_}getCoords(S,_,m,d,f){return(0,p.getCoords)(window,S,_,m,d,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,f)}getMouseReportCoords(S,_){const m=(0,p.getCoordsRelativeToElement)(window,S,_);if(this._charSizeService.hasValidSize)return m[0]=Math.min(Math.max(m[0],0),this._renderService.dimensions.css.canvas.width-1),m[1]=Math.min(Math.max(m[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(m[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(m[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(m[0]),y:Math.floor(m[1])}}};s.MouseService=v=u([h(0,c.IRenderService),h(1,c.ICharSizeService)],v)},3230:function(l,s,a){var u=this&&this.__decorate||function(f,g,y,w){var C,x=arguments.length,b=x<3?g:w===null?w=Object.getOwnPropertyDescriptor(g,y):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,g,y,w);else for(var E=f.length-1;E>=0;E--)(C=f[E])&&(b=(x<3?C(b):x>3?C(g,y,b):C(g,y))||b);return x>3&&b&&Object.defineProperty(g,y,b),b},h=this&&this.__param||function(f,g){return function(y,w){g(y,w,f)}};Object.defineProperty(s,"__esModule",{value:!0}),s.RenderService=void 0;const c=a(6193),p=a(4725),v=a(8460),S=a(844),_=a(7226),m=a(2585);let d=s.RenderService=class extends S.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(f,g,y,w,C,x,b,E){super(),this._rowCount=f,this._charSizeService=w,this._renderer=this.register(new S.MutableDisposable),this._pausedResizeTask=new _.DebouncedIdleTask,this._observerDisposable=this.register(new S.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new v.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new v.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new v.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new v.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new c.RenderDebouncer(((R,M)=>this._renderRows(R,M)),b),this.register(this._renderDebouncer),this.register(b.onDprChange((()=>this.handleDevicePixelRatioChange()))),this.register(x.onResize((()=>this._fullRefresh()))),this.register(x.buffers.onBufferActivate((()=>this._renderer.value?.clear()))),this.register(y.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(C.onDecorationRegistered((()=>this._fullRefresh()))),this.register(C.onDecorationRemoved((()=>this._fullRefresh()))),this.register(y.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],(()=>{this.clear(),this.handleResize(x.cols,x.rows),this._fullRefresh()}))),this.register(y.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(x.buffer.y,x.buffer.y,!0)))),this.register(E.onChangeColors((()=>this._fullRefresh()))),this._registerIntersectionObserver(b.window,g),this.register(b.onWindowChange((R=>this._registerIntersectionObserver(R,g))))}_registerIntersectionObserver(f,g){if("IntersectionObserver"in f){const y=new f.IntersectionObserver((w=>this._handleIntersectionChange(w[w.length-1])),{threshold:0});y.observe(g),this._observerDisposable.value=(0,S.toDisposable)((()=>y.disconnect()))}}_handleIntersectionChange(f){this._isPaused=f.isIntersecting===void 0?f.intersectionRatio===0:!f.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(f,g,y=!1){this._isPaused?this._needsFullRefresh=!0:(y||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(f,g,this._rowCount))}_renderRows(f,g){this._renderer.value&&(f=Math.min(f,this._rowCount-1),g=Math.min(g,this._rowCount-1),this._renderer.value.renderRows(f,g),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:f,end:g}),this._onRender.fire({start:f,end:g}),this._isNextRenderRedrawOnly=!0)}resize(f,g){this._rowCount=g,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(f){this._renderer.value=f,this._renderer.value&&(this._renderer.value.onRequestRedraw((g=>this.refreshRows(g.start,g.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(f){return this._renderDebouncer.addRefreshCallback(f)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(f,g){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value?.handleResize(f,g))):this._renderer.value.handleResize(f,g),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(f,g,y){this._selectionState.start=f,this._selectionState.end=g,this._selectionState.columnSelectMode=y,this._renderer.value?.handleSelectionChanged(f,g,y)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};s.RenderService=d=u([h(2,m.IOptionsService),h(3,p.ICharSizeService),h(4,m.IDecorationService),h(5,m.IBufferService),h(6,p.ICoreBrowserService),h(7,p.IThemeService)],d)},9312:function(l,s,a){var u=this&&this.__decorate||function(b,E,R,M){var L,D=arguments.length,B=D<3?E:M===null?M=Object.getOwnPropertyDescriptor(E,R):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(b,E,R,M);else for(var $=b.length-1;$>=0;$--)(L=b[$])&&(B=(D<3?L(B):D>3?L(E,R,B):L(E,R))||B);return D>3&&B&&Object.defineProperty(E,R,B),B},h=this&&this.__param||function(b,E){return function(R,M){E(R,M,b)}};Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionService=void 0;const c=a(9806),p=a(9504),v=a(456),S=a(4725),_=a(8460),m=a(844),d=a(6114),f=a(4841),g=a(511),y=a(2585),w="Â ",C=new RegExp(w,"g");let x=s.SelectionService=class extends m.Disposable{constructor(b,E,R,M,L,D,B,$,z){super(),this._element=b,this._screenElement=E,this._linkifier=R,this._bufferService=M,this._coreService=L,this._mouseService=D,this._optionsService=B,this._renderService=$,this._coreBrowserService=z,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new g.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new _.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new _.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new _.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new _.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=U=>this._handleMouseMove(U),this._mouseUpListener=U=>this._handleMouseUp(U),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((U=>this._handleTrim(U))),this.register(this._bufferService.buffers.onBufferActivate((U=>this._handleBufferActivate(U)))),this.enable(),this._model=new v.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,m.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const b=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!b||!E||b[0]===E[0]&&b[1]===E[1])}get selectionText(){const b=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!b||!E)return"";const R=this._bufferService.buffer,M=[];if(this._activeSelectionMode===3){if(b[0]===E[0])return"";const L=b[0]<E[0]?b[0]:E[0],D=b[0]<E[0]?E[0]:b[0];for(let B=b[1];B<=E[1];B++){const $=R.translateBufferLineToString(B,!0,L,D);M.push($)}}else{const L=b[1]===E[1]?E[0]:void 0;M.push(R.translateBufferLineToString(b[1],!0,b[0],L));for(let D=b[1]+1;D<=E[1]-1;D++){const B=R.lines.get(D),$=R.translateBufferLineToString(D,!0);B?.isWrapped?M[M.length-1]+=$:M.push($)}if(b[1]!==E[1]){const D=R.lines.get(E[1]),B=R.translateBufferLineToString(E[1],!0,0,E[0]);D&&D.isWrapped?M[M.length-1]+=B:M.push(B)}}return M.map((L=>L.replace(C," "))).join(d.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(b){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),d.isLinux&&b&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(b){const E=this._getMouseBufferCoords(b),R=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!!(R&&M&&E)&&this._areCoordsInSelection(E,R,M)}isCellInSelection(b,E){const R=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!(!R||!M)&&this._areCoordsInSelection([b,E],R,M)}_areCoordsInSelection(b,E,R){return b[1]>E[1]&&b[1]<R[1]||E[1]===R[1]&&b[1]===E[1]&&b[0]>=E[0]&&b[0]<R[0]||E[1]<R[1]&&b[1]===R[1]&&b[0]<R[0]||E[1]<R[1]&&b[1]===E[1]&&b[0]>=E[0]}_selectWordAtCursor(b,E){const R=this._linkifier.currentLink?.link?.range;if(R)return this._model.selectionStart=[R.start.x-1,R.start.y-1],this._model.selectionStartLength=(0,f.getRangeLength)(R,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const M=this._getMouseBufferCoords(b);return!!M&&(this._selectWordAt(M,E),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(b,E){this._model.clearSelection(),b=Math.max(b,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,b],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()}_handleTrim(b){this._model.handleTrim(b)&&this.refresh()}_getMouseBufferCoords(b){const E=this._mouseService.getCoords(b,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E}_getMouseEventScrollAmount(b){let E=(0,c.getCoordsRelativeToElement)(this._coreBrowserService.window,b,this._screenElement)[1];const R=this._renderService.dimensions.css.canvas.height;return E>=0&&E<=R?0:(E>R&&(E-=R),E=Math.min(Math.max(E,-50),50),E/=50,E/Math.abs(E)+Math.round(14*E))}shouldForceSelection(b){return d.isMac?b.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:b.shiftKey}handleMouseDown(b){if(this._mouseDownTimeStamp=b.timeStamp,(b.button!==2||!this.hasSelection)&&b.button===0){if(!this._enabled){if(!this.shouldForceSelection(b))return;b.stopPropagation()}b.preventDefault(),this._dragScrollAmount=0,this._enabled&&b.shiftKey?this._handleIncrementalClick(b):b.detail===1?this._handleSingleClick(b):b.detail===2?this._handleDoubleClick(b):b.detail===3&&this._handleTripleClick(b),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(b){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(b))}_handleSingleClick(b){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(b)?3:0,this._model.selectionStart=this._getMouseBufferCoords(b),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(b){this._selectWordAtCursor(b,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(b){const E=this._getMouseBufferCoords(b);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))}shouldColumnSelect(b){return b.altKey&&!(d.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(b){if(b.stopImmediatePropagation(),!this._model.selectionStart)return;const E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(b),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(b),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const R=this._bufferService.buffer;if(this._model.selectionEnd[1]<R.lines.length){const M=R.lines.get(this._model.selectionEnd[1]);M&&M.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const b=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(b.ydisp+this._bufferService.rows,b.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=b.ydisp),this.refresh()}}_handleMouseUp(b){const E=b.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&b.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const R=this._mouseService.getCoords(b,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(R&&R[0]!==void 0&&R[1]!==void 0){const M=(0,p.moveToCellSequence)(R[0]-1,R[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(M,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const b=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,R=!(!b||!E||b[0]===E[0]&&b[1]===E[1]);R?b&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&b[0]===this._oldSelectionStart[0]&&b[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(b,E,R)):this._oldHasSelection&&this._fireOnSelectionChange(b,E,R)}_fireOnSelectionChange(b,E,R){this._oldSelectionStart=b,this._oldSelectionEnd=E,this._oldHasSelection=R,this._onSelectionChange.fire()}_handleBufferActivate(b){this.clearSelection(),this._trimListener.dispose(),this._trimListener=b.activeBuffer.lines.onTrim((E=>this._handleTrim(E)))}_convertViewportColToCharacterIndex(b,E){let R=E;for(let M=0;E>=M;M++){const L=b.loadCell(M,this._workCell).getChars().length;this._workCell.getWidth()===0?R--:L>1&&E!==M&&(R+=L-1)}return R}setSelection(b,E,R){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[b,E],this._model.selectionStartLength=R,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(b){this._isClickInSelection(b)||(this._selectWordAtCursor(b,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(b,E,R=!0,M=!0){if(b[0]>=this._bufferService.cols)return;const L=this._bufferService.buffer,D=L.lines.get(b[1]);if(!D)return;const B=L.translateBufferLineToString(b[1],!1);let $=this._convertViewportColToCharacterIndex(D,b[0]),z=$;const U=b[0]-$;let W=0,T=0,A=0,P=0;if(B.charAt($)===" "){for(;$>0&&B.charAt($-1)===" ";)$--;for(;z<B.length&&B.charAt(z+1)===" ";)z++}else{let j=b[0],q=b[0];D.getWidth(j)===0&&(W++,j--),D.getWidth(q)===2&&(T++,q++);const Y=D.getString(q).length;for(Y>1&&(P+=Y-1,z+=Y-1);j>0&&$>0&&!this._isCharWordSeparator(D.loadCell(j-1,this._workCell));){D.loadCell(j-1,this._workCell);const F=this._workCell.getChars().length;this._workCell.getWidth()===0?(W++,j--):F>1&&(A+=F-1,$-=F-1),$--,j--}for(;q<D.length&&z+1<B.length&&!this._isCharWordSeparator(D.loadCell(q+1,this._workCell));){D.loadCell(q+1,this._workCell);const F=this._workCell.getChars().length;this._workCell.getWidth()===2?(T++,q++):F>1&&(P+=F-1,z+=F-1),z++,q++}}z++;let O=$+U-W+A,N=Math.min(this._bufferService.cols,z-$+W+T-A-P);if(E||B.slice($,z).trim()!==""){if(R&&O===0&&D.getCodePoint(0)!==32){const j=L.lines.get(b[1]-1);if(j&&D.isWrapped&&j.getCodePoint(this._bufferService.cols-1)!==32){const q=this._getWordAt([this._bufferService.cols-1,b[1]-1],!1,!0,!1);if(q){const Y=this._bufferService.cols-q.start;O-=Y,N+=Y}}}if(M&&O+N===this._bufferService.cols&&D.getCodePoint(this._bufferService.cols-1)!==32){const j=L.lines.get(b[1]+1);if(j?.isWrapped&&j.getCodePoint(0)!==32){const q=this._getWordAt([0,b[1]+1],!1,!1,!0);q&&(N+=q.length)}}return{start:O,length:N}}}_selectWordAt(b,E){const R=this._getWordAt(b,E);if(R){for(;R.start<0;)R.start+=this._bufferService.cols,b[1]--;this._model.selectionStart=[R.start,b[1]],this._model.selectionStartLength=R.length}}_selectToWordAt(b){const E=this._getWordAt(b,!0);if(E){let R=b[1];for(;E.start<0;)E.start+=this._bufferService.cols,R--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,R++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,R]}}_isCharWordSeparator(b){return b.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(b.getChars())>=0}_selectLineAt(b){const E=this._bufferService.buffer.getWrappedRangeForLine(b),R={start:{x:0,y:E.first},end:{x:this._bufferService.cols-1,y:E.last}};this._model.selectionStart=[0,E.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,f.getRangeLength)(R,this._bufferService.cols)}};s.SelectionService=x=u([h(3,y.IBufferService),h(4,y.ICoreService),h(5,S.IMouseService),h(6,y.IOptionsService),h(7,S.IRenderService),h(8,S.ICoreBrowserService)],x)},4725:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ILinkProviderService=s.IThemeService=s.ICharacterJoinerService=s.ISelectionService=s.IRenderService=s.IMouseService=s.ICoreBrowserService=s.ICharSizeService=void 0;const u=a(8343);s.ICharSizeService=(0,u.createDecorator)("CharSizeService"),s.ICoreBrowserService=(0,u.createDecorator)("CoreBrowserService"),s.IMouseService=(0,u.createDecorator)("MouseService"),s.IRenderService=(0,u.createDecorator)("RenderService"),s.ISelectionService=(0,u.createDecorator)("SelectionService"),s.ICharacterJoinerService=(0,u.createDecorator)("CharacterJoinerService"),s.IThemeService=(0,u.createDecorator)("ThemeService"),s.ILinkProviderService=(0,u.createDecorator)("LinkProviderService")},6731:function(l,s,a){var u=this&&this.__decorate||function(x,b,E,R){var M,L=arguments.length,D=L<3?b:R===null?R=Object.getOwnPropertyDescriptor(b,E):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(x,b,E,R);else for(var B=x.length-1;B>=0;B--)(M=x[B])&&(D=(L<3?M(D):L>3?M(b,E,D):M(b,E))||D);return L>3&&D&&Object.defineProperty(b,E,D),D},h=this&&this.__param||function(x,b){return function(E,R){b(E,R,x)}};Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeService=s.DEFAULT_ANSI_COLORS=void 0;const c=a(7239),p=a(8055),v=a(8460),S=a(844),_=a(2585),m=p.css.toColor("#ffffff"),d=p.css.toColor("#000000"),f=p.css.toColor("#ffffff"),g=p.css.toColor("#000000"),y={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};s.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const x=[p.css.toColor("#2e3436"),p.css.toColor("#cc0000"),p.css.toColor("#4e9a06"),p.css.toColor("#c4a000"),p.css.toColor("#3465a4"),p.css.toColor("#75507b"),p.css.toColor("#06989a"),p.css.toColor("#d3d7cf"),p.css.toColor("#555753"),p.css.toColor("#ef2929"),p.css.toColor("#8ae234"),p.css.toColor("#fce94f"),p.css.toColor("#729fcf"),p.css.toColor("#ad7fa8"),p.css.toColor("#34e2e2"),p.css.toColor("#eeeeec")],b=[0,95,135,175,215,255];for(let E=0;E<216;E++){const R=b[E/36%6|0],M=b[E/6%6|0],L=b[E%6];x.push({css:p.channels.toCss(R,M,L),rgba:p.channels.toRgba(R,M,L)})}for(let E=0;E<24;E++){const R=8+10*E;x.push({css:p.channels.toCss(R,R,R),rgba:p.channels.toRgba(R,R,R)})}return x})());let w=s.ThemeService=class extends S.Disposable{get colors(){return this._colors}constructor(x){super(),this._optionsService=x,this._contrastCache=new c.ColorContrastCache,this._halfContrastCache=new c.ColorContrastCache,this._onChangeColors=this.register(new v.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:m,background:d,cursor:f,cursorAccent:g,selectionForeground:void 0,selectionBackgroundTransparent:y,selectionBackgroundOpaque:p.color.blend(d,y),selectionInactiveBackgroundTransparent:y,selectionInactiveBackgroundOpaque:p.color.blend(d,y),ansi:s.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(x={}){const b=this._colors;if(b.foreground=C(x.foreground,m),b.background=C(x.background,d),b.cursor=C(x.cursor,f),b.cursorAccent=C(x.cursorAccent,g),b.selectionBackgroundTransparent=C(x.selectionBackground,y),b.selectionBackgroundOpaque=p.color.blend(b.background,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundTransparent=C(x.selectionInactiveBackground,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundOpaque=p.color.blend(b.background,b.selectionInactiveBackgroundTransparent),b.selectionForeground=x.selectionForeground?C(x.selectionForeground,p.NULL_COLOR):void 0,b.selectionForeground===p.NULL_COLOR&&(b.selectionForeground=void 0),p.color.isOpaque(b.selectionBackgroundTransparent)&&(b.selectionBackgroundTransparent=p.color.opacity(b.selectionBackgroundTransparent,.3)),p.color.isOpaque(b.selectionInactiveBackgroundTransparent)&&(b.selectionInactiveBackgroundTransparent=p.color.opacity(b.selectionInactiveBackgroundTransparent,.3)),b.ansi=s.DEFAULT_ANSI_COLORS.slice(),b.ansi[0]=C(x.black,s.DEFAULT_ANSI_COLORS[0]),b.ansi[1]=C(x.red,s.DEFAULT_ANSI_COLORS[1]),b.ansi[2]=C(x.green,s.DEFAULT_ANSI_COLORS[2]),b.ansi[3]=C(x.yellow,s.DEFAULT_ANSI_COLORS[3]),b.ansi[4]=C(x.blue,s.DEFAULT_ANSI_COLORS[4]),b.ansi[5]=C(x.magenta,s.DEFAULT_ANSI_COLORS[5]),b.ansi[6]=C(x.cyan,s.DEFAULT_ANSI_COLORS[6]),b.ansi[7]=C(x.white,s.DEFAULT_ANSI_COLORS[7]),b.ansi[8]=C(x.brightBlack,s.DEFAULT_ANSI_COLORS[8]),b.ansi[9]=C(x.brightRed,s.DEFAULT_ANSI_COLORS[9]),b.ansi[10]=C(x.brightGreen,s.DEFAULT_ANSI_COLORS[10]),b.ansi[11]=C(x.brightYellow,s.DEFAULT_ANSI_COLORS[11]),b.ansi[12]=C(x.brightBlue,s.DEFAULT_ANSI_COLORS[12]),b.ansi[13]=C(x.brightMagenta,s.DEFAULT_ANSI_COLORS[13]),b.ansi[14]=C(x.brightCyan,s.DEFAULT_ANSI_COLORS[14]),b.ansi[15]=C(x.brightWhite,s.DEFAULT_ANSI_COLORS[15]),x.extendedAnsi){const E=Math.min(b.ansi.length-16,x.extendedAnsi.length);for(let R=0;R<E;R++)b.ansi[R+16]=C(x.extendedAnsi[R],s.DEFAULT_ANSI_COLORS[R+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(x){this._restoreColor(x),this._onChangeColors.fire(this.colors)}_restoreColor(x){if(x!==void 0)switch(x){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[x]=this._restoreColors.ansi[x]}else for(let b=0;b<this._restoreColors.ansi.length;++b)this._colors.ansi[b]=this._restoreColors.ansi[b]}modifyColors(x){x(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function C(x,b){if(x!==void 0)try{return p.css.toColor(x)}catch{}return b}s.ThemeService=w=u([h(0,_.IOptionsService)],w)},6349:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CircularList=void 0;const u=a(8460),h=a(844);class c extends h.Disposable{constructor(v){super(),this._maxLength=v,this.onDeleteEmitter=this.register(new u.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new u.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new u.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(v){if(this._maxLength===v)return;const S=new Array(v);for(let _=0;_<Math.min(v,this.length);_++)S[_]=this._array[this._getCyclicIndex(_)];this._array=S,this._maxLength=v,this._startIndex=0}get length(){return this._length}set length(v){if(v>this._length)for(let S=this._length;S<v;S++)this._array[S]=void 0;this._length=v}get(v){return this._array[this._getCyclicIndex(v)]}set(v,S){this._array[this._getCyclicIndex(v)]=S}push(v){this._array[this._getCyclicIndex(this._length)]=v,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(v,S,..._){if(S){for(let m=v;m<this._length-S;m++)this._array[this._getCyclicIndex(m)]=this._array[this._getCyclicIndex(m+S)];this._length-=S,this.onDeleteEmitter.fire({index:v,amount:S})}for(let m=this._length-1;m>=v;m--)this._array[this._getCyclicIndex(m+_.length)]=this._array[this._getCyclicIndex(m)];for(let m=0;m<_.length;m++)this._array[this._getCyclicIndex(v+m)]=_[m];if(_.length&&this.onInsertEmitter.fire({index:v,amount:_.length}),this._length+_.length>this._maxLength){const m=this._length+_.length-this._maxLength;this._startIndex+=m,this._length=this._maxLength,this.onTrimEmitter.fire(m)}else this._length+=_.length}trimStart(v){v>this._length&&(v=this._length),this._startIndex+=v,this._length-=v,this.onTrimEmitter.fire(v)}shiftElements(v,S,_){if(!(S<=0)){if(v<0||v>=this._length)throw new Error("start argument out of range");if(v+_<0)throw new Error("Cannot shift elements in list beyond index 0");if(_>0){for(let d=S-1;d>=0;d--)this.set(v+d+_,this.get(v+d));const m=v+S+_-this._length;if(m>0)for(this._length+=m;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let m=0;m<S;m++)this.set(v+m+_,this.get(v+m))}}_getCyclicIndex(v){return(this._startIndex+v)%this._maxLength}}s.CircularList=c},1439:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.clone=void 0,s.clone=function a(u,h=5){if(typeof u!="object")return u;const c=Array.isArray(u)?[]:{};for(const p in u)c[p]=h<=1?u[p]:u[p]&&a(u[p],h-1);return c}},8055:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.contrastRatio=s.toPaddedHex=s.rgba=s.rgb=s.css=s.color=s.channels=s.NULL_COLOR=void 0;let a=0,u=0,h=0,c=0;var p,v,S,_,m;function d(g){const y=g.toString(16);return y.length<2?"0"+y:y}function f(g,y){return g<y?(y+.05)/(g+.05):(g+.05)/(y+.05)}s.NULL_COLOR={css:"#00000000",rgba:0},(function(g){g.toCss=function(y,w,C,x){return x!==void 0?`#${d(y)}${d(w)}${d(C)}${d(x)}`:`#${d(y)}${d(w)}${d(C)}`},g.toRgba=function(y,w,C,x=255){return(y<<24|w<<16|C<<8|x)>>>0},g.toColor=function(y,w,C,x){return{css:g.toCss(y,w,C,x),rgba:g.toRgba(y,w,C,x)}}})(p||(s.channels=p={})),(function(g){function y(w,C){return c=Math.round(255*C),[a,u,h]=m.toChannels(w.rgba),{css:p.toCss(a,u,h,c),rgba:p.toRgba(a,u,h,c)}}g.blend=function(w,C){if(c=(255&C.rgba)/255,c===1)return{css:C.css,rgba:C.rgba};const x=C.rgba>>24&255,b=C.rgba>>16&255,E=C.rgba>>8&255,R=w.rgba>>24&255,M=w.rgba>>16&255,L=w.rgba>>8&255;return a=R+Math.round((x-R)*c),u=M+Math.round((b-M)*c),h=L+Math.round((E-L)*c),{css:p.toCss(a,u,h),rgba:p.toRgba(a,u,h)}},g.isOpaque=function(w){return(255&w.rgba)==255},g.ensureContrastRatio=function(w,C,x){const b=m.ensureContrastRatio(w.rgba,C.rgba,x);if(b)return p.toColor(b>>24&255,b>>16&255,b>>8&255)},g.opaque=function(w){const C=(255|w.rgba)>>>0;return[a,u,h]=m.toChannels(C),{css:p.toCss(a,u,h),rgba:C}},g.opacity=y,g.multiplyOpacity=function(w,C){return c=255&w.rgba,y(w,c*C/255)},g.toColorRGB=function(w){return[w.rgba>>24&255,w.rgba>>16&255,w.rgba>>8&255]}})(v||(s.color=v={})),(function(g){let y,w;try{const C=document.createElement("canvas");C.width=1,C.height=1;const x=C.getContext("2d",{willReadFrequently:!0});x&&(y=x,y.globalCompositeOperation="copy",w=y.createLinearGradient(0,0,1,1))}catch{}g.toColor=function(C){if(C.match(/#[\da-f]{3,8}/i))switch(C.length){case 4:return a=parseInt(C.slice(1,2).repeat(2),16),u=parseInt(C.slice(2,3).repeat(2),16),h=parseInt(C.slice(3,4).repeat(2),16),p.toColor(a,u,h);case 5:return a=parseInt(C.slice(1,2).repeat(2),16),u=parseInt(C.slice(2,3).repeat(2),16),h=parseInt(C.slice(3,4).repeat(2),16),c=parseInt(C.slice(4,5).repeat(2),16),p.toColor(a,u,h,c);case 7:return{css:C,rgba:(parseInt(C.slice(1),16)<<8|255)>>>0};case 9:return{css:C,rgba:parseInt(C.slice(1),16)>>>0}}const x=C.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(x)return a=parseInt(x[1]),u=parseInt(x[2]),h=parseInt(x[3]),c=Math.round(255*(x[5]===void 0?1:parseFloat(x[5]))),p.toColor(a,u,h,c);if(!y||!w)throw new Error("css.toColor: Unsupported css format");if(y.fillStyle=w,y.fillStyle=C,typeof y.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(y.fillRect(0,0,1,1),[a,u,h,c]=y.getImageData(0,0,1,1).data,c!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:p.toRgba(a,u,h,c),css:C}}})(S||(s.css=S={})),(function(g){function y(w,C,x){const b=w/255,E=C/255,R=x/255;return .2126*(b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4))+.7152*(E<=.03928?E/12.92:Math.pow((E+.055)/1.055,2.4))+.0722*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))}g.relativeLuminance=function(w){return y(w>>16&255,w>>8&255,255&w)},g.relativeLuminance2=y})(_||(s.rgb=_={})),(function(g){function y(C,x,b){const E=C>>24&255,R=C>>16&255,M=C>>8&255;let L=x>>24&255,D=x>>16&255,B=x>>8&255,$=f(_.relativeLuminance2(L,D,B),_.relativeLuminance2(E,R,M));for(;$<b&&(L>0||D>0||B>0);)L-=Math.max(0,Math.ceil(.1*L)),D-=Math.max(0,Math.ceil(.1*D)),B-=Math.max(0,Math.ceil(.1*B)),$=f(_.relativeLuminance2(L,D,B),_.relativeLuminance2(E,R,M));return(L<<24|D<<16|B<<8|255)>>>0}function w(C,x,b){const E=C>>24&255,R=C>>16&255,M=C>>8&255;let L=x>>24&255,D=x>>16&255,B=x>>8&255,$=f(_.relativeLuminance2(L,D,B),_.relativeLuminance2(E,R,M));for(;$<b&&(L<255||D<255||B<255);)L=Math.min(255,L+Math.ceil(.1*(255-L))),D=Math.min(255,D+Math.ceil(.1*(255-D))),B=Math.min(255,B+Math.ceil(.1*(255-B))),$=f(_.relativeLuminance2(L,D,B),_.relativeLuminance2(E,R,M));return(L<<24|D<<16|B<<8|255)>>>0}g.blend=function(C,x){if(c=(255&x)/255,c===1)return x;const b=x>>24&255,E=x>>16&255,R=x>>8&255,M=C>>24&255,L=C>>16&255,D=C>>8&255;return a=M+Math.round((b-M)*c),u=L+Math.round((E-L)*c),h=D+Math.round((R-D)*c),p.toRgba(a,u,h)},g.ensureContrastRatio=function(C,x,b){const E=_.relativeLuminance(C>>8),R=_.relativeLuminance(x>>8);if(f(E,R)<b){if(R<E){const D=y(C,x,b),B=f(E,_.relativeLuminance(D>>8));if(B<b){const $=w(C,x,b);return B>f(E,_.relativeLuminance($>>8))?D:$}return D}const M=w(C,x,b),L=f(E,_.relativeLuminance(M>>8));if(L<b){const D=y(C,x,b);return L>f(E,_.relativeLuminance(D>>8))?M:D}return M}},g.reduceLuminance=y,g.increaseLuminance=w,g.toChannels=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]}})(m||(s.rgba=m={})),s.toPaddedHex=d,s.contrastRatio=f},8969:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreTerminal=void 0;const u=a(844),h=a(2585),c=a(4348),p=a(7866),v=a(744),S=a(7302),_=a(6975),m=a(8460),d=a(1753),f=a(1480),g=a(7994),y=a(9282),w=a(5435),C=a(5981),x=a(2660);let b=!1;class E extends u.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new m.EventEmitter),this._onScroll.event((M=>{this._onScrollApi?.fire(M.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(M){for(const L in M)this.optionsService.options[L]=M[L]}constructor(M){super(),this._windowsWrappingHeuristics=this.register(new u.MutableDisposable),this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new m.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new m.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new m.EventEmitter),this._instantiationService=new c.InstantiationService,this.optionsService=this.register(new S.OptionsService(M)),this._instantiationService.setService(h.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(v.BufferService)),this._instantiationService.setService(h.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(p.LogService)),this._instantiationService.setService(h.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(_.CoreService)),this._instantiationService.setService(h.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(d.CoreMouseService)),this._instantiationService.setService(h.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(f.UnicodeService)),this._instantiationService.setService(h.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(g.CharsetService),this._instantiationService.setService(h.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(x.OscLinkService),this._instantiationService.setService(h.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,m.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,m.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,m.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,m.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((L=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((L=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new C.WriteBuffer(((L,D)=>this._inputHandler.parse(L,D)))),this.register((0,m.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(M,L){this._writeBuffer.write(M,L)}writeSync(M,L){this._logService.logLevel<=h.LogLevelEnum.WARN&&!b&&(this._logService.warn("writeSync is unreliable and will be removed soon."),b=!0),this._writeBuffer.writeSync(M,L)}input(M,L=!0){this.coreService.triggerDataEvent(M,L)}resize(M,L){isNaN(M)||isNaN(L)||(M=Math.max(M,v.MINIMUM_COLS),L=Math.max(L,v.MINIMUM_ROWS),this._bufferService.resize(M,L))}scroll(M,L=!1){this._bufferService.scroll(M,L)}scrollLines(M,L,D){this._bufferService.scrollLines(M,L,D)}scrollPages(M){this.scrollLines(M*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(M){const L=M-this._bufferService.buffer.ydisp;L!==0&&this.scrollLines(L)}registerEscHandler(M,L){return this._inputHandler.registerEscHandler(M,L)}registerDcsHandler(M,L){return this._inputHandler.registerDcsHandler(M,L)}registerCsiHandler(M,L){return this._inputHandler.registerCsiHandler(M,L)}registerOscHandler(M,L){return this._inputHandler.registerOscHandler(M,L)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let M=!1;const L=this.optionsService.rawOptions.windowsPty;L&&L.buildNumber!==void 0&&L.buildNumber!==void 0?M=L.backend==="conpty"&&L.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(M=!0),M?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const M=[];M.push(this.onLineFeed(y.updateWindowsModeWrappedState.bind(null,this._bufferService))),M.push(this.registerCsiHandler({final:"H"},(()=>((0,y.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,u.toDisposable)((()=>{for(const L of M)L.dispose()}))}}}s.CoreTerminal=E},8460:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.runAndSubscribe=s.forwardEvent=s.EventEmitter=void 0,s.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let u=0;u<this._listeners.length;u++)if(this._listeners[u]===a)return void this._listeners.splice(u,1)}}})),this._event}fire(a,u){const h=[];for(let c=0;c<this._listeners.length;c++)h.push(this._listeners[c]);for(let c=0;c<h.length;c++)h[c].call(void 0,a,u)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},s.forwardEvent=function(a,u){return a((h=>u.fire(h)))},s.runAndSubscribe=function(a,u){return u(void 0),a((h=>u(h)))}},5435:function(l,s,a){var u=this&&this.__decorate||function(W,T,A,P){var O,N=arguments.length,j=N<3?T:P===null?P=Object.getOwnPropertyDescriptor(T,A):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(W,T,A,P);else for(var q=W.length-1;q>=0;q--)(O=W[q])&&(j=(N<3?O(j):N>3?O(T,A,j):O(T,A))||j);return N>3&&j&&Object.defineProperty(T,A,j),j},h=this&&this.__param||function(W,T){return function(A,P){T(A,P,W)}};Object.defineProperty(s,"__esModule",{value:!0}),s.InputHandler=s.WindowsOptionsReportType=void 0;const c=a(2584),p=a(7116),v=a(2015),S=a(844),_=a(482),m=a(8437),d=a(8460),f=a(643),g=a(511),y=a(3734),w=a(2585),C=a(1480),x=a(6242),b=a(6351),E=a(5941),R={"(":0,")":1,"*":2,"+":3,"-":1,".":2},M=131072;function L(W,T){if(W>24)return T.setWinLines||!1;switch(W){case 1:return!!T.restoreWin;case 2:return!!T.minimizeWin;case 3:return!!T.setWinPosition;case 4:return!!T.setWinSizePixels;case 5:return!!T.raiseWin;case 6:return!!T.lowerWin;case 7:return!!T.refreshWin;case 8:return!!T.setWinSizeChars;case 9:return!!T.maximizeWin;case 10:return!!T.fullscreenWin;case 11:return!!T.getWinState;case 13:return!!T.getWinPosition;case 14:return!!T.getWinSizePixels;case 15:return!!T.getScreenSizePixels;case 16:return!!T.getCellSizePixels;case 18:return!!T.getWinSizeChars;case 19:return!!T.getScreenSizeChars;case 20:return!!T.getIconTitle;case 21:return!!T.getWinTitle;case 22:return!!T.pushTitle;case 23:return!!T.popTitle;case 24:return!!T.setWinLines}return!1}var D;(function(W){W[W.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",W[W.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(D||(s.WindowsOptionsReportType=D={}));let B=0;class $ extends S.Disposable{getAttrData(){return this._curAttrData}constructor(T,A,P,O,N,j,q,Y,F=new v.EscapeSequenceParser){super(),this._bufferService=T,this._charsetService=A,this._coreService=P,this._logService=O,this._optionsService=N,this._oscLinkService=j,this._coreMouseService=q,this._unicodeService=Y,this._parser=F,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new _.StringToUtf32,this._utf8Decoder=new _.Utf8ToUtf32,this._workCell=new g.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new d.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new d.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new d.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new d.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new d.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new d.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new d.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new d.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new d.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new d.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new d.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new z(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((k=>this._activeBuffer=k.activeBuffer))),this._parser.setCsiHandlerFallback(((k,V)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(k),params:V.toArray()})})),this._parser.setEscHandlerFallback((k=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(k)})})),this._parser.setExecuteHandlerFallback((k=>{this._logService.debug("Unknown EXECUTE code: ",{code:k})})),this._parser.setOscHandlerFallback(((k,V,G)=>{this._logService.debug("Unknown OSC code: ",{identifier:k,action:V,data:G})})),this._parser.setDcsHandlerFallback(((k,V,G)=>{V==="HOOK"&&(G=G.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(k),action:V,payload:G})})),this._parser.setPrintHandler(((k,V,G)=>this.print(k,V,G))),this._parser.registerCsiHandler({final:"@"},(k=>this.insertChars(k))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(k=>this.scrollLeft(k))),this._parser.registerCsiHandler({final:"A"},(k=>this.cursorUp(k))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(k=>this.scrollRight(k))),this._parser.registerCsiHandler({final:"B"},(k=>this.cursorDown(k))),this._parser.registerCsiHandler({final:"C"},(k=>this.cursorForward(k))),this._parser.registerCsiHandler({final:"D"},(k=>this.cursorBackward(k))),this._parser.registerCsiHandler({final:"E"},(k=>this.cursorNextLine(k))),this._parser.registerCsiHandler({final:"F"},(k=>this.cursorPrecedingLine(k))),this._parser.registerCsiHandler({final:"G"},(k=>this.cursorCharAbsolute(k))),this._parser.registerCsiHandler({final:"H"},(k=>this.cursorPosition(k))),this._parser.registerCsiHandler({final:"I"},(k=>this.cursorForwardTab(k))),this._parser.registerCsiHandler({final:"J"},(k=>this.eraseInDisplay(k,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(k=>this.eraseInDisplay(k,!0))),this._parser.registerCsiHandler({final:"K"},(k=>this.eraseInLine(k,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(k=>this.eraseInLine(k,!0))),this._parser.registerCsiHandler({final:"L"},(k=>this.insertLines(k))),this._parser.registerCsiHandler({final:"M"},(k=>this.deleteLines(k))),this._parser.registerCsiHandler({final:"P"},(k=>this.deleteChars(k))),this._parser.registerCsiHandler({final:"S"},(k=>this.scrollUp(k))),this._parser.registerCsiHandler({final:"T"},(k=>this.scrollDown(k))),this._parser.registerCsiHandler({final:"X"},(k=>this.eraseChars(k))),this._parser.registerCsiHandler({final:"Z"},(k=>this.cursorBackwardTab(k))),this._parser.registerCsiHandler({final:"`"},(k=>this.charPosAbsolute(k))),this._parser.registerCsiHandler({final:"a"},(k=>this.hPositionRelative(k))),this._parser.registerCsiHandler({final:"b"},(k=>this.repeatPrecedingCharacter(k))),this._parser.registerCsiHandler({final:"c"},(k=>this.sendDeviceAttributesPrimary(k))),this._parser.registerCsiHandler({prefix:">",final:"c"},(k=>this.sendDeviceAttributesSecondary(k))),this._parser.registerCsiHandler({final:"d"},(k=>this.linePosAbsolute(k))),this._parser.registerCsiHandler({final:"e"},(k=>this.vPositionRelative(k))),this._parser.registerCsiHandler({final:"f"},(k=>this.hVPosition(k))),this._parser.registerCsiHandler({final:"g"},(k=>this.tabClear(k))),this._parser.registerCsiHandler({final:"h"},(k=>this.setMode(k))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(k=>this.setModePrivate(k))),this._parser.registerCsiHandler({final:"l"},(k=>this.resetMode(k))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(k=>this.resetModePrivate(k))),this._parser.registerCsiHandler({final:"m"},(k=>this.charAttributes(k))),this._parser.registerCsiHandler({final:"n"},(k=>this.deviceStatus(k))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(k=>this.deviceStatusPrivate(k))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(k=>this.softReset(k))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(k=>this.setCursorStyle(k))),this._parser.registerCsiHandler({final:"r"},(k=>this.setScrollRegion(k))),this._parser.registerCsiHandler({final:"s"},(k=>this.saveCursor(k))),this._parser.registerCsiHandler({final:"t"},(k=>this.windowOptions(k))),this._parser.registerCsiHandler({final:"u"},(k=>this.restoreCursor(k))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(k=>this.insertColumns(k))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(k=>this.deleteColumns(k))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(k=>this.selectProtected(k))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(k=>this.requestMode(k,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(k=>this.requestMode(k,!1))),this._parser.setExecuteHandler(c.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(c.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(c.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(c.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(c.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(c.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(c.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(c.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(c.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(c.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(c.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(c.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new x.OscHandler((k=>(this.setTitle(k),this.setIconName(k),!0)))),this._parser.registerOscHandler(1,new x.OscHandler((k=>this.setIconName(k)))),this._parser.registerOscHandler(2,new x.OscHandler((k=>this.setTitle(k)))),this._parser.registerOscHandler(4,new x.OscHandler((k=>this.setOrReportIndexedColor(k)))),this._parser.registerOscHandler(8,new x.OscHandler((k=>this.setHyperlink(k)))),this._parser.registerOscHandler(10,new x.OscHandler((k=>this.setOrReportFgColor(k)))),this._parser.registerOscHandler(11,new x.OscHandler((k=>this.setOrReportBgColor(k)))),this._parser.registerOscHandler(12,new x.OscHandler((k=>this.setOrReportCursorColor(k)))),this._parser.registerOscHandler(104,new x.OscHandler((k=>this.restoreIndexedColor(k)))),this._parser.registerOscHandler(110,new x.OscHandler((k=>this.restoreFgColor(k)))),this._parser.registerOscHandler(111,new x.OscHandler((k=>this.restoreBgColor(k)))),this._parser.registerOscHandler(112,new x.OscHandler((k=>this.restoreCursorColor(k)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const k in p.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:k},(()=>this.selectCharset("("+k))),this._parser.registerEscHandler({intermediates:")",final:k},(()=>this.selectCharset(")"+k))),this._parser.registerEscHandler({intermediates:"*",final:k},(()=>this.selectCharset("*"+k))),this._parser.registerEscHandler({intermediates:"+",final:k},(()=>this.selectCharset("+"+k))),this._parser.registerEscHandler({intermediates:"-",final:k},(()=>this.selectCharset("-"+k))),this._parser.registerEscHandler({intermediates:".",final:k},(()=>this.selectCharset("."+k))),this._parser.registerEscHandler({intermediates:"/",final:k},(()=>this.selectCharset("/"+k)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((k=>(this._logService.error("Parsing error: ",k),k))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new b.DcsHandler(((k,V)=>this.requestStatusString(k,V))))}_preserveStack(T,A,P,O){this._parseStack.paused=!0,this._parseStack.cursorStartX=T,this._parseStack.cursorStartY=A,this._parseStack.decodedLength=P,this._parseStack.position=O}_logSlowResolvingAsync(T){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([T,new Promise(((A,P)=>setTimeout((()=>P("#SLOW_TIMEOUT")),5e3)))]).catch((A=>{if(A!=="#SLOW_TIMEOUT")throw A;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(T,A){let P,O=this._activeBuffer.x,N=this._activeBuffer.y,j=0;const q=this._parseStack.paused;if(q){if(P=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,A))return this._logSlowResolvingAsync(P),P;O=this._parseStack.cursorStartX,N=this._parseStack.cursorStartY,this._parseStack.paused=!1,T.length>M&&(j=this._parseStack.position+M)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof T=="string"?` "${T}"`:` "${Array.prototype.map.call(T,(k=>String.fromCharCode(k))).join("")}"`),typeof T=="string"?T.split("").map((k=>k.charCodeAt(0))):T),this._parseBuffer.length<T.length&&this._parseBuffer.length<M&&(this._parseBuffer=new Uint32Array(Math.min(T.length,M))),q||this._dirtyRowTracker.clearRange(),T.length>M)for(let k=j;k<T.length;k+=M){const V=k+M<T.length?k+M:T.length,G=typeof T=="string"?this._stringDecoder.decode(T.substring(k,V),this._parseBuffer):this._utf8Decoder.decode(T.subarray(k,V),this._parseBuffer);if(P=this._parser.parse(this._parseBuffer,G))return this._preserveStack(O,N,G,k),this._logSlowResolvingAsync(P),P}else if(!q){const k=typeof T=="string"?this._stringDecoder.decode(T,this._parseBuffer):this._utf8Decoder.decode(T,this._parseBuffer);if(P=this._parser.parse(this._parseBuffer,k))return this._preserveStack(O,N,k,0),this._logSlowResolvingAsync(P),P}this._activeBuffer.x===O&&this._activeBuffer.y===N||this._onCursorMove.fire();const Y=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),F=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);F<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(F,this._bufferService.rows-1),Math.min(Y,this._bufferService.rows-1))}print(T,A,P){let O,N;const j=this._charsetService.charset,q=this._optionsService.rawOptions.screenReaderMode,Y=this._bufferService.cols,F=this._coreService.decPrivateModes.wraparound,k=this._coreService.modes.insertMode,V=this._curAttrData;let G=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&P-A>0&&G.getWidth(this._activeBuffer.x-1)===2&&G.setCellFromCodepoint(this._activeBuffer.x-1,0,1,V);let Z=this._parser.precedingJoinState;for(let K=A;K<P;++K){if(O=T[K],O<127&&j){const Be=j[String.fromCharCode(O)];Be&&(O=Be.charCodeAt(0))}const ue=this._unicodeService.charProperties(O,Z);N=C.UnicodeService.extractWidth(ue);const ee=C.UnicodeService.extractShouldJoin(ue),ke=ee?C.UnicodeService.extractWidth(Z):0;if(Z=ue,q&&this._onA11yChar.fire((0,_.stringFromCodePoint)(O)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+N-ke>Y){if(F){const Be=G;let ie=this._activeBuffer.x-ke;for(this._activeBuffer.x=ke,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),G=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),ke>0&&G instanceof m.BufferLine&&G.copyCellsFrom(Be,ie,0,ke,!1);ie<Y;)Be.setCellFromCodepoint(ie++,0,1,V)}else if(this._activeBuffer.x=Y-1,N===2)continue}if(ee&&this._activeBuffer.x){const Be=G.getWidth(this._activeBuffer.x-1)?1:2;G.addCodepointToCell(this._activeBuffer.x-Be,O,N);for(let ie=N-ke;--ie>=0;)G.setCellFromCodepoint(this._activeBuffer.x++,0,0,V)}else if(k&&(G.insertCells(this._activeBuffer.x,N-ke,this._activeBuffer.getNullCell(V)),G.getWidth(Y-1)===2&&G.setCellFromCodepoint(Y-1,f.NULL_CELL_CODE,f.NULL_CELL_WIDTH,V)),G.setCellFromCodepoint(this._activeBuffer.x++,O,N,V),N>0)for(;--N;)G.setCellFromCodepoint(this._activeBuffer.x++,0,0,V)}this._parser.precedingJoinState=Z,this._activeBuffer.x<Y&&P-A>0&&G.getWidth(this._activeBuffer.x)===0&&!G.hasContent(this._activeBuffer.x)&&G.setCellFromCodepoint(this._activeBuffer.x,0,1,V),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(T,A){return T.final!=="t"||T.prefix||T.intermediates?this._parser.registerCsiHandler(T,A):this._parser.registerCsiHandler(T,(P=>!L(P.params[0],this._optionsService.rawOptions.windowOptions)||A(P)))}registerDcsHandler(T,A){return this._parser.registerDcsHandler(T,new b.DcsHandler(A))}registerEscHandler(T,A){return this._parser.registerEscHandler(T,A)}registerOscHandler(T,A){return this._parser.registerOscHandler(T,new x.OscHandler(A))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);T.hasWidth(this._activeBuffer.x)&&!T.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const T=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-T),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(T=this._bufferService.cols-1){this._activeBuffer.x=Math.min(T,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(T,A){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=T,this._activeBuffer.y=this._activeBuffer.scrollTop+A):(this._activeBuffer.x=T,this._activeBuffer.y=A),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(T,A){this._restrictCursor(),this._setCursor(this._activeBuffer.x+T,this._activeBuffer.y+A)}cursorUp(T){const A=this._activeBuffer.y-this._activeBuffer.scrollTop;return A>=0?this._moveCursor(0,-Math.min(A,T.params[0]||1)):this._moveCursor(0,-(T.params[0]||1)),!0}cursorDown(T){const A=this._activeBuffer.scrollBottom-this._activeBuffer.y;return A>=0?this._moveCursor(0,Math.min(A,T.params[0]||1)):this._moveCursor(0,T.params[0]||1),!0}cursorForward(T){return this._moveCursor(T.params[0]||1,0),!0}cursorBackward(T){return this._moveCursor(-(T.params[0]||1),0),!0}cursorNextLine(T){return this.cursorDown(T),this._activeBuffer.x=0,!0}cursorPrecedingLine(T){return this.cursorUp(T),this._activeBuffer.x=0,!0}cursorCharAbsolute(T){return this._setCursor((T.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(T){return this._setCursor(T.length>=2?(T.params[1]||1)-1:0,(T.params[0]||1)-1),!0}charPosAbsolute(T){return this._setCursor((T.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(T){return this._moveCursor(T.params[0]||1,0),!0}linePosAbsolute(T){return this._setCursor(this._activeBuffer.x,(T.params[0]||1)-1),!0}vPositionRelative(T){return this._moveCursor(0,T.params[0]||1),!0}hVPosition(T){return this.cursorPosition(T),!0}tabClear(T){const A=T.params[0];return A===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:A===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(T){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let A=T.params[0]||1;for(;A--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(T){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let A=T.params[0]||1;for(;A--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(T){const A=T.params[0];return A===1&&(this._curAttrData.bg|=536870912),A!==2&&A!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(T,A,P,O=!1,N=!1){const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);j.replaceCells(A,P,this._activeBuffer.getNullCell(this._eraseAttrData()),N),O&&(j.isWrapped=!1)}_resetBufferLine(T,A=!1){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);P&&(P.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),A),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+T),P.isWrapped=!1)}eraseInDisplay(T,A=!1){let P;switch(this._restrictCursor(this._bufferService.cols),T.params[0]){case 0:for(P=this._activeBuffer.y,this._dirtyRowTracker.markDirty(P),this._eraseInBufferLine(P++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,A);P<this._bufferService.rows;P++)this._resetBufferLine(P,A);this._dirtyRowTracker.markDirty(P);break;case 1:for(P=this._activeBuffer.y,this._dirtyRowTracker.markDirty(P),this._eraseInBufferLine(P,0,this._activeBuffer.x+1,!0,A),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(P+1).isWrapped=!1);P--;)this._resetBufferLine(P,A);this._dirtyRowTracker.markDirty(0);break;case 2:for(P=this._bufferService.rows,this._dirtyRowTracker.markDirty(P-1);P--;)this._resetBufferLine(P,A);this._dirtyRowTracker.markDirty(0);break;case 3:const O=this._activeBuffer.lines.length-this._bufferService.rows;O>0&&(this._activeBuffer.lines.trimStart(O),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-O,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-O,0),this._onScroll.fire(0))}return!0}eraseInLine(T,A=!1){switch(this._restrictCursor(this._bufferService.cols),T.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,A);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,A);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,A)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(T){this._restrictCursor();let A=T.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=this._activeBuffer.ybase+this._activeBuffer.y,O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,N=this._bufferService.rows-1+this._activeBuffer.ybase-O+1;for(;A--;)this._activeBuffer.lines.splice(N-1,1),this._activeBuffer.lines.splice(P,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(T){this._restrictCursor();let A=T.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=this._activeBuffer.ybase+this._activeBuffer.y;let O;for(O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,O=this._bufferService.rows-1+this._activeBuffer.ybase-O;A--;)this._activeBuffer.lines.splice(P,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(T){this._restrictCursor();const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return A&&(A.insertCells(this._activeBuffer.x,T.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(T){this._restrictCursor();const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return A&&(A.deleteCells(this._activeBuffer.x,T.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(T){let A=T.params[0]||1;for(;A--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(T){let A=T.params[0]||1;for(;A--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(m.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(T){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=T.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);O.deleteCells(0,A,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(T){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=T.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);O.insertCells(0,A,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(T){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=T.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);O.insertCells(this._activeBuffer.x,A,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(T){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=T.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);O.deleteCells(this._activeBuffer.x,A,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(T){this._restrictCursor();const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return A&&(A.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(T.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(T){const A=this._parser.precedingJoinState;if(!A)return!0;const P=T.params[0]||1,O=C.UnicodeService.extractWidth(A),N=this._activeBuffer.x-O,j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(N),q=new Uint32Array(j.length*P);let Y=0;for(let k=0;k<j.length;){const V=j.codePointAt(k)||0;q[Y++]=V,k+=V>65535?2:1}let F=Y;for(let k=1;k<P;++k)q.copyWithin(F,0,Y),F+=Y;return this.print(q,0,F),!0}sendDeviceAttributesPrimary(T){return T.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(c.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(c.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(T){return T.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(c.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(c.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(T.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(c.C0.ESC+"[>83;40003;0c")),!0}_is(T){return(this._optionsService.rawOptions.termName+"").indexOf(T)===0}setMode(T){for(let A=0;A<T.length;A++)switch(T.params[A]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(T){for(let A=0;A<T.length;A++)switch(T.params[A]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),this._charsetService.setgCharset(1,p.DEFAULT_CHARSET),this._charsetService.setgCharset(2,p.DEFAULT_CHARSET),this._charsetService.setgCharset(3,p.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(T){for(let A=0;A<T.length;A++)switch(T.params[A]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(T){for(let A=0;A<T.length;A++)switch(T.params[A]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),T.params[A]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(T,A){const P=this._coreService.decPrivateModes,{activeProtocol:O,activeEncoding:N}=this._coreMouseService,j=this._coreService,{buffers:q,cols:Y}=this._bufferService,{active:F,alt:k}=q,V=this._optionsService.rawOptions,G=ee=>ee?1:2,Z=T.params[0];return K=Z,ue=A?Z===2?4:Z===4?G(j.modes.insertMode):Z===12?3:Z===20?G(V.convertEol):0:Z===1?G(P.applicationCursorKeys):Z===3?V.windowOptions.setWinLines?Y===80?2:Y===132?1:0:0:Z===6?G(P.origin):Z===7?G(P.wraparound):Z===8?3:Z===9?G(O==="X10"):Z===12?G(V.cursorBlink):Z===25?G(!j.isCursorHidden):Z===45?G(P.reverseWraparound):Z===66?G(P.applicationKeypad):Z===67?4:Z===1e3?G(O==="VT200"):Z===1002?G(O==="DRAG"):Z===1003?G(O==="ANY"):Z===1004?G(P.sendFocus):Z===1005?4:Z===1006?G(N==="SGR"):Z===1015?4:Z===1016?G(N==="SGR_PIXELS"):Z===1048?1:Z===47||Z===1047||Z===1049?G(F===k):Z===2004?G(P.bracketedPasteMode):0,j.triggerDataEvent(`${c.C0.ESC}[${A?"":"?"}${K};${ue}$y`),!0;var K,ue}_updateAttrColor(T,A,P,O,N){return A===2?(T|=50331648,T&=-16777216,T|=y.AttributeData.fromColorRGB([P,O,N])):A===5&&(T&=-50331904,T|=33554432|255&P),T}_extractColor(T,A,P){const O=[0,0,-1,0,0,0];let N=0,j=0;do{if(O[j+N]=T.params[A+j],T.hasSubParams(A+j)){const q=T.getSubParams(A+j);let Y=0;do O[1]===5&&(N=1),O[j+Y+1+N]=q[Y];while(++Y<q.length&&Y+j+1+N<O.length);break}if(O[1]===5&&j+N>=2||O[1]===2&&j+N>=5)break;O[1]&&(N=1)}while(++j+A<T.length&&j+N<O.length);for(let q=2;q<O.length;++q)O[q]===-1&&(O[q]=0);switch(O[0]){case 38:P.fg=this._updateAttrColor(P.fg,O[1],O[3],O[4],O[5]);break;case 48:P.bg=this._updateAttrColor(P.bg,O[1],O[3],O[4],O[5]);break;case 58:P.extended=P.extended.clone(),P.extended.underlineColor=this._updateAttrColor(P.extended.underlineColor,O[1],O[3],O[4],O[5])}return j}_processUnderline(T,A){A.extended=A.extended.clone(),(!~T||T>5)&&(T=1),A.extended.underlineStyle=T,A.fg|=268435456,T===0&&(A.fg&=-268435457),A.updateExtended()}_processSGR0(T){T.fg=m.DEFAULT_ATTR_DATA.fg,T.bg=m.DEFAULT_ATTR_DATA.bg,T.extended=T.extended.clone(),T.extended.underlineStyle=0,T.extended.underlineColor&=-67108864,T.updateExtended()}charAttributes(T){if(T.length===1&&T.params[0]===0)return this._processSGR0(this._curAttrData),!0;const A=T.length;let P;const O=this._curAttrData;for(let N=0;N<A;N++)P=T.params[N],P>=30&&P<=37?(O.fg&=-50331904,O.fg|=16777216|P-30):P>=40&&P<=47?(O.bg&=-50331904,O.bg|=16777216|P-40):P>=90&&P<=97?(O.fg&=-50331904,O.fg|=16777224|P-90):P>=100&&P<=107?(O.bg&=-50331904,O.bg|=16777224|P-100):P===0?this._processSGR0(O):P===1?O.fg|=134217728:P===3?O.bg|=67108864:P===4?(O.fg|=268435456,this._processUnderline(T.hasSubParams(N)?T.getSubParams(N)[0]:1,O)):P===5?O.fg|=536870912:P===7?O.fg|=67108864:P===8?O.fg|=1073741824:P===9?O.fg|=2147483648:P===2?O.bg|=134217728:P===21?this._processUnderline(2,O):P===22?(O.fg&=-134217729,O.bg&=-134217729):P===23?O.bg&=-67108865:P===24?(O.fg&=-268435457,this._processUnderline(0,O)):P===25?O.fg&=-536870913:P===27?O.fg&=-67108865:P===28?O.fg&=-1073741825:P===29?O.fg&=2147483647:P===39?(O.fg&=-67108864,O.fg|=16777215&m.DEFAULT_ATTR_DATA.fg):P===49?(O.bg&=-67108864,O.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):P===38||P===48||P===58?N+=this._extractColor(T,N,O):P===53?O.bg|=1073741824:P===55?O.bg&=-1073741825:P===59?(O.extended=O.extended.clone(),O.extended.underlineColor=-1,O.updateExtended()):P===100?(O.fg&=-67108864,O.fg|=16777215&m.DEFAULT_ATTR_DATA.fg,O.bg&=-67108864,O.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",P);return!0}deviceStatus(T){switch(T.params[0]){case 5:this._coreService.triggerDataEvent(`${c.C0.ESC}[0n`);break;case 6:const A=this._activeBuffer.y+1,P=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[${A};${P}R`)}return!0}deviceStatusPrivate(T){if(T.params[0]===6){const A=this._activeBuffer.y+1,P=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[?${A};${P}R`)}return!0}softReset(T){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(T){const A=T.params[0]||1;switch(A){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const P=A%2==1;return this._optionsService.options.cursorBlink=P,!0}setScrollRegion(T){const A=T.params[0]||1;let P;return(T.length<2||(P=T.params[1])>this._bufferService.rows||P===0)&&(P=this._bufferService.rows),P>A&&(this._activeBuffer.scrollTop=A-1,this._activeBuffer.scrollBottom=P-1,this._setCursor(0,0)),!0}windowOptions(T){if(!L(T.params[0],this._optionsService.rawOptions.windowOptions))return!0;const A=T.length>1?T.params[1]:0;switch(T.params[0]){case 14:A!==2&&this._onRequestWindowsOptionsReport.fire(D.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(D.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${c.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:A!==0&&A!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),A!==0&&A!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:A!==0&&A!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),A!==0&&A!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(T){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(T){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(T){return this._windowTitle=T,this._onTitleChange.fire(T),!0}setIconName(T){return this._iconName=T,!0}setOrReportIndexedColor(T){const A=[],P=T.split(";");for(;P.length>1;){const O=P.shift(),N=P.shift();if(/^\d+$/.exec(O)){const j=parseInt(O);if(U(j))if(N==="?")A.push({type:0,index:j});else{const q=(0,E.parseColor)(N);q&&A.push({type:1,index:j,color:q})}}}return A.length&&this._onColor.fire(A),!0}setHyperlink(T){const A=T.split(";");return!(A.length<2)&&(A[1]?this._createHyperlink(A[0],A[1]):!A[0]&&this._finishHyperlink())}_createHyperlink(T,A){this._getCurrentLinkId()&&this._finishHyperlink();const P=T.split(":");let O;const N=P.findIndex((j=>j.startsWith("id=")));return N!==-1&&(O=P[N].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:O,uri:A}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(T,A){const P=T.split(";");for(let O=0;O<P.length&&!(A>=this._specialColors.length);++O,++A)if(P[O]==="?")this._onColor.fire([{type:0,index:this._specialColors[A]}]);else{const N=(0,E.parseColor)(P[O]);N&&this._onColor.fire([{type:1,index:this._specialColors[A],color:N}])}return!0}setOrReportFgColor(T){return this._setOrReportSpecialColor(T,0)}setOrReportBgColor(T){return this._setOrReportSpecialColor(T,1)}setOrReportCursorColor(T){return this._setOrReportSpecialColor(T,2)}restoreIndexedColor(T){if(!T)return this._onColor.fire([{type:2}]),!0;const A=[],P=T.split(";");for(let O=0;O<P.length;++O)if(/^\d+$/.exec(P[O])){const N=parseInt(P[O]);U(N)&&A.push({type:2,index:N})}return A.length&&this._onColor.fire(A),!0}restoreFgColor(T){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(T){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(T){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),!0}selectCharset(T){return T.length!==2?(this.selectDefaultCharset(),!0):(T[0]==="/"||this._charsetService.setgCharset(R[T[0]],p.CHARSETS[T[1]]||p.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const T=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,T,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(T){return this._charsetService.setgLevel(T),!0}screenAlignmentPattern(){const T=new g.CellData;T.content=4194373,T.fg=this._curAttrData.fg,T.bg=this._curAttrData.bg,this._setCursor(0,0);for(let A=0;A<this._bufferService.rows;++A){const P=this._activeBuffer.ybase+this._activeBuffer.y+A,O=this._activeBuffer.lines.get(P);O&&(O.fill(T),O.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(T,A){const P=this._bufferService.buffer,O=this._optionsService.rawOptions;return(N=>(this._coreService.triggerDataEvent(`${c.C0.ESC}${N}${c.C0.ESC}\\`),!0))(T==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:T==='"p'?'P1$r61;1"p':T==="r"?`P1$r${P.scrollTop+1};${P.scrollBottom+1}r`:T==="m"?"P1$r0m":T===" q"?`P1$r${{block:2,underline:4,bar:6}[O.cursorStyle]-(O.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(T,A){this._dirtyRowTracker.markRangeDirty(T,A)}}s.InputHandler=$;let z=class{constructor(W){this._bufferService=W,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(W){W<this.start?this.start=W:W>this.end&&(this.end=W)}markRangeDirty(W,T){W>T&&(B=W,W=T,T=B),W<this.start&&(this.start=W),T>this.end&&(this.end=T)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function U(W){return 0<=W&&W<256}z=u([h(0,w.IBufferService)],z)},844:(l,s)=>{function a(u){for(const h of u)h.dispose();u.length=0}Object.defineProperty(s,"__esModule",{value:!0}),s.getDisposeArrayDisposable=s.disposeArray=s.toDisposable=s.MutableDisposable=s.Disposable=void 0,s.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const u of this._disposables)u.dispose();this._disposables.length=0}register(u){return this._disposables.push(u),u}unregister(u){const h=this._disposables.indexOf(u);h!==-1&&this._disposables.splice(h,1)}},s.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(u){this._isDisposed||u===this._value||(this._value?.dispose(),this._value=u)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},s.toDisposable=function(u){return{dispose:u}},s.disposeArray=a,s.getDisposeArrayDisposable=function(u){return{dispose:()=>a(u)}}},1505:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FourKeyMap=s.TwoKeyMap=void 0;class a{constructor(){this._data={}}set(h,c,p){this._data[h]||(this._data[h]={}),this._data[h][c]=p}get(h,c){return this._data[h]?this._data[h][c]:void 0}clear(){this._data={}}}s.TwoKeyMap=a,s.FourKeyMap=class{constructor(){this._data=new a}set(u,h,c,p,v){this._data.get(u,h)||this._data.set(u,h,new a),this._data.get(u,h).set(c,p,v)}get(u,h,c,p){return this._data.get(u,h)?.get(c,p)}clear(){this._data.clear()}}},6114:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isChromeOS=s.isLinux=s.isWindows=s.isIphone=s.isIpad=s.isMac=s.getSafariVersion=s.isSafari=s.isLegacyEdge=s.isFirefox=s.isNode=void 0,s.isNode=typeof process<"u"&&"title"in process;const a=s.isNode?"node":navigator.userAgent,u=s.isNode?"node":navigator.platform;s.isFirefox=a.includes("Firefox"),s.isLegacyEdge=a.includes("Edge"),s.isSafari=/^((?!chrome|android).)*safari/i.test(a),s.getSafariVersion=function(){if(!s.isSafari)return 0;const h=a.match(/Version\/(\d+)/);return h===null||h.length<2?0:parseInt(h[1])},s.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),s.isIpad=u==="iPad",s.isIphone=u==="iPhone",s.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),s.isLinux=u.indexOf("Linux")>=0,s.isChromeOS=/\bCrOS\b/.test(a)},6106:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SortedList=void 0;let a=0;s.SortedList=class{constructor(u){this._getKey=u,this._array=[]}clear(){this._array.length=0}insert(u){this._array.length!==0?(a=this._search(this._getKey(u)),this._array.splice(a,0,u)):this._array.push(u)}delete(u){if(this._array.length===0)return!1;const h=this._getKey(u);if(h===void 0||(a=this._search(h),a===-1)||this._getKey(this._array[a])!==h)return!1;do if(this._array[a]===u)return this._array.splice(a,1),!0;while(++a<this._array.length&&this._getKey(this._array[a])===h);return!1}*getKeyIterator(u){if(this._array.length!==0&&(a=this._search(u),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===u))do yield this._array[a];while(++a<this._array.length&&this._getKey(this._array[a])===u)}forEachByKey(u,h){if(this._array.length!==0&&(a=this._search(u),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===u))do h(this._array[a]);while(++a<this._array.length&&this._getKey(this._array[a])===u)}values(){return[...this._array].values()}_search(u){let h=0,c=this._array.length-1;for(;c>=h;){let p=h+c>>1;const v=this._getKey(this._array[p]);if(v>u)c=p-1;else{if(!(v<u)){for(;p>0&&this._getKey(this._array[p-1])===u;)p--;return p}h=p+1}}return h}}},7226:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DebouncedIdleTask=s.IdleTaskQueue=s.PriorityTaskQueue=void 0;const u=a(6114);class h{constructor(){this._tasks=[],this._i=0}enqueue(v){this._tasks.push(v),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(v){this._idleCallback=void 0;let S=0,_=0,m=v.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(S=Date.now(),this._tasks[this._i]()||this._i++,S=Math.max(1,Date.now()-S),_=Math.max(S,_),d=v.timeRemaining(),1.5*_>d)return m-S<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(m-S))}ms`),void this._start();m=d}this.clear()}}class c extends h{_requestCallback(v){return setTimeout((()=>v(this._createDeadline(16))))}_cancelCallback(v){clearTimeout(v)}_createDeadline(v){const S=Date.now()+v;return{timeRemaining:()=>Math.max(0,S-Date.now())}}}s.PriorityTaskQueue=c,s.IdleTaskQueue=!u.isNode&&"requestIdleCallback"in window?class extends h{_requestCallback(p){return requestIdleCallback(p)}_cancelCallback(p){cancelIdleCallback(p)}}:c,s.DebouncedIdleTask=class{constructor(){this._queue=new s.IdleTaskQueue}set(p){this._queue.clear(),this._queue.enqueue(p)}flush(){this._queue.flush()}}},9282:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateWindowsModeWrappedState=void 0;const u=a(643);s.updateWindowsModeWrappedState=function(h){const c=h.buffer.lines.get(h.buffer.ybase+h.buffer.y-1),p=c?.get(h.cols-1),v=h.buffer.lines.get(h.buffer.ybase+h.buffer.y);v&&p&&(v.isWrapped=p[u.CHAR_DATA_CODE_INDEX]!==u.NULL_CELL_CODE&&p[u.CHAR_DATA_CODE_INDEX]!==u.WHITESPACE_CELL_CODE)}},3734:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ExtendedAttrs=s.AttributeData=void 0;class a{constructor(){this.fg=0,this.bg=0,this.extended=new u}static toColorRGB(c){return[c>>>16&255,c>>>8&255,255&c]}static fromColorRGB(c){return(255&c[0])<<16|(255&c[1])<<8|255&c[2]}clone(){const c=new a;return c.fg=this.fg,c.bg=this.bg,c.extended=this.extended.clone(),c}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}s.AttributeData=a;class u{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(c){this._ext=c}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(c){this._ext&=-469762049,this._ext|=c<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(c){this._ext&=-67108864,this._ext|=67108863&c}get urlId(){return this._urlId}set urlId(c){this._urlId=c}get underlineVariantOffset(){const c=(3758096384&this._ext)>>29;return c<0?4294967288^c:c}set underlineVariantOffset(c){this._ext&=536870911,this._ext|=c<<29&3758096384}constructor(c=0,p=0){this._ext=0,this._urlId=0,this._ext=c,this._urlId=p}clone(){return new u(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}s.ExtendedAttrs=u},9092:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Buffer=s.MAX_BUFFER_SIZE=void 0;const u=a(6349),h=a(7226),c=a(3734),p=a(8437),v=a(4634),S=a(511),_=a(643),m=a(4863),d=a(7116);s.MAX_BUFFER_SIZE=4294967295,s.Buffer=class{constructor(f,g,y){this._hasScrollback=f,this._optionsService=g,this._bufferService=y,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=p.DEFAULT_ATTR_DATA.clone(),this.savedCharset=d.DEFAULT_CHARSET,this.markers=[],this._nullCell=S.CellData.fromCharData([0,_.NULL_CELL_CHAR,_.NULL_CELL_WIDTH,_.NULL_CELL_CODE]),this._whitespaceCell=S.CellData.fromCharData([0,_.WHITESPACE_CELL_CHAR,_.WHITESPACE_CELL_WIDTH,_.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new h.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(f){return f?(this._nullCell.fg=f.fg,this._nullCell.bg=f.bg,this._nullCell.extended=f.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new c.ExtendedAttrs),this._nullCell}getWhitespaceCell(f){return f?(this._whitespaceCell.fg=f.fg,this._whitespaceCell.bg=f.bg,this._whitespaceCell.extended=f.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new c.ExtendedAttrs),this._whitespaceCell}getBlankLine(f,g){return new p.BufferLine(this._bufferService.cols,this.getNullCell(f),g)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const f=this.ybase+this.y-this.ydisp;return f>=0&&f<this._rows}_getCorrectBufferLength(f){if(!this._hasScrollback)return f;const g=f+this._optionsService.rawOptions.scrollback;return g>s.MAX_BUFFER_SIZE?s.MAX_BUFFER_SIZE:g}fillViewportRows(f){if(this.lines.length===0){f===void 0&&(f=p.DEFAULT_ATTR_DATA);let g=this._rows;for(;g--;)this.lines.push(this.getBlankLine(f))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(f,g){const y=this.getNullCell(p.DEFAULT_ATTR_DATA);let w=0;const C=this._getCorrectBufferLength(g);if(C>this.lines.maxLength&&(this.lines.maxLength=C),this.lines.length>0){if(this._cols<f)for(let b=0;b<this.lines.length;b++)w+=+this.lines.get(b).resize(f,y);let x=0;if(this._rows<g)for(let b=this._rows;b<g;b++)this.lines.length<g+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new p.BufferLine(f,y)):this.ybase>0&&this.lines.length<=this.ybase+this.y+x+1?(this.ybase--,x++,this.ydisp>0&&this.ydisp--):this.lines.push(new p.BufferLine(f,y)));else for(let b=this._rows;b>g;b--)this.lines.length>g+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(C<this.lines.maxLength){const b=this.lines.length-C;b>0&&(this.lines.trimStart(b),this.ybase=Math.max(this.ybase-b,0),this.ydisp=Math.max(this.ydisp-b,0),this.savedY=Math.max(this.savedY-b,0)),this.lines.maxLength=C}this.x=Math.min(this.x,f-1),this.y=Math.min(this.y,g-1),x&&(this.y+=x),this.savedX=Math.min(this.savedX,f-1),this.scrollTop=0}if(this.scrollBottom=g-1,this._isReflowEnabled&&(this._reflow(f,g),this._cols>f))for(let x=0;x<this.lines.length;x++)w+=+this.lines.get(x).resize(f,y);this._cols=f,this._rows=g,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let f=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,f=!1);let g=0;for(;this._memoryCleanupPosition<this.lines.length;)if(g+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),g>100)return!0;return f}get _isReflowEnabled(){const f=this._optionsService.rawOptions.windowsPty;return f&&f.buildNumber?this._hasScrollback&&f.backend==="conpty"&&f.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(f,g){this._cols!==f&&(f>this._cols?this._reflowLarger(f,g):this._reflowSmaller(f,g))}_reflowLarger(f,g){const y=(0,v.reflowLargerGetLinesToRemove)(this.lines,this._cols,f,this.ybase+this.y,this.getNullCell(p.DEFAULT_ATTR_DATA));if(y.length>0){const w=(0,v.reflowLargerCreateNewLayout)(this.lines,y);(0,v.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(f,g,w.countRemoved)}}_reflowLargerAdjustViewport(f,g,y){const w=this.getNullCell(p.DEFAULT_ATTR_DATA);let C=y;for(;C-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<g&&this.lines.push(new p.BufferLine(f,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-y,0)}_reflowSmaller(f,g){const y=this.getNullCell(p.DEFAULT_ATTR_DATA),w=[];let C=0;for(let x=this.lines.length-1;x>=0;x--){let b=this.lines.get(x);if(!b||!b.isWrapped&&b.getTrimmedLength()<=f)continue;const E=[b];for(;b.isWrapped&&x>0;)b=this.lines.get(--x),E.unshift(b);const R=this.ybase+this.y;if(R>=x&&R<x+E.length)continue;const M=E[E.length-1].getTrimmedLength(),L=(0,v.reflowSmallerGetNewLineLengths)(E,this._cols,f),D=L.length-E.length;let B;B=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+D):Math.max(0,this.lines.length-this.lines.maxLength+D);const $=[];for(let P=0;P<D;P++){const O=this.getBlankLine(p.DEFAULT_ATTR_DATA,!0);$.push(O)}$.length>0&&(w.push({start:x+E.length+C,newLines:$}),C+=$.length),E.push(...$);let z=L.length-1,U=L[z];U===0&&(z--,U=L[z]);let W=E.length-D-1,T=M;for(;W>=0;){const P=Math.min(T,U);if(E[z]===void 0)break;if(E[z].copyCellsFrom(E[W],T-P,U-P,P,!0),U-=P,U===0&&(z--,U=L[z]),T-=P,T===0){W--;const O=Math.max(W,0);T=(0,v.getWrappedLineTrimmedLength)(E,O,this._cols)}}for(let P=0;P<E.length;P++)L[P]<f&&E[P].setCell(L[P],y);let A=D-B;for(;A-- >0;)this.ybase===0?this.y<g-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+C)-g&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+D,this.ybase+g-1)}if(w.length>0){const x=[],b=[];for(let z=0;z<this.lines.length;z++)b.push(this.lines.get(z));const E=this.lines.length;let R=E-1,M=0,L=w[M];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+C);let D=0;for(let z=Math.min(this.lines.maxLength-1,E+C-1);z>=0;z--)if(L&&L.start>R+D){for(let U=L.newLines.length-1;U>=0;U--)this.lines.set(z--,L.newLines[U]);z++,x.push({index:R+1,amount:L.newLines.length}),D+=L.newLines.length,L=w[++M]}else this.lines.set(z,b[R--]);let B=0;for(let z=x.length-1;z>=0;z--)x[z].index+=B,this.lines.onInsertEmitter.fire(x[z]),B+=x[z].amount;const $=Math.max(0,E+C-this.lines.maxLength);$>0&&this.lines.onTrimEmitter.fire($)}}translateBufferLineToString(f,g,y=0,w){const C=this.lines.get(f);return C?C.translateToString(g,y,w):""}getWrappedRangeForLine(f){let g=f,y=f;for(;g>0&&this.lines.get(g).isWrapped;)g--;for(;y+1<this.lines.length&&this.lines.get(y+1).isWrapped;)y++;return{first:g,last:y}}setupTabStops(f){for(f!=null?this.tabs[f]||(f=this.prevStop(f)):(this.tabs={},f=0);f<this._cols;f+=this._optionsService.rawOptions.tabStopWidth)this.tabs[f]=!0}prevStop(f){for(f==null&&(f=this.x);!this.tabs[--f]&&f>0;);return f>=this._cols?this._cols-1:f<0?0:f}nextStop(f){for(f==null&&(f=this.x);!this.tabs[++f]&&f<this._cols;);return f>=this._cols?this._cols-1:f<0?0:f}clearMarkers(f){this._isClearing=!0;for(let g=0;g<this.markers.length;g++)this.markers[g].line===f&&(this.markers[g].dispose(),this.markers.splice(g--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let f=0;f<this.markers.length;f++)this.markers[f].dispose(),this.markers.splice(f--,1);this._isClearing=!1}addMarker(f){const g=new m.Marker(f);return this.markers.push(g),g.register(this.lines.onTrim((y=>{g.line-=y,g.line<0&&g.dispose()}))),g.register(this.lines.onInsert((y=>{g.line>=y.index&&(g.line+=y.amount)}))),g.register(this.lines.onDelete((y=>{g.line>=y.index&&g.line<y.index+y.amount&&g.dispose(),g.line>y.index&&(g.line-=y.amount)}))),g.register(g.onDispose((()=>this._removeMarker(g)))),g}_removeMarker(f){this._isClearing||this.markers.splice(this.markers.indexOf(f),1)}}},8437:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLine=s.DEFAULT_ATTR_DATA=void 0;const u=a(3734),h=a(511),c=a(643),p=a(482);s.DEFAULT_ATTR_DATA=Object.freeze(new u.AttributeData);let v=0;class S{constructor(m,d,f=!1){this.isWrapped=f,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*m);const g=d||h.CellData.fromCharData([0,c.NULL_CELL_CHAR,c.NULL_CELL_WIDTH,c.NULL_CELL_CODE]);for(let y=0;y<m;++y)this.setCell(y,g);this.length=m}get(m){const d=this._data[3*m+0],f=2097151&d;return[this._data[3*m+1],2097152&d?this._combined[m]:f?(0,p.stringFromCodePoint)(f):"",d>>22,2097152&d?this._combined[m].charCodeAt(this._combined[m].length-1):f]}set(m,d){this._data[3*m+1]=d[c.CHAR_DATA_ATTR_INDEX],d[c.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[m]=d[1],this._data[3*m+0]=2097152|m|d[c.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*m+0]=d[c.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[c.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(m){return this._data[3*m+0]>>22}hasWidth(m){return 12582912&this._data[3*m+0]}getFg(m){return this._data[3*m+1]}getBg(m){return this._data[3*m+2]}hasContent(m){return 4194303&this._data[3*m+0]}getCodePoint(m){const d=this._data[3*m+0];return 2097152&d?this._combined[m].charCodeAt(this._combined[m].length-1):2097151&d}isCombined(m){return 2097152&this._data[3*m+0]}getString(m){const d=this._data[3*m+0];return 2097152&d?this._combined[m]:2097151&d?(0,p.stringFromCodePoint)(2097151&d):""}isProtected(m){return 536870912&this._data[3*m+2]}loadCell(m,d){return v=3*m,d.content=this._data[v+0],d.fg=this._data[v+1],d.bg=this._data[v+2],2097152&d.content&&(d.combinedData=this._combined[m]),268435456&d.bg&&(d.extended=this._extendedAttrs[m]),d}setCell(m,d){2097152&d.content&&(this._combined[m]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[m]=d.extended),this._data[3*m+0]=d.content,this._data[3*m+1]=d.fg,this._data[3*m+2]=d.bg}setCellFromCodepoint(m,d,f,g){268435456&g.bg&&(this._extendedAttrs[m]=g.extended),this._data[3*m+0]=d|f<<22,this._data[3*m+1]=g.fg,this._data[3*m+2]=g.bg}addCodepointToCell(m,d,f){let g=this._data[3*m+0];2097152&g?this._combined[m]+=(0,p.stringFromCodePoint)(d):2097151&g?(this._combined[m]=(0,p.stringFromCodePoint)(2097151&g)+(0,p.stringFromCodePoint)(d),g&=-2097152,g|=2097152):g=d|4194304,f&&(g&=-12582913,g|=f<<22),this._data[3*m+0]=g}insertCells(m,d,f){if((m%=this.length)&&this.getWidth(m-1)===2&&this.setCellFromCodepoint(m-1,0,1,f),d<this.length-m){const g=new h.CellData;for(let y=this.length-m-d-1;y>=0;--y)this.setCell(m+d+y,this.loadCell(m+y,g));for(let y=0;y<d;++y)this.setCell(m+y,f)}else for(let g=m;g<this.length;++g)this.setCell(g,f);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,f)}deleteCells(m,d,f){if(m%=this.length,d<this.length-m){const g=new h.CellData;for(let y=0;y<this.length-m-d;++y)this.setCell(m+y,this.loadCell(m+d+y,g));for(let y=this.length-d;y<this.length;++y)this.setCell(y,f)}else for(let g=m;g<this.length;++g)this.setCell(g,f);m&&this.getWidth(m-1)===2&&this.setCellFromCodepoint(m-1,0,1,f),this.getWidth(m)!==0||this.hasContent(m)||this.setCellFromCodepoint(m,0,1,f)}replaceCells(m,d,f,g=!1){if(g)for(m&&this.getWidth(m-1)===2&&!this.isProtected(m-1)&&this.setCellFromCodepoint(m-1,0,1,f),d<this.length&&this.getWidth(d-1)===2&&!this.isProtected(d)&&this.setCellFromCodepoint(d,0,1,f);m<d&&m<this.length;)this.isProtected(m)||this.setCell(m,f),m++;else for(m&&this.getWidth(m-1)===2&&this.setCellFromCodepoint(m-1,0,1,f),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodepoint(d,0,1,f);m<d&&m<this.length;)this.setCell(m++,f)}resize(m,d){if(m===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const f=3*m;if(m>this.length){if(this._data.buffer.byteLength>=4*f)this._data=new Uint32Array(this._data.buffer,0,f);else{const g=new Uint32Array(f);g.set(this._data),this._data=g}for(let g=this.length;g<m;++g)this.setCell(g,d)}else{this._data=this._data.subarray(0,f);const g=Object.keys(this._combined);for(let w=0;w<g.length;w++){const C=parseInt(g[w],10);C>=m&&delete this._combined[C]}const y=Object.keys(this._extendedAttrs);for(let w=0;w<y.length;w++){const C=parseInt(y[w],10);C>=m&&delete this._extendedAttrs[C]}}return this.length=m,4*f*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const m=new Uint32Array(this._data.length);return m.set(this._data),this._data=m,1}return 0}fill(m,d=!1){if(d)for(let f=0;f<this.length;++f)this.isProtected(f)||this.setCell(f,m);else{this._combined={},this._extendedAttrs={};for(let f=0;f<this.length;++f)this.setCell(f,m)}}copyFrom(m){this.length!==m.length?this._data=new Uint32Array(m._data):this._data.set(m._data),this.length=m.length,this._combined={};for(const d in m._combined)this._combined[d]=m._combined[d];this._extendedAttrs={};for(const d in m._extendedAttrs)this._extendedAttrs[d]=m._extendedAttrs[d];this.isWrapped=m.isWrapped}clone(){const m=new S(0);m._data=new Uint32Array(this._data),m.length=this.length;for(const d in this._combined)m._combined[d]=this._combined[d];for(const d in this._extendedAttrs)m._extendedAttrs[d]=this._extendedAttrs[d];return m.isWrapped=this.isWrapped,m}getTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0])return m+(this._data[3*m+0]>>22);return 0}getNoBgTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0]||50331648&this._data[3*m+2])return m+(this._data[3*m+0]>>22);return 0}copyCellsFrom(m,d,f,g,y){const w=m._data;if(y)for(let x=g-1;x>=0;x--){for(let b=0;b<3;b++)this._data[3*(f+x)+b]=w[3*(d+x)+b];268435456&w[3*(d+x)+2]&&(this._extendedAttrs[f+x]=m._extendedAttrs[d+x])}else for(let x=0;x<g;x++){for(let b=0;b<3;b++)this._data[3*(f+x)+b]=w[3*(d+x)+b];268435456&w[3*(d+x)+2]&&(this._extendedAttrs[f+x]=m._extendedAttrs[d+x])}const C=Object.keys(m._combined);for(let x=0;x<C.length;x++){const b=parseInt(C[x],10);b>=d&&(this._combined[b-d+f]=m._combined[b])}}translateToString(m,d,f,g){d=d??0,f=f??this.length,m&&(f=Math.min(f,this.getTrimmedLength())),g&&(g.length=0);let y="";for(;d<f;){const w=this._data[3*d+0],C=2097151&w,x=2097152&w?this._combined[d]:C?(0,p.stringFromCodePoint)(C):c.WHITESPACE_CELL_CHAR;if(y+=x,g)for(let b=0;b<x.length;++b)g.push(d);d+=w>>22||1}return g&&g.push(d),y}}s.BufferLine=S},4841:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getRangeLength=void 0,s.getRangeLength=function(a,u){if(a.start.y>a.end.y)throw new Error(`Buffer range end (${a.end.x}, ${a.end.y}) cannot be before start (${a.start.x}, ${a.start.y})`);return u*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(l,s)=>{function a(u,h,c){if(h===u.length-1)return u[h].getTrimmedLength();const p=!u[h].hasContent(c-1)&&u[h].getWidth(c-1)===1,v=u[h+1].getWidth(0)===2;return p&&v?c-1:c}Object.defineProperty(s,"__esModule",{value:!0}),s.getWrappedLineTrimmedLength=s.reflowSmallerGetNewLineLengths=s.reflowLargerApplyNewLayout=s.reflowLargerCreateNewLayout=s.reflowLargerGetLinesToRemove=void 0,s.reflowLargerGetLinesToRemove=function(u,h,c,p,v){const S=[];for(let _=0;_<u.length-1;_++){let m=_,d=u.get(++m);if(!d.isWrapped)continue;const f=[u.get(_)];for(;m<u.length&&d.isWrapped;)f.push(d),d=u.get(++m);if(p>=_&&p<m){_+=f.length-1;continue}let g=0,y=a(f,g,h),w=1,C=0;for(;w<f.length;){const b=a(f,w,h),E=b-C,R=c-y,M=Math.min(E,R);f[g].copyCellsFrom(f[w],C,y,M,!1),y+=M,y===c&&(g++,y=0),C+=M,C===b&&(w++,C=0),y===0&&g!==0&&f[g-1].getWidth(c-1)===2&&(f[g].copyCellsFrom(f[g-1],c-1,y++,1,!1),f[g-1].setCell(c-1,v))}f[g].replaceCells(y,c,v);let x=0;for(let b=f.length-1;b>0&&(b>g||f[b].getTrimmedLength()===0);b--)x++;x>0&&(S.push(_+f.length-x),S.push(x)),_+=f.length-1}return S},s.reflowLargerCreateNewLayout=function(u,h){const c=[];let p=0,v=h[p],S=0;for(let _=0;_<u.length;_++)if(v===_){const m=h[++p];u.onDeleteEmitter.fire({index:_-S,amount:m}),_+=m-1,S+=m,v=h[++p]}else c.push(_);return{layout:c,countRemoved:S}},s.reflowLargerApplyNewLayout=function(u,h){const c=[];for(let p=0;p<h.length;p++)c.push(u.get(h[p]));for(let p=0;p<c.length;p++)u.set(p,c[p]);u.length=h.length},s.reflowSmallerGetNewLineLengths=function(u,h,c){const p=[],v=u.map(((d,f)=>a(u,f,h))).reduce(((d,f)=>d+f));let S=0,_=0,m=0;for(;m<v;){if(v-m<c){p.push(v-m);break}S+=c;const d=a(u,_,h);S>d&&(S-=d,_++);const f=u[_].getWidth(S-1)===2;f&&S--;const g=f?c-1:c;p.push(g),m+=g}return p},s.getWrappedLineTrimmedLength=a},5295:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferSet=void 0;const u=a(8460),h=a(844),c=a(9092);class p extends h.Disposable{constructor(S,_){super(),this._optionsService=S,this._bufferService=_,this._onBufferActivate=this.register(new u.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new c.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new c.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(S){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(S),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(S,_){this._normal.resize(S,_),this._alt.resize(S,_),this.setupTabStops(S)}setupTabStops(S){this._normal.setupTabStops(S),this._alt.setupTabStops(S)}}s.BufferSet=p},511:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CellData=void 0;const u=a(482),h=a(643),c=a(3734);class p extends c.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new c.ExtendedAttrs,this.combinedData=""}static fromCharData(S){const _=new p;return _.setFromCharData(S),_}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,u.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(S){this.fg=S[h.CHAR_DATA_ATTR_INDEX],this.bg=0;let _=!1;if(S[h.CHAR_DATA_CHAR_INDEX].length>2)_=!0;else if(S[h.CHAR_DATA_CHAR_INDEX].length===2){const m=S[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=m&&m<=56319){const d=S[h.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(m-55296)+d-56320+65536|S[h.CHAR_DATA_WIDTH_INDEX]<<22:_=!0}else _=!0}else this.content=S[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|S[h.CHAR_DATA_WIDTH_INDEX]<<22;_&&(this.combinedData=S[h.CHAR_DATA_CHAR_INDEX],this.content=2097152|S[h.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.CellData=p},643:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WHITESPACE_CELL_CODE=s.WHITESPACE_CELL_WIDTH=s.WHITESPACE_CELL_CHAR=s.NULL_CELL_CODE=s.NULL_CELL_WIDTH=s.NULL_CELL_CHAR=s.CHAR_DATA_CODE_INDEX=s.CHAR_DATA_WIDTH_INDEX=s.CHAR_DATA_CHAR_INDEX=s.CHAR_DATA_ATTR_INDEX=s.DEFAULT_EXT=s.DEFAULT_ATTR=s.DEFAULT_COLOR=void 0,s.DEFAULT_COLOR=0,s.DEFAULT_ATTR=256|s.DEFAULT_COLOR<<9,s.DEFAULT_EXT=0,s.CHAR_DATA_ATTR_INDEX=0,s.CHAR_DATA_CHAR_INDEX=1,s.CHAR_DATA_WIDTH_INDEX=2,s.CHAR_DATA_CODE_INDEX=3,s.NULL_CELL_CHAR="",s.NULL_CELL_WIDTH=1,s.NULL_CELL_CODE=0,s.WHITESPACE_CELL_CHAR=" ",s.WHITESPACE_CELL_WIDTH=1,s.WHITESPACE_CELL_CODE=32},4863:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Marker=void 0;const u=a(8460),h=a(844);class c{get id(){return this._id}constructor(v){this.line=v,this.isDisposed=!1,this._disposables=[],this._id=c._nextId++,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,h.disposeArray)(this._disposables),this._disposables.length=0)}register(v){return this._disposables.push(v),v}}s.Marker=c,c._nextId=1},7116:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_CHARSET=s.CHARSETS=void 0,s.CHARSETS={},s.DEFAULT_CHARSET=s.CHARSETS.B,s.CHARSETS[0]={"`":"â—†",a:"â–’",b:"â‰",c:"âŒ",d:"â",e:"âŠ",f:"Â°",g:"Â±",h:"â¤",i:"â‹",j:"â”˜",k:"â”",l:"â”Œ",m:"â””",n:"â”¼",o:"âŽº",p:"âŽ»",q:"â”€",r:"âŽ¼",s:"âŽ½",t:"â”œ",u:"â”¤",v:"â”´",w:"â”¬",x:"â”‚",y:"â‰¤",z:"â‰¥","{":"Ï€","|":"â‰ ","}":"Â£","~":"Â·"},s.CHARSETS.A={"#":"Â£"},s.CHARSETS.B=void 0,s.CHARSETS[4]={"#":"Â£","@":"Â¾","[":"ij","\\":"Â½","]":"|","{":"Â¨","|":"f","}":"Â¼","~":"Â´"},s.CHARSETS.C=s.CHARSETS[5]={"[":"Ã„","\\":"Ã–","]":"Ã…","^":"Ãœ","`":"Ã©","{":"Ã¤","|":"Ã¶","}":"Ã¥","~":"Ã¼"},s.CHARSETS.R={"#":"Â£","@":"Ã ","[":"Â°","\\":"Ã§","]":"Â§","{":"Ã©","|":"Ã¹","}":"Ã¨","~":"Â¨"},s.CHARSETS.Q={"@":"Ã ","[":"Ã¢","\\":"Ã§","]":"Ãª","^":"Ã®","`":"Ã´","{":"Ã©","|":"Ã¹","}":"Ã¨","~":"Ã»"},s.CHARSETS.K={"@":"Â§","[":"Ã„","\\":"Ã–","]":"Ãœ","{":"Ã¤","|":"Ã¶","}":"Ã¼","~":"ÃŸ"},s.CHARSETS.Y={"#":"Â£","@":"Â§","[":"Â°","\\":"Ã§","]":"Ã©","`":"Ã¹","{":"Ã ","|":"Ã²","}":"Ã¨","~":"Ã¬"},s.CHARSETS.E=s.CHARSETS[6]={"@":"Ã„","[":"Ã†","\\":"Ã˜","]":"Ã…","^":"Ãœ","`":"Ã¤","{":"Ã¦","|":"Ã¸","}":"Ã¥","~":"Ã¼"},s.CHARSETS.Z={"#":"Â£","@":"Â§","[":"Â¡","\\":"Ã‘","]":"Â¿","{":"Â°","|":"Ã±","}":"Ã§"},s.CHARSETS.H=s.CHARSETS[7]={"@":"Ã‰","[":"Ã„","\\":"Ã–","]":"Ã…","^":"Ãœ","`":"Ã©","{":"Ã¤","|":"Ã¶","}":"Ã¥","~":"Ã¼"},s.CHARSETS["="]={"#":"Ã¹","@":"Ã ","[":"Ã©","\\":"Ã§","]":"Ãª","^":"Ã®",_:"Ã¨","`":"Ã´","{":"Ã¤","|":"Ã¶","}":"Ã¼","~":"Ã»"}},2584:(l,s)=>{var a,u,h;Object.defineProperty(s,"__esModule",{value:!0}),s.C1_ESCAPED=s.C1=s.C0=void 0,(function(c){c.NUL="\0",c.SOH="",c.STX="",c.ETX="",c.EOT="",c.ENQ="",c.ACK="",c.BEL="\x07",c.BS="\b",c.HT="	",c.LF=`
`,c.VT="\v",c.FF="\f",c.CR="\r",c.SO="",c.SI="",c.DLE="",c.DC1="",c.DC2="",c.DC3="",c.DC4="",c.NAK="",c.SYN="",c.ETB="",c.CAN="",c.EM="",c.SUB="",c.ESC="\x1B",c.FS="",c.GS="",c.RS="",c.US="",c.SP=" ",c.DEL=""})(a||(s.C0=a={})),(function(c){c.PAD="Â€",c.HOP="Â",c.BPH="Â‚",c.NBH="Âƒ",c.IND="Â„",c.NEL="Â…",c.SSA="Â†",c.ESA="Â‡",c.HTS="Âˆ",c.HTJ="Â‰",c.VTS="ÂŠ",c.PLD="Â‹",c.PLU="ÂŒ",c.RI="Â",c.SS2="ÂŽ",c.SS3="Â",c.DCS="Â",c.PU1="Â‘",c.PU2="Â’",c.STS="Â“",c.CCH="Â”",c.MW="Â•",c.SPA="Â–",c.EPA="Â—",c.SOS="Â˜",c.SGCI="Â™",c.SCI="Âš",c.CSI="Â›",c.ST="Âœ",c.OSC="Â",c.PM="Âž",c.APC="ÂŸ"})(u||(s.C1=u={})),(function(c){c.ST=`${a.ESC}\\`})(h||(s.C1_ESCAPED=h={}))},7399:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.evaluateKeyboardEvent=void 0;const u=a(2584),h={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};s.evaluateKeyboardEvent=function(c,p,v,S){const _={type:0,cancel:!1,key:void 0},m=(c.shiftKey?1:0)|(c.altKey?2:0)|(c.ctrlKey?4:0)|(c.metaKey?8:0);switch(c.keyCode){case 0:c.key==="UIKeyInputUpArrow"?_.key=p?u.C0.ESC+"OA":u.C0.ESC+"[A":c.key==="UIKeyInputLeftArrow"?_.key=p?u.C0.ESC+"OD":u.C0.ESC+"[D":c.key==="UIKeyInputRightArrow"?_.key=p?u.C0.ESC+"OC":u.C0.ESC+"[C":c.key==="UIKeyInputDownArrow"&&(_.key=p?u.C0.ESC+"OB":u.C0.ESC+"[B");break;case 8:_.key=c.ctrlKey?"\b":u.C0.DEL,c.altKey&&(_.key=u.C0.ESC+_.key);break;case 9:if(c.shiftKey){_.key=u.C0.ESC+"[Z";break}_.key=u.C0.HT,_.cancel=!0;break;case 13:_.key=c.altKey?u.C0.ESC+u.C0.CR:u.C0.CR,_.cancel=!0;break;case 27:_.key=u.C0.ESC,c.altKey&&(_.key=u.C0.ESC+u.C0.ESC),_.cancel=!0;break;case 37:if(c.metaKey)break;m?(_.key=u.C0.ESC+"[1;"+(m+1)+"D",_.key===u.C0.ESC+"[1;3D"&&(_.key=u.C0.ESC+(v?"b":"[1;5D"))):_.key=p?u.C0.ESC+"OD":u.C0.ESC+"[D";break;case 39:if(c.metaKey)break;m?(_.key=u.C0.ESC+"[1;"+(m+1)+"C",_.key===u.C0.ESC+"[1;3C"&&(_.key=u.C0.ESC+(v?"f":"[1;5C"))):_.key=p?u.C0.ESC+"OC":u.C0.ESC+"[C";break;case 38:if(c.metaKey)break;m?(_.key=u.C0.ESC+"[1;"+(m+1)+"A",v||_.key!==u.C0.ESC+"[1;3A"||(_.key=u.C0.ESC+"[1;5A")):_.key=p?u.C0.ESC+"OA":u.C0.ESC+"[A";break;case 40:if(c.metaKey)break;m?(_.key=u.C0.ESC+"[1;"+(m+1)+"B",v||_.key!==u.C0.ESC+"[1;3B"||(_.key=u.C0.ESC+"[1;5B")):_.key=p?u.C0.ESC+"OB":u.C0.ESC+"[B";break;case 45:c.shiftKey||c.ctrlKey||(_.key=u.C0.ESC+"[2~");break;case 46:_.key=m?u.C0.ESC+"[3;"+(m+1)+"~":u.C0.ESC+"[3~";break;case 36:_.key=m?u.C0.ESC+"[1;"+(m+1)+"H":p?u.C0.ESC+"OH":u.C0.ESC+"[H";break;case 35:_.key=m?u.C0.ESC+"[1;"+(m+1)+"F":p?u.C0.ESC+"OF":u.C0.ESC+"[F";break;case 33:c.shiftKey?_.type=2:c.ctrlKey?_.key=u.C0.ESC+"[5;"+(m+1)+"~":_.key=u.C0.ESC+"[5~";break;case 34:c.shiftKey?_.type=3:c.ctrlKey?_.key=u.C0.ESC+"[6;"+(m+1)+"~":_.key=u.C0.ESC+"[6~";break;case 112:_.key=m?u.C0.ESC+"[1;"+(m+1)+"P":u.C0.ESC+"OP";break;case 113:_.key=m?u.C0.ESC+"[1;"+(m+1)+"Q":u.C0.ESC+"OQ";break;case 114:_.key=m?u.C0.ESC+"[1;"+(m+1)+"R":u.C0.ESC+"OR";break;case 115:_.key=m?u.C0.ESC+"[1;"+(m+1)+"S":u.C0.ESC+"OS";break;case 116:_.key=m?u.C0.ESC+"[15;"+(m+1)+"~":u.C0.ESC+"[15~";break;case 117:_.key=m?u.C0.ESC+"[17;"+(m+1)+"~":u.C0.ESC+"[17~";break;case 118:_.key=m?u.C0.ESC+"[18;"+(m+1)+"~":u.C0.ESC+"[18~";break;case 119:_.key=m?u.C0.ESC+"[19;"+(m+1)+"~":u.C0.ESC+"[19~";break;case 120:_.key=m?u.C0.ESC+"[20;"+(m+1)+"~":u.C0.ESC+"[20~";break;case 121:_.key=m?u.C0.ESC+"[21;"+(m+1)+"~":u.C0.ESC+"[21~";break;case 122:_.key=m?u.C0.ESC+"[23;"+(m+1)+"~":u.C0.ESC+"[23~";break;case 123:_.key=m?u.C0.ESC+"[24;"+(m+1)+"~":u.C0.ESC+"[24~";break;default:if(!c.ctrlKey||c.shiftKey||c.altKey||c.metaKey)if(v&&!S||!c.altKey||c.metaKey)!v||c.altKey||c.ctrlKey||c.shiftKey||!c.metaKey?c.key&&!c.ctrlKey&&!c.altKey&&!c.metaKey&&c.keyCode>=48&&c.key.length===1?_.key=c.key:c.key&&c.ctrlKey&&(c.key==="_"&&(_.key=u.C0.US),c.key==="@"&&(_.key=u.C0.NUL)):c.keyCode===65&&(_.type=1);else{const d=h[c.keyCode],f=d?.[c.shiftKey?1:0];if(f)_.key=u.C0.ESC+f;else if(c.keyCode>=65&&c.keyCode<=90){const g=c.ctrlKey?c.keyCode-64:c.keyCode+32;let y=String.fromCharCode(g);c.shiftKey&&(y=y.toUpperCase()),_.key=u.C0.ESC+y}else if(c.keyCode===32)_.key=u.C0.ESC+(c.ctrlKey?u.C0.NUL:" ");else if(c.key==="Dead"&&c.code.startsWith("Key")){let g=c.code.slice(3,4);c.shiftKey||(g=g.toLowerCase()),_.key=u.C0.ESC+g,_.cancel=!0}}else c.keyCode>=65&&c.keyCode<=90?_.key=String.fromCharCode(c.keyCode-64):c.keyCode===32?_.key=u.C0.NUL:c.keyCode>=51&&c.keyCode<=55?_.key=String.fromCharCode(c.keyCode-51+27):c.keyCode===56?_.key=u.C0.DEL:c.keyCode===219?_.key=u.C0.ESC:c.keyCode===220?_.key=u.C0.FS:c.keyCode===221&&(_.key=u.C0.GS)}return _}},482:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Utf8ToUtf32=s.StringToUtf32=s.utf32ToString=s.stringFromCodePoint=void 0,s.stringFromCodePoint=function(a){return a>65535?(a-=65536,String.fromCharCode(55296+(a>>10))+String.fromCharCode(a%1024+56320)):String.fromCharCode(a)},s.utf32ToString=function(a,u=0,h=a.length){let c="";for(let p=u;p<h;++p){let v=a[p];v>65535?(v-=65536,c+=String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):c+=String.fromCharCode(v)}return c},s.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(a,u){const h=a.length;if(!h)return 0;let c=0,p=0;if(this._interim){const v=a.charCodeAt(p++);56320<=v&&v<=57343?u[c++]=1024*(this._interim-55296)+v-56320+65536:(u[c++]=this._interim,u[c++]=v),this._interim=0}for(let v=p;v<h;++v){const S=a.charCodeAt(v);if(55296<=S&&S<=56319){if(++v>=h)return this._interim=S,c;const _=a.charCodeAt(v);56320<=_&&_<=57343?u[c++]=1024*(S-55296)+_-56320+65536:(u[c++]=S,u[c++]=_)}else S!==65279&&(u[c++]=S)}return c}},s.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(a,u){const h=a.length;if(!h)return 0;let c,p,v,S,_=0,m=0,d=0;if(this.interim[0]){let y=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let C,x=0;for(;(C=63&this.interim[++x])&&x<4;)w<<=6,w|=C;const b=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=b-x;for(;d<E;){if(d>=h)return 0;if(C=a[d++],(192&C)!=128){d--,y=!0;break}this.interim[x++]=C,w<<=6,w|=63&C}y||(b===2?w<128?d--:u[_++]=w:b===3?w<2048||w>=55296&&w<=57343||w===65279||(u[_++]=w):w<65536||w>1114111||(u[_++]=w)),this.interim.fill(0)}const f=h-4;let g=d;for(;g<h;){for(;!(!(g<f)||128&(c=a[g])||128&(p=a[g+1])||128&(v=a[g+2])||128&(S=a[g+3]));)u[_++]=c,u[_++]=p,u[_++]=v,u[_++]=S,g+=4;if(c=a[g++],c<128)u[_++]=c;else if((224&c)==192){if(g>=h)return this.interim[0]=c,_;if(p=a[g++],(192&p)!=128){g--;continue}if(m=(31&c)<<6|63&p,m<128){g--;continue}u[_++]=m}else if((240&c)==224){if(g>=h)return this.interim[0]=c,_;if(p=a[g++],(192&p)!=128){g--;continue}if(g>=h)return this.interim[0]=c,this.interim[1]=p,_;if(v=a[g++],(192&v)!=128){g--;continue}if(m=(15&c)<<12|(63&p)<<6|63&v,m<2048||m>=55296&&m<=57343||m===65279)continue;u[_++]=m}else if((248&c)==240){if(g>=h)return this.interim[0]=c,_;if(p=a[g++],(192&p)!=128){g--;continue}if(g>=h)return this.interim[0]=c,this.interim[1]=p,_;if(v=a[g++],(192&v)!=128){g--;continue}if(g>=h)return this.interim[0]=c,this.interim[1]=p,this.interim[2]=v,_;if(S=a[g++],(192&S)!=128){g--;continue}if(m=(7&c)<<18|(63&p)<<12|(63&v)<<6|63&S,m<65536||m>1114111)continue;u[_++]=m}}return _}}},225:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeV6=void 0;const u=a(1480),h=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],c=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let p;s.UnicodeV6=class{constructor(){if(this.version="6",!p){p=new Uint8Array(65536),p.fill(1),p[0]=0,p.fill(0,1,32),p.fill(0,127,160),p.fill(2,4352,4448),p[9001]=2,p[9002]=2,p.fill(2,11904,42192),p[12351]=1,p.fill(2,44032,55204),p.fill(2,63744,64256),p.fill(2,65040,65050),p.fill(2,65072,65136),p.fill(2,65280,65377),p.fill(2,65504,65511);for(let v=0;v<h.length;++v)p.fill(0,h[v][0],h[v][1]+1)}}wcwidth(v){return v<32?0:v<127?1:v<65536?p[v]:(function(S,_){let m,d=0,f=_.length-1;if(S<_[0][0]||S>_[f][1])return!1;for(;f>=d;)if(m=d+f>>1,S>_[m][1])d=m+1;else{if(!(S<_[m][0]))return!0;f=m-1}return!1})(v,c)?0:v>=131072&&v<=196605||v>=196608&&v<=262141?2:1}charProperties(v,S){let _=this.wcwidth(v),m=_===0&&S!==0;if(m){const d=u.UnicodeService.extractWidth(S);d===0?m=!1:d>_&&(_=d)}return u.UnicodeService.createPropertyValue(0,_,m)}}},5981:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WriteBuffer=void 0;const u=a(8460),h=a(844);class c extends h.Disposable{constructor(v){super(),this._action=v,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(v,S){if(S!==void 0&&this._syncCalls>S)return void(this._syncCalls=0);if(this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let _;for(this._isSyncWriting=!0;_=this._writeBuffer.shift();){this._action(_);const m=this._callbacks.shift();m&&m()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(v,S){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(S),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(S)}_innerWrite(v=0,S=!0){const _=v||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const m=this._writeBuffer[this._bufferOffset],d=this._action(m,S);if(d){const g=y=>Date.now()-_>=12?setTimeout((()=>this._innerWrite(0,y))):this._innerWrite(_,y);return void d.catch((y=>(queueMicrotask((()=>{throw y})),Promise.resolve(!1)))).then(g)}const f=this._callbacks[this._bufferOffset];if(f&&f(),this._bufferOffset++,this._pendingData-=m.length,Date.now()-_>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}s.WriteBuffer=c},5941:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.toRgbString=s.parseColor=void 0;const a=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,u=/^[\da-f]+$/;function h(c,p){const v=c.toString(16),S=v.length<2?"0"+v:v;switch(p){case 4:return v[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}s.parseColor=function(c){if(!c)return;let p=c.toLowerCase();if(p.indexOf("rgb:")===0){p=p.slice(4);const v=a.exec(p);if(v){const S=v[1]?15:v[4]?255:v[7]?4095:65535;return[Math.round(parseInt(v[1]||v[4]||v[7]||v[10],16)/S*255),Math.round(parseInt(v[2]||v[5]||v[8]||v[11],16)/S*255),Math.round(parseInt(v[3]||v[6]||v[9]||v[12],16)/S*255)]}}else if(p.indexOf("#")===0&&(p=p.slice(1),u.exec(p)&&[3,6,9,12].includes(p.length))){const v=p.length/3,S=[0,0,0];for(let _=0;_<3;++_){const m=parseInt(p.slice(v*_,v*_+v),16);S[_]=v===1?m<<4:v===2?m:v===3?m>>4:m>>8}return S}},s.toRgbString=function(c,p=16){const[v,S,_]=c;return`rgb:${h(v,p)}/${h(S,p)}/${h(_,p)}`}},5770:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PAYLOAD_LIMIT=void 0,s.PAYLOAD_LIMIT=1e7},6351:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DcsHandler=s.DcsParser=void 0;const u=a(482),h=a(8742),c=a(5770),p=[];s.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=p,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=p}registerHandler(S,_){this._handlers[S]===void 0&&(this._handlers[S]=[]);const m=this._handlers[S];return m.push(_),{dispose:()=>{const d=m.indexOf(_);d!==-1&&m.splice(d,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=p,this._ident=0}hook(S,_){if(this.reset(),this._ident=S,this._active=this._handlers[S]||p,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].hook(_);else this._handlerFb(this._ident,"HOOK",_)}put(S,_,m){if(this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].put(S,_,m);else this._handlerFb(this._ident,"PUT",(0,u.utf32ToString)(S,_,m))}unhook(S,_=!0){if(this._active.length){let m=!1,d=this._active.length-1,f=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,m=_,f=this._stack.fallThrough,this._stack.paused=!1),!f&&m===!1){for(;d>=0&&(m=this._active[d].unhook(S),m!==!0);d--)if(m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,m;d--}for(;d>=0;d--)if(m=this._active[d].unhook(!1),m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,m}else this._handlerFb(this._ident,"UNHOOK",S);this._active=p,this._ident=0}};const v=new h.Params;v.addParam(0),s.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=v,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():v,this._data="",this._hitLimit=!1}put(S,_,m){this._hitLimit||(this._data+=(0,u.utf32ToString)(S,_,m),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let _=!1;if(this._hitLimit)_=!1;else if(S&&(_=this._handler(this._data,this._params),_ instanceof Promise))return _.then((m=>(this._params=v,this._data="",this._hitLimit=!1,m)));return this._params=v,this._data="",this._hitLimit=!1,_}}},2015:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.EscapeSequenceParser=s.VT500_TRANSITION_TABLE=s.TransitionTable=void 0;const u=a(844),h=a(8742),c=a(6242),p=a(6351);class v{constructor(d){this.table=new Uint8Array(d)}setDefault(d,f){this.table.fill(d<<4|f)}add(d,f,g,y){this.table[f<<8|d]=g<<4|y}addMany(d,f,g,y){for(let w=0;w<d.length;w++)this.table[f<<8|d[w]]=g<<4|y}}s.TransitionTable=v;const S=160;s.VT500_TRANSITION_TABLE=(function(){const m=new v(4095),d=Array.apply(null,Array(256)).map(((x,b)=>b)),f=(x,b)=>d.slice(x,b),g=f(32,127),y=f(0,24);y.push(25),y.push.apply(y,f(28,32));const w=f(0,14);let C;for(C in m.setDefault(1,0),m.addMany(g,0,2,0),w)m.addMany([24,26,153,154],C,3,0),m.addMany(f(128,144),C,3,0),m.addMany(f(144,152),C,3,0),m.add(156,C,0,0),m.add(27,C,11,1),m.add(157,C,4,8),m.addMany([152,158,159],C,0,7),m.add(155,C,11,3),m.add(144,C,11,9);return m.addMany(y,0,3,0),m.addMany(y,1,3,1),m.add(127,1,0,1),m.addMany(y,8,0,8),m.addMany(y,3,3,3),m.add(127,3,0,3),m.addMany(y,4,3,4),m.add(127,4,0,4),m.addMany(y,6,3,6),m.addMany(y,5,3,5),m.add(127,5,0,5),m.addMany(y,2,3,2),m.add(127,2,0,2),m.add(93,1,4,8),m.addMany(g,8,5,8),m.add(127,8,5,8),m.addMany([156,27,24,26,7],8,6,0),m.addMany(f(28,32),8,0,8),m.addMany([88,94,95],1,0,7),m.addMany(g,7,0,7),m.addMany(y,7,0,7),m.add(156,7,0,0),m.add(127,7,0,7),m.add(91,1,11,3),m.addMany(f(64,127),3,7,0),m.addMany(f(48,60),3,8,4),m.addMany([60,61,62,63],3,9,4),m.addMany(f(48,60),4,8,4),m.addMany(f(64,127),4,7,0),m.addMany([60,61,62,63],4,0,6),m.addMany(f(32,64),6,0,6),m.add(127,6,0,6),m.addMany(f(64,127),6,0,0),m.addMany(f(32,48),3,9,5),m.addMany(f(32,48),5,9,5),m.addMany(f(48,64),5,0,6),m.addMany(f(64,127),5,7,0),m.addMany(f(32,48),4,9,5),m.addMany(f(32,48),1,9,2),m.addMany(f(32,48),2,9,2),m.addMany(f(48,127),2,10,0),m.addMany(f(48,80),1,10,0),m.addMany(f(81,88),1,10,0),m.addMany([89,90,92],1,10,0),m.addMany(f(96,127),1,10,0),m.add(80,1,11,9),m.addMany(y,9,0,9),m.add(127,9,0,9),m.addMany(f(28,32),9,0,9),m.addMany(f(32,48),9,9,12),m.addMany(f(48,60),9,8,10),m.addMany([60,61,62,63],9,9,10),m.addMany(y,11,0,11),m.addMany(f(32,128),11,0,11),m.addMany(f(28,32),11,0,11),m.addMany(y,10,0,10),m.add(127,10,0,10),m.addMany(f(28,32),10,0,10),m.addMany(f(48,60),10,8,10),m.addMany([60,61,62,63],10,0,11),m.addMany(f(32,48),10,9,12),m.addMany(y,12,0,12),m.add(127,12,0,12),m.addMany(f(28,32),12,0,12),m.addMany(f(32,48),12,9,12),m.addMany(f(48,64),12,0,11),m.addMany(f(64,127),12,12,13),m.addMany(f(64,127),10,12,13),m.addMany(f(64,127),9,12,13),m.addMany(y,13,13,13),m.addMany(g,13,13,13),m.add(127,13,0,13),m.addMany([27,156,24,26],13,14,0),m.add(S,0,2,0),m.add(S,8,5,8),m.add(S,6,0,6),m.add(S,11,0,11),m.add(S,13,13,13),m})();class _ extends u.Disposable{constructor(d=s.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new h.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(f,g,y)=>{},this._executeHandlerFb=f=>{},this._csiHandlerFb=(f,g)=>{},this._escHandlerFb=f=>{},this._errorHandlerFb=f=>f,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,u.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new c.OscParser),this._dcsParser=this.register(new p.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(d,f=[64,126]){let g=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(g=d.prefix.charCodeAt(0),g&&60>g||g>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<d.intermediates.length;++w){const C=d.intermediates.charCodeAt(w);if(32>C||C>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");g<<=8,g|=C}}if(d.final.length!==1)throw new Error("final must be a single byte");const y=d.final.charCodeAt(0);if(f[0]>y||y>f[1])throw new Error(`final must be in range ${f[0]} .. ${f[1]}`);return g<<=8,g|=y,g}identToString(d){const f=[];for(;d;)f.push(String.fromCharCode(255&d)),d>>=8;return f.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,f){const g=this._identifier(d,[48,126]);this._escHandlers[g]===void 0&&(this._escHandlers[g]=[]);const y=this._escHandlers[g];return y.push(f),{dispose:()=>{const w=y.indexOf(f);w!==-1&&y.splice(w,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,f){this._executeHandlers[d.charCodeAt(0)]=f}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,f){const g=this._identifier(d);this._csiHandlers[g]===void 0&&(this._csiHandlers[g]=[]);const y=this._csiHandlers[g];return y.push(f),{dispose:()=>{const w=y.indexOf(f);w!==-1&&y.splice(w,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,f){return this._dcsParser.registerHandler(this._identifier(d),f)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,f){return this._oscParser.registerHandler(d,f)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,f,g,y,w){this._parseStack.state=d,this._parseStack.handlers=f,this._parseStack.handlerPos=g,this._parseStack.transition=y,this._parseStack.chunkPos=w}parse(d,f,g){let y,w=0,C=0,x=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,x=this._parseStack.chunkPos+1;else{if(g===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const b=this._parseStack.handlers;let E=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(g===!1&&E>-1){for(;E>=0&&(y=b[E](this._params),y!==!0);E--)if(y instanceof Promise)return this._parseStack.handlerPos=E,y}this._parseStack.handlers=[];break;case 4:if(g===!1&&E>-1){for(;E>=0&&(y=b[E](),y!==!0);E--)if(y instanceof Promise)return this._parseStack.handlerPos=E,y}this._parseStack.handlers=[];break;case 6:if(w=d[this._parseStack.chunkPos],y=this._dcsParser.unhook(w!==24&&w!==26,g),y)return y;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=d[this._parseStack.chunkPos],y=this._oscParser.end(w!==24&&w!==26,g),y)return y;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,x=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let b=x;b<f;++b){switch(w=d[b],C=this._transitions.table[this.currentState<<8|(w<160?w:S)],C>>4){case 2:for(let D=b+1;;++D){if(D>=f||(w=d[D])<32||w>126&&w<S){this._printHandler(d,b,D),b=D-1;break}if(++D>=f||(w=d[D])<32||w>126&&w<S){this._printHandler(d,b,D),b=D-1;break}if(++D>=f||(w=d[D])<32||w>126&&w<S){this._printHandler(d,b,D),b=D-1;break}if(++D>=f||(w=d[D])<32||w>126&&w<S){this._printHandler(d,b,D),b=D-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:b,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const E=this._csiHandlers[this._collect<<8|w];let R=E?E.length-1:-1;for(;R>=0&&(y=E[R](this._params),y!==!0);R--)if(y instanceof Promise)return this._preserveStack(3,E,R,C,b),y;R<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingJoinState=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++b<f&&(w=d[b])>47&&w<60);b--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const M=this._escHandlers[this._collect<<8|w];let L=M?M.length-1:-1;for(;L>=0&&(y=M[L](),y!==!0);L--)if(y instanceof Promise)return this._preserveStack(4,M,L,C,b),y;L<0&&this._escHandlerFb(this._collect<<8|w),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let D=b+1;;++D)if(D>=f||(w=d[D])===24||w===26||w===27||w>127&&w<S){this._dcsParser.put(d,b,D),b=D-1;break}break;case 14:if(y=this._dcsParser.unhook(w!==24&&w!==26),y)return this._preserveStack(6,[],0,C,b),y;w===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let D=b+1;;D++)if(D>=f||(w=d[D])<32||w>127&&w<S){this._oscParser.put(d,b,D),b=D-1;break}break;case 6:if(y=this._oscParser.end(w!==24&&w!==26),y)return this._preserveStack(5,[],0,C,b),y;w===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&C}}}s.EscapeSequenceParser=_},6242:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OscHandler=s.OscParser=void 0;const u=a(5770),h=a(482),c=[];s.OscParser=class{constructor(){this._state=0,this._active=c,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(p,v){this._handlers[p]===void 0&&(this._handlers[p]=[]);const S=this._handlers[p];return S.push(v),{dispose:()=>{const _=S.indexOf(v);_!==-1&&S.splice(_,1)}}}clearHandler(p){this._handlers[p]&&delete this._handlers[p]}setHandlerFallback(p){this._handlerFb=p}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=c}reset(){if(this._state===2)for(let p=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;p>=0;--p)this._active[p].end(!1);this._stack.paused=!1,this._active=c,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||c,this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].start();else this._handlerFb(this._id,"START")}_put(p,v,S){if(this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].put(p,v,S);else this._handlerFb(this._id,"PUT",(0,h.utf32ToString)(p,v,S))}start(){this.reset(),this._state=1}put(p,v,S){if(this._state!==3){if(this._state===1)for(;v<S;){const _=p[v++];if(_===59){this._state=2,this._start();break}if(_<48||57<_)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+_-48}this._state===2&&S-v>0&&this._put(p,v,S)}}end(p,v=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let S=!1,_=this._active.length-1,m=!1;if(this._stack.paused&&(_=this._stack.loopPosition-1,S=v,m=this._stack.fallThrough,this._stack.paused=!1),!m&&S===!1){for(;_>=0&&(S=this._active[_].end(p),S!==!0);_--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!1,S;_--}for(;_>=0;_--)if(S=this._active[_].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",p);this._active=c,this._id=-1,this._state=0}}},s.OscHandler=class{constructor(p){this._handler=p,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(p,v,S){this._hitLimit||(this._data+=(0,h.utf32ToString)(p,v,S),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(p){let v=!1;if(this._hitLimit)v=!1;else if(p&&(v=this._handler(this._data),v instanceof Promise))return v.then((S=>(this._data="",this._hitLimit=!1,S)));return this._data="",this._hitLimit=!1,v}}},8742:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Params=void 0;const a=2147483647;class u{static fromArray(c){const p=new u;if(!c.length)return p;for(let v=Array.isArray(c[0])?1:0;v<c.length;++v){const S=c[v];if(Array.isArray(S))for(let _=0;_<S.length;++_)p.addSubParam(S[_]);else p.addParam(S)}return p}constructor(c=32,p=32){if(this.maxLength=c,this.maxSubParamsLength=p,p>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(c),this.length=0,this._subParams=new Int32Array(p),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(c),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const c=new u(this.maxLength,this.maxSubParamsLength);return c.params.set(this.params),c.length=this.length,c._subParams.set(this._subParams),c._subParamsLength=this._subParamsLength,c._subParamsIdx.set(this._subParamsIdx),c._rejectDigits=this._rejectDigits,c._rejectSubDigits=this._rejectSubDigits,c._digitIsSub=this._digitIsSub,c}toArray(){const c=[];for(let p=0;p<this.length;++p){c.push(this.params[p]);const v=this._subParamsIdx[p]>>8,S=255&this._subParamsIdx[p];S-v>0&&c.push(Array.prototype.slice.call(this._subParams,v,S))}return c}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(c){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=c>a?a:c}}addSubParam(c){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=c>a?a:c,this._subParamsIdx[this.length-1]++}}hasSubParams(c){return(255&this._subParamsIdx[c])-(this._subParamsIdx[c]>>8)>0}getSubParams(c){const p=this._subParamsIdx[c]>>8,v=255&this._subParamsIdx[c];return v-p>0?this._subParams.subarray(p,v):null}getSubParamsAll(){const c={};for(let p=0;p<this.length;++p){const v=this._subParamsIdx[p]>>8,S=255&this._subParamsIdx[p];S-v>0&&(c[p]=this._subParams.slice(v,S))}return c}addDigit(c){let p;if(this._rejectDigits||!(p=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const v=this._digitIsSub?this._subParams:this.params,S=v[p-1];v[p-1]=~S?Math.min(10*S+c,a):c}}s.Params=u},5741:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AddonManager=void 0,s.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let a=this._addons.length-1;a>=0;a--)this._addons[a].instance.dispose()}loadAddon(a,u){const h={instance:u,dispose:u.dispose,isDisposed:!1};this._addons.push(h),u.dispose=()=>this._wrappedAddonDispose(h),u.activate(a)}_wrappedAddonDispose(a){if(a.isDisposed)return;let u=-1;for(let h=0;h<this._addons.length;h++)if(this._addons[h]===a){u=h;break}if(u===-1)throw new Error("Could not dispose an addon that has not been loaded");a.isDisposed=!0,a.dispose.apply(a.instance),this._addons.splice(u,1)}}},8771:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferApiView=void 0;const u=a(3785),h=a(511);s.BufferApiView=class{constructor(c,p){this._buffer=c,this.type=p}init(c){return this._buffer=c,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(c){const p=this._buffer.lines.get(c);if(p)return new u.BufferLineApiView(p)}getNullCell(){return new h.CellData}}},3785:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLineApiView=void 0;const u=a(511);s.BufferLineApiView=class{constructor(h){this._line=h}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(h,c){if(!(h<0||h>=this._line.length))return c?(this._line.loadCell(h,c),c):this._line.loadCell(h,new u.CellData)}translateToString(h,c,p){return this._line.translateToString(h,c,p)}}},8285:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferNamespaceApi=void 0;const u=a(8771),h=a(8460),c=a(844);class p extends c.Disposable{constructor(S){super(),this._core=S,this._onBufferChange=this.register(new h.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new u.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new u.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}s.BufferNamespaceApi=p},7975:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ParserApi=void 0,s.ParserApi=class{constructor(a){this._core=a}registerCsiHandler(a,u){return this._core.registerCsiHandler(a,(h=>u(h.toArray())))}addCsiHandler(a,u){return this.registerCsiHandler(a,u)}registerDcsHandler(a,u){return this._core.registerDcsHandler(a,((h,c)=>u(h,c.toArray())))}addDcsHandler(a,u){return this.registerDcsHandler(a,u)}registerEscHandler(a,u){return this._core.registerEscHandler(a,u)}addEscHandler(a,u){return this.registerEscHandler(a,u)}registerOscHandler(a,u){return this._core.registerOscHandler(a,u)}addOscHandler(a,u){return this.registerOscHandler(a,u)}}},7090:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeApi=void 0,s.UnicodeApi=class{constructor(a){this._core=a}register(a){this._core.unicodeService.register(a)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(a){this._core.unicodeService.activeVersion=a}}},744:function(l,s,a){var u=this&&this.__decorate||function(m,d,f,g){var y,w=arguments.length,C=w<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,f):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,d,f,g);else for(var x=m.length-1;x>=0;x--)(y=m[x])&&(C=(w<3?y(C):w>3?y(d,f,C):y(d,f))||C);return w>3&&C&&Object.defineProperty(d,f,C),C},h=this&&this.__param||function(m,d){return function(f,g){d(f,g,m)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferService=s.MINIMUM_ROWS=s.MINIMUM_COLS=void 0;const c=a(8460),p=a(844),v=a(5295),S=a(2585);s.MINIMUM_COLS=2,s.MINIMUM_ROWS=1;let _=s.BufferService=class extends p.Disposable{get buffer(){return this.buffers.active}constructor(m){super(),this.isUserScrolling=!1,this._onResize=this.register(new c.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new c.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(m.rawOptions.cols||0,s.MINIMUM_COLS),this.rows=Math.max(m.rawOptions.rows||0,s.MINIMUM_ROWS),this.buffers=this.register(new v.BufferSet(m,this))}resize(m,d){this.cols=m,this.rows=d,this.buffers.resize(m,d),this._onResize.fire({cols:m,rows:d})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(m,d=!1){const f=this.buffer;let g;g=this._cachedBlankLine,g&&g.length===this.cols&&g.getFg(0)===m.fg&&g.getBg(0)===m.bg||(g=f.getBlankLine(m,d),this._cachedBlankLine=g),g.isWrapped=d;const y=f.ybase+f.scrollTop,w=f.ybase+f.scrollBottom;if(f.scrollTop===0){const C=f.lines.isFull;w===f.lines.length-1?C?f.lines.recycle().copyFrom(g):f.lines.push(g.clone()):f.lines.splice(w+1,0,g.clone()),C?this.isUserScrolling&&(f.ydisp=Math.max(f.ydisp-1,0)):(f.ybase++,this.isUserScrolling||f.ydisp++)}else{const C=w-y+1;f.lines.shiftElements(y+1,C-1,-1),f.lines.set(w,g.clone())}this.isUserScrolling||(f.ydisp=f.ybase),this._onScroll.fire(f.ydisp)}scrollLines(m,d,f){const g=this.buffer;if(m<0){if(g.ydisp===0)return;this.isUserScrolling=!0}else m+g.ydisp>=g.ybase&&(this.isUserScrolling=!1);const y=g.ydisp;g.ydisp=Math.max(Math.min(g.ydisp+m,g.ybase),0),y!==g.ydisp&&(d||this._onScroll.fire(g.ydisp))}};s.BufferService=_=u([h(0,S.IOptionsService)],_)},7994:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharsetService=void 0,s.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(a){this.glevel=a,this.charset=this._charsets[a]}setgCharset(a,u){this._charsets[a]=u,this.glevel===a&&(this.charset=u)}}},1753:function(l,s,a){var u=this&&this.__decorate||function(g,y,w,C){var x,b=arguments.length,E=b<3?y:C===null?C=Object.getOwnPropertyDescriptor(y,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,y,w,C);else for(var R=g.length-1;R>=0;R--)(x=g[R])&&(E=(b<3?x(E):b>3?x(y,w,E):x(y,w))||E);return b>3&&E&&Object.defineProperty(y,w,E),E},h=this&&this.__param||function(g,y){return function(w,C){y(w,C,g)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreMouseService=void 0;const c=a(2585),p=a(8460),v=a(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:g=>g.button!==4&&g.action===1&&(g.ctrl=!1,g.alt=!1,g.shift=!1,!0)},VT200:{events:19,restrict:g=>g.action!==32},DRAG:{events:23,restrict:g=>g.action!==32||g.button!==3},ANY:{events:31,restrict:g=>!0}};function _(g,y){let w=(g.ctrl?16:0)|(g.shift?4:0)|(g.alt?8:0);return g.button===4?(w|=64,w|=g.action):(w|=3&g.button,4&g.button&&(w|=64),8&g.button&&(w|=128),g.action===32?w|=32:g.action!==0||y||(w|=3)),w}const m=String.fromCharCode,d={DEFAULT:g=>{const y=[_(g,!1)+32,g.col+32,g.row+32];return y[0]>255||y[1]>255||y[2]>255?"":`\x1B[M${m(y[0])}${m(y[1])}${m(y[2])}`},SGR:g=>{const y=g.action===0&&g.button!==4?"m":"M";return`\x1B[<${_(g,!0)};${g.col};${g.row}${y}`},SGR_PIXELS:g=>{const y=g.action===0&&g.button!==4?"m":"M";return`\x1B[<${_(g,!0)};${g.x};${g.y}${y}`}};let f=s.CoreMouseService=class extends v.Disposable{constructor(g,y){super(),this._bufferService=g,this._coreService=y,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new p.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(S))this.addProtocol(w,S[w]);for(const w of Object.keys(d))this.addEncoding(w,d[w]);this.reset()}addProtocol(g,y){this._protocols[g]=y}addEncoding(g,y){this._encodings[g]=y}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(g){if(!this._protocols[g])throw new Error(`unknown protocol "${g}"`);this._activeProtocol=g,this._onProtocolChange.fire(this._protocols[g].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(g){if(!this._encodings[g])throw new Error(`unknown encoding "${g}"`);this._activeEncoding=g}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(g){if(g.col<0||g.col>=this._bufferService.cols||g.row<0||g.row>=this._bufferService.rows||g.button===4&&g.action===32||g.button===3&&g.action!==32||g.button!==4&&(g.action===2||g.action===3)||(g.col++,g.row++,g.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,g,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(g))return!1;const y=this._encodings[this._activeEncoding](g);return y&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(y):this._coreService.triggerDataEvent(y,!0)),this._lastEvent=g,!0}explainEvents(g){return{down:!!(1&g),up:!!(2&g),drag:!!(4&g),move:!!(8&g),wheel:!!(16&g)}}_equalEvents(g,y,w){if(w){if(g.x!==y.x||g.y!==y.y)return!1}else if(g.col!==y.col||g.row!==y.row)return!1;return g.button===y.button&&g.action===y.action&&g.ctrl===y.ctrl&&g.alt===y.alt&&g.shift===y.shift}};s.CoreMouseService=f=u([h(0,c.IBufferService),h(1,c.ICoreService)],f)},6975:function(l,s,a){var u=this&&this.__decorate||function(f,g,y,w){var C,x=arguments.length,b=x<3?g:w===null?w=Object.getOwnPropertyDescriptor(g,y):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,g,y,w);else for(var E=f.length-1;E>=0;E--)(C=f[E])&&(b=(x<3?C(b):x>3?C(g,y,b):C(g,y))||b);return x>3&&b&&Object.defineProperty(g,y,b),b},h=this&&this.__param||function(f,g){return function(y,w){g(y,w,f)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreService=void 0;const c=a(1439),p=a(8460),v=a(844),S=a(2585),_=Object.freeze({insertMode:!1}),m=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let d=s.CoreService=class extends v.Disposable{constructor(f,g,y){super(),this._bufferService=f,this._logService=g,this._optionsService=y,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new p.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new p.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new p.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new p.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,c.clone)(_),this.decPrivateModes=(0,c.clone)(m)}reset(){this.modes=(0,c.clone)(_),this.decPrivateModes=(0,c.clone)(m)}triggerDataEvent(f,g=!1){if(this._optionsService.rawOptions.disableStdin)return;const y=this._bufferService.buffer;g&&this._optionsService.rawOptions.scrollOnUserInput&&y.ybase!==y.ydisp&&this._onRequestScrollToBottom.fire(),g&&this._onUserInput.fire(),this._logService.debug(`sending data "${f}"`,(()=>f.split("").map((w=>w.charCodeAt(0))))),this._onData.fire(f)}triggerBinaryEvent(f){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${f}"`,(()=>f.split("").map((g=>g.charCodeAt(0))))),this._onBinary.fire(f))}};s.CoreService=d=u([h(0,S.IBufferService),h(1,S.ILogService),h(2,S.IOptionsService)],d)},9074:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DecorationService=void 0;const u=a(8055),h=a(8460),c=a(844),p=a(6106);let v=0,S=0;class _ extends c.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new p.SortedList((f=>f?.marker.line)),this._onDecorationRegistered=this.register(new h.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new h.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,c.toDisposable)((()=>this.reset())))}registerDecoration(f){if(f.marker.isDisposed)return;const g=new m(f);if(g){const y=g.marker.onDispose((()=>g.dispose()));g.onDispose((()=>{g&&(this._decorations.delete(g)&&this._onDecorationRemoved.fire(g),y.dispose())})),this._decorations.insert(g),this._onDecorationRegistered.fire(g)}return g}reset(){for(const f of this._decorations.values())f.dispose();this._decorations.clear()}*getDecorationsAtCell(f,g,y){let w=0,C=0;for(const x of this._decorations.getKeyIterator(g))w=x.options.x??0,C=w+(x.options.width??1),f>=w&&f<C&&(!y||(x.options.layer??"bottom")===y)&&(yield x)}forEachDecorationAtCell(f,g,y,w){this._decorations.forEachByKey(g,(C=>{v=C.options.x??0,S=v+(C.options.width??1),f>=v&&f<S&&(!y||(C.options.layer??"bottom")===y)&&w(C)}))}}s.DecorationService=_;class m extends c.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=u.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=u.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(f){super(),this.options=f,this.onRenderEmitter=this.register(new h.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=f.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InstantiationService=s.ServiceCollection=void 0;const u=a(2585),h=a(8343);class c{constructor(...v){this._entries=new Map;for(const[S,_]of v)this.set(S,_)}set(v,S){const _=this._entries.get(v);return this._entries.set(v,S),_}forEach(v){for(const[S,_]of this._entries.entries())v(S,_)}has(v){return this._entries.has(v)}get(v){return this._entries.get(v)}}s.ServiceCollection=c,s.InstantiationService=class{constructor(){this._services=new c,this._services.set(u.IInstantiationService,this)}setService(p,v){this._services.set(p,v)}getService(p){return this._services.get(p)}createInstance(p,...v){const S=(0,h.getServiceDependencies)(p).sort(((d,f)=>d.index-f.index)),_=[];for(const d of S){const f=this._services.get(d.id);if(!f)throw new Error(`[createInstance] ${p.name} depends on UNKNOWN service ${d.id}.`);_.push(f)}const m=S.length>0?S[0].index:v.length;if(v.length!==m)throw new Error(`[createInstance] First service dependency of ${p.name} at position ${m+1} conflicts with ${v.length} static arguments`);return new p(...v,..._)}}},7866:function(l,s,a){var u=this&&this.__decorate||function(m,d,f,g){var y,w=arguments.length,C=w<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,f):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,d,f,g);else for(var x=m.length-1;x>=0;x--)(y=m[x])&&(C=(w<3?y(C):w>3?y(d,f,C):y(d,f))||C);return w>3&&C&&Object.defineProperty(d,f,C),C},h=this&&this.__param||function(m,d){return function(f,g){d(f,g,m)}};Object.defineProperty(s,"__esModule",{value:!0}),s.traceCall=s.setTraceLogger=s.LogService=void 0;const c=a(844),p=a(2585),v={trace:p.LogLevelEnum.TRACE,debug:p.LogLevelEnum.DEBUG,info:p.LogLevelEnum.INFO,warn:p.LogLevelEnum.WARN,error:p.LogLevelEnum.ERROR,off:p.LogLevelEnum.OFF};let S,_=s.LogService=class extends c.Disposable{get logLevel(){return this._logLevel}constructor(m){super(),this._optionsService=m,this._logLevel=p.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),S=this}_updateLogLevel(){this._logLevel=v[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(m){for(let d=0;d<m.length;d++)typeof m[d]=="function"&&(m[d]=m[d]())}_log(m,d,f){this._evalLazyOptionalParams(f),m.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+d,...f)}trace(m,...d){this._logLevel<=p.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,m,d)}debug(m,...d){this._logLevel<=p.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,m,d)}info(m,...d){this._logLevel<=p.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,m,d)}warn(m,...d){this._logLevel<=p.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,m,d)}error(m,...d){this._logLevel<=p.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,m,d)}};s.LogService=_=u([h(0,p.IOptionsService)],_),s.setTraceLogger=function(m){S=m},s.traceCall=function(m,d,f){if(typeof f.value!="function")throw new Error("not supported");const g=f.value;f.value=function(...y){if(S.logLevel!==p.LogLevelEnum.TRACE)return g.apply(this,y);S.trace(`GlyphRenderer#${g.name}(${y.map((C=>JSON.stringify(C))).join(", ")})`);const w=g.apply(this,y);return S.trace(`GlyphRenderer#${g.name} return`,w),w}}},7302:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionsService=s.DEFAULT_OPTIONS=void 0;const u=a(8460),h=a(844),c=a(6114);s.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:c.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const p=["normal","bold","100","200","300","400","500","600","700","800","900"];class v extends h.Disposable{constructor(_){super(),this._onOptionChange=this.register(new u.EventEmitter),this.onOptionChange=this._onOptionChange.event;const m={...s.DEFAULT_OPTIONS};for(const d in _)if(d in m)try{const f=_[d];m[d]=this._sanitizeAndValidateOption(d,f)}catch(f){console.error(f)}this.rawOptions=m,this.options={...m},this._setupOptions(),this.register((0,h.toDisposable)((()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null})))}onSpecificOptionChange(_,m){return this.onOptionChange((d=>{d===_&&m(this.rawOptions[_])}))}onMultipleOptionChange(_,m){return this.onOptionChange((d=>{_.indexOf(d)!==-1&&m()}))}_setupOptions(){const _=d=>{if(!(d in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},m=(d,f)=>{if(!(d in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);f=this._sanitizeAndValidateOption(d,f),this.rawOptions[d]!==f&&(this.rawOptions[d]=f,this._onOptionChange.fire(d))};for(const d in this.rawOptions){const f={get:_.bind(this,d),set:m.bind(this,d)};Object.defineProperty(this.options,d,f)}}_sanitizeAndValidateOption(_,m){switch(_){case"cursorStyle":if(m||(m=s.DEFAULT_OPTIONS[_]),!(function(d){return d==="block"||d==="underline"||d==="bar"})(m))throw new Error(`"${m}" is not a valid value for ${_}`);break;case"wordSeparator":m||(m=s.DEFAULT_OPTIONS[_]);break;case"fontWeight":case"fontWeightBold":if(typeof m=="number"&&1<=m&&m<=1e3)break;m=p.includes(m)?m:s.DEFAULT_OPTIONS[_];break;case"cursorWidth":m=Math.floor(m);case"lineHeight":case"tabStopWidth":if(m<1)throw new Error(`${_} cannot be less than 1, value: ${m}`);break;case"minimumContrastRatio":m=Math.max(1,Math.min(21,Math.round(10*m)/10));break;case"scrollback":if((m=Math.min(m,4294967295))<0)throw new Error(`${_} cannot be less than 0, value: ${m}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(m<=0)throw new Error(`${_} cannot be less than or equal to 0, value: ${m}`);break;case"rows":case"cols":if(!m&&m!==0)throw new Error(`${_} must be numeric, value: ${m}`);break;case"windowsPty":m=m??{}}return m}}s.OptionsService=v},2660:function(l,s,a){var u=this&&this.__decorate||function(v,S,_,m){var d,f=arguments.length,g=f<3?S:m===null?m=Object.getOwnPropertyDescriptor(S,_):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(v,S,_,m);else for(var y=v.length-1;y>=0;y--)(d=v[y])&&(g=(f<3?d(g):f>3?d(S,_,g):d(S,_))||g);return f>3&&g&&Object.defineProperty(S,_,g),g},h=this&&this.__param||function(v,S){return function(_,m){S(_,m,v)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkService=void 0;const c=a(2585);let p=s.OscLinkService=class{constructor(v){this._bufferService=v,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(v){const S=this._bufferService.buffer;if(v.id===void 0){const y=S.addMarker(S.ybase+S.y),w={data:v,id:this._nextId++,lines:[y]};return y.onDispose((()=>this._removeMarkerFromLink(w,y))),this._dataByLinkId.set(w.id,w),w.id}const _=v,m=this._getEntryIdKey(_),d=this._entriesWithId.get(m);if(d)return this.addLineToLink(d.id,S.ybase+S.y),d.id;const f=S.addMarker(S.ybase+S.y),g={id:this._nextId++,key:this._getEntryIdKey(_),data:_,lines:[f]};return f.onDispose((()=>this._removeMarkerFromLink(g,f))),this._entriesWithId.set(g.key,g),this._dataByLinkId.set(g.id,g),g.id}addLineToLink(v,S){const _=this._dataByLinkId.get(v);if(_&&_.lines.every((m=>m.line!==S))){const m=this._bufferService.buffer.addMarker(S);_.lines.push(m),m.onDispose((()=>this._removeMarkerFromLink(_,m)))}}getLinkData(v){return this._dataByLinkId.get(v)?.data}_getEntryIdKey(v){return`${v.id};;${v.uri}`}_removeMarkerFromLink(v,S){const _=v.lines.indexOf(S);_!==-1&&(v.lines.splice(_,1),v.lines.length===0&&(v.data.id!==void 0&&this._entriesWithId.delete(v.key),this._dataByLinkId.delete(v.id)))}};s.OscLinkService=p=u([h(0,c.IBufferService)],p)},8343:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDecorator=s.getServiceDependencies=s.serviceRegistry=void 0;const a="di$target",u="di$dependencies";s.serviceRegistry=new Map,s.getServiceDependencies=function(h){return h[u]||[]},s.createDecorator=function(h){if(s.serviceRegistry.has(h))return s.serviceRegistry.get(h);const c=function(p,v,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(_,m,d){m[a]===m?m[u].push({id:_,index:d}):(m[u]=[{id:_,index:d}],m[a]=m)})(c,p,S)};return c.toString=()=>h,s.serviceRegistry.set(h,c),c}},2585:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IDecorationService=s.IUnicodeService=s.IOscLinkService=s.IOptionsService=s.ILogService=s.LogLevelEnum=s.IInstantiationService=s.ICharsetService=s.ICoreService=s.ICoreMouseService=s.IBufferService=void 0;const u=a(8343);var h;s.IBufferService=(0,u.createDecorator)("BufferService"),s.ICoreMouseService=(0,u.createDecorator)("CoreMouseService"),s.ICoreService=(0,u.createDecorator)("CoreService"),s.ICharsetService=(0,u.createDecorator)("CharsetService"),s.IInstantiationService=(0,u.createDecorator)("InstantiationService"),(function(c){c[c.TRACE=0]="TRACE",c[c.DEBUG=1]="DEBUG",c[c.INFO=2]="INFO",c[c.WARN=3]="WARN",c[c.ERROR=4]="ERROR",c[c.OFF=5]="OFF"})(h||(s.LogLevelEnum=h={})),s.ILogService=(0,u.createDecorator)("LogService"),s.IOptionsService=(0,u.createDecorator)("OptionsService"),s.IOscLinkService=(0,u.createDecorator)("OscLinkService"),s.IUnicodeService=(0,u.createDecorator)("UnicodeService"),s.IDecorationService=(0,u.createDecorator)("DecorationService")},1480:(l,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeService=void 0;const u=a(8460),h=a(225);class c{static extractShouldJoin(v){return(1&v)!=0}static extractWidth(v){return v>>1&3}static extractCharKind(v){return v>>3}static createPropertyValue(v,S,_=!1){return(16777215&v)<<3|(3&S)<<1|(_?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new u.EventEmitter,this.onChange=this._onChange.event;const v=new h.UnicodeV6;this.register(v),this._active=v.version,this._activeProvider=v}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(v){if(!this._providers[v])throw new Error(`unknown Unicode version "${v}"`);this._active=v,this._activeProvider=this._providers[v],this._onChange.fire(v)}register(v){this._providers[v.version]=v}wcwidth(v){return this._activeProvider.wcwidth(v)}getStringCellWidth(v){let S=0,_=0;const m=v.length;for(let d=0;d<m;++d){let f=v.charCodeAt(d);if(55296<=f&&f<=56319){if(++d>=m)return S+this.wcwidth(f);const w=v.charCodeAt(d);56320<=w&&w<=57343?f=1024*(f-55296)+w-56320+65536:S+=this.wcwidth(w)}const g=this.charProperties(f,_);let y=c.extractWidth(g);c.extractShouldJoin(g)&&(y-=c.extractWidth(_)),S+=y,_=g}return S}charProperties(v,S){return this._activeProvider.charProperties(v,S)}}s.UnicodeService=c}},n={};function i(l){var s=n[l];if(s!==void 0)return s.exports;var a=n[l]={exports:{}};return r[l].call(a.exports,a,a.exports,i),a.exports}var o={};return(()=>{var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const s=i(9042),a=i(3236),u=i(844),h=i(5741),c=i(8285),p=i(7975),v=i(7090),S=["cols","rows"];class _ extends u.Disposable{constructor(d){super(),this._core=this.register(new a.Terminal(d)),this._addonManager=this.register(new h.AddonManager),this._publicOptions={...this._core.options};const f=y=>this._core.options[y],g=(y,w)=>{this._checkReadonlyOptions(y),this._core.options[y]=w};for(const y in this._core.options){const w={get:f.bind(this,y),set:g.bind(this,y)};Object.defineProperty(this._publicOptions,y,w)}}_checkReadonlyOptions(d){if(S.includes(d))throw new Error(`Option "${d}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new p.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new v.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new c.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const d=this._core.coreService.decPrivateModes;let f="none";switch(this._core.coreMouseService.activeProtocol){case"X10":f="x10";break;case"VT200":f="vt200";break;case"DRAG":f="drag";break;case"ANY":f="any"}return{applicationCursorKeysMode:d.applicationCursorKeys,applicationKeypadMode:d.applicationKeypad,bracketedPasteMode:d.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:f,originMode:d.origin,reverseWraparoundMode:d.reverseWraparound,sendFocusMode:d.sendFocus,wraparoundMode:d.wraparound}}get options(){return this._publicOptions}set options(d){for(const f in d)this._publicOptions[f]=d[f]}blur(){this._core.blur()}focus(){this._core.focus()}input(d,f=!0){this._core.input(d,f)}resize(d,f){this._verifyIntegers(d,f),this._core.resize(d,f)}open(d){this._core.open(d)}attachCustomKeyEventHandler(d){this._core.attachCustomKeyEventHandler(d)}attachCustomWheelEventHandler(d){this._core.attachCustomWheelEventHandler(d)}registerLinkProvider(d){return this._core.registerLinkProvider(d)}registerCharacterJoiner(d){return this._checkProposedApi(),this._core.registerCharacterJoiner(d)}deregisterCharacterJoiner(d){this._checkProposedApi(),this._core.deregisterCharacterJoiner(d)}registerMarker(d=0){return this._verifyIntegers(d),this._core.registerMarker(d)}registerDecoration(d){return this._checkProposedApi(),this._verifyPositiveIntegers(d.x??0,d.width??0,d.height??0),this._core.registerDecoration(d)}hasSelection(){return this._core.hasSelection()}select(d,f,g){this._verifyIntegers(d,f,g),this._core.select(d,f,g)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(d,f){this._verifyIntegers(d,f),this._core.selectLines(d,f)}dispose(){super.dispose()}scrollLines(d){this._verifyIntegers(d),this._core.scrollLines(d)}scrollPages(d){this._verifyIntegers(d),this._core.scrollPages(d)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(d){this._verifyIntegers(d),this._core.scrollToLine(d)}clear(){this._core.clear()}write(d,f){this._core.write(d,f)}writeln(d,f){this._core.write(d),this._core.write(`\r
`,f)}paste(d){this._core.paste(d)}refresh(d,f){this._verifyIntegers(d,f),this._core.refresh(d,f)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(d){this._addonManager.loadAddon(this,d)}static get strings(){return s}_verifyIntegers(...d){for(const f of d)if(f===1/0||isNaN(f)||f%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...d){for(const f of d)if(f&&(f===1/0||isNaN(f)||f%1!=0||f<0))throw new Error("This API only accepts positive integers")}}l.Terminal=_})(),o})()))})(Sa)),Sa.exports}var zM=sR();const go=0,Zr=1,ti=2,Dg=4;function pd(e){return()=>e}function oR(e){e()}function Ks(e,t){return r=>e(t(r))}function gd(e,t){return()=>e(t)}function aR(e,t){return r=>e(t,r)}function xc(e){return e!==void 0}function lR(...e){return()=>{e.map(oR)}}function Ji(){}function vo(e,t){return t(e),e}function cR(e,t){return t(e)}function ze(...e){return e}function Le(e,t){return e(Zr,t)}function Ce(e,t){e(go,t)}function Ec(e){e(ti)}function it(e){return e(Dg)}function oe(e,t){return Le(e,aR(t,go))}function nr(e,t){const r=e(Zr,n=>{r(),t(n)});return r}function vd(e){let t,r;return n=>i=>{t=i,r&&clearTimeout(r),r=setTimeout(()=>{n(t)},e)}}function Rg(e,t){return e===t}function We(e=Rg){let t;return r=>n=>{e(t,n)||(t=n,r(n))}}function ve(e){return t=>r=>{e(r)&&t(r)}}function ne(e){return t=>Ks(t,e)}function hr(e){return t=>()=>{t(e)}}function X(e,...t){const r=uR(...t);return(n,i)=>{switch(n){case ti:Ec(e);return;case Zr:return Le(e,r(i))}}}function pr(e,t){return r=>n=>{r(t=e(t,n))}}function gn(e){return t=>r=>{e>0?e--:t(r)}}function Dr(e){let t=null,r;return n=>i=>{t=i,!r&&(r=setTimeout(()=>{r=void 0,n(t)},e))}}function xe(...e){const t=new Array(e.length);let r=0,n=null;const i=Math.pow(2,e.length)-1;return e.forEach((o,l)=>{const s=Math.pow(2,l);Le(o,a=>{const u=r;r=r|s,t[l]=a,u!==i&&r===i&&n&&(n(),n=null)})}),o=>l=>{const s=()=>{o([l].concat(t))};r===i?s():n=s}}function uR(...e){return t=>e.reduceRight(cR,t)}function hR(e){let t,r;const n=()=>t?.();return function(i,o){switch(i){case Zr:return o?r===o?void 0:(n(),r=o,t=Le(e,o),t):(n(),Ji);case ti:n(),r=null;return}}}function J(e){let t=e;const r=De();return(n,i)=>{switch(n){case go:t=i;break;case Zr:{i(t);break}case Dg:return t}return r(n,i)}}function Ct(e,t){return vo(J(t),r=>oe(e,r))}function De(){const e=[];return(t,r)=>{switch(t){case go:e.slice().forEach(n=>{n(r)});return;case ti:e.splice(0,e.length);return;case Zr:return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)}}}}function Ft(e){return vo(De(),t=>oe(e,t))}function Ae(e,t=[],{singleton:r}={singleton:!0}){return{constructor:e,dependencies:t,id:dR(),singleton:r}}const dR=()=>Symbol();function fR(e){const t=new Map,r=({constructor:n,dependencies:i,id:o,singleton:l})=>{if(l&&t.has(o))return t.get(o);const s=n(i.map(a=>r(a)));return l&&t.set(o,s),s};return r(e)}function ct(...e){const t=De(),r=new Array(e.length);let n=0;const i=Math.pow(2,e.length)-1;return e.forEach((o,l)=>{const s=Math.pow(2,l);Le(o,a=>{r[l]=a,n=n|s,n===i&&Ce(t,r)})}),function(o,l){switch(o){case ti:{Ec(t);return}case Zr:return n===i&&l(r),Le(t,l)}}}function pe(e,t=Rg){return X(e,We(t))}function Sl(...e){return function(t,r){switch(t){case ti:return;case Zr:return lR(...e.map(n=>Le(n,r)))}}}var Ht=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Ht||{});const mR={0:"debug",3:"error",1:"log",2:"warn"},pR=()=>typeof globalThis>"u"?window:globalThis,Xr=Ae(()=>{const e=J(3);return{log:J((t,r,n=1)=>{var i;const o=(i=pR().VIRTUOSO_LOG_LEVEL)!=null?i:it(e);n>=o&&console[mR[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,r)}),logLevel:e}},[],{singleton:!0});function vn(e,t,r){return kc(e,t,r).callbackRef}function kc(e,t,r){const n=I.useRef(null);let i=l=>{};const o=I.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(l=>{const s=()=>{const a=l[0].target;a.offsetParent!==null&&e(a)};r?s():requestAnimationFrame(s)}):null,[e,r]);return i=l=>{l&&t?(o?.observe(l),n.current=l):(n.current&&o?.unobserve(n.current),n.current=null)},{callbackRef:i,ref:n}}function gR(e,t,r,n,i,o,l,s,a){const u=I.useCallback(h=>{const c=vR(h.children,t,"offsetHeight",i);let p=h.parentElement;for(;!p.dataset.virtuosoScroller;)p=p.parentElement;const v=p.lastElementChild.dataset.viewportType==="window";let S;v&&(S=p.ownerDocument.defaultView);const _=l?l.scrollTop:v?S.scrollY||S.document.documentElement.scrollTop:p.scrollTop,m=l?l.scrollHeight:v?S.document.documentElement.scrollHeight:p.scrollHeight,d=l?l.offsetHeight:v?S.innerHeight:p.offsetHeight;n({scrollHeight:m,scrollTop:Math.max(_,0),viewportHeight:d}),c!==null&&e(c)},[e,t,i,o,l,n,s]);return kc(u,r,a)}function vR(e,t,r,n){const i=e.length;if(i===0)return null;const o=[];for(let l=0;l<i;l++){const s=e.item(l);if(s.dataset.index===void 0)continue;const a=parseInt(s.dataset.index),u=parseFloat(s.dataset.knownSize),h=t(s,r);if(h===0&&n("Zero-sized element, this should not happen",{child:s},Ht.ERROR),h===u)continue;const c=o[o.length-1];o.length===0||c.size!==h||c.endIndex!==a-1?o.push({endIndex:a,size:h,startIndex:a}):o[o.length-1].endIndex++}return o}function Mg(e,t,r){const n=I.useRef(null),i=I.useCallback(a=>{if(!(a!=null&&a.offsetParent))return;const u=a.getBoundingClientRect(),h=u.width;let c,p;if(t){const v=t.getBoundingClientRect(),S=u.top-v.top;p=v.height-Math.max(0,S),c=S+t.scrollTop}else{const v=l.current.ownerDocument.defaultView;p=v.innerHeight-Math.max(0,u.top),c=u.top+v.scrollY}n.current={offsetTop:c,visibleHeight:p,visibleWidth:h},e(n.current)},[e,t]),{callbackRef:o,ref:l}=kc(i,!0,r),s=I.useCallback(()=>{i(l.current)},[i,l]);return I.useEffect(()=>{var a;if(t){t.addEventListener("scroll",s);const u=new ResizeObserver(()=>{requestAnimationFrame(s)});return u.observe(t),()=>{t.removeEventListener("scroll",s),u.unobserve(t)}}else{const u=(a=l.current)==null?void 0:a.ownerDocument.defaultView;return u?.addEventListener("scroll",s),u?.addEventListener("resize",s),()=>{u?.removeEventListener("scroll",s),u?.removeEventListener("resize",s)}}},[s,t,l]),o}const Tt=Ae(()=>{const e=De(),t=De(),r=J(0),n=De(),i=J(0),o=De(),l=De(),s=J(0),a=J(0),u=J(0),h=J(0),c=De(),p=De(),v=J(!1),S=J(!1),_=J(!1);return oe(X(e,ne(({scrollTop:m})=>m)),t),oe(X(e,ne(({scrollHeight:m})=>m)),l),oe(t,i),{deviation:r,fixedFooterHeight:u,fixedHeaderHeight:a,footerHeight:h,headerHeight:s,horizontalDirection:S,scrollBy:p,scrollContainerState:e,scrollHeight:l,scrollingInProgress:v,scrollTo:c,scrollTop:t,skipAnimationFrameInResizeObserver:_,smoothScrollTargetReached:n,statefulScrollTop:i,viewportHeight:o}},[],{singleton:!0}),Li={lvl:0};function Ag(e,t){const r=e.length;if(r===0)return[];let{index:n,value:i}=t(e[0]);const o=[];for(let l=1;l<r;l++){const{index:s,value:a}=t(e[l]);o.push({end:s-1,start:n,value:i}),n=s,i=a}return o.push({end:1/0,start:n,value:i}),o}function He(e){return e===Li}function Pi(e,t){if(!He(e))return t===e.k?e.v:t<e.k?Pi(e.l,t):Pi(e.r,t)}function lr(e,t,r="k"){if(He(e))return[-1/0,void 0];if(Number(e[r])===t)return[e.k,e.v];if(Number(e[r])<t){const n=lr(e.r,t,r);return n[0]===-1/0?[e.k,e.v]:n}return lr(e.l,t,r)}function Lt(e,t,r){return He(e)?Lg(t,r,1):t===e.k?dt(e,{k:t,v:r}):t<e.k?_d(dt(e,{l:Lt(e.l,t,r)})):_d(dt(e,{r:Lt(e.r,t,r)}))}function $n(){return Li}function _o(e,t,r){if(He(e))return[];const n=lr(e,t)[0];return _R(Cl(e,n,r))}function wl(e,t){if(He(e))return Li;const{k:r,l:n,r:i}=e;if(t===r){if(He(n))return i;if(He(i))return n;{const[o,l]=Ig(n);return Is(dt(e,{k:o,l:Og(n),v:l}))}}else return t<r?Is(dt(e,{l:wl(n,t)})):Is(dt(e,{r:wl(i,t)}))}function hn(e){return He(e)?[]:[...hn(e.l),{k:e.k,v:e.v},...hn(e.r)]}function Cl(e,t,r){if(He(e))return[];const{k:n,l:i,r:o,v:l}=e;let s=[];return n>t&&(s=s.concat(Cl(i,t,r))),n>=t&&n<=r&&s.push({k:n,v:l}),n<=r&&(s=s.concat(Cl(o,t,r))),s}function Is(e){const{l:t,lvl:r,r:n}=e;if(n.lvl>=r-1&&t.lvl>=r-1)return e;if(r>n.lvl+1){if(wa(t))return Pg(dt(e,{lvl:r-1}));if(!He(t)&&!He(t.r))return dt(t.r,{l:dt(t,{r:t.r.l}),lvl:r,r:dt(e,{l:t.r.r,lvl:r-1})});throw new Error("Unexpected empty nodes")}else{if(wa(e))return bl(dt(e,{lvl:r-1}));if(!He(n)&&!He(n.l)){const i=n.l,o=wa(i)?n.lvl-1:n.lvl;return dt(i,{l:dt(e,{lvl:r-1,r:i.l}),lvl:i.lvl+1,r:bl(dt(n,{l:i.r,lvl:o}))})}else throw new Error("Unexpected empty nodes")}}function dt(e,t){return Lg(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function Og(e){return He(e.r)?e.l:Is(dt(e,{r:Og(e.r)}))}function wa(e){return He(e)||e.lvl>e.r.lvl}function Ig(e){return He(e.r)?[e.k,e.v]:Ig(e.r)}function Lg(e,t,r,n=Li,i=Li){return{k:e,l:n,lvl:r,r:i,v:t}}function _d(e){return bl(Pg(e))}function Pg(e){const{l:t}=e;return!He(t)&&t.lvl===e.lvl?dt(t,{r:dt(e,{l:t.r})}):e}function bl(e){const{lvl:t,r}=e;return!He(r)&&!He(r.r)&&r.lvl===t&&r.r.lvl===t?dt(r,{l:dt(e,{r:r.l}),lvl:t+1}):e}function _R(e){return Ag(e,({k:t,v:r})=>({index:t,value:r}))}function Bg(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function Bi(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const Tc=Ae(()=>({recalcInProgress:J(!1)}),[],{singleton:!0});function Fg(e,t,r){return e[Ys(e,t,r)]}function Ys(e,t,r,n=0){let i=e.length-1;for(;n<=i;){const o=Math.floor((n+i)/2),l=e[o],s=r(l,t);if(s===0)return o;if(s===-1){if(i-n<2)return o-1;i=o-1}else{if(i===n)return o;n=o+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function yR(e,t,r,n){const i=Ys(e,t,n),o=Ys(e,r,n,i);return e.slice(i,o+1)}function Gr(e,t){return Math.round(e.getBoundingClientRect()[t])}function yo(e){return!He(e.groupOffsetTree)}function Dc({index:e},t){return t===e?0:t<e?-1:1}function SR(){return{groupIndices:[],groupOffsetTree:$n(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:$n()}}function wR(e,t){let r=He(e)?0:1/0;for(const n of t){const{endIndex:i,size:o,startIndex:l}=n;if(r=Math.min(r,l),He(e)){e=Lt(e,0,o);continue}const s=_o(e,l-1,i+1);if(s.some(DR(n)))continue;let a=!1,u=!1;for(const{end:h,start:c,value:p}of s)a?(i>=c||o===p)&&(e=wl(e,c)):(u=p!==o,a=!0),h>i&&i>=c&&p!==o&&(e=Lt(e,i+1,p));u&&(e=Lt(e,l,o))}return[e,r]}function CR(e){return typeof e.groupIndex<"u"}function bR({offset:e},t){return t===e?0:t<e?-1:1}function Fi(e,t,r){if(t.length===0)return 0;const{index:n,offset:i,size:o}=Fg(t,e,Dc),l=e-n,s=o*l+(l-1)*r+i;return s>0?s+r:s}function Hg(e,t){if(!yo(t))return e;let r=0;for(;t.groupIndices[r]<=e+r;)r++;return e+r}function Ng(e,t,r){if(CR(e))return t.groupIndices[e.groupIndex]+1;{const n=e.index==="LAST"?r:e.index;let i=Hg(n,t);return i=Math.max(0,i,Math.min(r,i)),i}}function xR(e,t,r,n=0){return n>0&&(t=Math.max(t,Fg(e,n,Dc).offset)),Ag(yR(e,t,r,bR),TR)}function ER(e,[t,r,n,i]){t.length>0&&n("received item sizes",t,Ht.DEBUG);const o=e.sizeTree;let l=o,s=0;if(r.length>0&&He(o)&&t.length===2){const p=t[0].size,v=t[1].size;l=r.reduce((S,_)=>Lt(Lt(S,_,p),_+1,v),l)}else[l,s]=wR(l,t);if(l===o)return e;const{lastIndex:a,lastOffset:u,lastSize:h,offsetTree:c}=xl(e.offsetTree,s,l,i);return{groupIndices:r,groupOffsetTree:r.reduce((p,v)=>Lt(p,v,Fi(v,c,i)),$n()),lastIndex:a,lastOffset:u,lastSize:h,offsetTree:c,sizeTree:l}}function kR(e){return hn(e).map(({k:t,v:r},n,i)=>{const o=i[n+1];return{endIndex:o?o.k-1:1/0,size:r,startIndex:t}})}function yd(e,t){let r=0,n=0;for(;r<e;)r+=t[n+1]-t[n]-1,n++;return n-(r===e?0:1)}function xl(e,t,r,n){let i=e,o=0,l=0,s=0,a=0;if(t!==0){a=Ys(i,t-1,Dc),s=i[a].offset;const u=lr(r,t-1);o=u[0],l=u[1],i.length&&i[a].size===lr(r,t)[1]&&(a-=1),i=i.slice(0,a+1)}else i=[];for(const{start:u,value:h}of _o(r,t,1/0)){const c=u-o,p=c*l+s+c*n;i.push({index:u,offset:p,size:h}),o=u,s=p,l=h}return{lastIndex:o,lastOffset:s,lastSize:l,offsetTree:i}}function TR(e){return{index:e.index,value:e}}function DR(e){const{endIndex:t,size:r,startIndex:n}=e;return i=>i.start===n&&(i.end===t||i.end===1/0)&&i.value===r}const RR={offsetHeight:"height",offsetWidth:"width"},Cr=Ae(([{log:e},{recalcInProgress:t}])=>{const r=De(),n=De(),i=Ct(n,0),o=De(),l=De(),s=J(0),a=J([]),u=J(void 0),h=J(void 0),c=J((w,C)=>Gr(w,RR[C])),p=J(void 0),v=J(0),S=SR(),_=Ct(X(r,xe(a,e,v),pr(ER,S),We()),S),m=Ct(X(a,We(),pr((w,C)=>({current:C,prev:w.current}),{current:[],prev:[]}),ne(({prev:w})=>w)),[]);oe(X(a,ve(w=>w.length>0),xe(_,v),ne(([w,C,x])=>{const b=w.reduce((E,R,M)=>Lt(E,R,Fi(R,C.offsetTree,x)||M),$n());return{...C,groupIndices:w,groupOffsetTree:b}})),_),oe(X(n,xe(_),ve(([w,{lastIndex:C}])=>w<C),ne(([w,{lastIndex:C,lastSize:x}])=>[{endIndex:C,size:x,startIndex:w}])),r),oe(u,h);const d=Ct(X(u,ne(w=>w===void 0)),!0);oe(X(h,ve(w=>w!==void 0&&He(it(_).sizeTree)),ne(w=>[{endIndex:0,size:w,startIndex:0}])),r);const f=Ft(X(r,xe(_),pr(({sizes:w},[C,x])=>({changed:x!==w,sizes:x}),{changed:!1,sizes:S}),ne(w=>w.changed)));Le(X(s,pr((w,C)=>({diff:w.prev-C,prev:C}),{diff:0,prev:0}),ne(w=>w.diff)),w=>{const{groupIndices:C}=it(_);if(w>0)Ce(t,!0),Ce(o,w+yd(w,C));else if(w<0){const x=it(m);x.length>0&&(w-=yd(-w,x)),Ce(l,w)}}),Le(X(s,xe(e)),([w,C])=>{w<0&&C("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},Ht.ERROR)});const g=Ft(o);oe(X(o,xe(_),ne(([w,C])=>{const x=C.groupIndices.length>0,b=[],E=C.lastSize;if(x){const R=Pi(C.sizeTree,0);let M=0,L=0;for(;M<w;){const B=C.groupIndices[L],$=C.groupIndices.length===L+1?1/0:C.groupIndices[L+1]-B-1;b.push({endIndex:B,size:R,startIndex:B}),b.push({endIndex:B+1+$-1,size:E,startIndex:B+1}),L++,M+=$+1}const D=hn(C.sizeTree);return M!==w&&D.shift(),D.reduce((B,{k:$,v:z})=>{let U=B.ranges;return B.prevSize!==0&&(U=[...B.ranges,{endIndex:$+w-1,size:B.prevSize,startIndex:B.prevIndex}]),{prevIndex:$+w,prevSize:z,ranges:U}},{prevIndex:w,prevSize:0,ranges:b}).ranges}return hn(C.sizeTree).reduce((R,{k:M,v:L})=>({prevIndex:M+w,prevSize:L,ranges:[...R.ranges,{endIndex:M+w-1,size:R.prevSize,startIndex:R.prevIndex}]}),{prevIndex:0,prevSize:E,ranges:[]}).ranges})),r);const y=Ft(X(l,xe(_,v),ne(([w,{offsetTree:C},x])=>{const b=-w;return Fi(b,C,x)})));return oe(X(l,xe(_,v),ne(([w,C,x])=>{if(C.groupIndices.length>0){if(He(C.sizeTree))return C;let b=$n();const E=it(m);let R=0,M=0,L=0;for(;R<-w;){L=E[M];const D=E[M+1]-L-1;M++,R+=D+1}if(b=hn(C.sizeTree).reduce((D,{k:B,v:$})=>Lt(D,Math.max(0,B+w),$),b),R!==-w){const D=Pi(C.sizeTree,L);b=Lt(b,0,D);const B=lr(C.sizeTree,-w+1)[1];b=Lt(b,1,B)}return{...C,sizeTree:b,...xl(C.offsetTree,0,b,x)}}else{const b=hn(C.sizeTree).reduce((E,{k:R,v:M})=>Lt(E,Math.max(0,R+w),M),$n());return{...C,sizeTree:b,...xl(C.offsetTree,0,b,x)}}})),_),{beforeUnshiftWith:g,data:p,defaultItemSize:h,firstItemIndex:s,fixedItemSize:u,gap:v,groupIndices:a,itemSize:c,listRefresh:f,shiftWith:l,shiftWithOffset:y,sizeRanges:r,sizes:_,statefulTotalCount:i,totalCount:n,trackItemSizes:d,unshiftWith:o}},ze(Xr,Tc),{singleton:!0});function MR(e){return e.reduce((t,r)=>(t.groupIndices.push(t.totalCount),t.totalCount+=r+1,t),{groupIndices:[],totalCount:0})}const Vg=Ae(([{groupIndices:e,sizes:t,totalCount:r},{headerHeight:n,scrollTop:i}])=>{const o=De(),l=De(),s=Ft(X(o,ne(MR)));return oe(X(s,ne(a=>a.totalCount)),r),oe(X(s,ne(a=>a.groupIndices)),e),oe(X(ct(i,t,n),ve(([a,u])=>yo(u)),ne(([a,u,h])=>lr(u.groupOffsetTree,Math.max(a-h,0),"v")[0]),We(),ne(a=>[a])),l),{groupCounts:o,topItemsIndexes:l}},ze(Cr,Tt)),Jr=Ae(([{log:e}])=>{const t=J(!1),r=Ft(X(t,ve(n=>n),We()));return Le(t,n=>{n&&it(e)("props updated",{},Ht.DEBUG)}),{didMount:r,propsReady:t}},ze(Xr),{singleton:!0}),AR=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function $g(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!AR)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const Qi=Ae(([{gap:e,listRefresh:t,sizes:r,totalCount:n},{fixedFooterHeight:i,fixedHeaderHeight:o,footerHeight:l,headerHeight:s,scrollingInProgress:a,scrollTo:u,smoothScrollTargetReached:h,viewportHeight:c},{log:p}])=>{const v=De(),S=De(),_=J(0);let m=null,d=null,f=null;function g(){m&&(m(),m=null),f&&(f(),f=null),d&&(clearTimeout(d),d=null),Ce(a,!1)}return oe(X(v,xe(r,c,n,_,s,l,p),xe(e,o,i),ne(([[y,w,C,x,b,E,R,M],L,D,B])=>{const $=$g(y),{align:z,behavior:U,offset:W}=$,T=x-1,A=Ng($,w,T);let P=Fi(A,w.offsetTree,L)+E;z==="end"?(P+=D+lr(w.sizeTree,A)[1]-C+B,A===T&&(P+=R)):z==="center"?P+=(D+lr(w.sizeTree,A)[1]-C+B)/2:P-=b,W&&(P+=W);const O=N=>{g(),N?(M("retrying to scroll to",{location:y},Ht.DEBUG),Ce(v,y)):(Ce(S,!0),M("list did not change, scroll successful",{},Ht.DEBUG))};if(g(),U==="smooth"){let N=!1;f=Le(t,j=>{N=N||j}),m=nr(h,()=>{O(N)})}else m=nr(X(t,OR(150)),O);return d=setTimeout(()=>{g()},1200),Ce(a,!0),M("scrolling from index to",{behavior:U,index:A,top:P},Ht.DEBUG),{behavior:U,top:P}})),u),{scrollTargetReached:S,scrollToIndex:v,topListHeight:_}},ze(Cr,Tt,Xr),{singleton:!0});function OR(e){return t=>{const r=setTimeout(()=>{t(!1)},e);return n=>{n&&(t(!0),clearTimeout(r))}}}function Rc(e,t){e==0?t():requestAnimationFrame(()=>{Rc(e-1,t)})}function Mc(e,t){const r=t-1;return typeof e=="number"?e:e.index==="LAST"?r:e.index}const es=Ae(([{defaultItemSize:e,listRefresh:t,sizes:r},{scrollTop:n},{scrollTargetReached:i,scrollToIndex:o},{didMount:l}])=>{const s=J(!0),a=J(0),u=J(!0);return oe(X(l,xe(a),ve(([h,c])=>!!c),hr(!1)),s),oe(X(l,xe(a),ve(([h,c])=>!!c),hr(!1)),u),Le(X(ct(t,l),xe(s,r,e,u),ve(([[,h],c,{sizeTree:p},v,S])=>h&&(!He(p)||xc(v))&&!c&&!S),xe(a)),([,h])=>{nr(i,()=>{Ce(u,!0)}),Rc(4,()=>{nr(n,()=>{Ce(s,!0)}),Ce(o,h)})}),{initialItemFinalLocationReached:u,initialTopMostItemIndex:a,scrolledToInitialItem:s}},ze(Cr,Tt,Qi,Jr),{singleton:!0});function Wg(e,t){return Math.abs(e-t)<1.01}const Hi="up",Ci="down",IR="none",LR={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},PR=0,ts=Ae(([{footerHeight:e,headerHeight:t,scrollBy:r,scrollContainerState:n,scrollTop:i,viewportHeight:o}])=>{const l=J(!1),s=J(!0),a=De(),u=De(),h=J(4),c=J(PR),p=Ct(X(Sl(X(pe(i),gn(1),hr(!0)),X(pe(i),gn(1),hr(!1),vd(100))),We()),!1),v=Ct(X(Sl(X(r,hr(!0)),X(r,hr(!1),vd(200))),We()),!1);oe(X(ct(pe(i),pe(c)),ne(([f,g])=>f<=g),We()),s),oe(X(s,Dr(50)),u);const S=Ft(X(ct(n,pe(o),pe(t),pe(e),pe(h)),pr((f,[{scrollHeight:g,scrollTop:y},w,C,x,b])=>{const E=y+w-g>-b,R={scrollHeight:g,scrollTop:y,viewportHeight:w};if(E){let L,D;return y>f.state.scrollTop?(L="SCROLLED_DOWN",D=f.state.scrollTop-y):(L="SIZE_DECREASED",D=f.state.scrollTop-y||f.scrollTopDelta),{atBottom:!0,atBottomBecause:L,scrollTopDelta:D,state:R}}let M;return R.scrollHeight>f.state.scrollHeight?M="SIZE_INCREASED":w<f.state.viewportHeight?M="VIEWPORT_HEIGHT_DECREASING":y<f.state.scrollTop?M="SCROLLING_UPWARDS":M="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:M,state:R}},LR),We((f,g)=>f&&f.atBottom===g.atBottom))),_=Ct(X(n,pr((f,{scrollHeight:g,scrollTop:y,viewportHeight:w})=>{if(Wg(f.scrollHeight,g))return{changed:!1,jump:0,scrollHeight:g,scrollTop:y};{const C=g-(y+w)<1;return f.scrollTop!==y&&C?{changed:!0,jump:f.scrollTop-y,scrollHeight:g,scrollTop:y}:{changed:!0,jump:0,scrollHeight:g,scrollTop:y}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),ve(f=>f.changed),ne(f=>f.jump)),0);oe(X(S,ne(f=>f.atBottom)),l),oe(X(l,Dr(50)),a);const m=J(Ci);oe(X(n,ne(({scrollTop:f})=>f),We(),pr((f,g)=>it(v)?{direction:f.direction,prevScrollTop:g}:{direction:g<f.prevScrollTop?Hi:Ci,prevScrollTop:g},{direction:Ci,prevScrollTop:0}),ne(f=>f.direction)),m),oe(X(n,Dr(50),hr(IR)),m);const d=J(0);return oe(X(p,ve(f=>!f),hr(0)),d),oe(X(i,Dr(100),xe(p),ve(([f,g])=>!!g),pr(([f,g],[y])=>[g,y],[0,0]),ne(([f,g])=>g-f)),d),{atBottomState:S,atBottomStateChange:a,atBottomThreshold:h,atTopStateChange:u,atTopThreshold:c,isAtBottom:l,isAtTop:s,isScrolling:p,lastJumpDueToItemResize:_,scrollDirection:m,scrollVelocity:d}},ze(Tt)),Zs="top",Xs="bottom",Sd="none";function wd(e,t,r){return typeof e=="number"?r===Hi&&t===Zs||r===Ci&&t===Xs?e:0:r===Hi?t===Zs?e.main:e.reverse:t===Xs?e.main:e.reverse}function Cd(e,t){var r;return typeof e=="number"?e:(r=e[t])!=null?r:0}const Ac=Ae(([{deviation:e,fixedHeaderHeight:t,headerHeight:r,scrollTop:n,viewportHeight:i}])=>{const o=De(),l=J(0),s=J(0),a=J(0),u=Ct(X(ct(pe(n),pe(i),pe(r),pe(o,Bi),pe(a),pe(l),pe(t),pe(e),pe(s)),ne(([h,c,p,[v,S],_,m,d,f,g])=>{const y=h-f,w=m+d,C=Math.max(p-y,0);let x=Sd;const b=Cd(g,Zs),E=Cd(g,Xs);return v-=f,v+=p+d,S+=p+d,S-=f,v>h+w-b&&(x=Hi),S<h-C+c+E&&(x=Ci),x!==Sd?[Math.max(y-p-wd(_,Zs,x)-b,0),y-C-d+c+wd(_,Xs,x)+E]:null}),ve(h=>h!=null),We(Bi)),[0,0]);return{increaseViewportBy:s,listBoundary:o,overscan:a,topListHeight:l,visibleRange:u}},ze(Tt),{singleton:!0});function BR(e,t,r){if(yo(t)){const n=Hg(e,t);return[{index:lr(t.groupOffsetTree,n)[0],offset:0,size:0},{data:r?.[0],index:n,offset:0,size:0}]}return[{data:r?.[0],index:e,offset:0,size:0}]}const Ca={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function Ls(e,t,r,n,i,o){const{lastIndex:l,lastOffset:s,lastSize:a}=i;let u=0,h=0;if(e.length>0){u=e[0].offset;const _=e[e.length-1];h=_.offset+_.size}const c=r-l,p=s+c*a+(c-1)*n,v=u,S=p-h;return{bottom:h,firstItemIndex:o,items:bd(e,i,o),offsetBottom:S,offsetTop:u,top:v,topItems:bd(t,i,o),topListHeight:t.reduce((_,m)=>m.size+_,0),totalCount:r}}function zg(e,t,r,n,i,o){let l=0;if(r.groupIndices.length>0)for(const h of r.groupIndices){if(h-l>=e)break;l++}const s=e+l,a=Mc(t,s),u=Array.from({length:s}).map((h,c)=>({data:o[c+a],index:c+a,offset:0,size:0}));return Ls(u,[],s,i,r,n)}function bd(e,t,r){if(e.length===0)return[];if(!yo(t))return e.map(u=>({...u,index:u.index+r,originalIndex:u.index}));const n=e[0].index,i=e[e.length-1].index,o=[],l=_o(t.groupOffsetTree,n,i);let s,a=0;for(const u of e){(!s||s.end<u.index)&&(s=l.shift(),a=t.groupIndices.indexOf(s.start));let h;u.index===s.start?h={index:a,type:"group"}:h={groupIndex:a,index:u.index-(a+1)+r},o.push({...h,data:u.data,offset:u.offset,originalIndex:u.index,size:u.size})}return o}const yn=Ae(([{data:e,firstItemIndex:t,gap:r,sizes:n,totalCount:i},o,{listBoundary:l,topListHeight:s,visibleRange:a},{initialTopMostItemIndex:u,scrolledToInitialItem:h},{topListHeight:c},p,{didMount:v},{recalcInProgress:S}])=>{const _=J([]),m=J(0),d=De();oe(o.topItemsIndexes,_);const f=Ct(X(ct(v,S,pe(a,Bi),pe(i),pe(n),pe(u),h,pe(_),pe(t),pe(r),e),ve(([C,x,,b,,,,,,,E])=>{const R=E&&E.length!==b;return C&&!x&&!R}),ne(([,,[C,x],b,E,R,M,L,D,B,$])=>{const z=E,{offsetTree:U,sizeTree:W}=z,T=it(m);if(b===0)return{...Ca,totalCount:b};if(C===0&&x===0)return T===0?{...Ca,totalCount:b}:zg(T,R,E,D,B,$||[]);if(He(W))return T>0?null:Ls(BR(Mc(R,b),z,$),[],b,B,z,D);const A=[];if(L.length>0){const q=L[0],Y=L[L.length-1];let F=0;for(const k of _o(W,q,Y)){const V=k.value,G=Math.max(k.start,q),Z=Math.min(k.end,Y);for(let K=G;K<=Z;K++)A.push({data:$?.[K],index:K,offset:F,size:V}),F+=V}}if(!M)return Ls([],A,b,B,z,D);const P=L.length>0?L[L.length-1]+1:0,O=xR(U,C,x,P);if(O.length===0)return null;const N=b-1,j=vo([],q=>{for(const Y of O){const F=Y.value;let k=F.offset,V=Y.start;const G=F.size;if(F.offset<C){V+=Math.floor((C-F.offset+B)/(G+B));const K=V-Y.start;k+=K*G+K*B}V<P&&(k+=(P-V)*G,V=P);const Z=Math.min(Y.end,N);for(let K=V;K<=Z&&!(k>=x);K++)q.push({data:$?.[K],index:K,offset:k,size:G}),k+=G+B}});return Ls(j,A,b,B,z,D)}),ve(C=>C!==null),We()),Ca);oe(X(e,ve(xc),ne(C=>C?.length)),i),oe(X(f,ne(C=>C.topListHeight)),c),oe(c,s),oe(X(f,ne(C=>[C.top,C.bottom])),l),oe(X(f,ne(C=>C.items)),d);const g=Ft(X(f,ve(({items:C})=>C.length>0),xe(i,e),ve(([{items:C},x])=>C[C.length-1].originalIndex===x-1),ne(([,C,x])=>[C-1,x]),We(Bi),ne(([C])=>C))),y=Ft(X(f,Dr(200),ve(({items:C,topItems:x})=>C.length>0&&C[0].originalIndex===x.length),ne(({items:C})=>C[0].index),We())),w=Ft(X(f,ve(({items:C})=>C.length>0),ne(({items:C})=>{let x=0,b=C.length-1;for(;C[x].type==="group"&&x<b;)x++;for(;C[b].type==="group"&&b>x;)b--;return{endIndex:C[b].index,startIndex:C[x].index}}),We(Bg)));return{endReached:g,initialItemCount:m,itemsRendered:d,listState:f,rangeChanged:w,startReached:y,topItemsIndexes:_,...p}},ze(Cr,Vg,Ac,es,Qi,ts,Jr,Tc),{singleton:!0}),Ug=Ae(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:r,headerHeight:n},{listState:i}])=>{const o=De(),l=Ct(X(ct(r,e,n,t,i),ne(([s,a,u,h,c])=>s+a+u+h+c.offsetBottom+c.bottom)),0);return oe(pe(l),o),{totalListHeight:l,totalListHeightChanged:o}},ze(Tt,yn),{singleton:!0}),FR=Ae(([{viewportHeight:e},{totalListHeight:t}])=>{const r=J(!1),n=Ct(X(ct(r,e,t),ve(([i])=>i),ne(([,i,o])=>Math.max(0,i-o)),Dr(0),We()),0);return{alignToBottom:r,paddingTopAddition:n}},ze(Tt,Ug),{singleton:!0}),jg=Ae(()=>({context:J(null)})),HR=({itemBottom:e,itemTop:t,locationParams:{align:r,behavior:n,...i},viewportBottom:o,viewportTop:l})=>t<l?{...i,align:r??"start",behavior:n}:e>o?{...i,align:r??"end",behavior:n}:null,qg=Ae(([{gap:e,sizes:t,totalCount:r},{fixedFooterHeight:n,fixedHeaderHeight:i,headerHeight:o,scrollingInProgress:l,scrollTop:s,viewportHeight:a},{scrollToIndex:u}])=>{const h=De();return oe(X(h,xe(t,a,r,o,i,n,s),xe(e),ne(([[c,p,v,S,_,m,d,f],g])=>{const{align:y,behavior:w,calculateViewLocation:C=HR,done:x,...b}=c,E=Ng(c,p,S-1),R=Fi(E,p.offsetTree,g)+_+m,M=R+lr(p.sizeTree,E)[1],L=f+m,D=f+v-d,B=C({itemBottom:M,itemTop:R,locationParams:{align:y,behavior:w,...b},viewportBottom:D,viewportTop:L});return B?x&&nr(X(l,ve($=>!$),gn(it(l)?1:2)),x):x&&x(),B}),ve(c=>c!==null)),u),{scrollIntoView:h}},ze(Cr,Tt,Qi,yn,Xr),{singleton:!0});function xd(e){return e?e==="smooth"?"smooth":"auto":!1}const NR=(e,t)=>typeof e=="function"?xd(e(t)):t&&xd(e),VR=Ae(([{listRefresh:e,totalCount:t,fixedItemSize:r,data:n},{atBottomState:i,isAtBottom:o},{scrollToIndex:l},{scrolledToInitialItem:s},{didMount:a,propsReady:u},{log:h},{scrollingInProgress:c},{context:p},{scrollIntoView:v}])=>{const S=J(!1),_=De();let m=null;function d(w){Ce(l,{align:"end",behavior:w,index:"LAST"})}Le(X(ct(X(pe(t),gn(1)),a),xe(pe(S),o,s,c),ne(([[w,C],x,b,E,R])=>{let M=C&&E,L="auto";return M&&(L=NR(x,b||R),M=M&&!!L),{followOutputBehavior:L,shouldFollow:M,totalCount:w}}),ve(({shouldFollow:w})=>w)),({followOutputBehavior:w,totalCount:C})=>{m&&(m(),m=null),it(r)?requestAnimationFrame(()=>{it(h)("following output to ",{totalCount:C},Ht.DEBUG),d(w)}):m=nr(e,()=>{it(h)("following output to ",{totalCount:C},Ht.DEBUG),d(w),m=null})});function f(w){const C=nr(i,x=>{w&&!x.atBottom&&x.notAtBottomBecause==="SIZE_INCREASED"&&!m&&(it(h)("scrolling to bottom due to increased size",{},Ht.DEBUG),d("auto"))});setTimeout(C,100)}Le(X(ct(pe(S),t,u),ve(([w,,C])=>w&&C),pr(({value:w},[,C])=>({refreshed:w===C,value:C}),{refreshed:!1,value:0}),ve(({refreshed:w})=>w),xe(S,t)),([,w])=>{it(s)&&f(w!==!1)}),Le(_,()=>{f(it(S)!==!1)}),Le(ct(pe(S),i),([w,C])=>{w&&!C.atBottom&&C.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&d("auto")});const g=J(null),y=De();return oe(Sl(X(pe(n),ne(w=>{var C;return(C=w?.length)!=null?C:0})),X(pe(t))),y),Le(X(ct(X(y,gn(1)),a),xe(pe(g),s,c,p),ne(([[w,C],x,b,E,R])=>C&&b&&x?.({context:R,totalCount:w,scrollingInProgress:E})),ve(w=>!!w),Dr(0)),w=>{m&&(m(),m=null),it(r)?requestAnimationFrame(()=>{it(h)("scrolling into view",{}),Ce(v,w)}):m=nr(e,()=>{it(h)("scrolling into view",{}),Ce(v,w),m=null})}),{autoscrollToBottom:_,followOutput:S,scrollIntoViewOnChange:g}},ze(Cr,ts,Qi,es,Jr,Xr,Tt,jg,qg)),$R=Ae(([{data:e,firstItemIndex:t,gap:r,sizes:n},{initialTopMostItemIndex:i},{initialItemCount:o,listState:l},{didMount:s}])=>(oe(X(s,xe(o),ve(([,a])=>a!==0),xe(i,n,t,r,e),ne(([[,a],u,h,c,p,v=[]])=>zg(a,u,h,c,p,v))),l),{}),ze(Cr,es,yn,Jr),{singleton:!0}),WR=Ae(([{didMount:e},{scrollTo:t},{listState:r}])=>{const n=J(0);return Le(X(e,xe(n),ve(([,i])=>i!==0),ne(([,i])=>({top:i}))),i=>{nr(X(r,gn(1),ve(o=>o.items.length>1)),()=>{requestAnimationFrame(()=>{Ce(t,i)})})}),{initialScrollTop:n}},ze(Jr,Tt,yn),{singleton:!0}),Gg=Ae(([{scrollVelocity:e}])=>{const t=J(!1),r=De(),n=J(!1);return oe(X(e,xe(n,t,r),ve(([i,o])=>!!o),ne(([i,o,l,s])=>{const{enter:a,exit:u}=o;if(l){if(u(i,s))return!1}else if(a(i,s))return!0;return l}),We()),t),Le(X(ct(t,e,r),xe(n)),([[i,o,l],s])=>{i&&s&&s.change&&s.change(o,l)}),{isSeeking:t,scrollSeekConfiguration:n,scrollSeekRangeChanged:r,scrollVelocity:e}},ze(ts),{singleton:!0}),Oc=Ae(([{scrollContainerState:e,scrollTo:t}])=>{const r=De(),n=De(),i=De(),o=J(!1),l=J(void 0);return oe(X(ct(r,n),ne(([{scrollHeight:s,scrollTop:a,viewportHeight:u},{offsetTop:h}])=>({scrollHeight:s,scrollTop:Math.max(0,a-h),viewportHeight:u}))),e),oe(X(t,xe(n),ne(([s,{offsetTop:a}])=>({...s,top:s.top+a}))),i),{customScrollParent:l,useWindowScroll:o,windowScrollContainerState:r,windowScrollTo:i,windowViewportRect:n}},ze(Tt)),zR=Ae(([{sizeRanges:e,sizes:t},{headerHeight:r,scrollTop:n},{initialTopMostItemIndex:i},{didMount:o},{useWindowScroll:l,windowScrollContainerState:s,windowViewportRect:a}])=>{const u=De(),h=J(void 0),c=J(null),p=J(null);return oe(s,c),oe(a,p),Le(X(u,xe(t,n,l,c,p,r)),([v,S,_,m,d,f,g])=>{const y=kR(S.sizeTree);m&&d!==null&&f!==null&&(_=d.scrollTop-f.offsetTop),_-=g,v({ranges:y,scrollTop:_})}),oe(X(h,ve(xc),ne(UR)),i),oe(X(o,xe(h),ve(([,v])=>v!==void 0),We(),ne(([,v])=>v.ranges)),e),{getState:u,restoreStateFrom:h}},ze(Cr,Tt,es,Jr,Oc));function UR(e){return{align:"start",index:0,offset:e.scrollTop}}const jR=Ae(([{topItemsIndexes:e}])=>{const t=J(0);return oe(X(t,ve(r=>r>=0),ne(r=>Array.from({length:r}).map((n,i)=>i))),e),{topItemCount:t}},ze(yn));function Kg(e){let t=!1,r;return()=>(t||(t=!0,r=e()),r)}const qR=Kg(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),GR=Ae(([{deviation:e,scrollBy:t,scrollingInProgress:r,scrollTop:n},{isAtBottom:i,isScrolling:o,lastJumpDueToItemResize:l,scrollDirection:s},{listState:a},{beforeUnshiftWith:u,gap:h,shiftWithOffset:c,sizes:p},{log:v},{recalcInProgress:S}])=>{const _=Ft(X(a,xe(l),pr(([,d,f,g],[{bottom:y,items:w,offsetBottom:C,totalCount:x},b])=>{const E=y+C;let R=0;return f===x&&d.length>0&&w.length>0&&(w[0].originalIndex===0&&d[0].originalIndex===0||(R=E-g,R!==0&&(R+=b))),[R,w,x,E]},[0,[],0,0]),ve(([d])=>d!==0),xe(n,s,r,i,v,S),ve(([,d,f,g,,,y])=>!y&&!g&&d!==0&&f===Hi),ne(([[d],,,,,f])=>(f("Upward scrolling compensation",{amount:d},Ht.DEBUG),d))));function m(d){d>0?(Ce(t,{behavior:"auto",top:-d}),Ce(e,0)):(Ce(e,0),Ce(t,{behavior:"auto",top:-d}))}return Le(X(_,xe(e,o)),([d,f,g])=>{g&&qR()?Ce(e,f-d):m(-d)}),Le(X(ct(Ct(o,!1),e,S),ve(([d,f,g])=>!d&&!g&&f!==0),ne(([d,f])=>f),Dr(1)),m),oe(X(c,ne(d=>({top:-d}))),t),Le(X(u,xe(p,h),ne(([d,{groupIndices:f,lastSize:g,sizeTree:y},w])=>{function C(x){return x*(g+w)}if(f.length===0)return C(d);{let x=0;const b=Pi(y,0);let E=0,R=0;for(;E<d;){E++,x+=b;let M=f.length===R+1?1/0:f[R+1]-f[R]-1;E+M>d&&(x-=b,M=d-E+1),E+=M,x+=C(M),R++}return x}})),d=>{Ce(e,d),requestAnimationFrame(()=>{Ce(t,{top:d}),requestAnimationFrame(()=>{Ce(e,0),Ce(S,!1)})})}),{deviation:e}},ze(Tt,ts,yn,Cr,Xr,Tc)),KR=Ae(([e,t,r,n,i,o,l,s,a,u,h])=>({...e,...t,...r,...n,...i,...o,...l,...s,...a,...u,...h}),ze(Ac,$R,Jr,Gg,Ug,WR,FR,Oc,qg,Xr,jg)),Yg=Ae(([{data:e,defaultItemSize:t,firstItemIndex:r,fixedItemSize:n,gap:i,groupIndices:o,itemSize:l,sizeRanges:s,sizes:a,statefulTotalCount:u,totalCount:h,trackItemSizes:c},{initialItemFinalLocationReached:p,initialTopMostItemIndex:v,scrolledToInitialItem:S},_,m,d,{listState:f,topItemsIndexes:g,...y},{scrollToIndex:w},C,{topItemCount:x},{groupCounts:b},E])=>(oe(y.rangeChanged,E.scrollSeekRangeChanged),oe(X(E.windowViewportRect,ne(R=>R.visibleHeight)),_.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:r,fixedItemHeight:n,gap:i,groupCounts:b,initialItemFinalLocationReached:p,initialTopMostItemIndex:v,scrolledToInitialItem:S,sizeRanges:s,topItemCount:x,topItemsIndexes:g,totalCount:h,...d,groupIndices:o,itemSize:l,listState:f,scrollToIndex:w,statefulTotalCount:u,trackItemSizes:c,...y,...E,..._,sizes:a,...m}),ze(Cr,es,Tt,zR,VR,yn,Qi,GR,jR,Vg,KR));function YR(e,t){const r={},n={};let i=0;const o=e.length;for(;i<o;)n[e[i]]=1,i+=1;for(const l in t)Object.hasOwn(n,l)||(r[l]=t[l]);return r}const ws=typeof document<"u"?I.useLayoutEffect:I.useEffect;function Zg(e,t,r){const n=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),o=Object.keys(t.methods||{}),l=Object.keys(t.events||{}),s=I.createContext({});function a(m,d){m.propsReady&&Ce(m.propsReady,!1);for(const f of n){const g=m[t.required[f]];Ce(g,d[f])}for(const f of i)if(f in d){const g=m[t.optional[f]];Ce(g,d[f])}m.propsReady&&Ce(m.propsReady,!0)}function u(m){return o.reduce((d,f)=>(d[f]=g=>{const y=m[t.methods[f]];Ce(y,g)},d),{})}function h(m){return l.reduce((d,f)=>(d[f]=hR(m[t.events[f]]),d),{})}const c=I.forwardRef((m,d)=>{const{children:f,...g}=m,[y]=I.useState(()=>vo(fR(e),x=>{a(x,g)})),[w]=I.useState(gd(h,y));ws(()=>{for(const x of l)x in g&&Le(w[x],g[x]);return()=>{Object.values(w).map(Ec)}},[g,w,y]),ws(()=>{a(y,g)}),I.useImperativeHandle(d,pd(u(y)));const C=r;return Se.jsx(s.Provider,{value:y,children:r?Se.jsx(C,{...YR([...n,...i,...l],g),children:f}):f})}),p=m=>{const d=I.useContext(s);return I.useCallback(f=>{Ce(d[m],f)},[d,m])},v=m=>{const d=I.useContext(s)[m],f=I.useCallback(g=>Le(d,g),[d]);return I.useSyncExternalStore(f,()=>it(d),()=>it(d))},S=m=>{const d=I.useContext(s)[m],[f,g]=I.useState(gd(it,d));return ws(()=>Le(d,y=>{y!==f&&g(pd(y))}),[d,f]),f},_=I.version.startsWith("18")?v:S;return{Component:c,useEmitter:(m,d)=>{const f=I.useContext(s)[m];ws(()=>Le(f,d),[d,f])},useEmitterValue:_,usePublisher:p}}const Xg=I.createContext(void 0),Jg=I.createContext(void 0),Qg=typeof document<"u"?I.useLayoutEffect:I.useEffect;function ba(e){return"self"in e}function ZR(e){return"body"in e}function ev(e,t,r,n=Ji,i,o){const l=I.useRef(null),s=I.useRef(null),a=I.useRef(null),u=I.useCallback(p=>{let v,S,_;const m=p.target;if(ZR(m)||ba(m)){const f=ba(m)?m:m.defaultView;_=o?f.scrollX:f.scrollY,v=o?f.document.documentElement.scrollWidth:f.document.documentElement.scrollHeight,S=o?f.innerWidth:f.innerHeight}else _=o?m.scrollLeft:m.scrollTop,v=o?m.scrollWidth:m.scrollHeight,S=o?m.offsetWidth:m.offsetHeight;const d=()=>{e({scrollHeight:v,scrollTop:Math.max(_,0),viewportHeight:S})};p.suppressFlushSync?d():Ld.flushSync(d),s.current!==null&&(_===s.current||_<=0||_===v-S)&&(s.current=null,t(!0),a.current&&(clearTimeout(a.current),a.current=null))},[e,t,o]);I.useEffect(()=>{const p=i||l.current;return n(i||l.current),u({suppressFlushSync:!0,target:p}),p.addEventListener("scroll",u,{passive:!0}),()=>{n(null),p.removeEventListener("scroll",u)}},[l,u,r,n,i]);function h(p){const v=l.current;if(!v||(o?"offsetWidth"in v&&v.offsetWidth===0:"offsetHeight"in v&&v.offsetHeight===0))return;const S=p.behavior==="smooth";let _,m,d;ba(v)?(m=Math.max(Gr(v.document.documentElement,o?"width":"height"),o?v.document.documentElement.scrollWidth:v.document.documentElement.scrollHeight),_=o?v.innerWidth:v.innerHeight,d=o?window.scrollX:window.scrollY):(m=v[o?"scrollWidth":"scrollHeight"],_=Gr(v,o?"width":"height"),d=v[o?"scrollLeft":"scrollTop"]);const f=m-_;if(p.top=Math.ceil(Math.max(Math.min(f,p.top),0)),Wg(_,m)||p.top===d){e({scrollHeight:m,scrollTop:d,viewportHeight:_}),S&&t(!0);return}S?(s.current=p.top,a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{a.current=null,s.current=null,t(!0)},1e3)):s.current=null,o&&(p={behavior:p.behavior,left:p.top}),v.scrollTo(p)}function c(p){o&&(p={behavior:p.behavior,left:p.top}),l.current.scrollBy(p)}return{scrollByCallback:c,scrollerRef:l,scrollToCallback:h}}const xa="-webkit-sticky",Ed="sticky",Ic=Kg(()=>{if(typeof document>"u")return Ed;const e=document.createElement("div");return e.style.position=xa,e.style.position===xa?xa:Ed});function Lc(e){return e}const XR=Ae(()=>{const e=J(s=>`Item ${s}`),t=J(s=>`Group ${s}`),r=J({}),n=J(Lc),i=J("div"),o=J(Ji),l=(s,a=null)=>Ct(X(r,ne(u=>u[s]),We()),a);return{components:r,computeItemKey:n,EmptyPlaceholder:l("EmptyPlaceholder"),FooterComponent:l("Footer"),GroupComponent:l("Group","div"),groupContent:t,HeaderComponent:l("Header"),HeaderFooterTag:i,ItemComponent:l("Item","div"),itemContent:e,ListComponent:l("List","div"),ScrollerComponent:l("Scroller","div"),scrollerRef:o,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TopItemListComponent:l("TopItemList")}});ze(Yg,XR);Ic();const JR={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},QR={outline:"none",overflowX:"auto",position:"relative"},So=e=>({height:"100%",position:"absolute",top:0,width:"100%"});Ic();function pt(e,t){if(typeof e!="string")return{context:t}}function e2(e,t){return{item:typeof e=="string"?void 0:t}}function tv({useEmitter:e,useEmitterValue:t,usePublisher:r}){return I.memo(function({children:n,style:i,context:o,...l}){const s=r("scrollContainerState"),a=t("ScrollerComponent"),u=r("smoothScrollTargetReached"),h=t("scrollerRef"),c=t("horizontalDirection")||!1,{scrollByCallback:p,scrollerRef:v,scrollToCallback:S}=ev(s,u,a,h,void 0,c);return e("scrollTo",S),e("scrollBy",p),Se.jsx(a,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:v,style:{...c?QR:JR,...i},tabIndex:0,...l,...pt(a,o),children:n})})}function rv({useEmitter:e,useEmitterValue:t,usePublisher:r}){return I.memo(function({children:n,style:i,context:o,...l}){const s=r("windowScrollContainerState"),a=t("ScrollerComponent"),u=r("smoothScrollTargetReached"),h=t("totalListHeight"),c=t("deviation"),p=t("customScrollParent"),v=I.useRef(null),S=t("scrollerRef"),{scrollByCallback:_,scrollerRef:m,scrollToCallback:d}=ev(s,u,a,S,p);return Qg(()=>{var f;return m.current=p||((f=v.current)==null?void 0:f.ownerDocument.defaultView),()=>{m.current=null}},[m,p]),e("windowScrollTo",d),e("scrollBy",_),Se.jsx(a,{ref:v,"data-virtuoso-scroller":!0,style:{position:"relative",...i,...h!==0?{height:h+c}:{}},...l,...pt(a,o),children:n})})}const t2=Ae(()=>{const e=J(u=>Se.jsxs("td",{children:["Item $",u]})),t=J(null),r=J(u=>Se.jsxs("td",{colSpan:1e3,children:["Group ",u]})),n=J(null),i=J(null),o=J({}),l=J(Lc),s=J(Ji),a=(u,h=null)=>Ct(X(o,ne(c=>c[u]),We()),h);return{components:o,computeItemKey:l,context:t,EmptyPlaceholder:a("EmptyPlaceholder"),FillerRow:a("FillerRow"),fixedFooterContent:i,fixedHeaderContent:n,itemContent:e,groupContent:r,ScrollerComponent:a("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:a("ScrollSeekPlaceholder"),TableBodyComponent:a("TableBody","tbody"),TableComponent:a("Table","table"),TableFooterComponent:a("TableFoot","tfoot"),TableHeadComponent:a("TableHead","thead"),TableRowComponent:a("TableRow","tr"),GroupComponent:a("Group","tr")}}),r2=Ae(([e,t])=>({...e,...t}),ze(Yg,t2)),n2=({height:e})=>Se.jsx("tr",{children:Se.jsx("td",{style:{height:e}})}),i2=({height:e})=>Se.jsx("tr",{children:Se.jsx("td",{style:{border:0,height:e,padding:0}})}),s2={overflowAnchor:"none"},kd={position:Ic(),zIndex:2,overflowAnchor:"none"},Td=I.memo(function({showTopList:e=!1}){const t=we("listState"),r=we("computeItemKey"),n=we("firstItemIndex"),i=we("context"),o=we("isSeeking"),l=we("fixedHeaderHeight"),s=we("groupIndices").length>0,a=we("itemContent"),u=we("groupContent"),h=we("ScrollSeekPlaceholder")||n2,c=we("GroupComponent"),p=we("TableRowComponent"),v=(e?t.topItems:[]).reduce((_,m,d)=>(d===0?_.push(m.size):_.push(_[d-1]+m.size),_),[]),S=(e?t.topItems:t.items).map(_=>{const m=_.originalIndex,d=r(m+n,_.data,i),f=e?m===0?0:v[m-1]:0;return o?H.createElement(h,{...pt(h,i),height:_.size,index:_.index,key:d,type:_.type||"item"}):_.type==="group"?H.createElement(c,{...pt(c,i),"data-index":m,"data-item-index":_.index,"data-known-size":_.size,key:d,style:{...kd,top:l}},u(_.index,i)):H.createElement(p,{...pt(p,i),...e2(p,_.data),"data-index":m,"data-item-index":_.index,"data-known-size":_.size,"data-item-group-index":_.groupIndex,key:d,style:e?{...kd,top:l+f}:s2},s?a(_.index,_.groupIndex,_.data,i):a(_.index,_.data,i))});return Se.jsx(Se.Fragment,{children:S})}),o2=I.memo(function(){const e=we("listState"),t=we("topItemsIndexes").length>0,r=ir("sizeRanges"),n=we("useWindowScroll"),i=we("customScrollParent"),o=ir("windowScrollContainerState"),l=ir("scrollContainerState"),s=i||n?o:l,a=we("trackItemSizes"),u=we("itemSize"),h=we("log"),{callbackRef:c,ref:p}=gR(r,u,a,s,h,void 0,i,!1,we("skipAnimationFrameInResizeObserver")),[v,S]=I.useState(0);Pc("deviation",R=>{v!==R&&(p.current.style.marginTop=`${R}px`,S(R))});const _=we("EmptyPlaceholder"),m=we("FillerRow")||i2,d=we("TableBodyComponent"),f=we("paddingTopAddition"),g=we("statefulTotalCount"),y=we("context");if(g===0&&_)return Se.jsx(_,{...pt(_,y)});const w=(t?e.topItems:[]).reduce((R,M)=>R+M.size,0),C=e.offsetTop+f+v-w,x=e.offsetBottom,b=C>0?Se.jsx(m,{context:y,height:C},"padding-top"):null,E=x>0?Se.jsx(m,{context:y,height:x},"padding-bottom"):null;return Se.jsxs(d,{"data-testid":"virtuoso-item-list",ref:c,...pt(d,y),children:[b,t&&Se.jsx(Td,{showTopList:!0}),Se.jsx(Td,{}),E]})}),a2=({children:e})=>{const t=I.useContext(Xg),r=ir("viewportHeight"),n=ir("fixedItemHeight"),i=vn(I.useMemo(()=>Ks(r,o=>Gr(o,"height")),[r]),!0,we("skipAnimationFrameInResizeObserver"));return I.useEffect(()=>{t&&(r(t.viewportHeight),n(t.itemHeight))},[t,r,n]),Se.jsx("div",{"data-viewport-type":"element",ref:i,style:So(),children:e})},l2=({children:e})=>{const t=I.useContext(Xg),r=ir("windowViewportRect"),n=ir("fixedItemHeight"),i=we("customScrollParent"),o=Mg(r,i,we("skipAnimationFrameInResizeObserver"));return I.useEffect(()=>{t&&(n(t.itemHeight),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,r,n]),Se.jsx("div",{"data-viewport-type":"window",ref:o,style:So(),children:e})},c2=I.memo(function(e){const t=we("useWindowScroll"),r=we("customScrollParent"),n=ir("fixedHeaderHeight"),i=ir("fixedFooterHeight"),o=we("fixedHeaderContent"),l=we("fixedFooterContent"),s=we("context"),a=vn(I.useMemo(()=>Ks(n,d=>Gr(d,"height")),[n]),!0,we("skipAnimationFrameInResizeObserver")),u=vn(I.useMemo(()=>Ks(i,d=>Gr(d,"height")),[i]),!0,we("skipAnimationFrameInResizeObserver")),h=r||t?d2:h2,c=r||t?l2:a2,p=we("TableComponent"),v=we("TableHeadComponent"),S=we("TableFooterComponent"),_=o?Se.jsx(v,{ref:a,style:{position:"sticky",top:0,zIndex:2},...pt(v,s),children:o()},"TableHead"):null,m=l?Se.jsx(S,{ref:u,style:{bottom:0,position:"sticky",zIndex:1},...pt(S,s),children:l()},"TableFoot"):null;return Se.jsx(h,{...e,...pt(h,s),children:Se.jsx(c,{children:Se.jsxs(p,{style:{borderSpacing:0,overflowAnchor:"none"},...pt(p,s),children:[_,Se.jsx(o2,{},"TableBody"),m]})})})}),{Component:u2,useEmitter:Pc,useEmitterValue:we,usePublisher:ir}=Zg(r2,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},c2),h2=tv({useEmitter:Pc,useEmitterValue:we,usePublisher:ir}),d2=rv({useEmitter:Pc,useEmitterValue:we,usePublisher:ir}),UM=u2,Dd={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},f2={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:Rd,floor:Js,max:bi,min:Ea,round:Md}=Math;function Ad(e,t,r){return Array.from({length:t-e+1}).map((n,i)=>({data:r===null?null:r[i+e],index:i+e}))}function m2(e){return{...f2,items:e}}function Cs(e,t){return e&&e.width===t.width&&e.height===t.height}function p2(e,t){return e&&e.column===t.column&&e.row===t.row}const g2=Ae(([{increaseViewportBy:e,listBoundary:t,overscan:r,visibleRange:n},{footerHeight:i,headerHeight:o,scrollBy:l,scrollContainerState:s,scrollTo:a,scrollTop:u,smoothScrollTargetReached:h,viewportHeight:c},p,v,{didMount:S,propsReady:_},{customScrollParent:m,useWindowScroll:d,windowScrollContainerState:f,windowScrollTo:g,windowViewportRect:y},w])=>{const C=J(0),x=J(0),b=J(Dd),E=J({height:0,width:0}),R=J({height:0,width:0}),M=De(),L=De(),D=J(0),B=J(null),$=J({column:0,row:0}),z=De(),U=De(),W=J(!1),T=J(0),A=J(!0),P=J(!1),O=J(!1);Le(X(S,xe(T),ve(([k,V])=>!!V)),()=>{Ce(A,!1)}),Le(X(ct(S,A,R,E,T,P),ve(([k,V,G,Z,,K])=>k&&!V&&G.height!==0&&Z.height!==0&&!K)),([,,,,k])=>{Ce(P,!0),Rc(1,()=>{Ce(M,k)}),nr(X(u),()=>{Ce(t,[0,0]),Ce(A,!0)})}),oe(X(U,ve(k=>k!=null&&k.scrollTop>0),hr(0)),x),Le(X(S,xe(U),ve(([,k])=>k!=null)),([,k])=>{k&&(Ce(E,k.viewport),Ce(R,k.item),Ce($,k.gap),k.scrollTop>0&&(Ce(W,!0),nr(X(u,gn(1)),V=>{Ce(W,!1)}),Ce(a,{top:k.scrollTop})))}),oe(X(E,ne(({height:k})=>k)),c),oe(X(ct(pe(E,Cs),pe(R,Cs),pe($,(k,V)=>k&&k.column===V.column&&k.row===V.row),pe(u)),ne(([k,V,G,Z])=>({gap:G,item:V,scrollTop:Z,viewport:k}))),z),oe(X(ct(pe(C),n,pe($,p2),pe(R,Cs),pe(E,Cs),pe(B),pe(x),pe(W),pe(A),pe(T)),ve(([,,,,,,,k])=>!k),ne(([k,[V,G],Z,K,ue,ee,ke,,Be,ie])=>{const{column:tt,row:qe}=Z,{height:ut,width:Dt}=K,{width:Ne}=ue;if(ke===0&&(k===0||Ne===0))return Dd;if(Dt===0){const xt=Mc(ie,k),be=xt+Math.max(ke-1,0);return m2(Ad(xt,be,ee))}const Re=nv(Ne,Dt,tt);let st,$e;Be?V===0&&G===0&&ke>0?(st=0,$e=ke-1):(st=Re*Js((V+qe)/(ut+qe)),$e=Re*Rd((G+qe)/(ut+qe))-1,$e=Ea(k-1,bi($e,Re-1)),st=Ea($e,bi(0,st))):(st=0,$e=-1);const ft=Ad(st,$e,ee),{bottom:$t,top:rt}=Od(ue,Z,K,ft),bt=Rd(k/Re),Xe=bt*ut+(bt-1)*qe-$t;return{bottom:$t,itemHeight:ut,items:ft,itemWidth:Dt,offsetBottom:Xe,offsetTop:rt,top:rt}})),b),oe(X(B,ve(k=>k!==null),ne(k=>k.length)),C),oe(X(ct(E,R,b,$),ve(([k,V,{items:G}])=>G.length>0&&V.height!==0&&k.height!==0),ne(([k,V,{items:G},Z])=>{const{bottom:K,top:ue}=Od(k,Z,V,G);return[ue,K]}),We(Bi)),t);const N=J(!1);oe(X(u,xe(N),ne(([k,V])=>V||k!==0)),N);const j=Ft(X(ct(b,C),ve(([{items:k}])=>k.length>0),xe(N),ve(([[k,V],G])=>{const Z=k.items[k.items.length-1].index===V-1;return(G||k.bottom>0&&k.itemHeight>0&&k.offsetBottom===0&&k.items.length===V)&&Z}),ne(([[,k]])=>k-1),We())),q=Ft(X(pe(b),ve(({items:k})=>k.length>0&&k[0].index===0),hr(0),We())),Y=Ft(X(pe(b),xe(W),ve(([{items:k},V])=>k.length>0&&!V),ne(([{items:k}])=>({endIndex:k[k.length-1].index,startIndex:k[0].index})),We(Bg),Dr(0)));oe(Y,v.scrollSeekRangeChanged),oe(X(M,xe(E,R,C,$),ne(([k,V,G,Z,K])=>{const ue=$g(k),{align:ee,behavior:ke,offset:Be}=ue;let ie=ue.index;ie==="LAST"&&(ie=Z-1),ie=bi(0,ie,Ea(Z-1,ie));let tt=El(V,K,G,ie);return ee==="end"?tt=Md(tt-V.height+G.height):ee==="center"&&(tt=Md(tt-V.height/2+G.height/2)),Be&&(tt+=Be),{behavior:ke,top:tt}})),a);const F=Ct(X(b,ne(k=>k.offsetBottom+k.bottom)),0);return oe(X(y,ne(k=>({height:k.visibleHeight,width:k.visibleWidth}))),E),{customScrollParent:m,data:B,deviation:D,footerHeight:i,gap:$,headerHeight:o,increaseViewportBy:e,initialItemCount:x,itemDimensions:R,overscan:r,restoreStateFrom:U,scrollBy:l,scrollContainerState:s,scrollHeight:L,scrollTo:a,scrollToIndex:M,scrollTop:u,smoothScrollTargetReached:h,totalCount:C,useWindowScroll:d,viewportDimensions:E,windowScrollContainerState:f,windowScrollTo:g,windowViewportRect:y,...v,gridState:b,horizontalDirection:O,initialTopMostItemIndex:T,totalListHeight:F,...p,endReached:j,propsReady:_,rangeChanged:Y,startReached:q,stateChanged:z,stateRestoreInProgress:W,...w}},ze(Ac,Tt,ts,Gg,Jr,Oc,Xr));function nv(e,t,r){return bi(1,Js((e+r)/(Js(t)+r)))}function Od(e,t,r,n){const{height:i}=r;if(i===void 0||n.length===0)return{bottom:0,top:0};const o=El(e,t,r,n[0].index);return{bottom:El(e,t,r,n[n.length-1].index)+i,top:o}}function El(e,t,r,n){const i=nv(e.width,r.width,t.column),o=Js(n/i),l=o*r.height+bi(0,o-1)*t.row;return l>0?l+t.row:l}const v2=Ae(()=>{const e=J(c=>`Item ${c}`),t=J({}),r=J(null),n=J("virtuoso-grid-item"),i=J("virtuoso-grid-list"),o=J(Lc),l=J("div"),s=J(Ji),a=(c,p=null)=>Ct(X(t,ne(v=>v[c]),We()),p),u=J(!1),h=J(!1);return oe(pe(h),u),{components:t,computeItemKey:o,context:r,FooterComponent:a("Footer"),HeaderComponent:a("Header"),headerFooterTag:l,itemClassName:n,ItemComponent:a("Item","div"),itemContent:e,listClassName:i,ListComponent:a("List","div"),readyStateChanged:u,reportReadyState:h,ScrollerComponent:a("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:a("ScrollSeekPlaceholder","div")}}),_2=Ae(([e,t])=>({...e,...t}),ze(g2,v2)),y2=I.memo(function(){const e=Ue("gridState"),t=Ue("listClassName"),r=Ue("itemClassName"),n=Ue("itemContent"),i=Ue("computeItemKey"),o=Ue("isSeeking"),l=Kt("scrollHeight"),s=Ue("ItemComponent"),a=Ue("ListComponent"),u=Ue("ScrollSeekPlaceholder"),h=Ue("context"),c=Kt("itemDimensions"),p=Kt("gap"),v=Ue("log"),S=Ue("stateRestoreInProgress"),_=Kt("reportReadyState"),m=vn(I.useMemo(()=>d=>{const f=d.parentElement.parentElement.scrollHeight;l(f);const g=d.firstChild;if(g){const{height:y,width:w}=g.getBoundingClientRect();c({height:y,width:w})}p({column:Id("column-gap",getComputedStyle(d).columnGap,v),row:Id("row-gap",getComputedStyle(d).rowGap,v)})},[l,c,p,v]),!0,!1);return Qg(()=>{e.itemHeight>0&&e.itemWidth>0&&_(!0)},[e]),S?null:Se.jsx(a,{className:t,ref:m,...pt(a,h),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(d=>{const f=i(d.index,d.data,h);return o?Se.jsx(u,{...pt(u,h),height:e.itemHeight,index:d.index,width:e.itemWidth},f):H.createElement(s,{...pt(s,h),className:r,"data-index":d.index,key:f},n(d.index,d.data,h))})})}),S2=I.memo(function(){const e=Ue("HeaderComponent"),t=Kt("headerHeight"),r=Ue("headerFooterTag"),n=vn(I.useMemo(()=>o=>{t(Gr(o,"height"))},[t]),!0,!1),i=Ue("context");return e?Se.jsx(r,{ref:n,children:Se.jsx(e,{...pt(e,i)})}):null}),w2=I.memo(function(){const e=Ue("FooterComponent"),t=Kt("footerHeight"),r=Ue("headerFooterTag"),n=vn(I.useMemo(()=>o=>{t(Gr(o,"height"))},[t]),!0,!1),i=Ue("context");return e?Se.jsx(r,{ref:n,children:Se.jsx(e,{...pt(e,i)})}):null}),C2=({children:e})=>{const t=I.useContext(Jg),r=Kt("itemDimensions"),n=Kt("viewportDimensions"),i=vn(I.useMemo(()=>o=>{n(o.getBoundingClientRect())},[n]),!0,!1);return I.useEffect(()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),r({height:t.itemHeight,width:t.itemWidth}))},[t,n,r]),Se.jsx("div",{ref:i,style:So(),children:e})},b2=({children:e})=>{const t=I.useContext(Jg),r=Kt("windowViewportRect"),n=Kt("itemDimensions"),i=Ue("customScrollParent"),o=Mg(r,i,!1);return I.useEffect(()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,r,n]),Se.jsx("div",{ref:o,style:So(),children:e})},x2=I.memo(function({...e}){const t=Ue("useWindowScroll"),r=Ue("customScrollParent"),n=r||t?k2:E2,i=r||t?b2:C2,o=Ue("context");return Se.jsx(n,{...e,...pt(n,o),children:Se.jsxs(i,{children:[Se.jsx(S2,{}),Se.jsx(y2,{}),Se.jsx(w2,{})]})})}),{useEmitter:iv,useEmitterValue:Ue,usePublisher:Kt}=Zg(_2,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},x2),E2=tv({useEmitter:iv,useEmitterValue:Ue,usePublisher:Kt}),k2=rv({useEmitter:iv,useEmitterValue:Ue,usePublisher:Kt});function Id(e,t,r){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&r(`${e} was not resolved to pixel value correctly`,t,Ht.WARN),t==="normal"?0:parseInt(t??"0",10)}export{SM as $,tM as A,G2 as B,J2 as C,AM as D,lM as E,hM as F,yM as G,EM as H,vM as I,iM as J,IM as K,DM as L,gM as M,CM as N,fM as O,_M as P,_e as Q,dy as R,bM as S,xM as T,TM as U,LM as V,I2 as W,eM as X,MM as Y,Q2 as Z,PM as _,V2 as a,RM as a0,NM as a1,HM as a2,BM as a3,oM as a4,lD as a5,VM as a6,X2 as a7,rM as a8,FM as a9,UM as aa,uM as ab,dM as ac,zM as ad,WM as ae,$M as af,wM as ag,K2 as ah,z2 as b,j2 as c,Wc as d,F2 as e,W2 as f,q2 as g,U2 as h,L2 as i,w_ as j,B2 as k,$2 as l,Y2 as m,nM as n,N2 as o,P2 as p,Z2 as q,pM as r,A2 as s,O2 as t,H2 as u,sM as v,cM as w,mM as x,kM as y,aM as z};
