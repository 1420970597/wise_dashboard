<!doctype html>
<html>
  <head>
    <script>
      // 在页面渲染前就执行主题初始化
      try {
        const storageKey = "vite-ui-theme"
        let theme = localStorage.getItem(storageKey)
        if (theme === "system" || !theme) {
          theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light"
        }
        document.documentElement.classList.add(theme)
      } catch (e) {
        document.documentElement.classList.add("light")
      }
    </script>
    <style>
      /* Prevent FOUC in Safari */
      html:not(.dark):not(.light) * {
        visibility: hidden;
      }

      :root {
        color-scheme: light;
        --bg: #ffffff;
      }

      html.dark {
        color-scheme: dark;
        --bg: #242424;
      }

      html.light {
        color-scheme: light;
        --bg: #ffffff;
      }

      html {
        background-color: var(--bg) !important;
      }

      body {
        background-color: var(--bg) !important;
      }

      #root {
        background-color: var(--bg) !important;
        visibility: hidden;
      }

      #root.loaded {
        visibility: visible;
        animation: fadein 0.2s;
      }

      @keyframes fadein {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
    </style>
    <script>
      ;(function () {
        const storageKey = "vite-ui-theme"
        const theme = localStorage.getItem(storageKey) || "system"
        const root = document.documentElement

        function updateThemeColor(isDark) {
          const themeColor = isDark ? "#242424" : "#fafafa"
          document.querySelector('meta[name="theme-color"]')?.setAttribute("content", themeColor)
        }

        function setTheme(newTheme) {
          root.classList.remove("light", "dark")
          root.classList.add(newTheme)
          updateThemeColor(newTheme === "dark")
        }

        if (theme === "system") {
          const systemTheme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light"
          setTheme(systemTheme)

          window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (e) => {
            setTheme(e.matches ? "dark" : "light")
          })
        } else {
          setTheme(theme)
        }

        // Add loaded class after React has mounted
        window.addEventListener("load", () => {
          const root = document.getElementById("root")
          if (root) {
            // 使用 RAF 确保在下一帧渲染
            requestAnimationFrame(() => {
              requestAnimationFrame(() => {
                root.classList.add("loaded")
              })
            })
          }
        })
      })()
    </script>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/apple-touch-icon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>哪吒监控 Nezha Monitoring</title>

    <!-- PWA -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="hsl(0 0% 98%)" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Nezha Monitoring" />
    <link rel="apple-touch-icon" href="/android-chrome-192x192.png" />

    <link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/lipis/flag-icons@7.0.0/css/flag-icons.min.css" />
    <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/font-logos@1/assets/font-logos.css" />
    <script type="module" crossorigin src="/assets/index.Cuyucl6e.js"></script>
    <link rel="modulepreload" crossorigin href="/assets/cookie.CY119PWS.js">
    <link rel="modulepreload" crossorigin href="/assets/react.DgAoxHLg.js">
    <link rel="modulepreload" crossorigin href="/assets/@tanstack.CikJw9XV.js">
    <link rel="modulepreload" crossorigin href="/assets/scheduler.BNqrtbQi.js">
    <link rel="modulepreload" crossorigin href="/assets/react-dom.JbxUwDTu.js">
    <link rel="modulepreload" crossorigin href="/assets/sonner.ogZZ7mS8.js">
    <link rel="modulepreload" crossorigin href="/assets/clsx.B-dksMZM.js">
    <link rel="modulepreload" crossorigin href="/assets/dayjs.DKiog7sr.js">
    <link rel="modulepreload" crossorigin href="/assets/tailwind-merge.D696Ktp4.js">
    <link rel="modulepreload" crossorigin href="/assets/tslib.CDuPK5Eb.js">
    <link rel="modulepreload" crossorigin href="/assets/get-nonce.C-Z93AgS.js">
    <link rel="modulepreload" crossorigin href="/assets/react-style-singleton.xL3wDk2D.js">
    <link rel="modulepreload" crossorigin href="/assets/react-remove-scroll-bar.B5OzcDMZ.js">
    <link rel="modulepreload" crossorigin href="/assets/use-sidecar.BrWDbX6R.js">
    <link rel="modulepreload" crossorigin href="/assets/use-callback-ref.4p6boKwx.js">
    <link rel="modulepreload" crossorigin href="/assets/react-remove-scroll.BvbDis4L.js">
    <link rel="modulepreload" crossorigin href="/assets/aria-hidden.DvXkyWUv.js">
    <link rel="modulepreload" crossorigin href="/assets/@floating-ui.CfeHghFT.js">
    <link rel="modulepreload" crossorigin href="/assets/@radix-ui.CBjXGhW6.js">
    <link rel="modulepreload" crossorigin href="/assets/lucide-react.C3LfqSA4.js">
    <link rel="modulepreload" crossorigin href="/assets/cmdk.mwQRovxQ.js">
    <link rel="modulepreload" crossorigin href="/assets/react-router.BU8YW4E-.js">
    <link rel="modulepreload" crossorigin href="/assets/react-i18next.DL3Xsuzl.js">
    <link rel="modulepreload" crossorigin href="/assets/class-variance-authority.CUqo0Wgp.js">
    <link rel="modulepreload" crossorigin href="/assets/@heroicons.BMK2tJMW.js">
    <link rel="modulepreload" crossorigin href="/assets/number-flow.CoOLLoAi.js">
    <link rel="modulepreload" crossorigin href="/assets/@number-flow.BghH9KWP.js">
    <link rel="modulepreload" crossorigin href="/assets/luxon.DcQSltNB.js">
    <link rel="modulepreload" crossorigin href="/assets/motion-utils.CjIqCkNq.js">
    <link rel="modulepreload" crossorigin href="/assets/motion-dom.DRLDS-o7.js">
    <link rel="modulepreload" crossorigin href="/assets/framer-motion.l_ahA8tl.js">
    <link rel="modulepreload" crossorigin href="/assets/d3-array.D58Sek1Z.js">
    <link rel="modulepreload" crossorigin href="/assets/d3-geo.DfzRI0Vw.js">
    <link rel="modulepreload" crossorigin href="/assets/country-flag-icons.D4lwPBzr.js">
    <link rel="modulepreload" crossorigin href="/assets/lodash.xNLoP_WZ.js">
    <link rel="modulepreload" crossorigin href="/assets/tiny-invariant.BaFNuDhB.js">
    <link rel="modulepreload" crossorigin href="/assets/react-is.BpBQ4hf7.js">
    <link rel="modulepreload" crossorigin href="/assets/d3-path.CimkQT29.js">
    <link rel="modulepreload" crossorigin href="/assets/d3-shape.BzTdDXm-.js">
    <link rel="modulepreload" crossorigin href="/assets/prop-types.DohLfCOR.js">
    <link rel="modulepreload" crossorigin href="/assets/fast-equals.jtQY2-DT.js">
    <link rel="modulepreload" crossorigin href="/assets/react-smooth.BprSzKqc.js">
    <link rel="modulepreload" crossorigin href="/assets/internmap.BkD7Hj8s.js">
    <link rel="modulepreload" crossorigin href="/assets/d3-time.D3vfyj6H.js">
    <link rel="modulepreload" crossorigin href="/assets/d3-time-format.DcBaTboK.js">
    <link rel="modulepreload" crossorigin href="/assets/d3-color.9lF95FHy.js">
    <link rel="modulepreload" crossorigin href="/assets/d3-interpolate.B3PSBtlY.js">
    <link rel="modulepreload" crossorigin href="/assets/d3-format.CzD4bSOQ.js">
    <link rel="modulepreload" crossorigin href="/assets/d3-scale.B-kmDnyi.js">
    <link rel="modulepreload" crossorigin href="/assets/victory-vendor.B8cZCsSC.js">
    <link rel="modulepreload" crossorigin href="/assets/decimal.js-light.ZKFLnszB.js">
    <link rel="modulepreload" crossorigin href="/assets/recharts-scale.DvxaJYSb.js">
    <link rel="modulepreload" crossorigin href="/assets/eventemitter3.Sdgem2A8.js">
    <link rel="modulepreload" crossorigin href="/assets/recharts.C9vl5lTL.js">
    <link rel="modulepreload" crossorigin href="/assets/diacritics.BVTyVR-8.js">
    <link rel="modulepreload" crossorigin href="/assets/i18n-iso-countries.ChYdZHhl.js">
    <link rel="modulepreload" crossorigin href="/assets/i18next.C77IuWVK.js">
    <link rel="stylesheet" crossorigin href="/assets/index.X4NUCcfy.css">
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
