function M(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function F(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function q(n){let e,i,t;n.length!==2?(e=M,i=(f,c)=>M(n(f),c),t=(f,c)=>n(f)-c):(e=n===M||n===F?n:I,i=n,t=n);function u(f,c,r=0,d=f.length){if(r<d){if(e(c,c)!==0)return d;do{const h=r+d>>>1;i(f[h],c)<0?r=h+1:d=h}while(r<d)}return r}function o(f,c,r=0,d=f.length){if(r<d){if(e(c,c)!==0)return d;do{const h=r+d>>>1;i(f[h],c)<=0?r=h+1:d=h}while(r<d)}return r}function l(f,c,r=0,d=f.length){const h=u(f,c,r,d-1);return h>r&&t(f[h-1],c)>-t(f[h],c)?h-1:h}return{left:u,center:l,right:o}}function I(){return 0}function A(n){return n===null?NaN:+n}function*R(n,e){for(let i of n)i!=null&&(i=+i)>=i&&(yield i)}const j=q(M),v=j.right;q(A).center;class C{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let t=0;for(let u=0;u<this._n&&u<32;u++){const o=i[u],l=e+o,f=Math.abs(e)<Math.abs(o)?e-(l-o):o-(l-e);f&&(i[t++]=f),e=l}return i[t]=e,this._n=t+1,this}valueOf(){const e=this._partials;let i=this._n,t,u,o,l=0;if(i>0){for(l=e[--i];i>0&&(t=l,u=e[--i],l=t+u,o=u-(l-t),!o););i>0&&(o<0&&e[i-1]<0||o>0&&e[i-1]>0)&&(u=o*2,t=l+u,u==t-l&&(l=t))}return l}}function B(n=M){if(n===M)return _;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,i)=>{const t=n(e,i);return t||t===0?t:(n(i,i)===0)-(n(e,e)===0)}}function _(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const E=Math.sqrt(50),L=Math.sqrt(10),O=Math.sqrt(2);function w(n,e,i){const t=(e-n)/Math.max(0,i),u=Math.floor(Math.log10(t)),o=t/Math.pow(10,u),l=o>=E?10:o>=L?5:o>=O?2:1;let f,c,r;return u<0?(r=Math.pow(10,-u)/l,f=Math.round(n*r),c=Math.round(e*r),f/r<n&&++f,c/r>e&&--c,r=-r):(r=Math.pow(10,u)*l,f=Math.round(n/r),c=Math.round(e/r),f*r<n&&++f,c*r>e&&--c),c<f&&.5<=i&&i<2?w(n,e,i*2):[f,c,r]}function G(n,e,i){if(e=+e,n=+n,i=+i,!(i>0))return[];if(n===e)return[n];const t=e<n,[u,o,l]=t?w(e,n,i):w(n,e,i);if(!(o>=u))return[];const f=o-u+1,c=new Array(f);if(t)if(l<0)for(let r=0;r<f;++r)c[r]=(o-r)/-l;else for(let r=0;r<f;++r)c[r]=(o-r)*l;else if(l<0)for(let r=0;r<f;++r)c[r]=(u+r)/-l;else for(let r=0;r<f;++r)c[r]=(u+r)*l;return c}function N(n,e,i){return e=+e,n=+n,i=+i,w(n,e,i)[2]}function H(n,e,i){e=+e,n=+n,i=+i;const t=e<n,u=t?N(e,n,i):N(n,e,i);return(t?-1:1)*(u<0?1/-u:u)}function a(n,e){let i;for(const t of n)t!=null&&(i<t||i===void 0&&t>=t)&&(i=t);return i}function g(n,e){let i;for(const t of n)t!=null&&(i>t||i===void 0&&t>=t)&&(i=t);return i}function S(n,e,i=0,t=1/0,u){if(e=Math.floor(e),i=Math.floor(Math.max(0,i)),t=Math.floor(Math.min(n.length-1,t)),!(i<=e&&e<=t))return n;for(u=u===void 0?_:B(u);t>i;){if(t-i>600){const c=t-i+1,r=e-i+1,d=Math.log(c),h=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*h*(c-h)/c)*(r-c/2<0?-1:1),z=Math.max(i,Math.floor(e-r*h/c+m)),D=Math.min(t,Math.floor(e+(c-r)*h/c+m));S(n,e,z,D,u)}const o=n[e];let l=i,f=t;for(s(n,i,e),u(n[t],o)>0&&s(n,i,t);l<f;){for(s(n,l,f),++l,--f;u(n[l],o)<0;)++l;for(;u(n[f],o)>0;)--f}u(n[i],o)===0?s(n,i,f):(++f,s(n,f,t)),f<=e&&(i=f+1),e<=f&&(t=f-1)}return n}function s(n,e,i){const t=n[e];n[e]=n[i],n[i]=t}function J(n,e,i){if(n=Float64Array.from(R(n)),!(!(t=n.length)||isNaN(e=+e))){if(e<=0||t<2)return g(n);if(e>=1)return a(n);var t,u=(t-1)*e,o=Math.floor(u),l=a(S(n,o).subarray(0,o+1)),f=g(n.subarray(o+1));return l+(f-l)*(u-o)}}function K(n,e,i=A){if(!(!(t=n.length)||isNaN(e=+e))){if(e<=0||t<2)return+i(n[0],0,n);if(e>=1)return+i(n[t-1],t-1,n);var t,u=(t-1)*e,o=Math.floor(u),l=+i(n[o],o,n),f=+i(n[o+1],o+1,n);return l+(f-l)*(u-o)}}function*T(n){for(const e of n)yield*e}function P(n){return Array.from(T(n))}function Q(n,e,i){n=+n,e=+e,i=(u=arguments.length)<2?(e=n,n=0,1):u<3?1:+i;for(var t=-1,u=Math.max(0,Math.ceil((e-n)/i))|0,o=new Array(u);++t<u;)o[t]=n+t*i;return o}export{C as A,G as a,v as b,N as c,M as d,J as e,q as f,P as m,K as q,Q as r,H as t};
