import{A as b,m as wt}from"./d3-array.D58Sek1Z.js";var T=1e-6,$=Math.PI,W=$/2,nt=$/4,J=$*2,k=180/$,G=$/180,q=Math.abs,Ft=Math.atan,hn=Math.atan2,F=Math.cos,X=Math.sin,Xt=Math.sign||function(n){return n>0?1:n<0?-1:0},tn=Math.sqrt;function Yt(n){return n>1?0:n<-1?$:Math.acos(n)}function gn(n){return n>1?W:n<-1?-W:Math.asin(n)}function m(){}function Pn(n,t){n&&it.hasOwnProperty(n.type)&&it[n.type](n,t)}var tt={Feature:function(n,t){Pn(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)Pn(r[i].geometry,t)}},it={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){Xn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)Xn(r[i],t,0)},Polygon:function(n,t){rt(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)rt(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)Pn(r[i],t)}};function Xn(n,t,r){var i=-1,e=n.length-r,a;for(t.lineStart();++i<e;)a=n[i],t.point(a[0],a[1],a[2]);t.lineEnd()}function rt(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)Xn(n[r],t,1);t.polygonEnd()}function en(n,t){n&&tt.hasOwnProperty(n.type)?tt[n.type](n,t):Pn(n,t)}function Yn(n){return[hn(n[1],n[0]),gn(n[2])]}function un(n){var t=n[0],r=n[1],i=F(r);return[i*F(t),i*X(t),X(r)]}function En(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Nn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Cn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function wn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Zn(n){var t=tn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Bn(n,t){function r(i,e){return i=n(i,e),t(i[0],i[1])}return n.invert&&t.invert&&(r.invert=function(i,e){return i=t.invert(i,e),i&&n.invert(i[0],i[1])}),r}function Gn(n,t){return q(n)>$&&(n-=Math.round(n/J)*J),[n,t]}Gn.invert=Gn;function Zt(n,t,r){return(n%=J)?t||r?Bn(ot(n),ut(t,r)):ot(n):t||r?ut(t,r):Gn}function et(n){return function(t,r){return t+=n,q(t)>$&&(t-=Math.round(t/J)*J),[t,r]}}function ot(n){var t=et(n);return t.invert=et(-n),t}function ut(n,t){var r=F(n),i=X(n),e=F(t),a=X(t);function p(u,v){var g=F(v),o=F(u)*g,f=X(u)*g,l=X(v),s=l*r+o*i;return[hn(f*e-s*a,o*r-l*i),gn(s*e+f*a)]}return p.invert=function(u,v){var g=F(v),o=F(u)*g,f=X(u)*g,l=X(v),s=l*e-f*a;return[hn(f*e+l*a,o*r+s*i),gn(s*r-o*i)]},p}function Bt(n,t,r,i,e,a){if(r){var p=F(t),u=X(t),v=i*r;e==null?(e=t+i*J,a=t-v/2):(e=ft(p,e),a=ft(p,a),(i>0?e<a:e>a)&&(e+=i*J));for(var g,o=e;i>0?o>a:o<a;o-=v)g=Yn([p,-u*F(o),-u*X(o)]),n.point(g[0],g[1])}}function ft(n,t){t=un(t),t[0]-=n,Zn(t);var r=Yt(-t[1]);return((-t[2]<0?-r:r)+J-T)%J}function _t(){var n=[],t;return{point:function(r,i,e){t.push([r,i,e])},lineStart:function(){n.push(t=[])},lineEnd:m,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Mn(n,t){return q(n[0]-t[0])<T&&q(n[1]-t[1])<T}function _n(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function yt(n,t,r,i,e){var a=[],p=[],u,v;if(n.forEach(function(h){if(!((_=h.length-1)<=0)){var _,d=h[0],P=h[_],E;if(Mn(d,P)){if(!d[2]&&!P[2]){for(e.lineStart(),u=0;u<_;++u)e.point((d=h[u])[0],d[1]);e.lineEnd();return}P[0]+=2*T}a.push(E=new _n(d,h,null,!0)),p.push(E.o=new _n(d,null,E,!1)),a.push(E=new _n(P,h,null,!1)),p.push(E.o=new _n(P,null,E,!0))}}),!!a.length){for(p.sort(t),lt(a),lt(p),u=0,v=p.length;u<v;++u)p[u].e=r=!r;for(var g=a[0],o,f;;){for(var l=g,s=!0;l.v;)if((l=l.n)===g)return;o=l.z,e.lineStart();do{if(l.v=l.o.v=!0,l.e){if(s)for(u=0,v=o.length;u<v;++u)e.point((f=o[u])[0],f[1]);else i(l.x,l.n.x,1,e);l=l.n}else{if(s)for(o=l.p.z,u=o.length-1;u>=0;--u)e.point((f=o[u])[0],f[1]);else i(l.x,l.p.x,-1,e);l=l.p}l=l.o,o=l.z,s=!s}while(!l.v);e.lineEnd()}}}function lt(n){if(t=n.length){for(var t,r=0,i=n[0],e;++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function qn(n){return q(n[0])<=$?n[0]:Xt(n[0])*((q(n[0])+$)%J-$)}function Gt(n,t){var r=qn(t),i=t[1],e=X(i),a=[X(r),-F(r),0],p=0,u=0,v=new b;e===1?i=W+T:e===-1&&(i=-W-T);for(var g=0,o=n.length;g<o;++g)if(l=(f=n[g]).length)for(var f,l,s=f[l-1],h=qn(s),_=s[1]/2+nt,d=X(_),P=F(_),E=0;E<l;++E,h=S,d=M,P=z,s=y){var y=f[E],S=qn(y),R=y[1]/2+nt,M=X(R),z=F(R),I=S-h,L=I>=0?1:-1,C=L*I,w=C>$,Z=d*M;if(v.add(hn(Z*L*X(C),P*z+Z*F(C))),p+=w?I+L*J:I,w^h>=r^S>=r){var D=Nn(un(s),un(y));Zn(D);var A=Nn(a,D);Zn(A);var c=(w^I>=0?-1:1)*gn(A[2]);(i>c||i===c&&(D[0]||D[1]))&&(u+=w^I>=0?1:-1)}}return(p<-1e-6||p<T&&v<-1e-12)^u&1}function Rt(n,t,r,i){return function(e){var a=t(e),p=_t(),u=t(p),v=!1,g,o,f,l={point:s,lineStart:_,lineEnd:d,polygonStart:function(){l.point=P,l.lineStart=E,l.lineEnd=y,o=[],g=[]},polygonEnd:function(){l.point=s,l.lineStart=_,l.lineEnd=d,o=wt(o);var S=Gt(g,i);o.length?(v||(e.polygonStart(),v=!0),yt(o,Ot,S,r,e)):S&&(v||(e.polygonStart(),v=!0),e.lineStart(),r(null,null,1,e),e.lineEnd()),v&&(e.polygonEnd(),v=!1),o=g=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function s(S,R){n(S,R)&&e.point(S,R)}function h(S,R){a.point(S,R)}function _(){l.point=h,a.lineStart()}function d(){l.point=s,a.lineEnd()}function P(S,R){f.push([S,R]),u.point(S,R)}function E(){u.lineStart(),f=[]}function y(){P(f[0][0],f[0][1]),u.lineEnd();var S=u.clean(),R=p.result(),M,z=R.length,I,L,C;if(f.pop(),g.push(f),f=null,!!z){if(S&1){if(L=R[0],(I=L.length-1)>0){for(v||(e.polygonStart(),v=!0),e.lineStart(),M=0;M<I;++M)e.point((C=L[M])[0],C[1]);e.lineEnd()}return}z>1&&S&2&&R.push(R.pop().concat(R.shift())),o.push(R.filter(Ht))}}return l}}function Ht(n){return n.length>1}function Ot(n,t){return((n=n.x)[0]<0?n[1]-W-T:W-n[1])-((t=t.x)[0]<0?t[1]-W-T:W-t[1])}const at=Rt(function(){return!0},Wt,Jt,[-$,-W]);function Wt(n){var t=NaN,r=NaN,i=NaN,e;return{lineStart:function(){n.lineStart(),e=1},point:function(a,p){var u=a>0?$:-$,v=q(a-t);q(v-$)<T?(n.point(t,r=(r+p)/2>0?W:-W),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(u,r),n.point(a,r),e=0):i!==u&&v>=$&&(q(t-i)<T&&(t-=i*T),q(a-u)<T&&(a-=u*T),r=mt(t,r,a,p),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(u,r),e=0),n.point(t=a,r=p),i=u},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-e}}}function mt(n,t,r,i){var e,a,p=X(n-r);return q(p)>T?Ft((X(t)*(a=F(i))*X(r)-X(i)*(e=F(t))*X(n))/(e*a*p)):(t+i)/2}function Jt(n,t,r,i){var e;if(n==null)e=r*W,i.point(-$,e),i.point(0,e),i.point($,e),i.point($,0),i.point($,-e),i.point(0,-e),i.point(-$,-e),i.point(-$,0),i.point(-$,e);else if(q(n[0]-t[0])>T){var a=n[0]<t[0]?$:-$;e=r*a/2,i.point(-a,e),i.point(0,e),i.point(a,e)}else i.point(t[0],t[1])}function Kt(n){var t=F(n),r=2*G,i=t>0,e=q(t)>T;function a(o,f,l,s){Bt(s,n,r,l,o,f)}function p(o,f){return F(o)*F(f)>t}function u(o){var f,l,s,h,_;return{lineStart:function(){h=s=!1,_=1},point:function(d,P){var E=[d,P],y,S=p(d,P),R=i?S?0:g(d,P):S?g(d+(d<0?$:-$),P):0;if(!f&&(h=s=S)&&o.lineStart(),S!==s&&(y=v(f,E),(!y||Mn(f,y)||Mn(E,y))&&(E[2]=1)),S!==s)_=0,S?(o.lineStart(),y=v(E,f),o.point(y[0],y[1])):(y=v(f,E),o.point(y[0],y[1],2),o.lineEnd()),f=y;else if(e&&f&&i^S){var M;!(R&l)&&(M=v(E,f,!0))&&(_=0,i?(o.lineStart(),o.point(M[0][0],M[0][1]),o.point(M[1][0],M[1][1]),o.lineEnd()):(o.point(M[1][0],M[1][1]),o.lineEnd(),o.lineStart(),o.point(M[0][0],M[0][1],3)))}S&&(!f||!Mn(f,E))&&o.point(E[0],E[1]),f=E,s=S,l=R},lineEnd:function(){s&&o.lineEnd(),f=null},clean:function(){return _|(h&&s)<<1}}}function v(o,f,l){var s=un(o),h=un(f),_=[1,0,0],d=Nn(s,h),P=En(d,d),E=d[0],y=P-E*E;if(!y)return!l&&o;var S=t*P/y,R=-t*E/y,M=Nn(_,d),z=wn(_,S),I=wn(d,R);Cn(z,I);var L=M,C=En(z,L),w=En(L,L),Z=C*C-w*(En(z,z)-1);if(!(Z<0)){var D=tn(Z),A=wn(L,(-C-D)/w);if(Cn(A,z),A=Yn(A),!l)return A;var c=o[0],N=f[0],Y=o[1],B=f[1],H;N<c&&(H=c,c=N,N=H);var ln=N-c,U=q(ln-$)<T,x=U||ln<T;if(!U&&B<Y&&(H=Y,Y=B,B=H),x?U?Y+B>0^A[1]<(q(A[0]-c)<T?Y:B):Y<=A[1]&&A[1]<=B:ln>$^(c<=A[0]&&A[0]<=N)){var V=wn(L,(-C+D)/w);return Cn(V,z),[A,Yn(V)]}}}function g(o,f){var l=i?n:$-n,s=0;return o<-l?s|=1:o>l&&(s|=2),f<-l?s|=4:f>l&&(s|=8),s}return Rt(p,u,a,i?[0,-n]:[-$,n-$])}function Qt(n,t,r,i,e,a){var p=n[0],u=n[1],v=t[0],g=t[1],o=0,f=1,l=v-p,s=g-u,h;if(h=r-p,!(!l&&h>0)){if(h/=l,l<0){if(h<o)return;h<f&&(f=h)}else if(l>0){if(h>f)return;h>o&&(o=h)}if(h=e-p,!(!l&&h<0)){if(h/=l,l<0){if(h>f)return;h>o&&(o=h)}else if(l>0){if(h<o)return;h<f&&(f=h)}if(h=i-u,!(!s&&h>0)){if(h/=s,s<0){if(h<o)return;h<f&&(f=h)}else if(s>0){if(h>f)return;h>o&&(o=h)}if(h=a-u,!(!s&&h<0)){if(h/=s,s<0){if(h>f)return;h>o&&(o=h)}else if(s>0){if(h<o)return;h<f&&(f=h)}return o>0&&(n[0]=p+o*l,n[1]=u+o*s),f<1&&(t[0]=p+f*l,t[1]=u+f*s),!0}}}}}var yn=1e9,Rn=-1e9;function Ut(n,t,r,i){function e(g,o){return n<=g&&g<=r&&t<=o&&o<=i}function a(g,o,f,l){var s=0,h=0;if(g==null||(s=p(g,f))!==(h=p(o,f))||v(g,o)<0^f>0)do l.point(s===0||s===3?n:r,s>1?i:t);while((s=(s+f+4)%4)!==h);else l.point(o[0],o[1])}function p(g,o){return q(g[0]-n)<T?o>0?0:3:q(g[0]-r)<T?o>0?2:1:q(g[1]-t)<T?o>0?1:0:o>0?3:2}function u(g,o){return v(g.x,o.x)}function v(g,o){var f=p(g,1),l=p(o,1);return f!==l?f-l:f===0?o[1]-g[1]:f===1?g[0]-o[0]:f===2?g[1]-o[1]:o[0]-g[0]}return function(g){var o=g,f=_t(),l,s,h,_,d,P,E,y,S,R,M,z={point:I,lineStart:Z,lineEnd:D,polygonStart:C,polygonEnd:w};function I(c,N){e(c,N)&&o.point(c,N)}function L(){for(var c=0,N=0,Y=s.length;N<Y;++N)for(var B=s[N],H=1,ln=B.length,U=B[0],x,V,Sn=U[0],rn=U[1];H<ln;++H)x=Sn,V=rn,U=B[H],Sn=U[0],rn=U[1],V<=i?rn>i&&(Sn-x)*(i-V)>(rn-V)*(n-x)&&++c:rn<=i&&(Sn-x)*(i-V)<(rn-V)*(n-x)&&--c;return c}function C(){o=f,l=[],s=[],M=!0}function w(){var c=L(),N=M&&c,Y=(l=wt(l)).length;(N||Y)&&(g.polygonStart(),N&&(g.lineStart(),a(null,null,1,g),g.lineEnd()),Y&&yt(l,u,c,a,g),g.polygonEnd()),o=g,l=s=h=null}function Z(){z.point=A,s&&s.push(h=[]),R=!0,S=!1,E=y=NaN}function D(){l&&(A(_,d),P&&S&&f.rejoin(),l.push(f.result())),z.point=I,S&&o.lineEnd()}function A(c,N){var Y=e(c,N);if(s&&h.push([c,N]),R)_=c,d=N,P=Y,R=!1,Y&&(o.lineStart(),o.point(c,N));else if(Y&&S)o.point(c,N);else{var B=[E=Math.max(Rn,Math.min(yn,E)),y=Math.max(Rn,Math.min(yn,y))],H=[c=Math.max(Rn,Math.min(yn,c)),N=Math.max(Rn,Math.min(yn,N))];Qt(B,H,n,t,r,i)?(S||(o.lineStart(),o.point(B[0],B[1])),o.point(H[0],H[1]),Y||o.lineEnd(),M=!1):Y&&(o.lineStart(),o.point(c,N),M=!1)}E=c,y=N,S=Y}return z}}const Hn=n=>n;var Dn=new b,On=new b,Mt,Pt,Wn,mn,j={point:m,lineStart:m,lineEnd:m,polygonStart:function(){j.lineStart=Vt,j.lineEnd=jt},polygonEnd:function(){j.lineStart=j.lineEnd=j.point=m,Dn.add(q(On)),On=new b},result:function(){var n=Dn/2;return Dn=new b,n}};function Vt(){j.point=kt}function kt(n,t){j.point=Nt,Mt=Wn=n,Pt=mn=t}function Nt(n,t){On.add(mn*n-Wn*t),Wn=n,mn=t}function jt(){Nt(Mt,Pt)}var fn=1/0,$n=fn,vn=-fn,In=vn,Ln={point:xt,lineStart:m,lineEnd:m,polygonStart:m,polygonEnd:m,result:function(){var n=[[fn,$n],[vn,In]];return vn=In=-($n=fn=1/0),n}};function xt(n,t){n<fn&&(fn=n),n>vn&&(vn=n),t<$n&&($n=t),t>In&&(In=t)}var Jn=0,Kn=0,an=0,zn=0,An=0,on=0,Qn=0,Un=0,cn=0,$t,It,K,Q,O={point:nn,lineStart:ct,lineEnd:pt,polygonStart:function(){O.lineStart=ti,O.lineEnd=ii},polygonEnd:function(){O.point=nn,O.lineStart=ct,O.lineEnd=pt},result:function(){var n=cn?[Qn/cn,Un/cn]:on?[zn/on,An/on]:an?[Jn/an,Kn/an]:[NaN,NaN];return Jn=Kn=an=zn=An=on=Qn=Un=cn=0,n}};function nn(n,t){Jn+=n,Kn+=t,++an}function ct(){O.point=bt}function bt(n,t){O.point=ni,nn(K=n,Q=t)}function ni(n,t){var r=n-K,i=t-Q,e=tn(r*r+i*i);zn+=e*(K+n)/2,An+=e*(Q+t)/2,on+=e,nn(K=n,Q=t)}function pt(){O.point=nn}function ti(){O.point=ri}function ii(){Lt($t,It)}function ri(n,t){O.point=Lt,nn($t=K=n,It=Q=t)}function Lt(n,t){var r=n-K,i=t-Q,e=tn(r*r+i*i);zn+=e*(K+n)/2,An+=e*(Q+t)/2,on+=e,e=Q*n-K*t,Qn+=e*(K+n),Un+=e*(Q+t),cn+=e*3,nn(K=n,Q=t)}function zt(n){this._context=n}zt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,J);break}}},result:m};var Vn=new b,Fn,At,Tt,pn,sn,dn={point:m,lineStart:function(){dn.point=ei},lineEnd:function(){Fn&&Ct(At,Tt),dn.point=m},polygonStart:function(){Fn=!0},polygonEnd:function(){Fn=null},result:function(){var n=+Vn;return Vn=new b,n}};function ei(n,t){dn.point=Ct,At=pn=n,Tt=sn=t}function Ct(n,t){pn-=n,sn-=t,Vn.add(tn(pn*pn+sn*sn)),pn=n,sn=t}let st,Tn,ht,gt;class vt{constructor(t){this._append=t==null?qt:oi(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:{this._append`M${t},${r}`,this._point=1;break}case 1:{this._append`L${t},${r}`;break}default:{if(this._append`M${t},${r}`,this._radius!==ht||this._append!==Tn){const i=this._radius,e=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,ht=i,Tn=this._append,gt=this._,this._=e}this._+=gt;break}}}result(){const t=this._;return this._="",t.length?t:null}}function qt(n){let t=1;this._+=n[0];for(const r=n.length;t<r;++t)this._+=arguments[t]+n[t]}function oi(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return qt;if(t!==st){const r=10**t;st=t,Tn=function(e){let a=1;this._+=e[0];for(const p=e.length;a<p;++a)this._+=Math.round(arguments[a]*r)/r+e[a]}}return Tn}function Ei(n,t){let r=3,i=4.5,e,a;function p(u){return u&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),en(u,e(a))),a.result()}return p.area=function(u){return en(u,e(j)),j.result()},p.measure=function(u){return en(u,e(dn)),dn.result()},p.bounds=function(u){return en(u,e(Ln)),Ln.result()},p.centroid=function(u){return en(u,e(O)),O.result()},p.projection=function(u){return arguments.length?(e=u==null?(n=null,Hn):(n=u).stream,p):n},p.context=function(u){return arguments.length?(a=u==null?(t=null,new vt(r)):new zt(t=u),typeof i!="function"&&a.pointRadius(i),p):t},p.pointRadius=function(u){return arguments.length?(i=typeof u=="function"?u:(a.pointRadius(+u),+u),p):i},p.digits=function(u){if(!arguments.length)return r;if(u==null)r=null;else{const v=Math.floor(u);if(!(v>=0))throw new RangeError(`invalid digits: ${u}`);r=v}return t===null&&(a=new vt(r)),p},p.projection(n).digits(r).context(t)}function xn(n){return function(t){var r=new kn;for(var i in n)r[i]=n[i];return r.stream=t,r}}function kn(){}kn.prototype={constructor:kn,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function bn(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),en(r,n.stream(Ln)),t(Ln.result()),i!=null&&n.clipExtent(i),n}function Dt(n,t,r){return bn(n,function(i){var e=t[1][0]-t[0][0],a=t[1][1]-t[0][1],p=Math.min(e/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),u=+t[0][0]+(e-p*(i[1][0]+i[0][0]))/2,v=+t[0][1]+(a-p*(i[1][1]+i[0][1]))/2;n.scale(150*p).translate([u,v])},r)}function ui(n,t,r){return Dt(n,[[0,0],t],r)}function fi(n,t,r){return bn(n,function(i){var e=+t,a=e/(i[1][0]-i[0][0]),p=(e-a*(i[1][0]+i[0][0]))/2,u=-a*i[0][1];n.scale(150*a).translate([p,u])},r)}function li(n,t,r){return bn(n,function(i){var e=+t,a=e/(i[1][1]-i[0][1]),p=-a*i[0][0],u=(e-a*(i[1][1]+i[0][1]))/2;n.scale(150*a).translate([p,u])},r)}var dt=16,ai=F(30*G);function St(n,t){return+t?pi(n,t):ci(n)}function ci(n){return xn({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function pi(n,t){function r(i,e,a,p,u,v,g,o,f,l,s,h,_,d){var P=g-i,E=o-e,y=P*P+E*E;if(y>4*t&&_--){var S=p+l,R=u+s,M=v+h,z=tn(S*S+R*R+M*M),I=gn(M/=z),L=q(q(M)-1)<T||q(a-f)<T?(a+f)/2:hn(R,S),C=n(L,I),w=C[0],Z=C[1],D=w-i,A=Z-e,c=E*D-P*A;(c*c/y>t||q((P*D+E*A)/y-.5)>.3||p*l+u*s+v*h<ai)&&(r(i,e,a,p,u,v,w,Z,L,S/=z,R/=z,M,_,d),d.point(w,Z),r(w,Z,L,S,R,M,g,o,f,l,s,h,_,d))}}return function(i){var e,a,p,u,v,g,o,f,l,s,h,_,d={point:P,lineStart:E,lineEnd:S,polygonStart:function(){i.polygonStart(),d.lineStart=R},polygonEnd:function(){i.polygonEnd(),d.lineStart=E}};function P(I,L){I=n(I,L),i.point(I[0],I[1])}function E(){f=NaN,d.point=y,i.lineStart()}function y(I,L){var C=un([I,L]),w=n(I,L);r(f,l,o,s,h,_,f=w[0],l=w[1],o=I,s=C[0],h=C[1],_=C[2],dt,i),i.point(f,l)}function S(){d.point=P,i.lineEnd()}function R(){E(),d.point=M,d.lineEnd=z}function M(I,L){y(e=I,L),a=f,p=l,u=s,v=h,g=_,d.point=y}function z(){r(f,l,o,s,h,_,a,p,e,u,v,g,dt,i),d.lineEnd=S,S()}return d}}var si=xn({point:function(n,t){this.stream.point(n*G,t*G)}});function hi(n){return xn({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}function gi(n,t,r,i,e){function a(p,u){return p*=i,u*=e,[t+n*p,r-n*u]}return a.invert=function(p,u){return[(p-t)/n*i,(r-u)/n*e]},a}function Et(n,t,r,i,e,a){if(!a)return gi(n,t,r,i,e);var p=F(a),u=X(a),v=p*n,g=u*n,o=p/n,f=u/n,l=(u*r-p*t)/n,s=(u*t+p*r)/n;function h(_,d){return _*=i,d*=e,[v*_-g*d+t,r-g*_-v*d]}return h.invert=function(_,d){return[i*(o*_-f*d+l),e*(s-f*_-o*d)]},h}function vi(n){return di(function(){return n})()}function di(n){var t,r=150,i=480,e=250,a=0,p=0,u=0,v=0,g=0,o,f=0,l=1,s=1,h=null,_=at,d=null,P,E,y,S=Hn,R=.5,M,z,I,L,C;function w(c){return I(c[0]*G,c[1]*G)}function Z(c){return c=I.invert(c[0],c[1]),c&&[c[0]*k,c[1]*k]}w.stream=function(c){return L&&C===c?L:L=si(hi(o)(_(M(S(C=c)))))},w.preclip=function(c){return arguments.length?(_=c,h=void 0,A()):_},w.postclip=function(c){return arguments.length?(S=c,d=P=E=y=null,A()):S},w.clipAngle=function(c){return arguments.length?(_=+c?Kt(h=c*G):(h=null,at),A()):h*k},w.clipExtent=function(c){return arguments.length?(S=c==null?(d=P=E=y=null,Hn):Ut(d=+c[0][0],P=+c[0][1],E=+c[1][0],y=+c[1][1]),A()):d==null?null:[[d,P],[E,y]]},w.scale=function(c){return arguments.length?(r=+c,D()):r},w.translate=function(c){return arguments.length?(i=+c[0],e=+c[1],D()):[i,e]},w.center=function(c){return arguments.length?(a=c[0]%360*G,p=c[1]%360*G,D()):[a*k,p*k]},w.rotate=function(c){return arguments.length?(u=c[0]%360*G,v=c[1]%360*G,g=c.length>2?c[2]%360*G:0,D()):[u*k,v*k,g*k]},w.angle=function(c){return arguments.length?(f=c%360*G,D()):f*k},w.reflectX=function(c){return arguments.length?(l=c?-1:1,D()):l<0},w.reflectY=function(c){return arguments.length?(s=c?-1:1,D()):s<0},w.precision=function(c){return arguments.length?(M=St(z,R=c*c),A()):tn(R)},w.fitExtent=function(c,N){return Dt(w,c,N)},w.fitSize=function(c,N){return ui(w,c,N)},w.fitWidth=function(c,N){return fi(w,c,N)},w.fitHeight=function(c,N){return li(w,c,N)};function D(){var c=Et(r,0,0,l,s,f).apply(null,t(a,p)),N=Et(r,i-c[0],e-c[1],l,s,f);return o=Zt(u,v,g),z=Bn(t,N),I=Bn(o,z),M=St(z,R),A()}function A(){return L=C=null,w}return function(){return t=n.apply(this,arguments),w.invert=t.invert&&Z,D()}}function jn(n,t){return[n,t]}jn.invert=jn;function wi(){return vi(jn).scale(152.63)}export{Ei as a,wi as g};
